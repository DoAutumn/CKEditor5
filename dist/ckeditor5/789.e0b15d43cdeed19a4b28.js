(self.webpackChunkckeditor5=self.webpackChunkckeditor5||[]).push([[789],{726:(Fn,Jn,Hn)=>{Fn=Hn.nmd(Fn);var Wn=Hn(52).default;(function(Ai){const oe=Ai.en=Ai.en||{};oe.dictionary=Object.assign(oe.dictionary||{},{"%0 of %1":"%0 of %1","Align center":"Align center","Align left":"Align left","Align right":"Align right",Aquamarine:"Aquamarine",Big:"Big",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent",Default:"Default","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Disc:"Disc","Document colors":"Document colors",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Font Background Color":"Font Background Color","Font Color":"Font Color","Font Family":"Font Family","Font Size":"Font Size","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Huge:"Huge","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic",Justify:"Justify","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lower\u2013roman":"Lower\u2013roman","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original","Page break":"Page break",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image",Small:"Small","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Table toolbar":"Table toolbar","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.",Tiny:"Tiny","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower\u2013latin list style":"Toggle the lower\u2013latin list style","Toggle the lower\u2013roman list style":"Toggle the lower\u2013roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper\u2013latin list style":"Toggle the upper\u2013latin list style","Toggle the upper\u2013roman list style":"Toggle the upper\u2013roman list style",Turquoise:"Turquoise",Underline:"Underline",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),self,Fn.exports=(()=>(()=>{var Ai={636:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content blockquote {\n\t/* See #12 */\n\toverflow: hidden;\n\n\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\n\tpadding-right: 1.5em;\n\tpadding-left: 1.5em;\n\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-style: italic;\n\tborder-left: solid 5px hsl(0, 0%, 80%);\n}\n\n.ck-content[dir="rtl"] blockquote {\n\tborder-left: 0;\n\tborder-right: solid 5px hsl(0, 0%, 80%);\n}\n'],sourceRoot:""}]);const it=U},390:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: inline;\n\t\tposition: relative;\n\t\tpointer-events: none;\n\n\t\t& span {\n\t\t\tposition: absolute;\n\t\t\twidth: 0;\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\t& > .ck-widget__selection-handle {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t& > .ck-widget__type-around {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-clipboard-drop-target-dot-width: 12px;\n\t--ck-clipboard-drop-target-dot-height: 8px;\n\t--ck-clipboard-drop-target-color: var(--ck-color-focus-border)\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\t& span {\n\t\t\tbottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tbackground: var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-left: -1px;\n\n\t\t\t/* The triangle above the marker */\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);\n\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tborder-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;\n\t\t\t\tborder-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t// Horizontal drop target (between blocks).\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 0;\n\t\tmargin: 0;\n\t\ttext-align: initial;\n\n\t\t& .ck-clipboard-drop-target__line {\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\theight: 0;\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-top: -1px;\n\n\t\t\t&::before {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\t*/\n\n\t/*\n\t * Styles of the widget that it a drop target.\n\t */\n\t& .ck-widget.ck-clipboard-drop-target-range {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\tzoom: 0.6;\n\t\toutline: none !important;\n\t}\n}\n'],sourceRoot:""}]);const it=U},8894:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder,\n.ck .ck-placeholder {\n\tposition: relative;\n\n\t&::before {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tcontent: attr(data-placeholder);\n\n\t\t/* See ckeditor/ckeditor5#469. */\n\t\tpointer-events: none;\n\t}\n}\n\n/* See ckeditor/ckeditor5#1987. */\n.ck.ck-read-only .ck-placeholder {\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n\n/*\n * Rules for the `ck-placeholder` are loaded before the rules for `ck-reset_all` in the base CKEditor 5 DLL build.\n * This fix overwrites the incorrectly set `position: static` from `ck-reset_all`.\n * See https://github.com/ckeditor/ckeditor5/issues/11418.\n */\n.ck.ck-reset_all .ck-placeholder {\n\tposition: relative;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder, .ck .ck-placeholder {\n\t&::before {\n\t\tcursor: text;\n\t\tcolor: var(--ck-color-engine-placeholder-text);\n\t}\n}\n"],sourceRoot:""}]);const it=U},4401:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Elements marked by the Renderer as hidden should be invisible in the editor. */\n.ck.ck-editor__editable span[data-ck-unsafe-element] {\n\tdisplay: none;\n}\n"],sourceRoot:""}]);const it=U},2585:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck .ck-button.ck-color-table__remove-color{align-items:center;display:flex;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck .ck-button.ck-color-table__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-font/theme/fontcolor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-font/fontcolor.css"],names:[],mappings:"AAKA,4CAEC,kBAAmB,CADnB,YAAa,CAEb,UACD,CAEA,8BACC,iBACD,CCNA,4CAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,wDACC,mDACD,CAEA,kEAEE,uCAMF,CARA,kEAME,sCAEF",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-button.ck-color-table__remove-color {\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 100%;\n}\n\nlabel.ck.ck-color-grid__label {\n\tfont-weight: unset;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck .ck-button.ck-color-table__remove-color {\n\tpadding: calc(var(--ck-spacing-standard) / 2 ) var(--ck-spacing-standard);\n\tborder-bottom-left-radius: 0;\n\tborder-bottom-right-radius: 0;\n\n\t&:not(:focus) {\n\t\tborder-bottom: 1px solid var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-right: var(--ck-spacing-standard);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n}\n\n'],sourceRoot:""}]);const it=U},6203:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-font/theme/fontsize.css"],names:[],mappings:"AAUC,uBACC,cACD,CAEA,wBACC,eACD,CAEA,sBACC,eACD,CAEA,uBACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* The values should be synchronized with the "FONT_SIZE_PRESET_UNITS" object in the "/src/fontsize/utils.js" file. */\n\n/* Styles should be prefixed with the `.ck-content` class.\nSee https://github.com/ckeditor/ckeditor5/issues/6636 */\n.ck-content {\n\t& .text-tiny {\n\t\tfont-size: .7em;\n\t}\n\n\t& .text-small {\n\t\tfont-size: .85em;\n\t}\n\n\t& .text-big {\n\t\tfont-size: 1.4em;\n\t}\n\n\t& .text-huge {\n\t\tfont-size: 1.8em;\n\t}\n}\n'],sourceRoot:""}]);const it=U},3230:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-heading_heading1 {\n\tfont-size: 20px;\n}\n\n.ck.ck-heading_heading2 {\n\tfont-size: 17px;\n}\n\n.ck.ck-heading_heading3 {\n\tfont-size: 14px;\n}\n\n.ck[class*="ck-heading_heading"] {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Resize dropdown's button label. */\n.ck.ck-dropdown.ck-heading-dropdown {\n\t& .ck-dropdown__button .ck-button__label {\n\t\twidth: 8em;\n\t}\n\n\t& .ck-dropdown__panel .ck-list__item {\n\t\tmin-width: 18em;\n\t}\n}\n"],sourceRoot:""}]);const it=U},9048:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content {\n\t& .image {\n\t\tdisplay: table;\n\t\tclear: both;\n\t\ttext-align: center;\n\n\t\t/* Make sure there is some space between the content and the image. Center image by default. */\n\t\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\t \tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\t\tmargin: 0.9em auto;\n\n\t\t/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */\n\t\tmin-width: 50px;\n\n\t\t& img {\n\t\t\t/* Prevent unnecessary margins caused by line-height (see #44). */\n\t\t\tdisplay: block;\n\n\t\t\t/* Center the image if its width is smaller than the content\'s width. */\n\t\t\tmargin: 0 auto;\n\n\t\t\t/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */\n\t\t\tmax-width: 100%;\n\n\t\t\t/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */\n\t\t\tmin-width: 100%\n\t\t}\n\t}\n\n\t& .image-inline {\n\t\t/*\n\t\t * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).\n\t\t * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.\n\t\t * This strange behavior does not happen with inline-flex.\n\t\t */\n\t\tdisplay: inline-flex;\n\n\t\t/* While being resized, don\'t allow the image to exceed the width of the editing root. */\n\t\tmax-width: 100%;\n\n\t\t/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */\n\t\talign-items: flex-start;\n\n\t\t/* When the picture is present it must act as a flex container to let the img resize properly */\n\t\t& picture {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t/* When the picture is present, it must act like a resizable img. */\n\t\t& picture,\n\t\t& img {\n\t\t\t/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */\n\t\t\tflex-grow: 1;\n\t\t\tflex-shrink: 1;\n\n\t\t\t/* Prevents overflowing the editing root boundaries when an inline image is very wide. */\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Inhertit the content styles padding of the <figcaption> in case the integration overrides `text-align: center`\n\t * of `.image` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native\n\t * caret does, and not at the edge of <figcaption>.\n\t */\n\t& .image > figcaption.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the image caption placeholder doesn\'t overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\n\t/*\n\t * Make sure the selected inline image always stays on top of its siblings.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t */\n\t& .image.ck-widget_selected {\n\t\tz-index: 1;\n\t}\n\n\t& .image-inline.ck-widget_selected {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the native browser selection style is not displayed.\n\t\t * Inline image widgets have their own styles for the selected state and\n\t\t * leaving this up to the browser is asking for a visual collision.\n\t\t */\n\t\t& ::selection {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t/* The inline image nested in the table should have its original size if not resized.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline img {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const it=U},8662:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-image-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .image > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: bottom;\n\tword-break: break-word;\n\tcolor: var(--ck-color-image-caption-text);\n\tbackground-color: var(--ck-color-image-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {\n\tanimation: ck-image-caption-highlight .6s ease-out;\n}\n\n@keyframes ck-image-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-image-caption-highligted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-image-caption-background);\n\t}\n}\n"],sourceRoot:""}]);const it=U},1043:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .image.image_resized {\n\tmax-width: 100%;\n\t/*\n\tThe `<figure>` element for resized images must not use `display:table` as browsers do not support `max-width` for it well.\n\tSee https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.\n\tFortunately, since we control the width, there is no risk that the image will look bad.\n\t*/\n\tdisplay: block;\n\tbox-sizing: border-box;\n\n\t& img {\n\t\t/* For resized images it is the `<figure>` element that determines the image width. */\n\t\twidth: 100%;\n\t}\n\n\t& > figcaption {\n\t\t/* The `<figure>` element uses `display:block`, so `<figcaption>` also has to. */\n\t\tdisplay: block;\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/* The resized inline image nested in the table should respect its parent size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline.image_resized img {\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\n\tmargin-right: var(--ck-spacing-standard);\n}\n\n[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\n\tmargin-left: var(--ck-spacing-standard);\n}\n\n.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {\n\twidth: 4em;\n}\n'],sourceRoot:""}]);const it=U},4622:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-image-style-spacing: 1.5em;\n\t--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);\n}\n\n.ck-content {\n\t/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback\n\tconfirming successful application of the style if image width exceeds the editor's size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9342 */\n\t& .image-style-block-align-left,\n\t& .image-style-block-align-right {\n\t\tmax-width: calc(100% - var(--ck-image-style-spacing));\n\t}\n\n\t/* Allows displaying multiple floating images in the same line.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */\n\t& .image-style-align-left,\n\t& .image-style-align-right {\n\t\tclear: none;\n\t}\n\n\t& .image-style-side {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t\tmax-width: 50%;\n\t}\n\n\t& .image-style-align-left {\n\t\tfloat: left;\n\t\tmargin-right: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-align-center {\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\n\t& .image-style-align-right {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-block-align-right {\n\t\tmargin-right: 0;\n\t\tmargin-left: auto;\n\t}\n\n\t& .image-style-block-align-left {\n\t\tmargin-left: 0;\n\t\tmargin-right: auto;\n\t}\n\n\t/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */\n\t& p + .image-style-align-left,\n\t& p + .image-style-align-right,\n\t& p + .image-style-side {\n\t\tmargin-top: 0;\n\t}\n\n\t& .image-inline {\n\t\t&.image-style-align-left,\n\t\t&.image-style-align-right {\n\t\t\tmargin-top: var(--ck-inline-image-style-spacing);\n\t\t\tmargin-bottom: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-left {\n\t\t\tmargin-right: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-right {\n\t\t\tmargin-left: var(--ck-inline-image-style-spacing);\n\t\t}\n\t}\n}\n\n.ck.ck-splitbutton {\n\t/* The button should display as a regular drop-down if the action button\n\tis forced to fire the same action as the arrow button. */\n\t&.ck-splitbutton_flatten {\n\t\t&:hover,\n\t\t&.ck-splitbutton_open {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-background);\n\n\t\t\t\t&::after {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-splitbutton_open:hover {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-hover-background);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const it=U},9899:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-image-upload-complete-icon {\n\tdisplay: block;\n\tposition: absolute;\n\n\t/*\n\t * Smaller images should have the icon closer to the border.\n\t * Match the icon position with the linked image indicator brought by the link image feature.\n\t */\n\ttop: min(var(--ck-spacing-medium), 6%);\n\tright: min(var(--ck-spacing-medium), 6%);\n\tborder-radius: 50%;\n\tz-index: 1;\n\n\t&::after {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-upload-icon: hsl(0, 0%, 100%);\n\t--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);\n\n\t/* Match the icon size with the linked image indicator brought by the link image feature. */\n\t--ck-image-upload-icon-size: 20;\n\t--ck-image-upload-icon-width: 2px;\n\t--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck-image-upload-complete-icon {\n\topacity: 0;\n\tbackground: var(--ck-color-image-upload-icon-background);\n\tanimation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;\n\tanimation-fill-mode: forwards, forwards;\n\tanimation-duration: 500ms, 500ms;\n\n\t/* To make animation scalable. */\n\tfont-size: calc(1px * var(--ck-image-upload-icon-size));\n\n\t/* Hide completed upload icon after 3 seconds. */\n\tanimation-delay: 0ms, 3000ms;\n\n\t/*\n\t * Use CSS math to simulate container queries.\n\t * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t */\n\toverflow: hidden;\n\twidth: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\theight: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\n\t/* This is check icon element made from border-width mixed with animations. */\n\t&::after {\n\t\t/* Because of border transformation we need to "hard code" left position. */\n\t\tleft: 25%;\n\n\t\ttop: 50%;\n\t\topacity: 0;\n\t\theight: 0;\n\t\twidth: 0;\n\n\t\ttransform: scaleX(-1) rotate(135deg);\n\t\ttransform-origin: left top;\n\t\tborder-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\t\tborder-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\n\t\tanimation-name: ck-upload-complete-icon-check;\n\t\tanimation-duration: 500ms;\n\t\tanimation-delay: 500ms;\n\t\tanimation-fill-mode: forwards;\n\n\t\t/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */\n\t\tbox-sizing: border-box;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-show {\n\tfrom {\n\t\topacity: 0;\n\t}\n\n\tto {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-hide {\n\tfrom {\n\t\topacity: 1;\n\t}\n\n\tto {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-check {\n\t0% {\n\t\topacity: 1;\n\t\twidth: 0;\n\t\theight: 0;\n\t}\n\t33% {\n\t\twidth: 0.3em;\n\t\theight: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t\twidth: 0.3em;\n\t\theight: 0.45em;\n\t}\n}\n'],sourceRoot:""}]);const it=U},9825:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-upload-placeholder-loader {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttop: 0;\n\tleft: 0;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: relative;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);\n\t--ck-upload-placeholder-loader-size: 32px;\n\t--ck-upload-placeholder-image-aspect-ratio: 2.8;\n}\n\n.ck .ck-image-upload-placeholder {\n\t/* We need to control the full width of the SVG gray background. */\n\twidth: 100%;\n\tmargin: 0;\n\n\t&.image-inline {\n\t\twidth: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );\n\t}\n\n\t& img {\n\t\t/*\n\t\t * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.\n\t\t * There's nothing special about this number except that it should make the image placeholder look like\n\t\t * a real image during this short period after the upload started and before the image was read from the\n\t\t * file system (and a rich preview was loaded).\n\t\t */\n\t\taspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);\n\t}\n}\n\n.ck .ck-upload-placeholder-loader {\n\twidth: 100%;\n\theight: 100%;\n\n\t&::before {\n\t\twidth: var(--ck-upload-placeholder-loader-size);\n\t\theight: var(--ck-upload-placeholder-loader-size);\n\t\tborder-radius: 50%;\n\t\tborder-top: 3px solid var(--ck-color-upload-placeholder-loader);\n\t\tborder-right: 2px solid transparent;\n\t\tanimation: ck-upload-placeholder-loader 1s linear infinite;\n\t}\n}\n\n@keyframes ck-upload-placeholder-loader {\n\tto {\n\t\ttransform: rotate( 360deg );\n\t}\n}\n"],sourceRoot:""}]);const it=U},5870:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\tposition: relative;\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\t/* Showing animation. */\n\t\t&.ck-appear {\n\t\t\tanimation: fadeIn 700ms;\n\t\t}\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\theight: 2px;\n\t\twidth: 0;\n\t\tbackground: var(--ck-color-upload-bar-background);\n\t\ttransition: width 100ms;\n\t}\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto   { opacity: 1; }\n}\n"],sourceRoot:""}]);const it=U},6831:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-text-alternative-form {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const it=U},399:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n\n\t/* Give linked inline images some outline to let the user know they are also part of the link. */\n\t& span.image-inline {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\n\t}\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot:""}]);const it=U},9465:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const it=U},4827:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n\n\t/*\n\t * Whether the form is in the responsive mode or not, if there are decorator buttons\n\t * keep the top margin of action buttons medium.\n\t */\n\t& .ck-button {\n\t\t&.ck-button-save,\n\t\t&.ck-button-cancel {\n\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& > .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\twidth: 50%;\n\t\tborder-radius: 0;\n\n\t\t&:not(:focus) {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tpadding: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const it=U},3195:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/collapsible.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-collapsible.ck-collapsible_collapsed {\n\t& > .ck-collapsible__children {\n\t\tdisplay: none;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-collapsible {\n\t& > .ck.ck-button {\n\t\twidth: 100%;\n\t\tfont-weight: bold;\n\t\tpadding: var(--ck-spacing-medium) var(--ck-spacing-large);\n\t\tborder-radius: 0;\n\t\tcolor: inherit;\n\n\t\t&:focus {\n\t\t\tbackground: transparent;\n\t\t}\n\n\t\t&:active, &:not(:focus), &:hover:not(:focus) {\n\t\t\tbackground: transparent;\n\t\t\tborder-color: transparent;\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t& > .ck-icon {\n\t\t\tmargin-right: var(--ck-spacing-medium);\n\t\t\twidth: var(--ck-collapsible-arrow-size);\n\t\t}\n\t}\n\n\t& > .ck-collapsible__children {\n\t\tpadding: 0 var(--ck-spacing-large) var(--ck-spacing-large);\n\t}\n\n\t&.ck-collapsible_collapsed {\n\t\t& > .ck.ck-button .ck-icon {\n\t\t\ttransform: rotate(-90deg);\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const it=U},7133:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-list-properties {\n\t/* When there are no list styles and there is no collapsible. */\n\t&.ck-list-properties_without-styles {\n\t\tpadding: var(--ck-spacing-large);\n\n\t\t& > * {\n\t\t\tmin-width: 14em;\n\n\t\t\t& + * {\n\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * When the numbered list property fields (start at, reversed) should be displayed,\n\t * more horizontal space is needed. Reconfigure the style grid to create that space.\n\t */\n\t&.ck-list-properties_with-numbered-properties {\n\t\t& > .ck-list-styles-list {\n\t\t\tgrid-template-columns: repeat( 4, auto );\n\t\t}\n\n\t\t/* When list styles are rendered and property fields are in a collapsible. */\n\t\t& > .ck-collapsible {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\n\t\t\t& > .ck-collapsible__children {\n\t\t\t\t& > * {\n\t\t\t\t\twidth: 100%;\n\n\t\t\t\t\t& + * {\n\t\t\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-numbered-list-properties__start-index .ck-input {\n\t\tmin-width: auto;\n\t\twidth: 100%;\n\t}\n\n\t& .ck.ck-numbered-list-properties__reversed-order {\n\t\tbackground: transparent;\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\t\tmargin-bottom: calc(-1 * var(--ck-spacing-tiny));\n\n\t\t&:active, &:hover {\n\t\t\tbox-shadow: none;\n\t\t\tborder-color: transparent;\n\t\t\tbackground: none;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const it=U},4553:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-list-styles-list{display:grid}.ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:circle}.ck-content ul ul{list-style-type:disc}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/liststyles.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CAEA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,sBAaD,CAXC,kBACC,oBASD,CAJE,6CACC,sBACD,CCnCH,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-list-styles-list {\n\tdisplay: grid;\n}\n\n.ck-content ol {\n\tlist-style-type: decimal;\n\n\t& ol {\n\t\tlist-style-type: lower-latin;\n\n\t\t& ol {\n\t\t\tlist-style-type: lower-roman;\n\n\t\t\t& ol {\n\t\t\t\tlist-style-type: upper-latin;\n\n\t\t\t\t& ol {\n\t\t\t\t\tlist-style-type: upper-roman;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck-content ul {\n\tlist-style-type: circle;\n\n\t& ul {\n\t\tlist-style-type: disc;\n\n\t\t& ul {\n\t\t\tlist-style-type: square;\n\n\t\t\t& ul {\n\t\t\t\tlist-style-type: square;\n\t\t\t}\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-list-style-button-size: 44px;\n}\n\n.ck.ck-list-styles-list {\n\tgrid-template-columns: repeat( 3, auto );\n\trow-gap: var(--ck-spacing-medium);\n\tcolumn-gap: var(--ck-spacing-medium);\n\tpadding: var(--ck-spacing-large);\n\n\t& .ck-button {\n\t\t/* Make the button look like a thumbnail (the icon "takes it all"). */\n\t\twidth: var(--ck-list-style-button-size);\n\t\theight: var(--ck-list-style-button-size);\n\t\tpadding: 0;\n\n\t\t/*\n\t\t * Buttons are aligned by the grid so disable default button margins to not collide with the\n\t\t * gaps in the grid.\n\t\t */\n\t\tmargin: 0;\n\n\t\t/*\n\t\t * Make sure the button border (which is displayed on focus, BTW) does not steal pixels\n\t\t * from the button dimensions and, as a result, decrease the size of the icon\n\t\t * (which becomes blurry as it scales down).\n\t\t */\n\t\tbox-sizing: content-box;\n\n\t\t& .ck-icon {\n\t\t\twidth: var(--ck-list-style-button-size);\n\t\t\theight: var(--ck-list-style-button-size);\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const it=U},5777:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .media {\n\t/* Don\'t allow floated content overlap the media.\n\thttps://github.com/ckeditor/ckeditor5-media-embed/issues/53 */\n\tclear: both;\n\n\t/* Make sure there is some space between the content and the media. */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em 0;\n\n\t/* Make sure media is not overriden with Bootstrap default `flex` value.\n\tSee: https://github.com/ckeditor/ckeditor5/issues/1373. */\n\tdisplay: block;\n\n\t/* Give the media some minimal width in the content to prevent them\n\tfrom being "squashed" in tight spaces, e.g. in table cells (#44) */\n\tmin-width: 15em;\n}\n'],sourceRoot:""}]);const it=U},952:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-media__wrapper {\n\t& .ck-media__placeholder {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\t& .ck-media__placeholder__url {\n\t\t\t/* Otherwise the URL will overflow when the content is very narrow. */\n\t\t\tmax-width: 100%;\n\n\t\t\tposition: relative;\n\n\t\t\t& .ck-media__placeholder__url__text {\n\t\t\t\toverflow: hidden;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"],\n\t&[data-oembed-url*="google.com/maps"],\n\t&[data-oembed-url*="goo.gl/maps"],\n\t&[data-oembed-url*="maps.google.com"],\n\t&[data-oembed-url*="maps.app.goo.gl"],\n\t&[data-oembed-url*="facebook.com"],\n\t&[data-oembed-url*="instagram.com"] {\n\t\t& .ck-media__placeholder__icon * {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/* Disable all mouse interaction as long as the editor is not read\u2013only.\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */\n.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {\n\tpointer-events: none;\n}\n\n/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */\n.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {\n\tpointer-events: none;\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-media-embed-placeholder-icon-size: 3em;\n\n\t--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);\n\t--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);\n}\n\n.ck-media__wrapper {\n\tmargin: 0 auto;\n\n\t& .ck-media__placeholder {\n\t\tpadding: calc( 3 * var(--ck-spacing-standard) );\n\t\tbackground: var(--ck-color-base-foreground);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tmin-width: var(--ck-media-embed-placeholder-icon-size);\n\t\t\theight: var(--ck-media-embed-placeholder-icon-size);\n\t\t\tmargin-bottom: var(--ck-spacing-large);\n\t\t\tbackground-position: center;\n\t\t\tbackground-size: cover;\n\n\t\t\t& .ck-icon {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text);\n\t\t\twhite-space: nowrap;\n\t\t\ttext-align: center;\n\t\t\tfont-style: italic;\n\t\t\ttext-overflow: ellipsis;\n\n\t\t\t&:hover {\n\t\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text-hover);\n\t\t\t\tcursor: pointer;\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="open.spotify.com"] {\n\t\tmax-width: 300px;\n\t\tmax-height: 380px;\n\t}\n\n\t&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {\n\t\tbackground-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);\n\t}\n\n\t&[data-oembed-url*="facebook.com"] .ck-media__placeholder {\n\t\tbackground: hsl(220, 46%, 48%);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(220, 100%, 90%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="instagram.com"] .ck-media__placeholder {\n\t\tbackground: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);\n\t\t}\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(302, 100%, 94%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {\n\t\t/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */\n\t\tbackground: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(201, 100%, 86%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const it=U},3525:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-media-form {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const it=U},2722:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,':root{--ck-color-minimap-tracker-background:208,0%,51%;--ck-color-minimap-iframe-outline:#bfbfbf;--ck-color-minimap-iframe-shadow:rgba(0,0,0,.11);--ck-color-minimap-progress-background:#666}.ck.ck-minimap{background:var(--ck-color-base-background);position:absolute;user-select:none}.ck.ck-minimap,.ck.ck-minimap iframe{height:100%;width:100%}.ck.ck-minimap iframe{border:0;box-shadow:0 2px 5px var(--ck-color-minimap-iframe-shadow);margin:0;outline:1px solid var(--ck-color-minimap-iframe-outline);pointer-events:none;position:relative}.ck.ck-minimap .ck.ck-minimap__position-tracker{background:hsla(var(--ck-color-minimap-tracker-background),.2);position:absolute;top:0;transition:background .1s ease-in-out;width:100%;z-index:1}.ck.ck-minimap .ck.ck-minimap__position-tracker:hover{background:hsla(var(--ck-color-minimap-tracker-background),.3)}.ck.ck-minimap .ck.ck-minimap__position-tracker.ck-minimap__position-tracker_dragging,.ck.ck-minimap .ck.ck-minimap__position-tracker.ck-minimap__position-tracker_dragging:hover{background:hsla(var(--ck-color-minimap-tracker-background),.4)}.ck.ck-minimap .ck.ck-minimap__position-tracker.ck-minimap__position-tracker_dragging:after,.ck.ck-minimap .ck.ck-minimap__position-tracker.ck-minimap__position-tracker_dragging:hover:after{opacity:1}.ck.ck-minimap .ck.ck-minimap__position-tracker:after{background:var(--ck-color-minimap-progress-background);border:1px solid var(--ck-color-base-background);border-radius:3px;color:var(--ck-color-base-background);content:attr(data-progress) "%";font-size:10px;opacity:0;padding:2px 4px;position:absolute;right:5px;top:5px;transition:opacity .1s ease-in-out}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-minimap/theme/minimap.css"],names:[],mappings:"AAKA,MACC,gDAAmD,CACnD,yCAAmD,CACnD,gDAAuD,CACvD,2CACD,CAEA,eAGC,0CAA2C,CAF3C,iBAAkB,CAClB,gBAsDD,CAnDC,qCAGC,WAAY,CADZ,UAED,CAEA,sBACC,QAAS,CAIT,0DAA2D,CAC3D,QAAS,CAFT,wDAAyD,CAFzD,mBAAoB,CACpB,iBAID,CAEA,gDAIC,8DAAkE,CAHlE,iBAAkB,CAElB,KAAM,CAGN,qCAAwC,CAJxC,UAAW,CAGX,SA8BD,CA3BC,sDACC,8DACD,CAEA,kLAEC,8DAKD,CAHC,8LACC,SACD,CAGD,sDAKC,sDAAuD,CAEvD,gDAAiD,CAGjD,iBAAkB,CAJlB,qCAAsC,CALtC,+BAAgC,CAQhC,cAAe,CAEf,SAAU,CAHV,eAAgB,CANhB,iBAAkB,CAElB,SAAU,CADV,OAAQ,CASR,kCACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-minimap-tracker-background: 208, 0%, 51%;\n\t--ck-color-minimap-iframe-outline: hsl(0deg 0% 75%);\n\t--ck-color-minimap-iframe-shadow: hsl(0deg 0% 0% / 11%);\n\t--ck-color-minimap-progress-background: hsl(0,0%,40%);\n}\n\n.ck.ck-minimap {\n\tposition: absolute;\n\tuser-select: none;\n\tbackground: var(--ck-color-base-background);\n\n\t&,\n\t& iframe {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t& iframe {\n\t\tborder: 0;\n\t\tpointer-events: none;\n\t\tposition: relative;\n\t\toutline: 1px solid var(--ck-color-minimap-iframe-outline);\n\t\tbox-shadow: 0 2px 5px var(--ck-color-minimap-iframe-shadow);\n\t\tmargin: 0;\n\t}\n\n\t& .ck.ck-minimap__position-tracker {\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\ttop: 0;\n\t\tbackground: hsla( var(--ck-color-minimap-tracker-background), .2 );\n\t\tz-index: 1;\n\t\ttransition: background 100ms ease-in-out;\n\n\t\t&:hover {\n\t\t\tbackground:hsla( var(--ck-color-minimap-tracker-background), .3 );\n\t\t}\n\n\t\t&.ck-minimap__position-tracker_dragging,\n\t\t&.ck-minimap__position-tracker_dragging:hover {\n\t\t\tbackground:hsla( var(--ck-color-minimap-tracker-background), .4 );\n\n\t\t\t&::after {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\n\t\t&::after {\n\t\t\tcontent: attr(data-progress) "%";\n\t\t\tposition: absolute;\n\t\t\ttop: 5px;\n\t\t\tright: 5px;\n\t\t\tbackground: var(--ck-color-minimap-progress-background);\n\t\t\tcolor: var(--ck-color-base-background);\n\t\t\tborder: 1px solid var(--ck-color-base-background);\n\t\t\tpadding: 2px 4px;\n\t\t\tfont-size: 10px;\n\t\t\tborder-radius: 3px;\n\t\t\topacity: 0;\n\t\t\ttransition: opacity 100ms ease-in-out;\n\t\t}\n\t}\n}\n\n'],sourceRoot:""}]);const it=U},6448:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,'.ck-content .page-break{align-items:center;clear:both;display:flex;justify-content:center;padding:5px 0;position:relative}.ck-content .page-break:after{border-bottom:2px dashed #c4c4c4;content:"";position:absolute;width:100%}.ck-content .page-break__label{background:#fff;border:1px solid #c4c4c4;border-radius:2px;box-shadow:2px 2px 1px rgba(0,0,0,.15);color:#333;display:block;font-family:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;font-size:.75em;font-weight:700;padding:.3em .6em;position:relative;text-transform:uppercase;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1}@media print{.ck-content .page-break{padding:0}.ck-content .page-break:after{display:none}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-page-break/theme/pagebreak.css"],names:[],mappings:"AAKA,wBAKC,kBAAmB,CAHnB,UAAW,CAEX,YAAa,CAEb,sBAAuB,CAHvB,aAAc,CAFd,iBAaD,CANC,8BAGC,gCAAyC,CAFzC,UAAW,CACX,iBAAkB,CAElB,UACD,CAGD,+BAYC,eAA4B,CAN5B,wBAAiC,CACjC,iBAAkB,CAMlB,sCAA6C,CAF7C,UAAsB,CAPtB,aAAc,CAId,qDAA0D,CAC1D,eAAiB,CACjB,eAAiB,CAPjB,iBAAkB,CAFlB,iBAAkB,CAIlB,wBAAyB,CAWzB,wBAAyB,CACzB,qBAAsB,CACtB,oBAAqB,CACrB,gBAAiB,CAjBjB,SAkBD,CAGA,aACC,wBACC,SAKD,CAHC,8BACC,YACD,CAEF",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .page-break {\n\tposition: relative;\n\tclear: both;\n\tpadding: 5px 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t&::after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tborder-bottom: 2px dashed hsl(0, 0%, 77%);\n\t\twidth: 100%;\n\t}\n}\n\n.ck-content .page-break__label {\n\tposition: relative;\n\tz-index: 1;\n\tpadding: .3em .6em;\n\tdisplay: block;\n\ttext-transform: uppercase;\n\tborder: 1px solid hsl(0, 0%, 77%);\n\tborder-radius: 2px;\n\tfont-family: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\tfont-size: 0.75em;\n\tfont-weight: bold;\n\tcolor: hsl(0, 0%, 20%);\n\tbackground: hsl(0, 0%, 100%);\n\tbox-shadow: 2px 2px 1px hsla(0, 0%, 0%, 0.15);\n\n\t/* Disable the possibility to select the label text by the user. */\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n}\n\n/* Do not show the page break element inside the print preview window. */\n@media print {\n\t.ck-content .page-break {\n\t\tpadding: 0;\n\n\t\t&::after {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const it=U},8085:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,qCACC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-insert-table-dropdown__grid {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-insert-table-dropdown-padding: 10px;\n\t--ck-insert-table-dropdown-box-height: 11px;\n\t--ck-insert-table-dropdown-box-width: 12px;\n\t--ck-insert-table-dropdown-box-margin: 1px;\n}\n\n.ck .ck-insert-table-dropdown__grid {\n\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\n\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\n\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\n}\n\n.ck .ck-insert-table-dropdown__label {\n\ttext-align: center;\n}\n\n.ck .ck-insert-table-dropdown-grid-box {\n\tmin-width: var(--ck-insert-table-dropdown-box-width);\n\tmin-height: var(--ck-insert-table-dropdown-box-height);\n\tmargin: var(--ck-insert-table-dropdown-box-margin);\n\tborder: 1px solid var(--ck-color-base-border);\n\tborder-radius: 1px;\n\toutline: none;\n\ttransition: none;\n\n\t&:focus {\n\t\tbox-shadow: none;\n\t}\n\n\t&.ck-on {\n\t\tborder-color: var(--ck-color-focus-border);\n\t\tbackground: var(--ck-color-focus-outer-shadow);\n\t}\n}\n\n"],sourceRoot:""}]);const it=U},4104:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .table {\n\t/* Give the table widget some air and center it horizontally */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em auto;\n\tdisplay: table;\n\n\t& table {\n\t\t/* The table cells should have slight borders */\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\n\t\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\n\t\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\t/* The outer border of the table should be slightly darker than the inner lines.\n\t\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\n\t\tborder: 1px double hsl(0, 0%, 70%);\n\n\t\t& td,\n\t\t& th {\n\t\t\tmin-width: 2em;\n\t\t\tpadding: .4em;\n\n\t\t\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it\'s not necessary here.\n\t\t\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\n\t\t\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\n\t\t\tborder: 1px solid hsl(0, 0%, 75%);\n\t\t}\n\n\t\t& th {\n\t\t\tfont-weight: bold;\n\t\t\tbackground: hsla(0, 0%, 0%, 5%);\n\t\t}\n\t}\n}\n\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\nwhen content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\n.ck-content[dir="rtl"] .table th {\n\ttext-align: right;\n}\n\n.ck-content[dir="ltr"] .table th {\n\ttext-align: left;\n}\n\n.ck-editor__editable .ck-table-bogus-paragraph {\n\t/*\n\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\n\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\n\t */\n\tdisplay: inline-block;\n\n\t/*\n\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\n\t */\n\twidth: 100%;\n}\n'],sourceRoot:""}]);const it=U},4777:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);\n}\n\n.ck-widget.table {\n\t& td,\n\t& th {\n\t\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\n\t\t&.ck-editor__nested-editable:focus {\n\t\t\t/* A very slight background to highlight the focused cell */\n\t\t\tbackground: var(--ck-color-table-focused-cell-background);\n\n\t\t\t/* Fixes the problem where surrounding cells cover the focused cell's border.\n\t\t\tIt does not fix the problem in all places but the UX is improved.\n\t\t\tSee https://github.com/ckeditor/ckeditor5-table/issues/29. */\n\t\t\tborder-style: none;\n\t\t\toutline: 1px solid var(--ck-color-focus-border);\n\t\t\toutline-offset: -1px; /* progressive enhancement - no IE support */\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const it=U},5593:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck.ck-editor__editable .table table {\n\t& td.ck-editor__editable_selected,\n\t& th.ck-editor__editable_selected {\n\t\tposition: relative;\n\t\tcaret-color: transparent;\n\t\toutline: unset;\n\t\tbox-shadow: unset;\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\n\t\t&:after {\n\t\t\tcontent: '';\n\t\t\tpointer-events: none;\n\t\t\tbackground-color: var(--ck-table-selected-cell-background);\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t& ::selection,\n\t\t&:focus {\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t/*\n\t\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\n\t\t */\n\t\t& .ck-widget {\n\t\t\toutline: unset;\n\n\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const it=U},4499:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: left;\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-button-colors --ck-color-button-default;\n\t@mixin ck-rounded-corners;\n\n\twhite-space: nowrap;\n\tcursor: default;\n\tvertical-align: middle;\n\tpadding: var(--ck-spacing-tiny);\n\ttext-align: center;\n\n\t/* A very important piece of styling. Go to variable declaration to learn more. */\n\tmin-width: var(--ck-ui-component-min-height);\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Normalize the height of the line. Removing this will break consistent height\n\tamong text and text-less buttons (with icons). */\n\tline-height: 1;\n\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t/* Avoid flickering when the foucs border shows up. */\n\tborder: 1px solid transparent;\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\n\t-webkit-appearance: none;\n\n\t&:active,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t/* Allow icon coloring using the text "color" property. */\n\t& .ck-button__icon {\n\t\t& use,\n\t\t& use * {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n\n\t& .ck-button__label {\n\t\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: inherit;\n\t\tcursor: inherit;\n\n\t\t/* Must be consistent with .ck-icon\'s vertical align. Otherwise, buttons with and\n\t\twithout labels (but with icons) have different sizes in Chrome */\n\t\tvertical-align: middle;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& .ck-button__keystroke {\n\t\tcolor: inherit;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t}\n\n\t\tfont-weight: bold;\n\t\topacity: .7;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t&.ck-disabled {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t/* The disabled button should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t\t& .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t& .ck-button__keystroke {\n\t\t\topacity: .3;\n\t\t}\n\t}\n\n\t&.ck-button_with-text {\n\t\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-button_with-keystroke {\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t/* A style of the button which is currently on, e.g. its feature is active. */\n\t&.ck-on {\n\t\t@mixin ck-button-colors --ck-color-button-on;\n\n\t\tcolor: var(--ck-color-button-on-color);\n\t}\n\n\t&.ck-button-save {\n\t\tcolor: var(--ck-color-button-save);\n\t}\n\n\t&.ck-button-cancel {\n\t\tcolor: var(--ck-color-button-cancel);\n\t}\n}\n\n/* A style of the button which handles the primary action. */\n.ck.ck-button-action,\na.ck.ck-button-action {\n\t@mixin ck-button-colors --ck-color-button-action;\n\n\tcolor: var(--ck-color-button-action-text);\n}\n\n.ck.ck-button-bold,\na.ck.ck-button-bold {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $background - Background color of the button.\n * @param {String} $border - Border color of the button.\n */\n@define-mixin ck-button-colors $prefix {\n\tbackground: var($(prefix)-background);\n\n\t&:not(.ck-disabled) {\n\t\t&:hover {\n\t\t\tbackground: var($(prefix)-hover-background);\n\t\t}\n\n\t\t&:active {\n\t\t\tbackground: var($(prefix)-active-background);\n\t\t}\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t&.ck-disabled {\n\t\tbackground: var($(prefix)-disabled-background);\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const it=U},9681:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__toggle {\n\t\tdisplay: block;\n\n\t\t& .ck-button__toggle__inner {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\nof the component, floating\u2013point numbers have been used which, for the default font size\n(see: --ck-font-size-base), will generate simple integers. */\n:root {\n\t/* 34px at 13px font-size */\n\t--ck-switch-button-toggle-width: 2.6153846154em;\n\t/* 14px at 13px font-size */\n\t--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);\n\t--ck-switch-button-translation: calc(\n\t\tvar(--ck-switch-button-toggle-width) -\n\t\tvar(--ck-switch-button-toggle-inner-size) -\n\t\t2px /* Border */\n\t);\n\t--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\n}\n\n.ck.ck-button.ck-switchbutton {\n\t/* Unlike a regular button, the switch button text color and background should never change.\n\t * Changing toggle switch (background, outline) is enough to carry the information about the\n\t * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)\n\t */\n\t&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {\n\t\tcolor: inherit;\n\t\tbackground: transparent;\n\t}\n\n\t& .ck-button__label {\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-right: calc(2 * var(--ck-spacing-large));\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-left: calc(2 * var(--ck-spacing-large));\n\t\t}\n\t}\n\n\t& .ck-button__toggle {\n\t\t@mixin ck-rounded-corners;\n\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Make sure the toggle is always to the right as far as possible. */\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Make sure the toggle is always to the left as far as possible. */\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t/* Apply some smooth transition to the box-shadow and border. */\n\t\t/* Gently animate the background color of the toggle switch */\n\t\ttransition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;\n\t\tborder: 1px solid transparent;\n\t\twidth: var(--ck-switch-button-toggle-width);\n\t\tbackground: var(--ck-color-switch-button-off-background);\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: calc(.5 * var(--ck-border-radius));\n\t\t\t}\n\n\t\t\twidth: var(--ck-switch-button-toggle-inner-size);\n\t\t\theight: var(--ck-switch-button-toggle-inner-size);\n\t\t\tbackground: var(--ck-color-switch-button-inner-background);\n\n\t\t\t/* Gently animate the inner part of the toggle switch */\n\t\t\ttransition: all 300ms ease;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-off-hover-background);\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\tbox-shadow: var(--ck-switch-button-inner-hover-shadow);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-button__toggle {\n\t\t@mixin ck-disabled;\n\t}\n\n\t/* Overriding default .ck-button:focus styles + an outline around the toogle */\n\t&:focus {\n\t\tborder-color: transparent;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\n\t\t& .ck-button__toggle {\n\t\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);\n\t\t\toutline-offset: 1px;\n\t\t\toutline: var(--ck-focus-ring);\n\t\t}\n\t}\n\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-on {\n\t\t& .ck-button__toggle {\n\t\t\tbackground: var(--ck-color-switch-button-on-background);\n\n\t\t\t&:hover {\n\t\t\t\tbackground: var(--ck-color-switch-button-on-hover-background);\n\t\t\t}\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\t/*\n\t\t\t\t* Move the toggle switch to the right. It will be animated.\n\t\t\t\t*/\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\ttransform: translateX( var( --ck-switch-button-translation ) );\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const it=U},4923:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-color-grid {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-grid-tile-size: 24px;\n\n\t/* Not using global colors here because these may change but some colors in a pallette\n\t * require special treatment. For instance, this ensures no matter what the UI text color is,\n\t * the check icon will look good on the black color tile. */\n\t--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);\n}\n\n.ck.ck-color-grid {\n\tgrid-gap: 5px;\n\tpadding: 8px;\n}\n\n.ck.ck-color-grid__tile {\n\twidth: var(--ck-color-grid-tile-size);\n\theight: var(--ck-color-grid-tile-size);\n\tmin-width: var(--ck-color-grid-tile-size);\n\tmin-height: var(--ck-color-grid-tile-size);\n\tpadding: 0;\n\ttransition: .2s ease box-shadow;\n\tborder: 0;\n\n\t&.ck-disabled {\n\t\tcursor: unset;\n\t\ttransition: unset;\n\t}\n\n\t&.ck-color-table__color-tile_bordered {\n\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\tdisplay: none;\n\t\tcolor: var(--ck-color-color-grid-check-icon);\n\t}\n\n\t&.ck-on {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\n\n\t\t& .ck.ck-icon {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t&.ck-on,\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\t/* Disable the default .ck-button\'s border ring. */\n\t\tborder: 0;\n\t}\n\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t}\n}\n\n.ck.ck-color-grid__label {\n\tpadding: 0 var(--ck-spacing-standard);\n}\n'],sourceRoot:""}]);const it=U},3488:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-dropdown-max-width: 75vw;\n}\n\n.ck.ck-dropdown {\n\tdisplay: inline-block;\n\tposition: relative;\n\n\t& .ck-dropdown__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n\n\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\n\t& .ck-button.ck-dropdown__button {\n\t\twidth: 100%;\n\t}\n\n\t& .ck-dropdown__panel {\n\t\tdisplay: none;\n\t\tz-index: var(--ck-z-modal);\n\t\tmax-width: var(--ck-dropdown-max-width);\n\n\t\tposition: absolute;\n\n\t\t&.ck-dropdown__panel-visible {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_n,\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_nme {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-dropdown__panel_se,\n\t\t&.ck-dropdown__panel_sw,\n\t\t&.ck-dropdown__panel_smw,\n\t\t&.ck-dropdown__panel_sme,\n\t\t&.ck-dropdown__panel_s {\n\t\t\t/*\n\t\t\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\n\t\t\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\n\t\t\t */\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_se {\n\t\t\tleft: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\tright: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_s,\n\t\t&.ck-dropdown__panel_n {\n\t\t\t/* Positioning panels relative to the center of the button */\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_smw {\n\t\t\t/* Positioning panels relative to the middle-west of the button */\n\t\t\tleft: 75%;\n\t\t\ttransform: translateX(-75%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nme,\n\t\t&.ck-dropdown__panel_sme {\n\t\t\t/* Positioning panels relative to the middle-east of the button */\n\t\t\tleft: 25%;\n\t\t\ttransform: translateX(-25%);\n\t\t}\n\t}\n}\n\n/*\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\n * See https://github.com/ckeditor/ckeditor5/issues/7874\n */\n.ck.ck-toolbar .ck-dropdown__panel {\n\tz-index: calc( var(--ck-z-modal) + 1 );\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-dropdown {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-dropdown__arrow {\n\t\twidth: var(--ck-dropdown-arrow-size);\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-dropdown__arrow {\n\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-dropdown__arrow {\n\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-dropdown__arrow {\n\t\t@mixin ck-disabled;\n\t}\n\n\t& .ck-button.ck-dropdown__button {\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t/* #23 */\n\t\t& .ck-button__label {\n\t\t\twidth: 7em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t\t&.ck-disabled .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t&.ck-dropdown__button_label-width_auto .ck-button__label {\n\t\t\twidth: auto;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/8699 */\n\t\t&.ck-off:active,\n\t\t&.ck-on:active {\n\t\t\tbox-shadow: none;\n\t\t\t\n\t\t\t&:focus {\n\t\t\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-dropdown__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\n\t/* Make sure the panel is at least as wide as the drop-down\'s button. */\n\tmin-width: 100%;\n\n\t/* Disabled corner border radius to be consistent with the .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-dropdown__panel_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const it=U},6875:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-dropdown .ck-dropdown__panel .ck-list {\n\t/* Disabled radius of top-left border to be consistent with .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t/* Make sure the button belonging to the first/last child of the list goes well with the\n\tborder radius of the entire panel. */\n\t& .ck-list__item {\n\t\t&:first-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:last-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const it=U},66:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CASA,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCC7EA,eDuFA,CAVA,qHCzEC,qCDmFD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-splitbutton {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-splitbutton__action:focus {\n\t\tz-index: calc(var(--ck-z-default) + 1);\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\n\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\n}\n\n.ck.ck-splitbutton {\n\t/*\n\t * Note: ck-rounded and ck-dir mixins don\'t go together (because they both use @nest).\n\t */\n\t&:hover > .ck-splitbutton__action,\n\t&.ck-splitbutton_open > .ck-splitbutton__action {\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the action button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the action button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\t}\n\n\t& > .ck-splitbutton__arrow {\n\t\t/* It\'s a text-less button and since the icon is positioned absolutely in such situation,\n\t\tit must get some arbitrary min-width. */\n\t\tmin-width: unset;\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the arrow button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the arrow button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\t\t}\n\t}\n\n\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\n\tas a whole. The background of both buttons should stand out and there should be a visual\n\tseparation between both buttons. */\n\t&.ck-splitbutton_open,\n\t&:hover {\n\t\t/* When the split button hovered as a whole, not as individual buttons. */\n\t\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\n\t\t\tbackground: var(--ck-color-split-button-hover-background);\n\t\t}\n\n\t\t/* Splitbutton separator needs to be set with the ::after pseudoselector\n\t\tto display properly the borders on focus */\n\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\tcontent: \'\';\n\t\t\tposition: absolute;\n\t\t\twidth: 1px;\n\t\t\theight: 100%;\n\t\t\tbackground-color: var(--ck-color-split-button-hover-border);\n\t\t}\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tleft: -1px;\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tright: -1px;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Don\'t round the bottom left and right corners of the buttons when "open"\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-splitbutton_open {\n\t\t@mixin ck-rounded-corners {\n\t\t\t& > .ck-splitbutton__action {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t& > .ck-splitbutton__arrow {\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const it=U},5075:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-dropdown-max-width: 60vw;\n}\n\n.ck.ck-toolbar-dropdown > .ck-dropdown__panel {\n\t/* https://github.com/ckeditor/ckeditor5/issues/5586 */\n\twidth: max-content;\n\tmax-width: var(--ck-toolbar-dropdown-max-width);\n\n\t& .ck-button {\n\t\t&:focus {\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown .ck-toolbar {\n\tborder: 0;\n}\n"],sourceRoot:""}]);const it=U},4547:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_focus.css";\n@import "../../mixins/_button.css";\n\n:root {\n\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\n}\n\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\n\t@mixin ck-rounded-corners;\n\n\t&.ck-focused {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t}\n}\n\n.ck.ck-editor__editable_inline {\n\toverflow: auto;\n\tpadding: 0 var(--ck-spacing-standard);\n\tborder: 1px solid transparent;\n\n\t&[dir="ltr"] {\n\t\ttext-align: left;\n\t}\n\n\t&[dir="rtl"] {\n\t\ttext-align: right;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\n\t& > *:first-child {\n\t\tmargin-top: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\n\t& > *:last-child {\n\t\t/*\n\t\t * This value should match with the default margins of the block elements (like .media or .image)\n\t\t * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).\n\t\t */\n\t\tmargin-bottom: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\n\t&.ck-blurred ::selection {\n\t\tbackground: var(--ck-color-editable-blur-selection);\n\t}\n}\n\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\n\t&::after {\n\t\tborder-bottom-color: var(--ck-color-base-foreground);\n\t}\n}\n\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\n\t&::after {\n\t\tborder-top-color: var(--ck-color-base-foreground);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const it=U},5523:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-form-header-height: 38px;\n}\n\n.ck.ck-form__header {\n\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\n\theight: var(--ck-form-header-height);\n\tline-height: var(--ck-form-header-height);\n\tborder-bottom: 1px solid var(--ck-color-base-border);\n\n\t& .ck-form__header__label {\n\t\tfont-weight: bold;\n\t}\n}\n"],sourceRoot:""}]);const it=U},1174:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\n\tfont-size: .8333350694em;\n\n\t/* Inherit cursor style (#5). */\n\tcursor: inherit;\n\n\t/* This will prevent blurry icons on Firefox. See #340. */\n\twill-change: transform;\n\n\t& * {\n\t\t/* Inherit cursor style (#5). */\n\t\tcursor: inherit;\n\t}\n\n\t/* Allows dynamic coloring of an icon by inheriting its color from the parent. */\n\t&.ck-icon_inherit-color {\n\t\tcolor: inherit;\n\n\t\t& * {\n\t\t\tcolor: inherit;\n\n\t\t\t&:not([fill]) {\n\t\t\t\t/* Needed by FF. */\n\t\t\t\tfill: currentColor;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const it=U},6985:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-input-width: 18em;\n\n\t/* Backward compatibility. */\n\t--ck-input-text-width: var(--ck-input-width);\n}\n\n.ck.ck-input {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-input-background);\n\tborder: 1px solid var(--ck-color-input-border);\n\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\n\tmin-width: var(--ck-input-width);\n\n\t/* This is important to stay of the same height as surrounding buttons */\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .1s ease-in-out, border .1s ease-in-out;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t&[readonly] {\n\t\tborder: 1px solid var(--ck-color-input-disabled-border);\n\t\tbackground: var(--ck-color-input-disabled-background);\n\t\tcolor: var(--ck-color-input-disabled-text);\n\n\t\t&:focus {\n\t\t\t/* The read-only input should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\tborder-color: var(--ck-color-input-error-border);\n\t\tanimation: ck-input-shake .3s ease both;\n\n\t\t&:focus {\n\t\t\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);\n\t\t}\n\t}\n}\n\n@keyframes ck-input-shake {\n\t20% {\n\t\ttransform: translateX(-2px);\n\t}\n\n\t40% {\n\t\ttransform: translateX(2px);\n\t}\n\n\t60% {\n\t\ttransform: translateX(-1px);\n\t}\n\n\t80% {\n\t\ttransform: translateX(1px);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const it=U},2751:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tdisplay: block;\n}\n\n.ck.ck-voice-label {\n\tdisplay: none;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tfont-weight: bold;\n}\n"],sourceRoot:""}]);const it=U},8111:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-labeled-field-view {\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n\n\t& .ck.ck-label {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);\n\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));\n\t--ck-color-labeled-field-label-background: var(--ck-color-base-background);\n}\n\n.ck.ck-labeled-field-view {\n\t@mixin ck-rounded-corners;\n\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\twidth: 100%;\n\n\t\t& > .ck.ck-label {\n\t\t\ttop: 0px;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: 0px;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: 0px;\n\t\t\t}\n\n\t\t\tpointer-events: none;\n\t\t\ttransform-origin: 0 0;\n\n\t\t\t/* By default, display the label scaled down above the field. */\n\t\t\ttransform: translate(var(--ck-spacing-medium), -6px) scale(.75);\n\n\t\t\tbackground: var(--ck-color-labeled-field-label-background);\n\t\t\tpadding: 0 calc(.5 * var(--ck-font-size-tiny));\n\t\t\tline-height: initial;\n\t\t\tfont-weight: normal;\n\n\t\t\t/* Prevent overflow when the label is longer than the input */\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\n\t\t\tmax-width: 100%;\n\n\t\t\ttransition:\n\t\t\t\ttransform var(--ck-labeled-field-view-transition),\n\t\t\t\tpadding var(--ck-labeled-field-view-transition),\n\t\t\t\tbackground var(--ck-labeled-field-view-transition);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\t& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\n\t\t& .ck-input:not([readonly]) + .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t& .ck-labeled-field-view__status {\n\t\tfont-size: var(--ck-font-size-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\n\t\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\n\t\tThe status could be very long. */\n\t\twhite-space: normal;\n\n\t\t&.ck-labeled-field-view__status_error {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t/* Disabled fields and fields that have no focus should fade out. */\n\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\tcolor: var(--ck-color-input-disabled-text);\n\t}\n\n\t/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t@mixin ck-dir ltr {\n\t\t\ttransform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttransform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t/* Compensate for the default translate position. */\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));\n\n\t\tbackground: transparent;\n\t\tpadding: 0;\n\t}\n\n\t/*------ DropdownView integration ----------------------------------------------------------------------------------- */\n\n\t/* Make sure dropdown\' background color in any of dropdown\'s state does not collide with labeled field. */\n\t& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {\n\t\tbackground: transparent;\n\t}\n\n\t/* When the dropdown is "empty", the labeled field label replaces its label. */\n\t&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {\n\t\topacity: 0;\n\t}\n\n\t/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const it=U},1162:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-list {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .ck-list__item,\n\t& .ck-list__separator {\n\t\tdisplay: block;\n\t}\n\n\t/* Make sure that whatever child of the list item gets focus, it remains on the\n\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\n\tadjacent list items. */\n\t& .ck-list__item > *:focus {\n\t\tposition: relative;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-list {\n\t@mixin ck-rounded-corners;\n\n\tlist-style-type: none;\n\tbackground: var(--ck-color-list-background);\n}\n\n.ck.ck-list__item {\n\tcursor: default;\n\tmin-width: 12em;\n\n\t& .ck-button {\n\t\tmin-height: unset;\n\t\twidth: 100%;\n\t\ttext-align: left;\n\t\tborder-radius: 0;\n\n\t\t/* List items should have the same height. Use absolute units to make sure it is so\n\t\t   because e.g. different heading styles may have different height\n\t\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\tpadding:\n\t\t\tcalc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))\n\t\t\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\n\t\t& .ck-button__label {\n\t\t\t/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\t\tline-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-button-on-background);\n\t\t\tcolor: var(--ck-color-list-button-on-text);\n\n\t\t\t&:active {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-on-background-focus);\n\t\t\t}\n\n\t\t\t&:focus:not(.ck-switchbutton):not(.ck-disabled) {\n\t\t\t\tborder-color: var(--ck-color-base-background);\n\t\t\t}\n\t\t}\n\n\t\t&:hover:not(.ck-disabled) {\n\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t}\n\t}\n\n\t/* It\'s unnecessary to change the background/text of a switch toggle; it has different ways\n\tof conveying its state (like the switcher) */\n\t& .ck-switchbutton {\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-background);\n\t\t\tcolor: inherit;\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-list__separator {\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--ck-color-base-border);\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const it=U},8245:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Make sure the balloon arrow does not float over its children. */\n\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\n}\n\n.ck.ck-balloon-panel {\n\tdisplay: none;\n\tposition: absolute;\n\n\tz-index: var(--ck-z-modal);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_visible {\n\t\tdisplay: block;\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-border-width: 1px;\n\t--ck-balloon-arrow-offset: 2px;\n\t--ck-balloon-arrow-height: 10px;\n\t--ck-balloon-arrow-half-width: 8px;\n\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\n}\n\n.ck.ck-balloon-panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\n\t\t\tmargin-top: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\n\t\t\tmargin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: var(--ck-color-panel-border) transparent transparent;\n\t\t\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\n\t\t\tmargin-bottom: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\n\t\t\tmargin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_e"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-border);\n\t\t\tmargin-right: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-background);\n\t\t\tmargin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_w"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent var(--ck-color-panel-border) transparent transparent;\n\t\t\tmargin-left: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent var(--ck-color-panel-background) transparent transparent;\n\t\t\tmargin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_n {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_ne {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_s {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_se {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_smw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nmw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_e {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_w {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const it=U},1757:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\n */\n.ck .ck-balloon-rotator__content .ck-toolbar {\n\tjustify-content: center;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tbackground: var(--ck-color-toolbar-background);\n\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\n\tpadding: 0 var(--ck-spacing-small);\n\n\t/* Let's keep similar appearance to `ck-toolbar`. */\n\t& > * {\n\t\tmargin-right: var(--ck-spacing-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t/* Gives counter more breath than buttons. */\n\t& .ck-balloon-rotator__counter {\n\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t/* We need to use smaller margin because of previous button's right margin. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n.ck .ck-balloon-rotator__content {\n\n\t/* Disable default annotation shadow inside rotator with fake panels. */\n\t& .ck.ck-annotation-wrapper {\n\t\tbox-shadow: none;\n\t}\n}\n"],sourceRoot:""}]);const it=U},3553:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-fake-panel {\n\tposition: absolute;\n\n\t/* Fake panels should be placed under main balloon content. */\n\tz-index: calc(var(--ck-z-modal) - 1);\n}\n\n.ck .ck-fake-panel div {\n\tposition: absolute;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tz-index: 2;\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tz-index: 1;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-fake-panel-offset-horizontal: 6px;\n\t--ck-balloon-fake-panel-offset-vertical: 6px;\n}\n\n/* Let\'s use `.ck-balloon-panel` appearance. See: balloonpanel.css. */\n.ck .ck-fake-panel div {\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\tborder-radius: var(--ck-border-radius);\n\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\n\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\n}\n.ck .ck-fake-panel div:nth-child( 3 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\n}\n\n/* If balloon is positioned above element, we need to move fake panel to the top. */\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\n\t--ck-balloon-fake-panel-offset-vertical: -6px;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const it=U},3609:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\tz-index: var(--ck-z-modal); /* #315 */\n\t\tposition: fixed;\n\t\ttop: 0;\n\t}\n\n\t& .ck-sticky-panel__content_sticky_bottom-limit {\n\t\ttop: auto;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\t@mixin ck-drop-shadow;\n\n\t\tborder-width: 0 1px 1px;\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const it=U},1590:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck-vertical-form .ck-button {\n\t&::after {\n\t\tcontent: "";\n\t\twidth: 0;\n\t\tposition: absolute;\n\t\tright: -1px;\n\t\ttop: -1px;\n\t\tbottom: -1px;\n\t\tz-index: 1;\n\t}\n\n\t&:focus::after {\n\t\tdisplay: none;\n\t}\n}\n\n.ck.ck-responsive-form {\n\t@mixin ck-media-phone {\n\t\t& .ck-button {\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: -1px;\n\t\t\t\ttop: -1px;\n\t\t\t\tbottom: -1px;\n\t\t\t\tz-index: 1;\n\t\t\t}\n\n\t\t\t&:focus::after {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\n\tborder-right: 1px solid var(--ck-color-base-border);\n}\n\n.ck.ck-responsive-form {\n\tpadding: var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& > :not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& > :not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tpadding: 0;\n\t\twidth: calc(.8 * var(--ck-input-width));\n\n\t\t& .ck-labeled-field-view {\n\t\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\n\n\t\t\t& .ck-input-text {\n\t\t\t\tmin-width: 0;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t/* Let the long error messages wrap in the narrow form. */\n\t\t\t& .ck-labeled-field-view__error {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\t\t}\n\n\t\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\t&::after {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\n\t\t& > .ck-button:nth-last-child(1),\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\tpadding: var(--ck-spacing-standard);\n\t\t\tmargin-top: var(--ck-spacing-large);\n\t\t\tborder-radius: 0;\n\n\t\t\t&:not(:focus) {\n\t\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const it=U},6706:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-block-toolbar-button {\n\tposition: absolute;\n\tz-index: var(--ck-z-default);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-block-toolbar-button: var(--ck-color-text);\n\t--ck-block-toolbar-button-size: var(--ck-font-size-normal);\n}\n\n.ck.ck-block-toolbar-button {\n\tcolor: var(--ck-color-block-toolbar-button);\n\tfont-size: var(--ck-block-toolbar-size);\n}\n"],sourceRoot:""}]);const it=U},5571:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDoGD,CAvGA,qECOE,qCDgGF,CAvGA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAmGD,CAhGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAjGF,qCAqGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\n\t& > .ck-toolbar__items {\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\talign-items: center;\n\t\tflex-grow: 1;\n\n\t}\n\n\t& .ck.ck-toolbar__separator {\n\t\tdisplay: inline-block;\n\n\t\t/*\n\t\t * A leading or trailing separator makes no sense (separates from nothing on one side).\n\t\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\n\t\t * moved to another toolbar in the dropdown.\n\t\t */\n\t\t&:first-child,\n\t\t&:last-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\tflex-basis: 100%;\n\t}\n\n\t&.ck-toolbar_grouping > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t&.ck-toolbar_vertical > .ck-toolbar__items {\n\t\tflex-direction: column;\n\t}\n\n\t&.ck-toolbar_floating > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t& > .ck-dropdown__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-toolbar-background);\n\tpadding: 0 var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\n\t& .ck.ck-toolbar__separator {\n\t\talign-self: stretch;\n\t\twidth: 1px;\n\t\tmin-width: 1px;\n\t\tbackground: var(--ck-color-toolbar-border);\n\n\t\t/*\n\t\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\n\t\t */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\theight: 0;\n\t}\n\n\t& > .ck-toolbar__items {\n\t\t& > *:not(.ck-toolbar__line-break) {\n\t\t\t/* (#11) Separate toolbar items. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/* Don\'t display a separator after an empty items container, for instance,\n\t\twhen all items were grouped */\n\t\t&:empty + .ck.ck-toolbar__separator {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t&.ck-toolbar_vertical {\n\t\t/* Items in a vertical toolbar span the entire width. */\n\t\tpadding: 0;\n\n\t\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\n\t\t& > .ck-toolbar__items > .ck {\n\t\t\t/* Items in a vertical toolbar should span the horizontal space. */\n\t\t\twidth: 100%;\n\n\t\t\t/* Items in a vertical toolbar should have no margin. */\n\t\t\tmargin: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\n\t\t\tborder-radius: 0;\n\t\t}\n\t}\n\n\t&.ck-toolbar_compact {\n\t\t/* No spacing around items. */\n\t\tpadding: 0;\n\n\t\t& > .ck-toolbar__items > * {\n\t\t\t/* Compact toolbar items have no spacing between them. */\n\t\t\tmargin: 0;\n\n\t\t\t/* "Middle" children should have no rounded corners. */\n\t\t\t&:not(:first-child):not(:last-child) {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/*\n\t\t * Dropdown button has asymmetric padding to fit the arrow.\n\t\t * This button has no arrow so let\'s revert that padding back to normal.\n\t\t */\n\t\t& > .ck.ck-button.ck-dropdown__button {\n\t\t\tpadding-left: var(--ck-spacing-tiny);\n\t\t}\n\t}\n\n\t/* A drop-down containing the nested toolbar with configured items. */\n\t& .ck-toolbar__nested-toolbar-dropdown {\n\t\t/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */\n\t\t& > .ck-dropdown__panel {\n\t\t\tmin-width: auto;\n\t\t}\n\n\t\t& > .ck-button > .ck-button__label {\n\t\t\tmax-width: 7em;\n\t\t\twidth: auto;\n\t\t}\n\t}\n\n\t@nest .ck-toolbar-container & {\n\t\tborder: 0;\n\t}\n}\n\n/* stylelint-disable */\n\n/*\n * Styles for RTL toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="rtl"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="rtl"] {\n\t& > .ck-toolbar__items > .ck {\n\t\tmargin-right: 0;\n\t}\n\n\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\n\t\t/* (#11) Separate toolbar items. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-left: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n/*\n * Styles for LTR toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="ltr"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="ltr"] {\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n}\n\n/* stylelint-enable */\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const it=U},9948:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t/* Keep tooltips transparent for any interactions. */\n\tpointer-events: none;\n\n\tz-index: calc( var(--ck-z-modal) + 100 );\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t--ck-balloon-border-width: 0px;\n\t--ck-balloon-arrow-offset: 0px;\n\t--ck-balloon-arrow-half-width: 4px;\n\t--ck-balloon-arrow-height: 4px;\n\t--ck-color-panel-background: var(--ck-color-tooltip-background);\n\n\tpadding: 0 var(--ck-spacing-medium);\n\n\t& .ck-tooltip__text {\n\t\tfont-size: .9em;\n\t\tline-height: 1.5;\n\t\tcolor: var(--ck-color-tooltip-text);\n\t}\n\n\t/* Reset balloon panel styles */\n\tbox-shadow: none;\n\n\t/* Hide the default shadow of the .ck-balloon-panel tip */\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n'],sourceRoot:""}]);const it=U},6150:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\tbox-sizing: border-box;\n\twidth: auto;\n\theight: auto;\n\tposition: static;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-modal: calc( var(--ck-z-default) + 999 );\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class that disables all transitions of the element and its children.\n */\n.ck-transitions-disabled,\n.ck-transitions-disabled * {\n\ttransition: none !important;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-base-foreground: \t\t\t\t\t\t\t\thsl(0, 0%, 98%);\n\t--ck-color-base-background: \t\t\t\t\t\t\t\thsl(0, 0%, 100%);\n\t--ck-color-base-border: \t\t\t\t\t\t\t\t\thsl(220, 6%, 81%);\n\t--ck-color-base-action: \t\t\t\t\t\t\t\t\thsl(104, 50.2%, 42.5%);\n\t--ck-color-base-focus: \t\t\t\t\t\t\t\t\t\thsl(209, 92%, 70%);\n\t--ck-color-base-text: \t\t\t\t\t\t\t\t\t\thsl(0, 0%, 20%);\n\t--ck-color-base-active: \t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\t--ck-color-base-active-focus:\t\t\t\t\t\t\t\thsl(218.2, 100%, 52.5%);\n\t--ck-color-base-error:\t\t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------ */\n\n\t--ck-color-focus-border-coordinates: \t\t\t\t\t\t218, 81.8%, 56.9%;\n\t--ck-color-focus-border: \t\t\t\t\t\t\t\t\thsl(var(--ck-color-focus-border-coordinates));\n\t--ck-color-focus-outer-shadow:\t\t\t\t\t\t\t\thsl(212.4, 89.3%, 89%);\n\t--ck-color-focus-disabled-shadow:\t\t\t\t\t\t\thsla(209, 90%, 72%,.3);\n\t--ck-color-focus-error-shadow:\t\t\t\t\t\t\t\thsla(9,100%,56%,.3);\n\t--ck-color-text: \t\t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-shadow-drop: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.15);\n\t--ck-color-shadow-drop-active:\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.2);\n\t--ck-color-shadow-inner: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Buttons ------------------------------------------------------------------------------- */\n\n\t--ck-color-button-default-background: \t\t\t\t\t\ttransparent;\n\t--ck-color-button-default-hover-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-active-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-disabled-background: \t\t\t\ttransparent;\n\n\t--ck-color-button-on-background: \t\t\t\t\t\t\thsl(212, 100%, 97.1%);\n\t--ck-color-button-on-hover-background: \t\t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-active-background: \t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-disabled-background: \t\t\t\t\thsl(211, 15%, 95%);\n\t--ck-color-button-on-color:\t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\n\n\t--ck-color-button-action-background: \t\t\t\t\t\tvar(--ck-color-base-action);\n\t--ck-color-button-action-hover-background: \t\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-active-background: \t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-disabled-background: \t\t\t\thsl(104, 44%, 58%);\n\t--ck-color-button-action-text: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t--ck-color-button-save: \t\t\t\t\t\t\t\t\thsl(120, 100%, 27%);\n\t--ck-color-button-cancel: \t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t--ck-color-switch-button-off-background:\t\t\t\t\thsl(0, 0%, 57.6%);\n\t--ck-color-switch-button-off-hover-background:\t\t\t\thsl(0, 0%, 49%);\n\t--ck-color-switch-button-on-background:\t\t\t\t\t\tvar(--ck-color-button-action-background);\n\t--ck-color-switch-button-on-hover-background:\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-switch-button-inner-background:\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-switch-button-inner-shadow:\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Dropdown ------------------------------------------------------------------------------ */\n\n\t--ck-color-dropdown-panel-background: \t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-dropdown-panel-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Input --------------------------------------------------------------------------------- */\n\n\t--ck-color-input-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-input-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-error-border:\t\t\t\t\t\t\t\tvar(--ck-color-base-error);\n\t--ck-color-input-text: \t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-input-disabled-background: \t\t\t\t\t\thsl(0, 0%, 95%);\n\t--ck-color-input-disabled-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-disabled-text: \t\t\t\t\t\t\thsl(0, 0%, 46%);\n\n\t/* -- List ---------------------------------------------------------------------------------- */\n\n\t--ck-color-list-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-list-button-hover-background: \t\t\t\t\tvar(--ck-color-button-default-hover-background);\n\t--ck-color-list-button-on-background: \t\t\t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-background-focus: \t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-text:\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Panel --------------------------------------------------------------------------------- */\n\n\t--ck-color-panel-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-panel-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Toolbar ------------------------------------------------------------------------------- */\n\n\t--ck-color-toolbar-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-toolbar-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Tooltip ------------------------------------------------------------------------------- */\n\n\t--ck-color-tooltip-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-tooltip-text: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Engine -------------------------------------------------------------------------------- */\n\n\t--ck-color-engine-placeholder-text: \t\t\t\t\t\thsl(0, 0%, 44%);\n\n\t/* -- Upload -------------------------------------------------------------------------------- */\n\n\t--ck-color-upload-bar-background:\t\t \t\t\t\t\thsl(209, 92%, 70%);\n\n\t/* -- Link -------------------------------------------------------------------------------- */\n\n\t--ck-color-link-default:\t\t\t\t\t\t\t\t\thsl(240, 100%, 47%);\n\t--ck-color-link-selected-background:\t\t\t\t\t\thsla(201, 100%, 56%, 0.1);\n\t--ck-color-link-fake-selection:\t\t\t\t\t\t\t\thsla(201, 100%, 56%, 0.3);\n\n\t/* -- Search result highlight ---------------------------------------------------------------- */\n\n\t--ck-color-highlight-background:\t\t\t\t\t\t\thsl(60, 100%, 50%)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * An opacity value of disabled UI item.\n\t */\n\t--ck-disabled-opacity: .5;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * The geometry of the of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\n\n\t/**\n\t * A visual style of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when disabled).\n\t */\n\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when has errors).\n\t */\n\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\n\n\t/**\n\t * A visual style of focused element's border or outline.\n\t */\n\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-font-size-base: 13px;\n\t--ck-line-height-base: 1.84615;\n\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\n\t--ck-font-size-tiny: 0.7em;\n\t--ck-font-size-small: 0.75em;\n\t--ck-font-size-normal: 1em;\n\t--ck-font-size-big: 1.4em;\n\t--ck-font-size-large: 1.8em;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* This is super-important. This is **manually** adjusted so a button without an icon\n\tis never smaller than a button with icon, additionally making sure that text-less buttons\n\tare perfect squares. The value is also shared by other components which should stay "in-line"\n\twith buttons. */\n\t--ck-ui-component-min-height: 2.3em;\n}\n\n/**\n * Resets an element, ignoring its children.\n */\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* Do not include inheritable rules here. */\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: transparent;\n\ttext-decoration: none;\n\tvertical-align: middle;\n\ttransition: none;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\n\tword-wrap: break-word;\n}\n\n/**\n * Resets an element AND its children.\n */\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* These are rule inherited by all children elements. */\n\tborder-collapse: collapse;\n\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\n\tcolor: var(--ck-color-text);\n\ttext-align: left;\n\twhite-space: nowrap;\n\tcursor: auto;\n\tfloat: none;\n}\n\n.ck-reset_all {\n\t& .ck-rtl *:not(.ck-reset_all-excluded *) {\n\t\ttext-align: right;\n\t}\n\n\t& iframe:not(.ck-reset_all-excluded *) {\n\t\t/* For IE */\n\t\tvertical-align: inherit;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *) {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *),\n\t& input[type="text"]:not(.ck-reset_all-excluded *),\n\t& input[type="password"]:not(.ck-reset_all-excluded *) {\n\t\tcursor: text;\n\t}\n\n\t& textarea[disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="text"][disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {\n\t\tcursor: default;\n\t}\n\n\t& fieldset:not(.ck-reset_all-excluded *) {\n\t\tpadding: 10px;\n\t\tborder: 2px groove hsl(255, 7%, 88%);\n\t}\n\n\t& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {\n\t\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\n\t\tpadding: 0;\n\t\tborder: 0\n\t}\n}\n\n/**\n * Default UI rules for RTL languages.\n */\n.ck[dir="rtl"],\n.ck[dir="rtl"] .ck {\n\ttext-align: right;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Default border-radius value.\n */\n:root{\n\t--ck-border-radius: 2px;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * A visual style of element's inner shadow (i.e. input).\n\t */\n\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\n\n\t/**\n\t * A visual style of element's drop shadow (i.e. panel).\n\t */\n\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\n\n\t/**\n\t * A visual style of element's active shadow (i.e. comment or suggestion).\n\t */\n\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-spacing-unit: \t\t\t\t\t\t0.6em;\n\t--ck-spacing-large: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 1.5);\n\t--ck-spacing-standard: \t\t\t\t\tvar(--ck-spacing-unit);\n\t--ck-spacing-medium: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.8);\n\t--ck-spacing-small: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.5);\n\t--ck-spacing-tiny: \t\t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.3);\n\t--ck-spacing-extra-tiny: \t\t\t\tcalc(var(--ck-spacing-unit) * 0.16);\n}\n"],sourceRoot:""}]);const it=U},6507:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-resizer: var(--ck-color-focus-border);\n\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\n\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\n\n\t--ck-resizer-border-radius: var(--ck-border-radius);\n\t--ck-resizer-tooltip-offset: 10px;\n\t--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);\n}\n\n.ck .ck-widget {\n\t/* This is neccessary for type around UI to be positioned properly. */\n\tposition: relative;\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n\n\t& .ck-widget__selection-handle {\n\t\tposition: absolute;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the icon in not a subject to font-size or line-height to avoid\n\t\t\tunnecessary spacing around it. */\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n\n\t/* Show the selection handle when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n}\n\n.ck .ck-size-view {\n\tbackground: var(--ck-color-resizer-tooltip-background);\n\tcolor: var(--ck-color-resizer-tooltip-text);\n\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\n\tborder-radius: var(--ck-resizer-border-radius);\n\tfont-size: var(--ck-font-size-tiny);\n\tdisplay: block;\n\tpadding: 0 var(--ck-spacing-small);\n\theight: var(--ck-resizer-tooltip-height);\n\tline-height: var(--ck-resizer-tooltip-height);\n\n\t&.ck-orientation-top-left,\n\t&.ck-orientation-top-right,\n\t&.ck-orientation-bottom-right,\n\t&.ck-orientation-bottom-left,\n\t&.ck-orientation-above-center {\n\t\tposition: absolute;\n\t}\n\n\t&.ck-orientation-top-left {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-top-right {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-right {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-left {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t/* Class applied if the widget is too small to contain the size label */\n\t&.ck-orientation-above-center {\n\t\ttop: calc(var(--ck-resizer-tooltip-height) * -1);\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n\n:root {\n\t--ck-widget-outline-thickness: 3px;\n\t--ck-widget-handler-icon-size: 16px;\n\t--ck-widget-handler-animation-duration: 200ms;\n\t--ck-widget-handler-animation-curve: ease;\n\n\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\n\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\n\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\n\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\n}\n\n.ck .ck-widget {\n\toutline-width: var(--ck-widget-outline-thickness);\n\toutline-style: solid;\n\toutline-color: transparent;\n\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\n\t}\n\n\t&:hover {\n\t\toutline-color: var(--ck-color-widget-hover-border);\n\t}\n}\n\n.ck .ck-editor__nested-editable {\n\tborder: 1px solid transparent;\n\n\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\n\tThese styles show a different border for a blink of an eye, so `:focus` need to have same styles applied. */\n\t&.ck-editor__nested-editable_focused,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\n\t\tbackground-color: var(--ck-color-widget-editable-focus-background);\n\t}\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t& .ck-widget__selection-handle {\n\t\tpadding: 4px;\n\t\tbox-sizing: border-box;\n\n\t\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\n\t\tbackground-color: transparent;\n\t\topacity: 0;\n\n\t\t/* Transition:\n\t\t   * background-color for the .ck-widget_selected state change,\n\t\t   * visibility for hiding the handler,\n\t\t   * opacity for the proper look of the icon when the handler disappears. */\n\t\ttransition:\n\t\t\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t/* Make only top corners round. */\n\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\n\t\t/* Place the drag handler outside the widget wrapper. */\n\t\ttransform: translateY(-100%);\n\t\tleft: calc(0px - var(--ck-widget-outline-thickness));\n\t\ttop: 0;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\n\t\t\twidth: var(--ck-widget-handler-icon-size);\n\t\t\theight: var(--ck-widget-handler-icon-size);\n\t\t\tcolor: var(--ck-color-widget-drag-handler-icon-color);\n\n\t\t\t/* The "selected" part of the icon is invisible by default */\n\t\t\t& .ck-icon__selected-indicator {\n\t\t\t\topacity: 0;\n\n\t\t\t\t/* Note: The animation is longer on purpose. Simply feels better. */\n\t\t\t\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\n\t\t\t}\n\t\t}\n\n\t\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\n\t\t&:hover .ck-icon .ck-icon__selected-indicator {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\topacity: 1;\n\t\tbackground-color: var(--ck-color-widget-hover-border);\n\t}\n\n\t/* Show the selection handler when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\t& > .ck-widget__selection-handle {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--ck-color-focus-border);\n\n\t\t\t/* When the widget is selected, notify the user using the proper look of the icon. */\n\t\t\t& .ck-icon .ck-icon__selected-indicator {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* In a RTL environment, align the selection handler to the right side of the widget */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\n\tleft: auto;\n\tright: calc(0px - var(--ck-widget-outline-thickness));\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\n.ck.ck-editor__editable.ck-read-only .ck-widget {\n\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\n\ttransition: none;\n\n\t&:not(.ck-widget_selected) {\n\t\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\n\t\t *\n\t\t * Leave the unit because this custom property is used in calc() by other features.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\n\t\t */\n\t\t--ck-widget-outline-thickness: 0px;\n\t}\n\n\t&.ck-widget_with-selection-handle {\n\t\t& .ck-widget__selection-handle,\n\t\t& .ck-widget__selection-handle:hover {\n\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t}\n\t}\n}\n\n/* Style the widget when it\'s selected but the editable it belongs to lost focus. */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck.ck-editor__editable.ck-blurred .ck-widget {\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline-color: var(--ck-color-widget-blurred-border);\n\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t& > .ck-widget__selection-handle,\n\t\t\t& > .ck-widget__selection-handle:hover {\n\t\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\n\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\n\tIn fact, anything with overflow: hidden.\n\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\n\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const it=U},2263:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgetresize.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget_with-resizer {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n}\n\n.ck .ck-widget__resizer {\n\tdisplay: none;\n\tposition: absolute;\n\n\t/* The wrapper itself should not interfere with the pointer device, only the handles should. */\n\tpointer-events: none;\n\n\tleft: 0;\n\ttop: 0;\n}\n\n.ck-focused .ck-widget_with-resizer.ck-widget_selected {\n\t& > .ck-widget__resizer {\n\t\tdisplay: block;\n\t}\n}\n\n.ck .ck-widget__resizer__handle {\n\tposition: absolute;\n\n\t/* Resizers are the only UI elements that should interfere with a pointer device. */\n\tpointer-events: all;\n\n\t&.ck-widget__resizer__handle-top-left,\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tcursor: nwse-resize;\n\t}\n\n\t&.ck-widget__resizer__handle-top-right,\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tcursor: nesw-resize;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-resizer-size: 10px;\n\n\t/* Set the resizer with a 50% offset. */\n\t--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);\n\t--ck-resizer-border-width: 1px;\n}\n\n.ck .ck-widget__resizer {\n\toutline: 1px solid var(--ck-color-resizer);\n}\n\n.ck .ck-widget__resizer__handle {\n\twidth: var(--ck-resizer-size);\n\theight: var(--ck-resizer-size);\n\tbackground: var(--ck-color-focus-border);\n\tborder: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);\n\tborder-radius: var(--ck-resizer-border-radius);\n\n\t&.ck-widget__resizer__handle-top-left {\n\t\ttop: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-top-right {\n\t\ttop: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n}\n"],sourceRoot:""}]);const it=U},5137:(ht,ut,Y)=>{"use strict";Y.d(ut,{Z:()=>it});var ot=Y(4015),dt=Y.n(ot),at=Y(3645),U=Y.n(at)()(dt());U.push([ht.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\toverflow: hidden;\n\t\tz-index: var(--ck-z-default);\n\n\t\t& svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tz-index: calc(var(--ck-z-default) + 2);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_before {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tleft: min(10%, 30px);\n\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_after {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tright: min(10%, 30px);\n\n\t\t\ttransform: translateY(50%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t/*\n\t * When the widget is hovered the "fake caret" would normally be narrower than the\n\t * extra outline displayed around the widget. Let\'s extend the "fake caret" to match\n\t * the full width of the widget.\n\t */\n\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\n\t\tright: calc( -1 * var(--ck-widget-outline-thickness) );\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n}\n\n/*\n * Integration with the read-only mode of the editor.\n */\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the restricted editing mode (feature) of the editor.\n */\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\n */\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\n\tdisplay: none;\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-widget-type-around-button-size: 20px;\n\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\n\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\n\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\n\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\n\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\n\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\n}\n\n@define-mixin ck-widget-type-around-button-visible {\n\topacity: 1;\n\tpointer-events: auto;\n}\n\n@define-mixin ck-widget-type-around-button-hidden {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\twidth: var(--ck-widget-type-around-button-size);\n\t\theight: var(--ck-widget-type-around-button-size);\n\t\tbackground: var(--ck-color-widget-type-around-button);\n\t\tborder-radius: 100px;\n\t\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t@mixin ck-widget-type-around-button-hidden;\n\n\t\t& svg {\n\t\t\twidth: 10px;\n\t\t\theight: 8px;\n\t\t\ttransform: translate(-50%,-50%);\n\t\t\ttransition: transform .5s ease;\n\t\t\tmargin-top: 1px;\n\n\t\t\t& * {\n\t\t\t\tstroke-dasharray: 10;\n\t\t\t\tstroke-dashoffset: 0;\n\n\t\t\t\tfill: none;\n\t\t\t\tstroke: var(--ck-color-widget-type-around-button-icon);\n\t\t\t\tstroke-width: 1.5px;\n\t\t\t\tstroke-linecap: round;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t}\n\n\t\t\t& line {\n\t\t\t\tstroke-dasharray: 7;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t/*\n\t\t\t * Display the "sonar" around the button when hovered.\n\t\t\t */\n\t\t\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\n\n\t\t\t/*\n\t\t\t * Animate active button\'s icon.\n\t\t\t */\n\t\t\t& svg {\n\t\t\t\t& polyline {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-dash 2s linear;\n\t\t\t\t}\n\n\t\t\t\t& line {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Show type around buttons when the widget gets selected or being hovered.\n\t */\n\t&.ck-widget_selected,\n\t&:hover {\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-visible;\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\n\t * and still can be hovered).\n\t */\n\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\tbackground: var(--ck-color-widget-type-around-button-hover);\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\tbackground: var(--ck-color-widget-type-around-button-active);\n\n\t\t&::after {\n\t\t\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\tborder-radius: 100px;\n\t\t\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the "before" button when the widget has a selection handle. Because some space\n\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\n\t */\n\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\n\t\tmargin-left: 20px;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& .ck-widget__type-around__fake-caret {\n\t\tpointer-events: none;\n\t\theight: 1px;\n\t\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\n\n\t\t/*\n\t\t * The semi-transparent-outline+background combo improves the contrast\n\t\t * when the background underneath the fake caret is dark.\n\t\t */\n\t\toutline: solid 1px hsla(0, 0%, 100%, .5);\n\t\tbackground: var(--ck-color-base-text);\n\t}\n\n\t/*\n\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t * Despite the widget being physically selected in the model, its outline should disappear.\n\t */\n\t&.ck-widget_selected {\n\t\t&.ck-widget_type-around_show-fake-caret_before,\n\t\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t\toutline-color: transparent;\n\t\t}\n\t}\n\n\t&.ck-widget_type-around_show-fake-caret_before,\n\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t/*\n\t\t * When the "fake caret" is visible we simulate that the widget is not selected\n\t\t * (despite being physically selected), so the outline color should be for the\n\t\t * unselected widget.\n\t\t */\n\t\t&.ck-widget_selected:hover {\n\t\t\toutline-color: var(--ck-color-widget-hover-border);\n\t\t}\n\n\t\t/*\n\t\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\n\t\t */\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\n\t\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\n\t\t */\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t&.ck-widget_selected,\n\t\t\t&.ck-widget_selected:hover {\n\t\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\t\topacity: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\n\t\t * hide the resize UI because it creates too much noise. It can be visible when the user\n\t\t * hovers the widget, though.\n\t\t */\n\t\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\n\t\t\topacity: 0\n\t\t}\n\t}\n}\n\n/*\n * Styles for the "before" button when the widget has a selection handle in an RTL environment.\n * The selection handler is aligned to the right side of the widget so there is no need to create\n * additional space for it next to the "before" button.\n */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {\n\tmargin-left: 0;\n\tmargin-right: 20px;\n}\n\n/*\n * Hide type around buttons when the widget is selected as a child of a selected\n * nested editable (e.g. mulit-cell table selection).\n *\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\n */\n.ck-editor__nested-editable.ck-editor__editable_selected {\n\t& .ck-widget {\n\t\t&.ck-widget_selected,\n\t\t&:hover {\n\t\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/*\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\n */\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\n\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\n\n\t& svg * {\n\t\tstroke: hsl(0,0%,60%);\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-dash {\n\t0% {\n\t\tstroke-dashoffset: 10;\n\t}\n\t20%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-tip-dash {\n\t0%, 20% {\n\t\tstroke-dashoffset: 7;\n\t}\n\t40%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-button-sonar {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n\t50% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n}\n\n@keyframes ck-widget-type-around-fake-caret-pulse {\n\t0% {\n\t\topacity: 1;\n\t}\n\t49% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n\t99% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'],sourceRoot:""}]);const it=U},3645:ht=>{"use strict";ht.exports=function(ut){var Y=[];return Y.toString=function(){return this.map(function(ot){var dt=ut(ot);return ot[2]?"@media ".concat(ot[2]," {").concat(dt,"}"):dt}).join("")},Y.i=function(ot,dt,at){"string"==typeof ot&&(ot=[[null,ot,""]]);var U={};if(at)for(var it=0;it<this.length;it++){var li=this[it][0];null!=li&&(U[li]=!0)}for(var zr=0;zr<ot.length;zr++){var Ln=[].concat(ot[zr]);at&&U[Ln[0]]||(dt&&(Ln[2]=Ln[2]?"".concat(dt," and ").concat(Ln[2]):dt),Y.push(Ln))}},Y}},4015:ht=>{"use strict";function Y(ot,dt){(null==dt||dt>ot.length)&&(dt=ot.length);for(var at=0,U=new Array(dt);at<dt;at++)U[at]=ot[at];return U}ht.exports=function(ot){var dt=function(ot,dt){return function(at){if(Array.isArray(at))return at}(ot)||function(at,U){var it=at&&("undefined"!=typeof Symbol&&at[Symbol.iterator]||at["@@iterator"]);if(null!=it){var li,zr,Ln=[],uo=!0,wr=!1;try{for(it=it.call(at);!(uo=(li=it.next()).done)&&(Ln.push(li.value),4!==Ln.length);uo=!0);}catch(jo){wr=!0,zr=jo}finally{try{uo||null==it.return||it.return()}finally{if(wr)throw zr}}return Ln}}(ot)||function(at,U){if(at){if("string"==typeof at)return Y(at,4);var it=Object.prototype.toString.call(at).slice(8,-1);if("Object"===it&&at.constructor&&(it=at.constructor.name),"Map"===it||"Set"===it)return Array.from(at);if("Arguments"===it||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(it))return Y(at,4)}}(ot)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(ot),at=dt[1],U=dt[3];if(!U)return at;if("function"==typeof btoa){var it=btoa(unescape(encodeURIComponent(JSON.stringify(U)))),li="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(it),zr="/*# ".concat(li," */"),Ln=U.sources.map(function(uo){return"/*# sourceURL=".concat(U.sourceRoot||"").concat(uo," */")});return[at].concat(Ln).concat([zr]).join("\n")}return[at].join("\n")}},3379:(ht,ut,Y)=>{"use strict";var ot,Ft,at=(Ft={},function(we){if(void 0===Ft[we]){var ve=document.querySelector(we);if(window.HTMLIFrameElement&&ve instanceof window.HTMLIFrameElement)try{ve=ve.contentDocument.head}catch{ve=null}Ft[we]=ve}return Ft[we]}),U=[];function it(Ft){for(var we=-1,ve=0;ve<U.length;ve++)if(U[ve].identifier===Ft){we=ve;break}return we}function li(Ft,we){for(var ve={},Re=[],pe=0;pe<Ft.length;pe++){var sn=Ft[pe],rn=we.base?sn[0]+we.base:sn[0],ci=ve[rn]||0,Pe="".concat(rn," ").concat(ci);ve[rn]=ci+1;var ho=it(Pe),Aa={css:sn[1],media:sn[2],sourceMap:sn[3]};-1!==ho?(U[ho].references++,U[ho].updater(Aa)):U.push({identifier:Pe,updater:_r(Aa,we),references:1}),Re.push(Pe)}return Re}function zr(Ft){var we=document.createElement("style"),ve=Ft.attributes||{};if(void 0===ve.nonce){var Re=Y.nc;Re&&(ve.nonce=Re)}if(Object.keys(ve).forEach(function(sn){we.setAttribute(sn,ve[sn])}),"function"==typeof Ft.insert)Ft.insert(we);else{var pe=at(Ft.insert||"head");if(!pe)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");pe.appendChild(we)}return we}var Ln,uo=(Ln=[],function(Ft,we){return Ln[Ft]=we,Ln.filter(Boolean).join("\n")});function wr(Ft,we,ve,Re){var pe=ve?"":Re.media?"@media ".concat(Re.media," {").concat(Re.css,"}"):Re.css;if(Ft.styleSheet)Ft.styleSheet.cssText=uo(we,pe);else{var sn=document.createTextNode(pe),rn=Ft.childNodes;rn[we]&&Ft.removeChild(rn[we]),rn.length?Ft.insertBefore(sn,rn[we]):Ft.appendChild(sn)}}function jo(Ft,we,ve){var Re=ve.css,pe=ve.media,sn=ve.sourceMap;if(pe?Ft.setAttribute("media",pe):Ft.removeAttribute("media"),sn&&"undefined"!=typeof btoa&&(Re+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sn))))," */")),Ft.styleSheet)Ft.styleSheet.cssText=Re;else{for(;Ft.firstChild;)Ft.removeChild(Ft.firstChild);Ft.appendChild(document.createTextNode(Re))}}var zl=null,Vi=0;function _r(Ft,we){var ve,Re,pe;if(we.singleton){var sn=Vi++;ve=zl||(zl=zr(we)),Re=wr.bind(null,ve,sn,!1),pe=wr.bind(null,ve,sn,!0)}else ve=zr(we),Re=jo.bind(null,ve,we),pe=function(){!function(rn){if(null===rn.parentNode)return!1;rn.parentNode.removeChild(rn)}(ve)};return Re(Ft),function(rn){if(rn){if(rn.css===Ft.css&&rn.media===Ft.media&&rn.sourceMap===Ft.sourceMap)return;Re(Ft=rn)}else pe()}}ht.exports=function(Ft,we){(we=we||{}).singleton||"boolean"==typeof we.singleton||(we.singleton=(void 0===ot&&(ot=Boolean(window&&document&&document.all&&!window.atob)),ot));var ve=li(Ft=Ft||[],we);return function(Re){if(Re=Re||[],"[object Array]"===Object.prototype.toString.call(Re)){for(var pe=0;pe<ve.length;pe++){var sn=it(ve[pe]);U[sn].references--}for(var rn=li(Re,we),ci=0;ci<ve.length;ci++){var Pe=it(ve[ci]);0===U[Pe].references&&(U[Pe].updater(),U.splice(Pe,1))}ve=rn}}}},1576:()=>{}},oe={};function St(ht){var ut=oe[ht];if(void 0!==ut)return ut.exports;var Y=oe[ht]={id:ht,exports:{}};return Ai[ht](Y,Y.exports,St),Y.exports}St.n=ht=>{var ut=ht&&ht.__esModule?()=>ht.default:()=>ht;return St.d(ut,{a:ut}),ut},St.d=(ht,ut)=>{for(var Y in ut)St.o(ut,Y)&&!St.o(ht,Y)&&Object.defineProperty(ht,Y,{enumerable:!0,get:ut[Y]})},St.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),St.o=(ht,ut)=>Object.prototype.hasOwnProperty.call(ht,ut),St.nc=void 0;var ka={};return(()=>{"use strict";St.d(ka,{default:()=>Vn});class ut{constructor(r,s){this.source=r,this.name=s,this.path=[],this.stop=function f(){f.called=!0},this.off=function f(){f.called=!0}}}const Y=new Array(256).fill("").map((f,r)=>("0"+r.toString(16)).slice(-2));function ot(){const f=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0,c=4294967296*Math.random()>>>0;return"e"+Y[f>>0&255]+Y[f>>8&255]+Y[f>>16&255]+Y[f>>24&255]+Y[r>>0&255]+Y[r>>8&255]+Y[r>>16&255]+Y[r>>24&255]+Y[s>>0&255]+Y[s>>8&255]+Y[s>>16&255]+Y[s>>24&255]+Y[c>>0&255]+Y[c>>8&255]+Y[c>>16&255]+Y[c>>24&255]}const dt={get(f="normal"){return"number"!=typeof f?this[f]||this.normal:f},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function at(f,r){const s=dt.get(r.priority);for(let c=0;c<f.length;c++)if(dt.get(f[c].priority)<s)return void f.splice(c,0,r);f.push(r)}class U extends Error{constructor(r,s,c){super(function(h,v){const y=new WeakSet;return h+(v?` ${JSON.stringify(v,(D,E)=>{if("object"==typeof E&&null!==E){if(y.has(E))return`[object ${E.constructor.name}]`;y.add(E)}return E})}`:"")+zr(h)}(r,c)),this.name="CKEditorError",this.context=s,this.data=c}is(r){return"CKEditorError"===r}static rethrowUnexpectedError(r,s){if(r.is&&r.is("CKEditorError"))throw r;const c=new U(r.message,s);throw c.stack=r.stack,c}}function it(f,r){console.warn(...Ln(f,r))}function li(f,r){console.error(...Ln(f,r))}function zr(f){return`\nRead more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-${f}`}function Ln(f,r){const s=zr(f);return r?[f,r,s]:[f,s]}const wr="object"==typeof window?window:St.g;if(wr.CKEDITOR_VERSION)throw new U("ckeditor-duplicated-modules",null);wr.CKEDITOR_VERSION="35.3.2";const jo=Symbol("listeningTo"),zl=Symbol("emitterId"),Vi=Symbol("delegations");function _r(f){return class extends f{on(r,s,c){this.listenTo(this,r,s,c)}once(r,s,c){let h=!1;this.listenTo(this,r,(v,...y)=>{h||(h=!0,v.off(),s.call(this,v,...y))},c)}off(r,s){this.stopListening(this,r,s)}listenTo(r,s,c,h={}){let v,y;this[jo]||(this[jo]={});const _=this[jo];ve(r)||we(r);const A=ve(r);var D,E,P,z;(v=_[A])||(v=_[A]={emitter:r,callbacks:{}}),(y=v.callbacks[s])||(y=v.callbacks[s]=[]),y.push(c),E=s,P=c,z=h,(D=r)._addEventListener?D._addEventListener(E,P,z):this._addEventListener.call(D,E,P,z)}stopListening(r,s,c){const h=this[jo];let v=r&&ve(r);const y=h&&v?h[v]:void 0,_=y&&s?y.callbacks[s]:void 0;if(!(!h||r&&!y||s&&!_))if(c)ci(this,r,s,c),-1!==_.indexOf(c)&&(1===_.length?delete y.callbacks[s]:ci(this,r,s,c));else if(_){for(;c=_.pop();)ci(this,r,s,c);delete y.callbacks[s]}else if(y){for(s in y.callbacks)this.stopListening(r,s);delete h[v]}else{for(v in h)this.stopListening(h[v].emitter);delete this[jo]}}fire(r,...s){try{const c=r instanceof ut?r:new ut(this,r),h=c.name;let v=sn(this,h);if(c.path.push(this),v){const _=[c,...s];v=Array.from(v);for(let A=0;A<v.length&&(v[A].callback.apply(this,_),c.off.called&&(delete c.off.called,this._removeEventListener(h,v[A].callback)),!c.stop.called);A++);}const y=this[Vi];if(y){const _=y.get(h),A=y.get("*");_&&rn(_,c,s),A&&rn(A,c,s)}return c.return}catch(c){U.rethrowUnexpectedError(c,this)}}delegate(...r){return{to:(s,c)=>{this[Vi]||(this[Vi]=new Map),r.forEach(h=>{const v=this[Vi].get(h);v?v.set(s,c):this[Vi].set(h,new Map([[s,c]]))})}}}stopDelegating(r,s){if(this[Vi])if(r)if(s){const c=this[Vi].get(r);c&&c.delete(s)}else this[Vi].delete(r);else this[Vi].clear()}_addEventListener(r,s,c){!function(y,_){const A=Re(y);if(A[_])return;let S=_,D=null;const E=[];for(;""!==S&&!A[S];)A[S]={callbacks:[],childEvents:[]},E.push(A[S]),D&&A[S].childEvents.push(D),D=S,S=S.substr(0,S.lastIndexOf(":"));if(""!==S){for(const P of E)P.callbacks=A[S].callbacks.slice();A[S].childEvents.push(D)}}(this,r);const h=pe(this,r),v={callback:s,priority:dt.get(c.priority)};for(const y of h)at(y,v)}_removeEventListener(r,s){const c=pe(this,r);for(const h of c)for(let v=0;v<h.length;v++)h[v].callback==s&&(h.splice(v,1),v--)}}}const Ft=_r(Object);function we(f,r){f[zl]||(f[zl]=r||ot())}function ve(f){return f[zl]}function Re(f){return f._events||Object.defineProperty(f,"_events",{value:{}}),f._events}function pe(f,r){const s=Re(f)[r];if(!s)return[];let c=[s.callbacks];for(let h=0;h<s.childEvents.length;h++){const v=pe(f,s.childEvents[h]);c=c.concat(v)}return c}function sn(f,r){let s;return f._events&&(s=f._events[r])&&s.callbacks.length?s.callbacks:r.indexOf(":")>-1?sn(f,r.substr(0,r.lastIndexOf(":"))):null}function rn(f,r,s){for(let[c,h]of f){h?"function"==typeof h&&(h=h(r.name)):h=r.name;const v=new ut(r.source,h);v.path=[...r.path],c.fire(v,...s)}}function ci(f,r,s,c){r._removeEventListener?r._removeEventListener(s,c):f._removeEventListener.call(r,s,c)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(f=>{_r[f]=Ft.prototype[f]});const Pe=function(f){var r=typeof f;return null!=f&&("object"==r||"function"==r)},ho=Symbol("observableProperties"),Aa=Symbol("boundObservables"),Au=Symbol("boundProperties"),ms=Symbol("decoratedMethods"),Ob=Symbol("decoratedOriginal");function Cu(f){return class extends f{set(r,s){if(Pe(r))return void Object.keys(r).forEach(h=>{this.set(h,r[h])},this);Vb(this);const c=this[ho];if(r in this&&!c.has(r))throw new U("observable-set-cannot-override",this);Object.defineProperty(this,r,{enumerable:!0,configurable:!0,get:()=>c.get(r),set(h){const v=c.get(r);let y=this.fire(`set:${r}`,r,h,v);void 0===y&&(y=h),v===y&&c.has(r)||(c.set(r,y),this.fire(`change:${r}`,r,y,v))}}),this[r]=s}bind(...r){if(!r.length||!zC(r))throw new U("observable-bind-wrong-properties",this);if(new Set(r).size!==r.length)throw new U("observable-bind-duplicate-properties",this);Vb(this);const s=this[Au];r.forEach(h=>{if(s.has(h))throw new U("observable-bind-rebind",this)});const c=new Map;return r.forEach(h=>{const v={property:h,to:[]};s.set(h,v),c.set(h,v)}),{to:oE,toMany:aE,_observable:this,_bindProperties:r,_to:[],_bindings:c}}unbind(...r){if(!this[ho])return;const s=this[Au],c=this[Aa];if(r.length){if(!zC(r))throw new U("observable-unbind-wrong-properties",this);r.forEach(h=>{const v=s.get(h);v&&(v.to.forEach(([y,_])=>{const A=c.get(y),S=A[_];S.delete(v),S.size||delete A[_],Object.keys(A).length||(c.delete(y),this.stopListening(y,"change"))}),s.delete(h))})}else c.forEach((h,v)=>{this.stopListening(v,"change")}),c.clear(),s.clear()}decorate(r){Vb(this);const s=this[r];if(!s)throw new U("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:r});this.on(r,(c,h)=>{c.return=s.apply(this,h)}),this[r]=function(...c){return this.fire(r,c)},this[r][Ob]=s,this[ms]||(this[ms]=[]),this[ms].push(r)}stopListening(r,s,c){if(!r&&this[ms]){for(const h of this[ms])this[h]=this[h][Ob];delete this[ms]}Ft.prototype.stopListening.call(this,r,s,c)}}}const hn=Cu(Ft);function Vb(f){f[ho]||(Object.defineProperty(f,ho,{value:new Map}),Object.defineProperty(f,Aa,{value:new Map}),Object.defineProperty(f,Au,{value:new Map}))}function oE(...f){const r=function(...v){if(!v.length)throw new U("observable-bind-to-parse-error",null);const y={to:[]};let _;return"function"==typeof v[v.length-1]&&(y.callback=v.pop()),v.forEach(A=>{if("string"==typeof A)_.properties.push(A);else{if("object"!=typeof A)throw new U("observable-bind-to-parse-error",null);_={observable:A,properties:[]},y.to.push(_)}}),y}(...f),s=Array.from(this._bindings.keys()),c=s.length;if(!r.callback&&r.to.length>1)throw new U("observable-bind-to-no-callback",this);if(c>1&&r.callback)throw new U("observable-bind-to-extra-callback",this);var h;r.to.forEach(v=>{if(v.properties.length&&v.properties.length!==c)throw new U("observable-bind-to-properties-length",this);v.properties.length||(v.properties=this._bindProperties)}),this._to=r.to,r.callback&&(this._bindings.get(s[0]).callback=r.callback),h=this._observable,this._to.forEach(v=>{const y=h[Aa];let _;y.get(v.observable)||h.listenTo(v.observable,"change",(A,S)=>{_=y.get(v.observable)[S],_&&_.forEach(D=>{OC(h,D.property)})})}),function(v){let y;v._bindings.forEach((_,A)=>{v._to.forEach(S=>{y=S.properties[_.callback?0:v._bindProperties.indexOf(A)],_.to.push([S.observable,y]),function(D,E,P,z){const G=D[Aa],W=G.get(P),$=W||{};$[z]||($[z]=new Set),$[z].add(E),W||G.set(P,$)}(v._observable,_,S.observable,y)})})}(this),this._bindProperties.forEach(v=>{OC(this._observable,v)})}function aE(f,r,s){if(this._bindings.size>1)throw new U("observable-bind-to-many-not-one-binding",this);this.to(...function(c,h){const v=c.map(y=>[y,h]);return Array.prototype.concat.apply([],v)}(f,r),s)}function zC(f){return f.every(r=>"string"==typeof r)}function OC(f,r){const s=f[Au].get(r);let c;s.callback?c=s.callback.apply(f,s.to.map(h=>h[0][h[1]])):(c=s.to[0],c=c[0][c[1]]),Object.prototype.hasOwnProperty.call(f,r)?f[r]=c:f.set(r,c)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(f=>{Cu[f]=hn.prototype[f]});class vt extends hn{constructor(r){super(),this.editor=r,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(r){this._disableStack.add(r),1==this._disableStack.size&&(this.on("set:isEnabled",Fb,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(r){this._disableStack.delete(r),0==this._disableStack.size&&(this.off("set:isEnabled",Fb),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Fb(f){f.return=!1,f.stop()}class ae extends hn{constructor(r){super(),this.editor=r,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",s=>{this.isEnabled||s.stop()},{priority:"high"}),this.listenTo(r,"change:isReadOnly",(s,c,h)=>{h&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}get affectsData(){return this._affectsData}set affectsData(r){this._affectsData=r}refresh(){this.isEnabled=!0}forceDisabled(r){this._disableStack.add(r),1==this._disableStack.size&&(this.on("set:isEnabled",kh,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(r){this._disableStack.delete(r),0==this._disableStack.size&&(this.off("set:isEnabled",kh),this.refresh())}execute(...r){}destroy(){this.stopListening()}}function kh(f){f.return=!1,f.stop()}class Ah extends ae{constructor(r){super(r),this._childCommandsDefinitions=[]}refresh(){}execute(...r){const s=this._getFirstEnabledCommand();return!!s&&s.execute(r)}registerChildCommand(r,s={}){at(this._childCommandsDefinitions,{command:r,priority:s.priority||"normal"}),r.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const r=this._childCommandsDefinitions.find(({command:s})=>s.isEnabled);return r&&r.command}}const Xg="object"==typeof global&&global&&global.Object===Object&&global;var VC="object"==typeof self&&self&&self.Object===Object&&self;const ui=Xg||VC||Function("return this")(),fo=ui.Symbol;var FC=Object.prototype,sE=FC.hasOwnProperty,HC=FC.toString,xu=fo?fo.toStringTag:void 0,cE=Object.prototype.toString,Hb=fo?fo.toStringTag:void 0;const je=function(f){return null==f?void 0===f?"[object Undefined]":"[object Null]":Hb&&Hb in Object(f)?function(f){var r=sE.call(f,xu),s=f[xu];try{f[xu]=void 0;var c=!0}catch{}var h=HC.call(f);return c&&(r?f[xu]=s:delete f[xu]),h}(f):function(f){return cE.call(f)}(f)},GC=function(f,r){return function(s){return f(r(s))}},Qg=GC(Object.getPrototypeOf,Object),Ci=function(f){return null!=f&&"object"==typeof f};var Gb=Function.prototype.toString,WC=Object.prototype.hasOwnProperty,YC=Gb.call(Object);const Or=function(f){if(!Ci(f)||"[object Object]"!=je(f))return!1;var r=Qg(f);if(null===r)return!0;var s=WC.call(r,"constructor")&&r.constructor;return"function"==typeof s&&s instanceof s&&Gb.call(s)==YC},Su=function(f,r){return f===r||f!=f&&r!=r},Ch=function(f,r){for(var s=f.length;s--;)if(Su(f[s][0],r))return s;return-1};var ZC=Array.prototype.splice;function Ca(f){var r=-1,s=null==f?0:f.length;for(this.clear();++r<s;){var c=f[r];this.set(c[0],c[1])}}Ca.prototype.clear=function(){this.__data__=[],this.size=0},Ca.prototype.delete=function(f){var r=this.__data__,s=Ch(r,f);return!(s<0||(s==r.length-1?r.pop():ZC.call(r,s,1),--this.size,0))},Ca.prototype.get=function(f){var r=this.__data__,s=Ch(r,f);return s<0?void 0:r[s][1]},Ca.prototype.has=function(f){return Ch(this.__data__,f)>-1},Ca.prototype.set=function(f,r){var s=this.__data__,c=Ch(s,f);return c<0?(++this.size,s.push([f,r])):s[c][1]=r,this};const tt=Ca,xh=function(f){if(!Pe(f))return!1;var r=je(f);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r},Wb=ui["__core-js_shared__"];var f,JC=(f=/[^.]+$/.exec(Wb&&Wb.keys&&Wb.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",fE=Function.prototype.toString;const xa=function(f){if(null!=f){try{return fE.call(f)}catch{}try{return f+""}catch{}}return""};var tx=/^\[object .+?Constructor\]$/,mE=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ol=function(f,r){var s=function(f,r){return null==f?void 0:f[r]}(f,r);return function(f){return!(!Pe(f)||function(f){return!!JC&&JC in f}(f))&&(xh(f)?mE:tx).test(xa(f))}(s)?s:void 0},Tu=Ol(ui,"Map"),Th=Ol(Object,"create");var kE=Object.prototype.hasOwnProperty,nx=Object.prototype.hasOwnProperty;function de(f){var r=-1,s=null==f?0:f.length;for(this.clear();++r<s;){var c=f[r];this.set(c[0],c[1])}}de.prototype.clear=function(){this.__data__=Th?Th(null):{},this.size=0},de.prototype.delete=function(f){var r=this.has(f)&&delete this.__data__[f];return this.size-=r?1:0,r},de.prototype.get=function(f){var r=this.__data__;if(Th){var s=r[f];return"__lodash_hash_undefined__"===s?void 0:s}return kE.call(r,f)?r[f]:void 0},de.prototype.has=function(f){var r=this.__data__;return Th?void 0!==r[f]:nx.call(r,f)},de.prototype.set=function(f,r){var s=this.__data__;return this.size+=this.has(f)?0:1,s[f]=Th&&void 0===r?"__lodash_hash_undefined__":r,this};const Dh=de,Mh=function(f,r){var s=f.__data__;return function(f){var r=typeof f;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==f:null===f}(r)?s["string"==typeof r?"string":"hash"]:s.map};function ur(f){var r=-1,s=null==f?0:f.length;for(this.clear();++r<s;){var c=f[r];this.set(c[0],c[1])}}ur.prototype.clear=function(){this.size=0,this.__data__={hash:new Dh,map:new(Tu||tt),string:new Dh}},ur.prototype.delete=function(f){var r=Mh(this,f).delete(f);return this.size-=r?1:0,r},ur.prototype.get=function(f){return Mh(this,f).get(f)},ur.prototype.has=function(f){return Mh(this,f).has(f)},ur.prototype.set=function(f,r){var s=Mh(this,f),c=s.size;return s.set(f,r),this.size+=s.size==c?0:1,this};const Jg=ur;function bs(f){var r=this.__data__=new tt(f);this.size=r.size}bs.prototype.clear=function(){this.__data__=new tt,this.size=0},bs.prototype.delete=function(f){var r=this.__data__,s=r.delete(f);return this.size=r.size,s},bs.prototype.get=function(f){return this.__data__.get(f)},bs.prototype.has=function(f){return this.__data__.has(f)},bs.prototype.set=function(f,r){var s=this.__data__;if(s instanceof tt){var c=s.__data__;if(!Tu||c.length<199)return c.push([f,r]),this.size=++s.size,this;s=this.__data__=new Jg(c)}return s.set(f,r),this.size=s.size,this};const po=bs,Eh=function(){try{var f=Ol(Object,"defineProperty");return f({},"",{}),f}catch{}}(),tv=function(f,r,s){"__proto__"==r&&Eh?Eh(f,r,{configurable:!0,enumerable:!0,value:s,writable:!0}):f[r]=s};var ev=Object.prototype.hasOwnProperty;const nv=function(f,r,s){var c=f[r];ev.call(f,r)&&Su(c,s)&&(void 0!==s||r in f)||tv(f,r,s)},ws=function(f,r,s,c){var h=!s;s||(s={});for(var v=-1,y=r.length;++v<y;){var _=r[v],A=c?c(s[_],f[_],_,s,f):void 0;void 0===A&&(A=f[_]),h?tv(s,_,A):nv(s,_,A)}return s},Ph=function(f){return Ci(f)&&"[object Arguments]"==je(f)};var $b=Object.prototype,Kb=$b.hasOwnProperty,rv=$b.propertyIsEnumerable;const Lt=Ph(function(){return arguments}())?Ph:function(f){return Ci(f)&&Kb.call(f,"callee")&&!rv.call(f,"callee")},Pt=Array.isArray;var st=Jn&&!Jn.nodeType&&Jn,Et=st&&Fn&&!Fn.nodeType&&Fn,lx=Et&&Et.exports===st?ui.Buffer:void 0;const qt=(lx?lx.isBuffer:void 0)||function(){return!1};var cx=/^(?:0|[1-9]\d*)$/;const fn=function(f,r){var s=typeof f;return!!(r=r??9007199254740991)&&("number"==s||"symbol"!=s&&cx.test(f))&&f>-1&&f%1==0&&f<r},tr=function(f){return"number"==typeof f&&f>-1&&f%1==0&&f<=9007199254740991};var V={};V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0,V["[object Arguments]"]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object Boolean]"]=V["[object DataView]"]=V["[object Date]"]=V["[object Error]"]=V["[object Function]"]=V["[object Map]"]=V["[object Number]"]=V["[object Object]"]=V["[object RegExp]"]=V["[object Set]"]=V["[object String]"]=V["[object WeakMap]"]=!1;const xi=function(f){return function(r){return f(r)}};var Le=Jn&&!Jn.nodeType&&Jn,Du=Le&&Fn&&!Fn.nodeType&&Fn,le=Du&&Du.exports===Le&&Xg.process;const Vl=function(){try{return Du&&Du.require&&Du.require("util").types||le&&le.binding&&le.binding("util")}catch{}}();var Ct=Vl&&Vl.isTypedArray;const Gt=Ct?xi(Ct):function(f){return Ci(f)&&tr(f.length)&&!!V[je(f)]};var pt=Object.prototype.hasOwnProperty;const Mt=function(f,r){var s=Pt(f),c=!s&&Lt(f),h=!s&&!c&&qt(f),v=!s&&!c&&!h&&Gt(f),y=s||c||h||v,_=y?function(f,r){for(var s=-1,c=Array(f);++s<f;)c[s]=r(s);return c}(f.length,String):[],A=_.length;for(var S in f)!r&&!pt.call(f,S)||y&&("length"==S||h&&("offset"==S||"parent"==S)||v&&("buffer"==S||"byteLength"==S||"byteOffset"==S)||fn(S,A))||_.push(S);return _};var At=Object.prototype;const Mu=function(f){var r=f&&f.constructor;return f===("function"==typeof r&&r.prototype||At)},_e=GC(Object.keys,Object);var Rt=Object.prototype.hasOwnProperty;const dr=function(f){return null!=f&&tr(f.length)&&!xh(f)},_s=function(f){return dr(f)?Mt(f):function(f){if(!Mu(f))return _e(f);var r=[];for(var s in Object(f))Rt.call(f,s)&&"constructor"!=s&&r.push(s);return r}(f)};var dx=Object.prototype.hasOwnProperty;const pn=function(f){return dr(f)?Mt(f,!0):function(f){if(!Pe(f))return function(f){var r=[];if(null!=f)for(var s in Object(f))r.push(s);return r}(f);var r=Mu(f),s=[];for(var c in f)("constructor"!=c||!r&&dx.call(f,c))&&s.push(c);return s}(f)};var go=Jn&&!Jn.nodeType&&Jn,Nh=go&&Fn&&!Fn.nodeType&&Fn,Bh=Nh&&Nh.exports===go?ui.Buffer:void 0,hr=Bh?Bh.allocUnsafe:void 0;const Si=function(f,r){if(r)return f.slice();var s=f.length,c=hr?hr(s):new f.constructor(s);return f.copy(c),c},ov=function(f,r){var s=-1,c=f.length;for(r||(r=Array(c));++s<c;)r[s]=f[s];return r},Fl=function(){return[]};var hx=Object.prototype.propertyIsEnumerable,av=Object.getOwnPropertySymbols;const sv=av?function(f){return null==f?[]:(f=Object(f),function(f,r){for(var s=-1,c=null==f?0:f.length,h=0,v=[];++s<c;){var y=f[s];r(y)&&(v[h++]=y)}return v}(av(f),function(r){return hx.call(f,r)}))}:Fl,Tt=function(f,r){for(var s=-1,c=r.length,h=f.length;++s<c;)f[h+s]=r[s];return f},Eu=Object.getOwnPropertySymbols?function(f){for(var r=[];f;)Tt(r,sv(f)),f=Qg(f);return r}:Fl,lv=function(f,r,s){var c=r(f);return Pt(f)?c:Tt(c,s(f))},xt=function(f){return lv(f,_s,sv)},vn=function(f){return lv(f,pn,Eu)},Hl=Ol(ui,"DataView"),Go=Ol(ui,"Promise"),er=Ol(ui,"Set"),Fi=Ol(ui,"WeakMap");var Qb="[object Map]",cv="[object Promise]",Vh="[object Set]",Ta="[object WeakMap]",Fh="[object DataView]",AE=xa(Hl),px=xa(Tu),CE=xa(Go),xE=xa(er),SE=xa(Fi),jl=je;(Hl&&jl(new Hl(new ArrayBuffer(1)))!=Fh||Tu&&jl(new Tu)!=Qb||Go&&jl(Go.resolve())!=cv||er&&jl(new er)!=Vh||Fi&&jl(new Fi)!=Ta)&&(jl=function(f){var r=je(f),s="[object Object]"==r?f.constructor:void 0,c=s?xa(s):"";if(c)switch(c){case AE:return Fh;case px:return Qb;case CE:return cv;case xE:return Vh;case SE:return Ta}return r});const Da=jl;var Gl=Object.prototype.hasOwnProperty;const Hi=ui.Uint8Array,dv=function(f){var r=new f.constructor(f.byteLength);return new Hi(r).set(new Hi(f)),r};var TE=/\w*$/,Yn=fo?fo.prototype:void 0,Uo=Yn?Yn.valueOf:void 0;const As=function(f,r){var s=r?dv(f.buffer):f.buffer;return new f.constructor(s,f.byteOffset,f.length)};var Jb=Object.create;const vx=function(){function f(){}return function(r){if(!Pe(r))return{};if(Jb)return Jb(r);f.prototype=r;var s=new f;return f.prototype=void 0,s}}(),di=function(f){return"function"!=typeof f.constructor||Mu(f)?{}:vx(Qg(f))};var jh=Vl&&Vl.isMap;const tw=jh?xi(jh):function(f){return Ci(f)&&"[object Map]"==Da(f)};var Gh=Vl&&Vl.isSet;const yx=Gh?xi(Gh):function(f){return Ci(f)&&"[object Set]"==Da(f)};var Uh="[object Arguments]",nw="[object Function]",$e={};$e[Uh]=$e["[object Array]"]=$e["[object ArrayBuffer]"]=$e["[object DataView]"]=$e["[object Boolean]"]=$e["[object Date]"]=$e["[object Float32Array]"]=$e["[object Float64Array]"]=$e["[object Int8Array]"]=$e["[object Int16Array]"]=$e["[object Int32Array]"]=$e["[object Map]"]=$e["[object Number]"]=$e["[object Object]"]=$e["[object RegExp]"]=$e["[object Set]"]=$e["[object String]"]=$e["[object Symbol]"]=$e["[object Uint8Array]"]=$e["[object Uint8ClampedArray]"]=$e["[object Uint16Array]"]=$e["[object Uint32Array]"]=!0,$e["[object Error]"]=$e[nw]=$e["[object WeakMap]"]=!1;const hv=function f(r,s,c,h,v,y){var _,A=1&s,S=2&s,D=4&s;if(c&&(_=v?c(r,h,v,y):c(r)),void 0!==_)return _;if(!Pe(r))return r;var E=Pt(r);if(E){if(_=function(f){var r=f.length,s=new f.constructor(r);return r&&"string"==typeof f[0]&&Gl.call(f,"index")&&(s.index=f.index,s.input=f.input),s}(r),!A)return ov(r,_)}else{var P=Da(r),z=P==nw||"[object GeneratorFunction]"==P;if(qt(r))return Si(r,A);if("[object Object]"==P||P==Uh||z&&!v){if(_=S||z?{}:di(r),!A)return S?function(f,r){return ws(f,Eu(f),r)}(r,function(f,r){return f&&ws(r,pn(r),f)}(_,r)):function(f,r){return ws(f,sv(f),r)}(r,function(f,r){return f&&ws(r,_s(r),f)}(_,r))}else{if(!$e[P])return v?r:{};_=function(f,r,s){var c=f.constructor;switch(r){case"[object ArrayBuffer]":return dv(f);case"[object Boolean]":case"[object Date]":return new c(+f);case"[object DataView]":return function(f,r){var s=r?dv(f.buffer):f.buffer;return new f.constructor(s,f.byteOffset,f.byteLength)}(f,s);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return As(f,s);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(f);case"[object RegExp]":return function(f){var r=new f.constructor(f.source,TE.exec(f));return r.lastIndex=f.lastIndex,r}(f);case"[object Symbol]":return function(f){return Uo?Object(Uo.call(f)):{}}(f)}}(r,P,A)}}y||(y=new po);var G=y.get(r);if(G)return G;y.set(r,_),yx(r)?r.forEach(function($){_.add(f($,s,c,$,r,y))}):tw(r)&&r.forEach(function($,X){_.set(X,f($,s,c,X,r,y))});var W=E?void 0:(D?S?vn:xt:S?pn:_s)(r);return function(f,r){for(var s=-1,c=null==f?0:f.length;++s<c&&!1!==r(f[s],s););}(W||r,function($,X){W&&($=r[X=$]),nv(_,X,f($,s,c,X,r,y))}),_},rw=function(f,r){return hv(f,5,r="function"==typeof r?r:void 0)},An=function(f){return Ci(f)&&1===f.nodeType&&!Or(f)};class iw{constructor(r,s){this._config={},s&&this.define(Wh(s)),r&&this._setObjectToTarget(this._config,r)}set(r,s){this._setToTarget(this._config,r,s)}define(r,s){this._setToTarget(this._config,r,s,!0)}get(r){return this._getFromSource(this._config,r)}*names(){for(const r of Object.keys(this._config))yield r}_setToTarget(r,s,c,h=!1){if(Or(s))return void this._setObjectToTarget(r,s,h);const v=s.split(".");s=v.pop();for(const y of v)Or(r[y])||(r[y]={}),r=r[y];if(Or(c))return Or(r[s])||(r[s]={}),void this._setObjectToTarget(r=r[s],c,h);h&&void 0!==r[s]||(r[s]=c)}_getFromSource(r,s){const c=s.split(".");s=c.pop();for(const h of c){if(!Or(r[h])){r=null;break}r=r[h]}return r?Wh(r[s]):void 0}_setObjectToTarget(r,s,c){Object.keys(s).forEach(h=>{this._setToTarget(r,h,s[h],c)})}}function Wh(f){return rw(f,_x)}function _x(f){return An(f)?f:void 0}function kr(f){return!(!f||!f[Symbol.iterator])}class nr extends Ft{constructor(r={},s={}){super();const c=kr(r);if(c||(s=r),this._items=[],this._itemMap=new Map,this._idProperty=s.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],c)for(const h of r)this._items.push(h),this._itemMap.set(this._getItemIdBeforeAdding(h),h)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(r,s){return this.addMany([r],s)}addMany(r,s){if(void 0===s)s=this._items.length;else if(s>this._items.length||s<0)throw new U("collection-add-item-invalid-index",this);let c=0;for(const h of r){const v=this._getItemIdBeforeAdding(h),y=s+c;this._items.splice(y,0,h),this._itemMap.set(v,h),this.fire("add",h,y),c++}return this.fire("change",{added:r,removed:[],index:s}),this}get(r){let s;if("string"==typeof r)s=this._itemMap.get(r);else{if("number"!=typeof r)throw new U("collection-get-invalid-arg",this);s=this._items[r]}return s||null}has(r){if("string"==typeof r)return this._itemMap.has(r);{const s=r[this._idProperty];return s&&this._itemMap.has(s)}}getIndex(r){let s;return s="string"==typeof r?this._itemMap.get(r):r,s?this._items.indexOf(s):-1}remove(r){const[s,c]=this._remove(r);return this.fire("change",{added:[],removed:[s],index:c}),s}map(r,s){return this._items.map(r,s)}find(r,s){return this._items.find(r,s)}filter(r,s){return this._items.filter(r,s)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const r=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:r,index:0})}bindTo(r){if(this._bindToCollection)throw new U("collection-bind-to-rebind",this);return this._bindToCollection=r,{as:s=>{this._setUpBindToBinding(c=>new s(c))},using:s=>{this._setUpBindToBinding("function"==typeof s?s:c=>c[s])}}}_setUpBindToBinding(r){const s=this._bindToCollection,c=(h,v,y)=>{const _=s._bindToCollection==this,A=s._bindToInternalToExternalMap.get(v);if(_&&A)this._bindToExternalToInternalMap.set(v,A),this._bindToInternalToExternalMap.set(A,v);else{const S=r(v);if(!S)return void this._skippedIndexesFromExternal.push(y);let D=y;for(const E of this._skippedIndexesFromExternal)y>E&&D--;for(const E of s._skippedIndexesFromExternal)D>=E&&D++;this._bindToExternalToInternalMap.set(v,S),this._bindToInternalToExternalMap.set(S,v),this.add(S,D);for(let E=0;E<s._skippedIndexesFromExternal.length;E++)D<=s._skippedIndexesFromExternal[E]&&s._skippedIndexesFromExternal[E]++}};for(const h of s)c(0,h,s.getIndex(h));this.listenTo(s,"add",c),this.listenTo(s,"remove",(h,v,y)=>{const _=this._bindToExternalToInternalMap.get(v);_&&this.remove(_),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((A,S)=>(y<S&&A.push(S-1),y>S&&A.push(S),A),[])})}_getItemIdBeforeAdding(r){const s=this._idProperty;let c;if(s in r){if(c=r[s],"string"!=typeof c)throw new U("collection-add-invalid-id",this);if(this.get(c))throw new U("collection-add-item-already-exists",this)}else r[s]=c=ot();return c}_remove(r){let s,c,h,v=!1;const y=this._idProperty;if("string"==typeof r?(c=r,h=this._itemMap.get(c),v=!h,h&&(s=this._items.indexOf(h))):"number"==typeof r?(s=r,h=this._items[s],v=!h,h&&(c=h[y])):(h=r,c=h[y],s=this._items.indexOf(h),v=-1==s||!this._itemMap.get(c)),v)throw new U("collection-remove-404",this);this._items.splice(s,1),this._itemMap.delete(c);const _=this._bindToInternalToExternalMap.get(h);return this._bindToInternalToExternalMap.delete(h),this._bindToExternalToInternalMap.delete(_),this.fire("remove",h,s),[h,s]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}class Yh extends Ft{constructor(r,s=[],c=[]){super(),this._context=r,this._plugins=new Map,this._availablePlugins=new Map;for(const h of s)h.pluginName&&this._availablePlugins.set(h.pluginName,h);this._contextPlugins=new Map;for(const[h,v]of c)this._contextPlugins.set(h,v),this._contextPlugins.set(v,h),h.pluginName&&this._availablePlugins.set(h.pluginName,h)}*[Symbol.iterator](){for(const r of this._plugins)"function"==typeof r[0]&&(yield r)}get(r){const s=this._plugins.get(r);if(!s){let c=r;throw"function"==typeof r&&(c=r.pluginName||r.name),new U("plugincollection-plugin-not-loaded",this._context,{plugin:c})}return s}has(r){return this._plugins.has(r)}init(r,s=[],c=[]){const h=this,v=this._context;(function G(W,$=new Set){W.forEach(X=>{A(X)&&($.has(X)||($.add(X),X.pluginName&&!h._availablePlugins.has(X.pluginName)&&h._availablePlugins.set(X.pluginName,X),X.requires&&G(X.requires,$)))})})(r),P(r);const y=[...function G(W,$=new Set){return W.map(X=>A(X)?X:h._availablePlugins.get(X)).reduce((X,et)=>$.has(et)?X:($.add(et),et.requires&&(P(et.requires,et),G(et.requires,$).forEach(ct=>X.add(ct))),X.add(et)),new Set)}(r.filter(G=>!D(G,s)))];!function(G,W){for(const $ of W){if("function"!=typeof $)throw new U("plugincollection-replace-plugin-invalid-type",null,{pluginItem:$});const X=$.pluginName;if(!X)throw new U("plugincollection-replace-plugin-missing-name",null,{pluginItem:$});if($.requires&&$.requires.length)throw new U("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:X});const et=h._availablePlugins.get(X);if(!et)throw new U("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:X});const ct=G.indexOf(et);if(-1===ct){if(h._contextPlugins.has(et))return;throw new U("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:X})}if(et.requires&&et.requires.length)throw new U("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:X});G.splice(ct,1,$),h._availablePlugins.set(X,$)}}(y,c);const _=y.map(W=>{let $=h._contextPlugins.get(W);return $=$||new W(v),h._add(W,$),$});return z(_,"init").then(()=>z(_,"afterInit")).then(()=>_);function A(G){return"function"==typeof G}function S(G){return A(G)&&G.isContextPlugin}function D(G,W){return W.some($=>$===G||E(G)===$||E($)===G)}function E(G){return A(G)?G.pluginName||G.name:G}function P(G,W=null){G.map($=>A($)?$:h._availablePlugins.get($)||$).forEach($=>{(function(X,et){if(!A(X))throw et?new U("plugincollection-soft-required",v,{missingPlugin:X,requiredBy:E(et)}):new U("plugincollection-plugin-not-found",v,{plugin:X})})($,W),function(X,et){if(S(et)&&!S(X))throw new U("plugincollection-context-required",v,{plugin:E(X),requiredBy:E(et)})}($,W),function(X,et){if(et&&D(X,s))throw new U("plugincollection-required",v,{plugin:E(X),requiredBy:E(et)})}($,W)})}function z(G,W){return G.reduce(($,X)=>X[W]?h._contextPlugins.has(X)?$:$.then(X[W].bind(X)):$,Promise.resolve())}}destroy(){const r=[];for(const[,s]of this)"function"!=typeof s.destroy||this._contextPlugins.has(s)||r.push(s.destroy());return Promise.all(r)}_add(r,s){this._plugins.set(r,s);const c=r.pluginName;if(c){if(this._plugins.has(c))throw new U("plugincollection-plugin-name-conflict",null,{pluginName:c,plugin1:this._plugins.get(c).constructor,plugin2:r});this._plugins.set(c,s)}}}function Ge(f){return Array.isArray(f)?f:[f]}let fv;try{fv={window,document}}catch{fv={window:{},document:{}}}const Yt=fv;Yt.window.CKEDITOR_TRANSLATIONS||(Yt.window.CKEDITOR_TRANSLATIONS={});const Wo=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function pv(f){return Wo.includes(f)?"rtl":"ltr"}class Ax{constructor(r={}){this.uiLanguage=r.uiLanguage||"en",this.contentLanguage=r.contentLanguage||this.uiLanguage,this.uiLanguageDirection=pv(this.uiLanguage),this.contentLanguageDirection=pv(this.contentLanguage),this.t=(s,c)=>this._t(s,c)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(r,s=[]){return s=Ge(s),"string"==typeof r&&(r={string:r}),h=function(f,r,s=1){if("number"!=typeof s)throw new U("translation-service-quantity-not-a-number",null,{quantity:s});const c=Object.keys(Yt.window.CKEDITOR_TRANSLATIONS).length;1===c&&(f=Object.keys(Yt.window.CKEDITOR_TRANSLATIONS)[0]);const h=r.id||r.string;if(0===c||(!Yt.window.CKEDITOR_TRANSLATIONS[A=f]||!Yt.window.CKEDITOR_TRANSLATIONS[A].dictionary[h]))return 1!==s?r.plural:r.string;var A;const y=Yt.window.CKEDITOR_TRANSLATIONS[f].getPluralForm||(A=>1===A?0:1),_=Yt.window.CKEDITOR_TRANSLATIONS[f].dictionary[h];return"string"==typeof _?_:_[Number(y(s))]}(this.uiLanguage,r,r.plural?s[0]:1),v=s,h.replace(/%(\d+)/g,(y,_)=>_<v.length?v[_]:y);var h,v}}class ow{constructor(r){this.config=new iw(r,this.constructor.defaultConfig);const s=this.constructor.builtinPlugins;this.config.define("plugins",s),this.plugins=new Yh(this,s);const c=this.config.get("language")||{};this.locale=new Ax({uiLanguage:"string"==typeof c?c:c.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new nr,this._contextOwner=null}initPlugins(){const r=this.config.get("plugins")||[],s=this.config.get("substitutePlugins")||[];for(const c of r.concat(s)){if("function"!=typeof c)throw new U("context-initplugins-constructor-only",null,{Plugin:c});if(!0!==c.isContextPlugin)throw new U("context-initplugins-invalid-plugin",null,{Plugin:c})}return this.plugins.init(r,[],s)}destroy(){return Promise.all(Array.from(this.editors,r=>r.destroy())).then(()=>this.plugins.destroy())}_addEditor(r,s){if(this._contextOwner)throw new U("context-addeditor-private-context");this.editors.add(r),s&&(this._contextOwner=r)}_removeEditor(r){return this.editors.has(r)&&this.editors.remove(r),this._contextOwner===r?this.destroy():Promise.resolve()}_getEditorConfig(){const r={};for(const s of this.config.names())["plugins","removePlugins","extraPlugins"].includes(s)||(r[s]=this.config.get(s));return r}static create(r){return new Promise(s=>{const c=new this(r);s(c.initPlugins().then(()=>c))})}}class qh extends hn{constructor(r){super(),this.context=r}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class Yo{is(){throw new Error("is() method is abstract")}}function Ke(f,r){const s=Math.min(f.length,r.length);for(let c=0;c<s;c++)if(f[c]!=r[c])return c;return f.length==r.length?"same":f.length<r.length?"prefix":"extension"}const Lu=function(f){return hv(f,4)};class qo extends(_r(Yo)){constructor(r){super(),this.document=r,this.parent=null}get index(){let r;if(!this.parent)return null;if(-1==(r=this.parent.getChildIndex(this)))throw new U("view-node-not-found-in-parent",this);return r}get nextSibling(){const r=this.index;return null!==r&&this.parent.getChild(r+1)||null}get previousSibling(){const r=this.index;return null!==r&&this.parent.getChild(r-1)||null}get root(){let r=this;for(;r.parent;)r=r.parent;return r}isAttached(){return this.root.is("rootElement")}getPath(){const r=[];let s=this;for(;s.parent;)r.unshift(s.index),s=s.parent;return r}getAncestors(r={}){const s=[];let c=r.includeSelf?this:this.parent;for(;c;)s[r.parentFirst?"push":"unshift"](c),c=c.parent;return s}getCommonAncestor(r,s={}){const c=this.getAncestors(s),h=r.getAncestors(s);let v=0;for(;c[v]==h[v]&&c[v];)v++;return 0===v?null:c[v-1]}isBefore(r){if(this==r||this.root!==r.root)return!1;const s=this.getPath(),c=r.getPath(),h=Ke(s,c);switch(h){case"prefix":return!0;case"extension":return!1;default:return s[h]<c[h]}}isAfter(r){return this!=r&&this.root===r.root&&!this.isBefore(r)}_remove(){this.parent._removeChildren(this.index)}_fireChange(r,s){this.fire(`change:${r}`,s),this.parent&&this.parent._fireChange(r,s)}toJSON(){const r=Lu(this);return delete r.parent,r}}qo.prototype.is=function(f){return"node"===f||"view:node"===f};class Te extends qo{constructor(r,s){super(r),this._textData=s}get data(){return this._textData}get _data(){return this.data}set _data(r){this._fireChange("text",this),this._textData=r}isSimilar(r){return r instanceof Te&&(this===r||this.data===r.data)}_clone(){return new Te(this.document,this.data)}}Te.prototype.is=function(f){return"$text"===f||"view:$text"===f||"text"===f||"view:text"===f||"node"===f||"view:node"===f};class jn extends Yo{constructor(r,s,c){if(super(),this.textNode=r,s<0||s>r.data.length)throw new U("view-textproxy-wrong-offsetintext",this);if(c<0||s+c>r.data.length)throw new U("view-textproxy-wrong-length",this);this.data=r.data.substring(s,s+c),this.offsetInText=s}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(r={}){const s=[];let c=r.includeSelf?this.textNode:this.parent;for(;null!==c;)s[r.parentFirst?"push":"unshift"](c),c=c.parent;return s}}function fr(f){return kr(f)?new Map(f):function(r){const s=new Map;for(const c in r)s.set(c,r[c]);return s}(f)}jn.prototype.is=function(f){return"$textProxy"===f||"view:$textProxy"===f||"textProxy"===f||"view:textProxy"===f};class Ti{constructor(...r){this._patterns=[],this.add(...r)}add(...r){for(let s of r)("string"==typeof s||s instanceof RegExp)&&(s={name:s}),this._patterns.push(s)}match(...r){for(const s of r)for(const c of this._patterns){const h=Cs(s,c);if(h)return{element:s,pattern:c,match:h}}return null}matchAll(...r){const s=[];for(const c of r)for(const h of this._patterns){const v=Cs(c,h);v&&s.push({element:c,pattern:h,match:v})}return s.length>0?s:null}getElementName(){if(1!==this._patterns.length)return null;const r=this._patterns[0],s=r.name;return"function"==typeof r||!s||s instanceof RegExp?null:s}}function Cs(f,r){if("function"==typeof r)return r(f);const s={};return r.name&&(s.name=(h=f.name,(c=r.name)instanceof RegExp?!!h.match(c):c===h),!s.name)||r.attributes&&(s.attributes=function(c,h){const v=new Set(h.getAttributeKeys());return Or(c)?(void 0!==c.style&&it("matcher-pattern-deprecated-attributes-style-key",c),void 0!==c.class&&it("matcher-pattern-deprecated-attributes-class-key",c)):(v.delete("style"),v.delete("class")),gv(c,v,y=>h.getAttribute(y))}(r.attributes,f),!s.attributes)||r.classes&&(s.classes=function(c,h){return gv(c,h.getClassNames(),()=>{})}(r.classes,f),!s.classes)||r.styles&&(s.styles=function(c,h){return gv(c,h.getStyleNames(!0),v=>h.getStyle(v))}(r.styles,f),!s.styles)?null:s;var c,h}function gv(f,r,s){const c=(y=f,Array.isArray(y)?y.map(_=>Or(_)?(void 0!==_.key&&void 0!==_.value||it("matcher-pattern-missing-key-or-value",_),[_.key,_.value]):[_,!0]):Or(y)?Object.entries(y):[[y,!0]]),h=Array.from(r),v=[];var y;if(c.forEach(([y,_])=>{h.forEach(A=>{var S,D;D=A,(!0===(S=y)||S===D||S instanceof RegExp&&D.match(S))&&function(S,D,E){if(!0===S)return!0;const P=E(D);return S===P||S instanceof RegExp&&!!String(P).match(S)}(_,A,s)&&v.push(A)})}),c.length&&!(v.length<c.length))return v}const Zh=function(f){return"symbol"==typeof f||Ci(f)&&"[object Symbol]"==je(f)};var Zt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$h=/^\w*$/;function Zo(f,r){if("function"!=typeof f||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var s=function(){var c=arguments,h=r?r.apply(this,c):c[0],v=s.cache;if(v.has(h))return v.get(h);var y=f.apply(this,c);return s.cache=v.set(h,y)||v,y};return s.cache=new(Zo.Cache||Jg),s}Zo.Cache=Jg;var r,s,Ss=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ts=/\\(\\)?/g,Pu=(r=Zo(function(f){var r=[];return 46===f.charCodeAt(0)&&r.push(""),f.replace(Ss,function(s,c,h,v){r.push(h?v.replace(Ts,"$1"):c||s)}),r},function(c){return 500===s.size&&s.clear(),c}),s=r.cache,r);const Ru=Pu;var $t=fo?fo.prototype:void 0,vv=$t?$t.toString:void 0;const xx=function f(r){if("string"==typeof r)return r;if(Pt(r))return function(f,r){for(var s=-1,c=null==f?0:f.length,h=Array(c);++s<c;)h[s]=r(f[s],s,f);return h}(r,f)+"";if(Zh(r))return vv?vv.call(r):"";var s=r+"";return"0"==s&&1/r==-1/0?"-0":s},mv=function(f){return null==f?"":xx(f)},yv=function(f,r){return Pt(f)?f:function(f,r){if(Pt(f))return!1;var s=typeof f;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=f&&!Zh(f))||$h.test(f)||!Zt.test(f)||null!=r&&f in Object(r)}(f,r)?[f]:Ru(mv(f))},bv=function(f){if("string"==typeof f||Zh(f))return f;var r=f+"";return"0"==r&&1/f==-1/0?"-0":r},Xh=function(f,r){for(var s=0,c=(r=yv(r,f)).length;null!=f&&s<c;)f=f[bv(r[s++])];return s&&s==c?f:void 0},wv=function(f,r,s){var c=-1,h=f.length;r<0&&(r=-r>h?0:h+r),(s=s>h?h:s)<0&&(s+=h),h=r>s?0:s-r>>>0,r>>>=0;for(var v=Array(h);++c<h;)v[c]=f[c+r];return v},Qh=function(f,r,s){var c=null==f?void 0:Xh(f,r);return void 0===c?s:c},Jh=function(f,r,s){(void 0!==s&&!Su(f[r],s)||void 0===s&&!(r in f))&&tv(f,r,s)},_v=function(f,r){if(("constructor"!==r||"function"!=typeof f[r])&&"__proto__"!=r)return f[r]},uw=function f(r,s,c,h,v){r!==s&&function(r,s,c){for(var h=-1,v=Object(r),y=c(r),_=y.length;_--;){var A=y[++h];if(!1===s(v[A],A,v))break}}(s,function(y,_){if(v||(v=new po),Pe(y))!function(f,r,s,c,h,v,y){var _=_v(f,s),A=_v(r,s),S=y.get(A);if(S)Jh(f,s,S);else{var D=v?v(_,A,s+"",f,r,y):void 0,E=void 0===D;if(E){var P=Pt(A),z=!P&&qt(A),G=!P&&!z&&Gt(A);D=A,P||z||G?Pt(_)?D=_:function(f){return Ci(f)&&dr(f)}(_)?D=ov(_):z?(E=!1,D=Si(A,!0)):G?(E=!1,D=As(A,!0)):D=[]:Or(A)||Lt(A)?(D=_,Lt(_)?D=function(f){return ws(f,pn(f))}(_):Pe(_)&&!xh(_)||(D=di(A))):E=!1}E&&(y.set(A,D),h(D,A,c,v,y),y.delete(A)),Jh(f,s,D)}}(r,s,_,c,f,h,v);else{var A=h?h(_v(r,_),y,_+"",r,s,v):void 0;void 0===A&&(A=y),Jh(r,_,A)}},pn)},$o=function(f){return f},kv=function(f,r,s){switch(s.length){case 0:return f.call(r);case 1:return f.call(r,s[0]);case 2:return f.call(r,s[0],s[1]);case 3:return f.call(r,s[0],s[1],s[2])}return f.apply(r,s)};var dw=Math.max;const hi=function(f){return function(){return f}},zu=Eh?function(f,r){return Eh(f,"toString",{configurable:!0,enumerable:!1,value:hi(r),writable:!0})}:$o;var Ul=Date.now;const Av=function(f){var r=0,s=0;return function(){var c=Ul(),h=16-(c-s);if(s=c,h>0){if(++r>=800)return arguments[0]}else r=0;return f.apply(void 0,arguments)}}(zu),fw=function(f){return function(f,r){return Av(function(f,r,s){return r=dw(void 0===r?f.length-1:r,0),function(){for(var c=arguments,h=-1,v=dw(c.length-r,0),y=Array(v);++h<v;)y[h]=c[r+h];h=-1;for(var _=Array(r+1);++h<r;)_[h]=c[h];return _[r]=s(y),kv(f,this,_)}}(f,r,$o),f+"")}(function(r,s){var c=-1,h=s.length,v=h>1?s[h-1]:void 0,y=h>2?s[2]:void 0;for(v=f.length>3&&"function"==typeof v?(h--,v):void 0,y&&function(f,r,s){if(!Pe(s))return!1;var c=typeof r;return!!("number"==c?dr(s)&&fn(r,s.length):"string"==c&&r in s)&&Su(s[r],f)}(s[0],s[1],y)&&(v=h<3?void 0:v,h=1),r=Object(r);++c<h;){var _=s[c];_&&f(r,_,c,v)}return r})},Cv=fw(function(f,r,s){uw(f,r,s)});class pw{constructor(r){this._styles={},this._styleProcessor=r}get isEmpty(){const r=Object.entries(this._styles);return!Array.from(r).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(r){this.clear();const s=Array.from(function(c){let h=null,v=0,y=0,_=null;const A=new Map;if(""===c)return A;";"!=c.charAt(c.length-1)&&(c+=";");for(let S=0;S<c.length;S++){const D=c.charAt(S);if(null===h)switch(D){case":":_||(_=c.substr(v,S-v),y=S+1);break;case'"':case"'":h=D;break;case";":{const E=c.substr(y,S-y);_&&A.set(_.trim(),E.trim()),_=null,v=S+1;break}}else D===h&&(h=null)}return A}(r).entries());for(const[c,h]of s)this._styleProcessor.toNormalizedForm(c,h,this._styles)}has(r){if(this.isEmpty)return!1;const s=this._styleProcessor.getReducedForm(r,this._styles).find(([c])=>c===r);return Array.isArray(s)}set(r,s){if(Pe(r))for(const[c,h]of Object.entries(r))this._styleProcessor.toNormalizedForm(c,h,this._styles);else this._styleProcessor.toNormalizedForm(r,s,this._styles)}remove(r){const s=vo(r);(function(f,r){null==f||function(f,r){null==(f=function(f,r){return r.length<2?f:Xh(f,wv(r,0,-1))}(f,r=yv(r,f)))||delete f[bv(function(f){var r=null==f?0:f.length;return r?f[r-1]:void 0}(r))]}(f,r)})(this._styles,s),delete this._styles[r],this._cleanEmptyObjectsOnPath(s)}getNormalized(r){return this._styleProcessor.getNormalized(r,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(r=>r.join(":")).sort().join(";")+";"}getAsString(r){if(this.isEmpty)return;if(this._styles[r]&&!Pe(this._styles[r]))return this._styles[r];const s=this._styleProcessor.getReducedForm(r,this._styles).find(([c])=>c===r);return Array.isArray(s)?s[1]:void 0}getStyleNames(r=!1){return this.isEmpty?[]:r?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([s])=>s)}clear(){this._styles={}}_getStylesEntries(){const r=[],s=Object.keys(this._styles);for(const c of s)r.push(...this._styleProcessor.getReducedForm(c,this._styles));return r}_cleanEmptyObjectsOnPath(r){const s=r.split(".");if(!(s.length>1))return;const c=s.splice(0,s.length-1).join("."),h=Qh(this._styles,c);!h||!Array.from(Object.keys(h)).length&&this.remove(c)}}class nf{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(r,s,c){if(Pe(s))Wl(c,vo(r),s);else if(this._normalizers.has(r)){const h=this._normalizers.get(r),{path:v,value:y}=h(s);Wl(c,v,y)}else Wl(c,r,s)}getNormalized(r,s){if(!r)return Cv({},s);if(void 0!==s[r])return s[r];if(this._extractors.has(r)){const c=this._extractors.get(r);if("string"==typeof c)return Qh(s,c);const h=c(r,s);if(h)return h}return Qh(s,vo(r))}getReducedForm(r,s){const c=this.getNormalized(r,s);return void 0===c?[]:this._reducers.has(r)?this._reducers.get(r)(c):[[r,c]]}getStyleNames(r){const s=Array.from(this._consumables.keys()).filter(h=>{const v=this.getNormalized(h,r);return v&&"object"==typeof v?Object.keys(v).length:v}),c=new Set([...s,...Object.keys(r)]);return Array.from(c.values())}getRelatedStyles(r){return this._consumables.get(r)||[]}setNormalizer(r,s){this._normalizers.set(r,s)}setExtractor(r,s){this._extractors.set(r,s)}setReducer(r,s){this._reducers.set(r,s)}setStyleRelation(r,s){this._mapStyleNames(r,s);for(const c of s)this._mapStyleNames(c,[r])}_mapStyleNames(r,s){this._consumables.has(r)||this._consumables.set(r,[]),this._consumables.get(r).push(...s)}}function vo(f){return f.replace("-",".")}function Wl(f,r,s){let c=s;Pe(s)&&(c=Cv({},Qh(f,r),s)),function(f,r,s){null==f||function(f,r,s,c){if(!Pe(f))return f;for(var h=-1,v=(r=yv(r,f)).length,y=v-1,_=f;null!=_&&++h<v;){var A=bv(r[h]),S=s;if("__proto__"===A||"constructor"===A||"prototype"===A)return f;if(h!=y){var D=_[A];void 0===(S=void 0)&&(S=Pe(D)?D:fn(r[h+1])?[]:{})}nv(_,A,S),_=_[A]}}(f,r,s)}(f,r,c)}class Vr extends qo{constructor(r,s,c,h){if(super(r),this.name=s,this._attrs=function(v){const y=fr(v);for(const[_,A]of y)null===A?y.delete(_):"string"!=typeof A&&y.set(_,String(A));return y}(c),this._children=[],h&&this._insertChild(0,h),this._classes=new Set,this._attrs.has("class")){const v=this._attrs.get("class");Sv(this._classes,v),this._attrs.delete("class")}this._styles=new pw(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map,this._unsafeAttributesToRender=[]}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}getChild(r){return this._children[r]}getChildIndex(r){return this._children.indexOf(r)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(r){if("class"==r)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==r){const s=this._styles.toString();return""==s?void 0:s}return this._attrs.get(r)}hasAttribute(r){return"class"==r?this._classes.size>0:"style"==r?!this._styles.isEmpty:this._attrs.has(r)}isSimilar(r){if(!(r instanceof Vr))return!1;if(this===r)return!0;if(this.name!=r.name||this._attrs.size!==r._attrs.size||this._classes.size!==r._classes.size||this._styles.size!==r._styles.size)return!1;for(const[s,c]of this._attrs)if(!r._attrs.has(s)||r._attrs.get(s)!==c)return!1;for(const s of this._classes)if(!r._classes.has(s))return!1;for(const s of this._styles.getStyleNames())if(!r._styles.has(s)||r._styles.getAsString(s)!==this._styles.getAsString(s))return!1;return!0}hasClass(...r){for(const s of r)if(!this._classes.has(s))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(r){return this._styles.getAsString(r)}getNormalizedStyle(r){return this._styles.getNormalized(r)}getStyleNames(r){return this._styles.getStyleNames(r)}hasStyle(...r){for(const s of r)if(!this._styles.has(s))return!1;return!0}findAncestor(...r){const s=new Ti(...r);let c=this.parent;for(;c&&!c.is("documentFragment");){if(s.match(c))return c;c=c.parent}return null}getCustomProperty(r){return this._customProperties.get(r)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const r=Array.from(this._classes).sort().join(","),s=this._styles.toString(),c=Array.from(this._attrs).map(h=>`${h[0]}="${h[1]}"`).sort().join(" ");return this.name+(""==r?"":` class="${r}"`)+(s?` style="${s}"`:"")+(""==c?"":` ${c}`)}shouldRenderUnsafeAttribute(r){return this._unsafeAttributesToRender.includes(r)}_clone(r=!1){const s=[];if(r)for(const h of this.getChildren())s.push(h._clone(r));const c=new this.constructor(this.document,this.name,this._attrs,s);return c._classes=new Set(this._classes),c._styles.set(this._styles.getNormalized()),c._customProperties=new Map(this._customProperties),c.getFillerOffset=this.getFillerOffset,c._unsafeAttributesToRender=this._unsafeAttributesToRender,c}_appendChild(r){return this._insertChild(this.childCount,r)}_insertChild(r,s){this._fireChange("children",this);let c=0;const h=(v=this.document,"string"==typeof(y=s)?[new Te(v,y)]:(kr(y)||(y=[y]),Array.from(y).map(_=>"string"==typeof _?new Te(v,_):_ instanceof jn?new Te(v,_.data):_)));var v,y;for(const v of h)null!==v.parent&&v._remove(),v.parent=this,v.document=this.document,this._children.splice(r,0,v),r++,c++;return c}_removeChildren(r,s=1){this._fireChange("children",this);for(let c=r;c<r+s;c++)this._children[c].parent=null;return this._children.splice(r,s)}_setAttribute(r,s){s=String(s),this._fireChange("attributes",this),"class"==r?Sv(this._classes,s):"style"==r?this._styles.setTo(s):this._attrs.set(r,s)}_removeAttribute(r){return this._fireChange("attributes",this),"class"==r?this._classes.size>0&&(this._classes.clear(),!0):"style"==r?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(r)}_addClass(r){this._fireChange("attributes",this);for(const s of Ge(r))this._classes.add(s)}_removeClass(r){this._fireChange("attributes",this);for(const s of Ge(r))this._classes.delete(s)}_setStyle(r,s){this._fireChange("attributes",this),Or(r)?this._styles.set(r):this._styles.set(r,s)}_removeStyle(r){this._fireChange("attributes",this);for(const s of Ge(r))this._styles.remove(s)}_setCustomProperty(r,s){this._customProperties.set(r,s)}_removeCustomProperty(r){return this._customProperties.delete(r)}}function Sv(f,r){const s=r.split(/\s+/);f.clear(),s.forEach(c=>f.add(c))}Vr.prototype.is=function(f,r){return r?r===this.name&&("element"===f||"view:element"===f):"element"===f||"view:element"===f||"node"===f||"view:node"===f};class Ia extends Vr{constructor(...r){super(...r),this.getFillerOffset=ji}}function ji(){const f=[...this.getChildren()],r=f[this.childCount-1];if(r&&r.is("element","br"))return this.childCount;for(const s of f)if(!s.is("uiElement"))return null;return this.childCount}Ia.prototype.is=function(f,r){return r?r===this.name&&("containerElement"===f||"view:containerElement"===f||"element"===f||"view:element"===f):"containerElement"===f||"view:containerElement"===f||"element"===f||"view:element"===f||"node"===f||"view:node"===f};class Ar extends(Cu(Ia)){constructor(...r){super(...r);const s=r[0];this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(s),this.bind("isFocused").to(s,"isFocused",c=>c&&s.selection.editableElement==this),this.listenTo(s.selection,"change",()=>{this.isFocused=s.isFocused&&s.selection.editableElement==this})}destroy(){this.stopListening()}}Ar.prototype.is=function(f,r){return r?r===this.name&&("editableElement"===f||"view:editableElement"===f||"containerElement"===f||"view:containerElement"===f||"element"===f||"view:element"===f):"editableElement"===f||"view:editableElement"===f||"containerElement"===f||"view:containerElement"===f||"element"===f||"view:element"===f||"node"===f||"view:node"===f};const Ds=Symbol("rootName");class Ko extends Ar{constructor(r,s){super(r,s),this.rootName="main"}get rootName(){return this.getCustomProperty(Ds)}set rootName(r){this._setCustomProperty(Ds,r)}set _name(r){this.name=r}}Ko.prototype.is=function(f,r){return r?r===this.name&&("rootElement"===f||"view:rootElement"===f||"editableElement"===f||"view:editableElement"===f||"containerElement"===f||"view:containerElement"===f||"element"===f||"view:element"===f):"rootElement"===f||"view:rootElement"===f||"editableElement"===f||"view:editableElement"===f||"containerElement"===f||"view:containerElement"===f||"element"===f||"view:element"===f||"node"===f||"view:node"===f};class Ea{constructor(r={}){if(!r.boundaries&&!r.startPosition)throw new U("view-tree-walker-no-start-position",null);if(r.direction&&"forward"!=r.direction&&"backward"!=r.direction)throw new U("view-tree-walker-unknown-direction",r.startPosition,{direction:r.direction});this.boundaries=r.boundaries||null,this.position=wt._createAt(r.startPosition?r.startPosition:r.boundaries["backward"==r.direction?"end":"start"]),this.direction=r.direction||"forward",this.singleCharacters=!!r.singleCharacters,this.shallow=!!r.shallow,this.ignoreElementEnd=!!r.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(r){let s,c,h;do{h=this.position,({done:s,value:c}=this.next())}while(!s&&r(c));s||(this.position=h)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let r=this.position.clone();const s=this.position,c=r.parent;if(null===c.parent&&r.offset===c.childCount)return{done:!0,value:void 0};if(c===this._boundaryEndParent&&r.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let h;if(c instanceof Te){if(r.isAtEnd)return this.position=wt._createAfter(c),this._next();h=c.data[r.offset]}else h=c.getChild(r.offset);if(h instanceof Vr)return this.shallow?r.offset++:r=new wt(h,0),this.position=r,this._formatReturnValue("elementStart",h,s,r,1);if(h instanceof Te){if(this.singleCharacters)return r=new wt(h,0),this.position=r,this._next();{let v,y=h.data.length;return h==this._boundaryEndParent?(y=this.boundaries.end.offset,v=new jn(h,0,y),r=wt._createAfter(v)):(v=new jn(h,0,h.data.length),r.offset++),this.position=r,this._formatReturnValue("text",v,s,r,y)}}if("string"==typeof h){let v;v=this.singleCharacters?1:(c===this._boundaryEndParent?this.boundaries.end.offset:c.data.length)-r.offset;const y=new jn(c,r.offset,v);return r.offset+=v,this.position=r,this._formatReturnValue("text",y,s,r,v)}return r=wt._createAfter(c),this.position=r,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",c,s,r)}_previous(){let r=this.position.clone();const s=this.position,c=r.parent;if(null===c.parent&&0===r.offset)return{done:!0,value:void 0};if(c==this._boundaryStartParent&&r.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let h;if(c instanceof Te){if(r.isAtStart)return this.position=wt._createBefore(c),this._previous();h=c.data[r.offset-1]}else h=c.getChild(r.offset-1);if(h instanceof Vr)return this.shallow?(r.offset--,this.position=r,this._formatReturnValue("elementStart",h,s,r,1)):(r=new wt(h,h.childCount),this.position=r,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",h,s,r));if(h instanceof Te){if(this.singleCharacters)return r=new wt(h,h.data.length),this.position=r,this._previous();{let v,y=h.data.length;if(h==this._boundaryStartParent){const _=this.boundaries.start.offset;v=new jn(h,_,h.data.length-_),y=v.data.length,r=wt._createBefore(v)}else v=new jn(h,0,h.data.length),r.offset--;return this.position=r,this._formatReturnValue("text",v,s,r,y)}}if("string"==typeof h){let v;v=this.singleCharacters?1:r.offset-(c===this._boundaryStartParent?this.boundaries.start.offset:0),r.offset-=v;const y=new jn(c,r.offset,v);return this.position=r,this._formatReturnValue("text",y,s,r,v)}return r=wt._createBefore(c),this.position=r,this._formatReturnValue("elementStart",c,s,r,1)}_formatReturnValue(r,s,c,h,v){return s instanceof jn&&(s.offsetInText+s.data.length==s.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?c=wt._createAfter(s.textNode):(h=wt._createAfter(s.textNode),this.position=h)),0===s.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?c=wt._createBefore(s.textNode):(h=wt._createBefore(s.textNode),this.position=h))),{done:!1,value:{type:r,item:s,previousPosition:c,nextPosition:h,length:v}}}}class wt extends Yo{constructor(r,s){super(),this.parent=r,this.offset=s}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const r=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===r}get root(){return this.parent.root}get editableElement(){let r=this.parent;for(;!(r instanceof Ar);){if(!r.parent)return null;r=r.parent}return r}getShiftedBy(r){const s=wt._createAt(this),c=s.offset+r;return s.offset=c<0?0:c,s}getLastMatchingPosition(r,s={}){s.startPosition=this;const c=new Ea(s);return c.skip(r),c.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(r){const s=this.getAncestors(),c=r.getAncestors();let h=0;for(;s[h]==c[h]&&s[h];)h++;return 0===h?null:s[h-1]}isEqual(r){return this.parent==r.parent&&this.offset==r.offset}isBefore(r){return"before"==this.compareWith(r)}isAfter(r){return"after"==this.compareWith(r)}compareWith(r){if(this.root!==r.root)return"different";if(this.isEqual(r))return"same";const s=this.parent.is("node")?this.parent.getPath():[],c=r.parent.is("node")?r.parent.getPath():[];s.push(this.offset),c.push(r.offset);const h=Ke(s,c);switch(h){case"prefix":return"before";case"extension":return"after";default:return s[h]<c[h]?"before":"after"}}getWalker(r={}){return r.startPosition=this,new Ea(r)}clone(){return new wt(this.parent,this.offset)}static _createAt(r,s){if(r instanceof wt)return new this(r.parent,r.offset);{const c=r;if("end"==s)s=c.is("$text")?c.data.length:c.childCount;else{if("before"==s)return this._createBefore(c);if("after"==s)return this._createAfter(c);if(0!==s&&!s)throw new U("view-createpositionat-offset-required",c)}return new wt(c,s)}}static _createAfter(r){if(r.is("$textProxy"))return new wt(r.textNode,r.offsetInText+r.data.length);if(!r.parent)throw new U("view-position-after-root",r,{root:r});return new wt(r.parent,r.index+1)}static _createBefore(r){if(r.is("$textProxy"))return new wt(r.textNode,r.offsetInText);if(!r.parent)throw new U("view-position-before-root",r,{root:r});return new wt(r.parent,r.index)}}wt.prototype.is=function(f){return"position"===f||"view:position"===f};class te extends Yo{constructor(r,s=null){super(),this.start=r.clone(),this.end=s?s.clone():r.clone()}*[Symbol.iterator](){yield*new Ea({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let r=this.start.getLastMatchingPosition(Ms,{direction:"backward"}),s=this.end.getLastMatchingPosition(Ms);return r.parent.is("$text")&&r.isAtStart&&(r=wt._createBefore(r.parent)),s.parent.is("$text")&&s.isAtEnd&&(s=wt._createAfter(s.parent)),new te(r,s)}getTrimmed(){let r=this.start.getLastMatchingPosition(Ms);if(r.isAfter(this.end)||r.isEqual(this.end))return new te(r,r);let s=this.end.getLastMatchingPosition(Ms,{direction:"backward"});const c=r.nodeAfter,h=s.nodeBefore;return c&&c.is("$text")&&(r=new wt(c,0)),h&&h.is("$text")&&(s=new wt(h,h.data.length)),new te(r,s)}isEqual(r){return this==r||this.start.isEqual(r.start)&&this.end.isEqual(r.end)}containsPosition(r){return r.isAfter(this.start)&&r.isBefore(this.end)}containsRange(r,s=!1){r.isCollapsed&&(s=!1);const c=this.containsPosition(r.start)||s&&this.start.isEqual(r.start),h=this.containsPosition(r.end)||s&&this.end.isEqual(r.end);return c&&h}getDifference(r){const s=[];return this.isIntersecting(r)?(this.containsPosition(r.start)&&s.push(new te(this.start,r.start)),this.containsPosition(r.end)&&s.push(new te(r.end,this.end))):s.push(this.clone()),s}getIntersection(r){if(this.isIntersecting(r)){let s=this.start,c=this.end;return this.containsPosition(r.start)&&(s=r.start),this.containsPosition(r.end)&&(c=r.end),new te(s,c)}return null}getWalker(r={}){return r.boundaries=this,new Ea(r)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let r=this.start.nodeAfter,s=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(r=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(s=this.end.parent.previousSibling),r&&r.is("element")&&r===s?r:null}clone(){return new te(this.start,this.end)}*getItems(r={}){r.boundaries=this,r.ignoreElementEnd=!0;const s=new Ea(r);for(const c of s)yield c.item}*getPositions(r={}){r.boundaries=this;const s=new Ea(r);yield s.position;for(const c of s)yield c.nextPosition}isIntersecting(r){return this.start.isBefore(r.end)&&this.end.isAfter(r.start)}static _createFromParentsAndOffsets(r,s,c,h){return new this(new wt(r,s),new wt(c,h))}static _createFromPositionAndShift(r,s){const c=r,h=r.getShiftedBy(s);return s>0?new this(c,h):new this(h,c)}static _createIn(r){return this._createFromParentsAndOffsets(r,0,r,r.childCount)}static _createOn(r){const s=r.is("$textProxy")?r.offsetSize:1;return this._createFromPositionAndShift(wt._createBefore(r),s)}}function Ms(f){return!(!f.item.is("attributeElement")&&!f.item.is("uiElement"))}function rf(f){let r=0;for(const s of f)r++;return r}te.prototype.is=function(f){return"range"===f||"view:range"===f};class rr extends(_r(Yo)){constructor(...r){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",r.length&&this.setTo(...r)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const r=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?r.end:r.start).clone()}get focus(){if(!this._ranges.length)return null;const r=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?r.start:r.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const r of this._ranges)yield r.clone()}getFirstRange(){let r=null;for(const s of this._ranges)r&&!s.start.isBefore(r.start)||(r=s);return r?r.clone():null}getLastRange(){let r=null;for(const s of this._ranges)r&&!s.end.isAfter(r.end)||(r=s);return r?r.clone():null}getFirstPosition(){const r=this.getFirstRange();return r?r.start.clone():null}getLastPosition(){const r=this.getLastRange();return r?r.end.clone():null}isEqual(r){if(this.isFake!=r.isFake||this.isFake&&this.fakeSelectionLabel!=r.fakeSelectionLabel||this.rangeCount!=r.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(r.anchor)||!this.focus.isEqual(r.focus))return!1;for(const s of this._ranges){let c=!1;for(const h of r._ranges)if(s.isEqual(h)){c=!0;break}if(!c)return!1}return!0}isSimilar(r){if(this.isBackward!=r.isBackward)return!1;const s=rf(this.getRanges());if(s!=rf(r.getRanges()))return!1;if(0==s)return!0;for(let c of this.getRanges()){c=c.getTrimmed();let h=!1;for(let v of r.getRanges())if(v=v.getTrimmed(),c.start.isEqual(v.start)&&c.end.isEqual(v.end)){h=!0;break}if(!h)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(...r){let[s,c,h]=r;if("object"==typeof c&&(h=c,c=void 0),null===s)this._setRanges([]),this._setFakeOptions(h);else if(s instanceof rr||s instanceof of)this._setRanges(s.getRanges(),s.isBackward),this._setFakeOptions({fake:s.isFake,label:s.fakeSelectionLabel});else if(s instanceof te)this._setRanges([s],h&&h.backward),this._setFakeOptions(h);else if(s instanceof wt)this._setRanges([new te(s)]),this._setFakeOptions(h);else if(s instanceof qo){const v=!!h&&!!h.backward;let y;if(void 0===c)throw new U("view-selection-setto-required-second-parameter",this);y="in"==c?te._createIn(s):"on"==c?te._createOn(s):new te(wt._createAt(s,c)),this._setRanges([y],v),this._setFakeOptions(h)}else{if(!kr(s))throw new U("view-selection-setto-not-selectable",this);this._setRanges(s,h&&h.backward),this._setFakeOptions(h)}this.fire("change")}setFocus(r,s){if(null===this.anchor)throw new U("view-selection-setfocus-no-ranges",this);const c=wt._createAt(r,s);if("same"==c.compareWith(this.focus))return;const h=this.anchor;this._ranges.pop(),"before"==c.compareWith(h)?this._addRange(new te(c,h),!0):this._addRange(new te(h,c)),this.fire("change")}_setRanges(r,s=!1){r=Array.from(r),this._ranges=[];for(const c of r)this._addRange(c);this._lastRangeBackward=!!s}_setFakeOptions(r={}){this._isFake=!!r.fake,this._fakeSelectionLabel=r.fake&&r.label||""}_addRange(r,s=!1){if(!(r instanceof te))throw new U("view-selection-add-range-not-range",this);this._pushRange(r),this._lastRangeBackward=!!s}_pushRange(r){for(const s of this._ranges)if(r.isIntersecting(s))throw new U("view-selection-range-intersects",this,{addedRange:r,intersectingRange:s});this._ranges.push(new te(r.start,r.end))}}rr.prototype.is=function(f){return"selection"===f||"view:selection"===f};class of extends(_r(Yo)){constructor(...r){super(),this._selection=new rr,this._selection.delegate("change").to(this),r.length&&this._selection.setTo(...r)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(r){return this._selection.isEqual(r)}isSimilar(r){return this._selection.isSimilar(r)}_setTo(...r){this._selection.setTo(...r)}_setFocus(r,s){this._selection.setFocus(r,s)}}of.prototype.is=function(f){return"selection"===f||"documentSelection"==f||"view:selection"==f||"view:documentSelection"==f};class Yl extends ut{constructor(r,s,c){super(r,s),this.startRange=c,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Pn=Symbol("bubbling contexts");function Ou(f){return class extends f{fire(r,...s){try{const c=r instanceof ut?r:new ut(this,r),h=af(this);if(!h.size)return;if(Vu(c,"capturing",this),Is(h,"$capture",c,...s))return c.return;const v=c.startRange||this.selection.getFirstRange(),y=v?v.getContainedElement():null,_=!!y&&Boolean(ql(h,y));let A=y||function(S){if(!S)return null;const D=S.start.parent,E=S.end.parent,P=D.getPath(),z=E.getPath();return P.length>z.length?D:E}(v);if(Vu(c,"atTarget",A),!_){if(Is(h,"$text",c,...s))return c.return;Vu(c,"bubbling",A)}for(;A;){if(A.is("rootElement")){if(Is(h,"$root",c,...s))return c.return}else if(A.is("element")&&Is(h,A.name,c,...s))return c.return;if(Is(h,A,c,...s))return c.return;A=A.parent,Vu(c,"bubbling",A)}return Vu(c,"bubbling",this),Is(h,"$document",c,...s),c.return}catch(c){U.rethrowUnexpectedError(c,this)}}_addEventListener(r,s,c){const h=Ge(c.context||"$document"),v=af(this);for(const y of h){let _=v.get(y);_||(_=new Ft,v.set(y,_)),this.listenTo(_,r,s,c)}}_removeEventListener(r,s){const c=af(this);for(const h of c.values())this.stopListening(h,r,s)}}}{const f=Ou(Object);["fire","_addEventListener","_removeEventListener"].forEach(r=>{Ou[r]=f.prototype[r]})}function Vu(f,r,s){f instanceof Yl&&(f._eventPhase=r,f._currentTarget=s)}function Is(f,r,s,...c){const h="string"==typeof r?f.get(r):ql(f,r);return!!h&&(h.fire(s,...c),s.stop.called)}function ql(f,r){for(const[s,c]of f)if("function"==typeof s&&s(r))return c;return null}function af(f){return f[Pn]||(f[Pn]=new Map),f[Pn]}class sf extends(Ou(hn)){constructor(r){super(),this.selection=new of,this.roots=new nr({idProperty:"rootName"}),this.stylesProcessor=r,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(r="main"){return this.roots.get(r)}registerPostFixer(r){this._postFixers.add(r)}destroy(){this.roots.map(r=>r.destroy()),this.stopListening()}_callPostFixers(r){let s=!1;do{for(const c of this._postFixers)if(s=c(r),s)break}while(s)}}class Es extends Vr{constructor(...r){super(...r),this.getFillerOffset=Tv,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new U("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(r){return null!==this.id||null!==r.id?this.id===r.id:super.isSimilar(r)&&this.priority==r.priority}_clone(r=!1){const s=super._clone(r);return s._priority=this._priority,s._id=this._id,s}}function Tv(){if(Dv(this))return null;let f=this.parent;for(;f&&f.is("attributeElement");){if(Dv(f)>1)return null;f=f.parent}return!f||Dv(f)>1?null:this.childCount}function Dv(f){return Array.from(f.getChildren()).filter(r=>!r.is("uiElement")).length}Es.DEFAULT_PRIORITY=10,Es.prototype.is=function(f,r){return r?r===this.name&&("attributeElement"===f||"view:attributeElement"===f||"element"===f||"view:element"===f):"attributeElement"===f||"view:attributeElement"===f||"element"===f||"view:element"===f||"node"===f||"view:node"===f};class Mv extends Vr{constructor(r,s,c,h){super(r,s,c,h),this.getFillerOffset=gw}_insertChild(r,s){if(s&&(s instanceof qo||Array.from(s).length>0))throw new U("view-emptyelement-cannot-add",[this,s]);return 0}}function gw(){return null}Mv.prototype.is=function(f,r){return r?r===this.name&&("emptyElement"===f||"view:emptyElement"===f||"element"===f||"view:element"===f):"emptyElement"===f||"view:emptyElement"===f||"element"===f||"view:element"===f||"node"===f||"view:node"===f};const Ls=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}(),Ix={isMac:Iv(Ls),isWindows:function(f){return f.indexOf("windows")>-1}(Ls),isGecko:function(f){return!!f.match(/gecko\/\d+/)}(Ls),isSafari:function(f){return f.indexOf(" applewebkit/")>-1&&-1===f.indexOf("chrome")}(Ls),isiOS:function(f){return!!f.match(/iphone|ipad/i)||Iv(f)&&navigator.maxTouchPoints>0}(Ls),isAndroid:function(f){return f.indexOf("android")>-1}(Ls),isBlink:function(f){return f.indexOf("chrome/")>-1&&f.indexOf("edge/")<0}(Ls),features:{isRegExpUnicodePropertySupported:function(){let f=!1;try{f=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch{}return f}()}},me=Ix;function Iv(f){return f.indexOf("macintosh")>-1}const Gi={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21e7"},Ex={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Ce=function(){const f={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let r=65;r<=90;r++)f[String.fromCharCode(r).toLowerCase()]=r;for(let r=48;r<=57;r++)f[r-48]=r;for(let r=112;r<=123;r++)f["f"+(r-111)]=r;for(const r of"`-=[];',./\\")f[r]=r.charCodeAt(0);return f}(),Ev=Object.fromEntries(Object.entries(Ce).map(([f,r])=>[r,f.charAt(0).toUpperCase()+f.slice(1)]));function Di(f){let r;if("string"==typeof f){if(r=Ce[f.toLowerCase()],!r)throw new U("keyboard-unknown-key",null,{key:f})}else r=f.keyCode+(f.altKey?Ce.alt:0)+(f.ctrlKey?Ce.ctrl:0)+(f.shiftKey?Ce.shift:0)+(f.metaKey?Ce.cmd:0);return r}function Fu(f){return"string"==typeof f&&(f=function(r){return r.split("+").map(s=>s.trim())}(f)),f.map(r=>"string"==typeof r?function(s){if(s.endsWith("!"))return Di(s.slice(0,-1));const c=Di(s);return me.isMac&&c==Ce.ctrl?Ce.cmd:c}(r):r).reduce((r,s)=>s+r,0)}function Xo(f){let r=Fu(f);return Object.entries(me.isMac?Gi:Ex).reduce((s,[c,h])=>(0!=(r&Ce[c])&&(r&=~Ce[c],s+=h),s),"")+(r?Ev[r]:"")}function Fr(f,r){const s="ltr"===r;switch(f){case Ce.arrowleft:return s?"left":"right";case Ce.arrowright:return s?"right":"left";case Ce.arrowup:return"up";case Ce.arrowdown:return"down"}}class Zl extends Vr{constructor(...r){super(...r),this.getFillerOffset=lf}_insertChild(r,s){if(s&&(s instanceof qo||Array.from(s).length>0))throw new U("view-uielement-cannot-add",[this,s]);return 0}render(r,s){return this.toDomElement(r)}toDomElement(r){const s=r.createElement(this.name);for(const c of this.getAttributeKeys())s.setAttribute(c,this.getAttribute(c));return s}}function lf(){return null}Zl.prototype.is=function(f,r){return r?r===this.name&&("uiElement"===f||"view:uiElement"===f||"element"===f||"view:element"===f):"uiElement"===f||"view:uiElement"===f||"element"===f||"view:element"===f||"node"===f||"view:node"===f};class La extends Vr{constructor(...r){super(...r),this.getFillerOffset=Hr}_insertChild(r,s){if(s&&(s instanceof qo||Array.from(s).length>0))throw new U("view-rawelement-cannot-add",[this,s]);return 0}render(){}}function Hr(){return null}La.prototype.is=function(f,r){return r?r===this.name&&("rawElement"===f||"view:rawElement"===f||"element"===f||"view:element"===f):"rawElement"===f||"view:rawElement"===f||f===this.name||f==="view:"+this.name||"element"===f||"view:element"===f||"node"===f||"view:node"===f};class Qo extends(_r(Yo)){constructor(r,s){super(),this.document=r,this._children=[],s&&this._insertChild(0,s)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}_appendChild(r){return this._insertChild(this.childCount,r)}getChild(r){return this._children[r]}getChildIndex(r){return this._children.indexOf(r)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(r,s){this._fireChange("children",this);let c=0;const h=(v=this.document,"string"==typeof(y=s)?[new Te(v,y)]:(kr(y)||(y=[y]),Array.from(y).map(_=>"string"==typeof _?new Te(v,_):_ instanceof jn?new Te(v,_.data):_)));var v,y;for(const v of h)null!==v.parent&&v._remove(),v.parent=this,this._children.splice(r,0,v),r++,c++;return c}_removeChildren(r,s=1){this._fireChange("children",this);for(let c=r;c<r+s;c++)this._children[c].parent=null;return this._children.splice(r,s)}_fireChange(r,s){this.fire("change:"+r,s)}}Qo.prototype.is=function(f){return"documentFragment"===f||"view:documentFragment"===f};class mw{constructor(r){this.document=r,this._cloneGroups=new Map,this._slotFactory=null}setSelection(...r){this.document.selection._setTo(...r)}setSelectionFocus(...r){this.document.selection._setFocus(...r)}createDocumentFragment(r){return new Qo(this.document,r)}createText(r){return new Te(this.document,r)}createAttributeElement(r,s,c={}){const h=new Es(this.document,r,s);return"number"==typeof c.priority&&(h._priority=c.priority),c.id&&(h._id=c.id),c.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...c.renderUnsafeAttributes),h}createContainerElement(r,s,c={},h={}){let v=null;Or(c)?h=c:v=c;const y=new Ia(this.document,r,s,v);return h.renderUnsafeAttributes&&y._unsafeAttributesToRender.push(...h.renderUnsafeAttributes),y}createEditableElement(r,s,c={}){const h=new Ar(this.document,r,s);return c.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...c.renderUnsafeAttributes),h}createEmptyElement(r,s,c={}){const h=new Mv(this.document,r,s);return c.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...c.renderUnsafeAttributes),h}createUIElement(r,s,c){const h=new Zl(this.document,r,s);return c&&(h.render=c),h}createRawElement(r,s,c,h={}){const v=new La(this.document,r,s);return c&&(v.render=c),h.renderUnsafeAttributes&&v._unsafeAttributesToRender.push(...h.renderUnsafeAttributes),v}setAttribute(r,s,c){c._setAttribute(r,s)}removeAttribute(r,s){s._removeAttribute(r)}addClass(r,s){s._addClass(r)}removeClass(r,s){s._removeClass(r)}setStyle(r,s,c){Or(r)&&void 0===c?s._setStyle(r):c._setStyle(r,s)}removeStyle(r,s){s._removeStyle(r)}setCustomProperty(r,s,c){c._setCustomProperty(r,s)}removeCustomProperty(r,s){return s._removeCustomProperty(r)}breakAttributes(r){return r instanceof wt?this._breakAttributes(r):this._breakAttributesRange(r)}breakContainer(r){const s=r.parent;if(!s.is("containerElement"))throw new U("view-writer-break-non-container-element",this.document);if(!s.parent)throw new U("view-writer-break-root",this.document);if(r.isAtStart)return wt._createBefore(s);if(!r.isAtEnd){const c=s._clone(!1);this.insert(wt._createAfter(s),c);const h=new te(r,wt._createAt(s,"end")),v=new wt(c,0);this.move(h,v)}return wt._createAfter(s)}mergeAttributes(r){const s=r.offset,c=r.parent;if(c.is("$text"))return r;if(c.is("attributeElement")&&0===c.childCount){const y=c.parent,_=c.index;return c._remove(),this._removeFromClonedElementsGroup(c),this.mergeAttributes(new wt(y,_))}const h=c.getChild(s-1),v=c.getChild(s);if(!h||!v)return r;if(h.is("$text")&&v.is("$text"))return bw(h,v);if(h.is("attributeElement")&&v.is("attributeElement")&&h.isSimilar(v)){const y=h.childCount;return h._appendChild(v.getChildren()),v._remove(),this._removeFromClonedElementsGroup(v),this.mergeAttributes(new wt(h,y))}return r}mergeContainers(r){const s=r.nodeBefore,c=r.nodeAfter;if(!(s&&c&&s.is("containerElement")&&c.is("containerElement")))throw new U("view-writer-merge-containers-invalid-position",this.document);const h=s.getChild(s.childCount-1),v=wt._createAt(h instanceof Te?h:s,"end");return this.move(te._createIn(c),wt._createAt(s,"end")),this.remove(te._createOn(c)),v}insert(r,s){$l(s=kr(s)?[...s]:[s],this.document);const c=s.reduce((y,_)=>{const A=y[y.length-1],S=!_.is("uiElement");return A&&A.breakAttributes==S?A.nodes.push(_):y.push({breakAttributes:S,nodes:[_]}),y},[]);let h=null,v=r;for(const{nodes:y,breakAttributes:_}of c){const A=this._insertNodes(v,y,_);h||(h=A.start),v=A.end}return h?new te(h,v):new te(r)}remove(r){const s=r instanceof te?r:te._createOn(r);if(jr(s,this.document),s.isCollapsed)return new Qo(this.document);const{start:c,end:h}=this._breakAttributesRange(s,!0),_=c.parent._removeChildren(c.offset,h.offset-c.offset);for(const S of _)this._removeFromClonedElementsGroup(S);const A=this.mergeAttributes(c);return s.start=A,s.end=A.clone(),new Qo(this.document,_)}clear(r,s){jr(r,this.document);const c=r.getWalker({direction:"backward",ignoreElementEnd:!0});for(const h of c){const v=h.item;let y;if(v.is("element")&&s.isSimilar(v))y=te._createOn(v);else if(!h.nextPosition.isAfter(r.start)&&v.is("$textProxy")){const _=v.getAncestors().find(A=>A.is("element")&&s.isSimilar(A));_&&(y=te._createIn(_))}y&&(y.end.isAfter(r.end)&&(y.end=r.end),y.start.isBefore(r.start)&&(y.start=r.start),this.remove(y))}}move(r,s){let c;if(s.isAfter(r.end)){const h=(s=this._breakAttributes(s,!0)).parent,v=h.childCount;r=this._breakAttributesRange(r,!0),c=this.remove(r),s.offset+=h.childCount-v}else c=this.remove(r);return this.insert(s,c)}wrap(r,s){if(!(s instanceof Es))throw new U("view-writer-wrap-invalid-attribute",this.document);if(jr(r,this.document),r.isCollapsed){let h=r.start;h.parent.is("element")&&!Array.from(h.parent.getChildren()).some(y=>!y.is("uiElement"))&&(h=h.getLastMatchingPosition(y=>y.item.is("uiElement"))),h=this._wrapPosition(h,s);const v=this.document.selection;return v.isCollapsed&&v.getFirstPosition().isEqual(r.start)&&this.setSelection(h),new te(h)}return this._wrapRange(r,s)}unwrap(r,s){if(!(s instanceof Es))throw new U("view-writer-unwrap-invalid-attribute",this.document);if(jr(r,this.document),r.isCollapsed)return r;const{start:c,end:h}=this._breakAttributesRange(r,!0),y=this._unwrapChildren(c.parent,c.offset,h.offset,s),_=this.mergeAttributes(y.start);_.isEqual(y.start)||y.end.offset--;const A=this.mergeAttributes(y.end);return new te(_,A)}rename(r,s){const c=new Ia(this.document,r,s.getAttributes());return this.insert(wt._createAfter(s),c),this.move(te._createIn(s),wt._createAt(c,0)),this.remove(te._createOn(s)),c}clearClonedElementsGroup(r){this._cloneGroups.delete(r)}createPositionAt(r,s){return wt._createAt(r,s)}createPositionAfter(r){return wt._createAfter(r)}createPositionBefore(r){return wt._createBefore(r)}createRange(...r){return new te(...r)}createRangeOn(r){return te._createOn(r)}createRangeIn(r){return te._createIn(r)}createSelection(...r){return new rr(...r)}createSlot(r){if(!this._slotFactory)throw new U("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,r)}_registerSlotFactory(r){this._slotFactory=r}_clearSlotFactory(){this._slotFactory=null}_insertNodes(r,s,c){let h,v;if(h=c?Hu(r):r.parent.is("$text")?r.parent.parent:r.parent,!h)throw new U("view-writer-invalid-position-container",this.document);v=c?this._breakAttributes(r,!0):r.parent.is("$text")?yw(r):r;const y=h._insertChild(v.offset,s);for(const D of s)this._addToClonedElementsGroup(D);const _=v.getShiftedBy(y),A=this.mergeAttributes(v);A.isEqual(v)||_.offset--;const S=this.mergeAttributes(_);return new te(A,S)}_wrapChildren(r,s,c,h){let v=s;const y=[];for(;v<c;){const A=r.getChild(v),S=A.is("$text"),D=A.is("attributeElement");if(D&&this._wrapAttributeElement(h,A))y.push(new wt(r,v));else if(S||!D||DE(h,A)){const E=h._clone();A._remove(),E._appendChild(A),r._insertChild(v,E),this._addToClonedElementsGroup(E),y.push(new wt(r,v))}else this._wrapChildren(A,0,A.childCount,h);v++}let _=0;for(const A of y)A.offset-=_,A.offset!=s&&(this.mergeAttributes(A).isEqual(A)||(_++,c--));return te._createFromParentsAndOffsets(r,s,r,c)}_unwrapChildren(r,s,c,h){let v=s;const y=[];for(;v<c;){const A=r.getChild(v);if(A.is("attributeElement"))if(A.isSimilar(h)){const S=A.getChildren(),D=A.childCount;A._remove(),r._insertChild(v,S),this._removeFromClonedElementsGroup(A),y.push(new wt(r,v),new wt(r,v+D)),v+=D,c+=D-1}else this._unwrapAttributeElement(h,A)?(y.push(new wt(r,v),new wt(r,v+1)),v++):(this._unwrapChildren(A,0,A.childCount,h),v++);else v++}let _=0;for(const A of y)A.offset-=_,A.offset!=s&&A.offset!=c&&(this.mergeAttributes(A).isEqual(A)||(_++,c--));return te._createFromParentsAndOffsets(r,s,r,c)}_wrapRange(r,s){const{start:c,end:h}=this._breakAttributesRange(r,!0),y=this._wrapChildren(c.parent,c.offset,h.offset,s),_=this.mergeAttributes(y.start);_.isEqual(y.start)||y.end.offset--;const A=this.mergeAttributes(y.end);return new te(_,A)}_wrapPosition(r,s){if(s.isSimilar(r.parent))return cf(r.clone());r.parent.is("$text")&&(r=yw(r));const c=this.createAttributeElement("_wrapPosition-fake-element");c._priority=Number.POSITIVE_INFINITY,c.isSimilar=()=>!1,r.parent._insertChild(r.offset,c);const h=new te(r,r.getShiftedBy(1));this.wrap(h,s);const v=new wt(c.parent,c.index);c._remove();const y=v.nodeBefore,_=v.nodeAfter;return y instanceof Te&&_ instanceof Te?bw(y,_):cf(v)}_wrapAttributeElement(r,s){if(!ju(r,s)||r.name!==s.name||r.priority!==s.priority)return!1;for(const c of r.getAttributeKeys())if("class"!==c&&"style"!==c&&s.hasAttribute(c)&&s.getAttribute(c)!==r.getAttribute(c))return!1;for(const c of r.getStyleNames())if(s.hasStyle(c)&&s.getStyle(c)!==r.getStyle(c))return!1;for(const c of r.getAttributeKeys())"class"!==c&&"style"!==c&&(s.hasAttribute(c)||this.setAttribute(c,r.getAttribute(c),s));for(const c of r.getStyleNames())s.hasStyle(c)||this.setStyle(c,r.getStyle(c),s);for(const c of r.getClassNames())s.hasClass(c)||this.addClass(c,s);return!0}_unwrapAttributeElement(r,s){if(!ju(r,s)||r.name!==s.name||r.priority!==s.priority)return!1;for(const c of r.getAttributeKeys())if("class"!==c&&"style"!==c&&(!s.hasAttribute(c)||s.getAttribute(c)!==r.getAttribute(c)))return!1;if(!s.hasClass(...r.getClassNames()))return!1;for(const c of r.getStyleNames())if(!s.hasStyle(c)||s.getStyle(c)!==r.getStyle(c))return!1;for(const c of r.getAttributeKeys())"class"!==c&&"style"!==c&&this.removeAttribute(c,s);return this.removeClass(Array.from(r.getClassNames()),s),this.removeStyle(Array.from(r.getStyleNames()),s),!0}_breakAttributesRange(r,s=!1){const c=r.start,h=r.end;if(jr(r,this.document),r.isCollapsed){const A=this._breakAttributes(r.start,s);return new te(A,A)}const v=this._breakAttributes(h,s),y=v.parent.childCount,_=this._breakAttributes(c,s);return v.offset+=v.parent.childCount-y,new te(_,v)}_breakAttributes(r,s=!1){const c=r.offset,h=r.parent;if(r.parent.is("emptyElement"))throw new U("view-writer-cannot-break-empty-element",this.document);if(r.parent.is("uiElement"))throw new U("view-writer-cannot-break-ui-element",this.document);if(r.parent.is("rawElement"))throw new U("view-writer-cannot-break-raw-element",this.document);if(!s&&h.is("$text")&&Kl(h.parent)||Kl(h))return r.clone();if(h.is("$text"))return this._breakAttributes(yw(r),s);if(c==h.childCount){const v=new wt(h.parent,h.index+1);return this._breakAttributes(v,s)}if(0===c){const v=new wt(h.parent,h.index);return this._breakAttributes(v,s)}{const v=h.index+1,y=h._clone();h.parent._insertChild(v,y),this._addToClonedElementsGroup(y);const A=h._removeChildren(c,h.childCount-c);y._appendChild(A);const S=new wt(h.parent,v);return this._breakAttributes(S,s)}}_addToClonedElementsGroup(r){if(!r.root.is("rootElement"))return;if(r.is("element"))for(const h of r.getChildren())this._addToClonedElementsGroup(h);const s=r.id;if(!s)return;let c=this._cloneGroups.get(s);c||(c=new Set,this._cloneGroups.set(s,c)),c.add(r),r._clonesGroup=c}_removeFromClonedElementsGroup(r){if(r.is("element"))for(const h of r.getChildren())this._removeFromClonedElementsGroup(h);const s=r.id;if(!s)return;const c=this._cloneGroups.get(s);c&&c.delete(r)}}function Hu(f){let r=f.parent;for(;!Kl(r);){if(!r)return;r=r.parent}return r}function DE(f,r){return f.priority<r.priority||!(f.priority>r.priority)&&f.getIdentity()<r.getIdentity()}function cf(f){const r=f.nodeBefore;if(r&&r.is("$text"))return new wt(r,r.data.length);const s=f.nodeAfter;return s&&s.is("$text")?new wt(s,0):f}function yw(f){if(f.offset==f.parent.data.length)return new wt(f.parent.parent,f.parent.index+1);if(0===f.offset)return new wt(f.parent.parent,f.parent.index);const r=f.parent.data.slice(f.offset);return f.parent._data=f.parent.data.slice(0,f.offset),f.parent.parent._insertChild(f.parent.index+1,new Te(f.root.document,r)),new wt(f.parent.parent,f.parent.index+1)}function bw(f,r){const s=f.data.length;return f._data+=r.data,r._remove(),new wt(f,s)}const ME=[Te,Es,Ia,Mv,La,Zl];function $l(f,r){for(const s of f){if(!ME.some(c=>s instanceof c))throw new U("view-writer-insert-invalid-node-type",r);s.is("$text")||$l(s.getChildren(),r)}}function Kl(f){return f&&(f.is("containerElement")||f.is("documentFragment"))}function jr(f,r){const s=Hu(f.start),c=Hu(f.end);if(!s||!c||s!==c)throw new U("view-writer-invalid-range-container",r)}function ju(f,r){return null===f.id&&null===r.id}function Cn(f){return"[object Text]"==Object.prototype.toString.call(f)}const Xl=f=>f.createTextNode("\xa0"),Ql=f=>{const r=f.createElement("span");return r.dataset.ckeFiller="true",r.innerText="\xa0",r},Lv=f=>{const r=f.createElement("br");return r.dataset.ckeFiller="true",r},Ui="\u2060".repeat(7);function pr(f){return Cn(f)&&f.data.substr(0,7)===Ui}function Ps(f){return 7==f.data.length&&pr(f)}function Lx(f){return pr(f)?f.data.slice(7):f.data}function Px(f,r){if(r.keyCode==Ce.arrowleft){const s=r.domTarget.ownerDocument.defaultView.getSelection();if(1==s.rangeCount&&s.getRangeAt(0).collapsed){const c=s.getRangeAt(0).startContainer,h=s.getRangeAt(0).startOffset;pr(c)&&h<=7&&s.collapse(c,0)}}}function ww(f,r,s,c=!1){s=s||function(_,A){return _===A};const h=Array.isArray(f)?f:Array.prototype.slice.call(f),v=Array.isArray(r)?r:Array.prototype.slice.call(r),y=function(_,A,S){const D=_w(_,A,S);if(-1===D)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const z=_w(kw(_,D),kw(A,D),S);return{firstIndex:D,lastIndexOld:_.length-z,lastIndexNew:A.length-z}}(h,v,s);return c?function(_,A){const{firstIndex:S,lastIndexOld:D,lastIndexNew:E}=_;if(-1===S)return Array(A).fill("equal");let P=[];return S>0&&(P=P.concat(Array(S).fill("equal"))),E-S>0&&(P=P.concat(Array(E-S).fill("insert"))),D-S>0&&(P=P.concat(Array(D-S).fill("delete"))),E<A&&(P=P.concat(Array(A-E).fill("equal"))),P}(y,v.length):function(_,A){const S=[],{firstIndex:D,lastIndexOld:E,lastIndexNew:P}=A;return P-D>0&&S.push({index:D,type:"insert",values:_.slice(D,P)}),E-D>0&&S.push({index:D+(P-D),type:"delete",howMany:E-D}),S}(v,y)}function _w(f,r,s){for(let c=0;c<Math.max(f.length,r.length);c++)if(void 0===f[c]||void 0===r[c]||!s(f[c],r[c]))return c;return-1}function kw(f,r){return f.slice(r).reverse()}function Gu(f,r,s){s=s||function(W,$){return W===$};const c=f.length,h=r.length;if(c>200||h>200||c+h>300)return Gu.fastDiff(f,r,s,!0);let v,y;if(h<c){const W=f;f=r,r=W,v="delete",y="insert"}else v="insert",y="delete";const _=f.length,A=r.length,S=A-_,D={},E={};function P(W){const $=(void 0!==E[W-1]?E[W-1]:-1)+1,X=void 0!==E[W+1]?E[W+1]:-1,et=$>X?-1:1;D[W+et]&&(D[W]=D[W+et].slice(0)),D[W]||(D[W]=[]),D[W].push($>X?v:y);let ct=Math.max($,X),mt=ct-W;for(;mt<_&&ct<A&&s(f[mt],r[ct]);)mt++,ct++,D[W].push("equal");return ct}let z,G=0;do{for(z=-G;z<S;z++)E[z]=P(z);for(z=S+G;z>S;z--)E[z]=P(z);E[S]=P(S),G++}while(E[S]!==A);return D[S].slice(1)}function Rx(f,r,s){f.insertBefore(s,f.childNodes[r]||null)}function Pv(f){const r=f.parentNode;r&&r.removeChild(f)}function Jl(f){return f&&f.nodeType===Node.COMMENT_NODE}function mo(f){if(f){if(f.defaultView)return f instanceof f.defaultView.Document;if(f.ownerDocument&&f.ownerDocument.defaultView)return f instanceof f.ownerDocument.defaultView.Node}return!1}Gu.fastDiff=ww;var Aw=St(3379),Ut=St.n(Aw),Rv=St(4401);Ut()(Rv.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Nv extends hn{constructor(r,s){super(),this.domDocuments=new Set,this.domConverter=r,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=s,this.set("isFocused",!1),this.set("isSelecting",!1),me.isBlink&&!me.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()}),this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(r,s){if("text"===r)this.domConverter.mapViewToDom(s.parent)&&this.markedTexts.add(s);else{if(!this.domConverter.mapViewToDom(s))return;if("attributes"===r)this.markedAttributes.add(s);else{if("children"!==r)throw new U("view-renderer-unknown-type",this);this.markedChildren.add(s)}}}render(){if(this.isComposing&&!me.isAndroid)return;let r=null;const s=!(me.isBlink&&!me.isAndroid&&this.isSelecting);for(const c of this.markedChildren)this._updateChildrenMappings(c);s?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?r=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(r=this.selection.getFirstPosition(),this.markedChildren.add(r.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(r=this.domConverter.domPositionToView(this._inlineFiller),r&&r.parent.is("$text")&&(r=wt._createBefore(r.parent)));for(const c of this.markedAttributes)this._updateAttrs(c);for(const c of this.markedChildren)this._updateChildren(c,{inlineFillerPosition:r});for(const c of this.markedTexts)!this.markedChildren.has(c.parent)&&this.domConverter.mapViewToDom(c.parent)&&this._updateText(c,{inlineFillerPosition:r});if(s)if(r){const c=this.domConverter.viewPositionToDom(r),h=c.parent.ownerDocument;this._inlineFiller=pr(c.parent)?c.parent:Bv(h,c.parent,c.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(r){if(!this.domConverter.mapViewToDom(r))return;const s=Array.from(this.domConverter.mapViewToDom(r).childNodes),c=Array.from(this.domConverter.viewChildrenToDom(r,{withChildren:!1})),h=this._diffNodeLists(s,c),v=this._findReplaceActions(h,s,c);if(-1!==v.indexOf("replace")){const y={equal:0,insert:0,delete:0};for(const _ of v)if("replace"===_){const A=y.equal+y.insert,S=y.equal+y.delete,D=r.getChild(A);!D||D.is("uiElement")||D.is("rawElement")||this._updateElementMappings(D,s[S]),Pv(c[A]),y.equal++}else y[_]++}}_updateElementMappings(r,s){this.domConverter.unbindDomElement(s),this.domConverter.bindElements(s,r),this.markedChildren.add(r),this.markedAttributes.add(r)}_getInlineFillerPosition(){const r=this.selection.getFirstPosition();return r.parent.is("$text")?wt._createBefore(r.parent):r}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const r=this.selection.getFirstPosition(),s=this.domConverter.viewPositionToDom(r);return!!(s&&Cn(s.parent)&&pr(s.parent))}_removeInlineFiller(){const r=this._inlineFiller;if(!pr(r))throw new U("view-renderer-filler-was-lost",this);Ps(r)?r.remove():r.data=r.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const r=this.selection.getFirstPosition(),s=r.parent,c=r.offset;if(!this.domConverter.mapViewToDom(s.root)||!s.is("element")||!function(y){if("false"==y.getAttribute("contenteditable"))return!1;const _=y.findAncestor(A=>A.hasAttribute("contenteditable"));return!_||"true"==_.getAttribute("contenteditable")}(s)||c===s.getFillerOffset())return!1;const h=r.nodeBefore,v=r.nodeAfter;return!(h instanceof Te||v instanceof Te||me.isAndroid&&(h||v))}_updateText(r,s){const c=this.domConverter.findCorrespondingDomText(r);let h=this.domConverter.viewToDom(r).data;const v=s.inlineFillerPosition;v&&v.parent==r.parent&&v.offset==r.index&&(h=Ui+h),hf(c,h)}_updateAttrs(r){const s=this.domConverter.mapViewToDom(r);if(!s)return;const c=Array.from(s.attributes).map(v=>v.name),h=r.getAttributeKeys();for(const v of h)this.domConverter.setDomElementAttribute(s,v,r.getAttribute(v),r);for(const v of c)r.hasAttribute(v)||this.domConverter.removeDomElementAttribute(s,v)}_updateChildren(r,s){const c=this.domConverter.mapViewToDom(r);if(!c)return;if(me.isAndroid){let E=null;for(const P of Array.from(c.childNodes)){if(E&&Cn(E)&&Cn(P)){c.normalize();break}E=P}}const h=s.inlineFillerPosition,v=c.childNodes,y=Array.from(this.domConverter.viewChildrenToDom(r,{bind:!0}));h&&h.parent===r&&Bv(c.ownerDocument,y,h.offset);const _=this._diffNodeLists(v,y),A=me.isAndroid?this._findReplaceActions(_,v,y,{replaceText:!0}):_;let S=0;const D=new Set;for(const E of A)"delete"===E?(D.add(v[S]),Pv(v[S])):"equal"!==E&&"replace"!==E||S++;S=0;for(const E of A)"insert"===E?(Rx(c,S,y[S]),S++):"replace"===E?(hf(v[S],y[S].data),S++):"equal"===E&&(this._markDescendantTextToSync(this.domConverter.domToView(y[S])),S++);for(const E of D)E.parentNode||this.domConverter.unbindDomElement(E)}_diffNodeLists(r,s){return Gu(r=function(c,h){const v=Array.from(c);return 0==v.length||!h||v[v.length-1]==h&&v.pop(),v}(r,this._fakeSelectionContainer),s,Jo.bind(null,this.domConverter))}_findReplaceActions(r,s,c,h={}){if(-1===r.indexOf("insert")||-1===r.indexOf("delete"))return r;let v=[],y=[],_=[];const A={equal:0,insert:0,delete:0};for(const S of r)"insert"===S?_.push(c[A.equal+A.insert]):"delete"===S?y.push(s[A.equal+A.delete]):(v=v.concat(Gu(y,_,h.replaceText?df:Cw).map(D=>"equal"===D?"replace":D)),v.push("equal"),y=[],_=[]),A[S]++;return v.concat(Gu(y,_,h.replaceText?df:Cw).map(S=>"equal"===S?"replace":S))}_markDescendantTextToSync(r){if(r)if(r.is("$text"))this.markedTexts.add(r);else if(r.is("element"))for(const s of r.getChildren())this._markDescendantTextToSync(s)}_updateSelection(){if(me.isBlink&&!me.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const r=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&r&&(this.selection.isFake?this._updateFakeSelection(r):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(r)):this.isComposing&&me.isAndroid||this._updateDomSelection(r))}_updateFakeSelection(r){const s=r.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(y){const _=y.createElement("div");return _.className="ck-fake-selection-container",Object.assign(_.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),_.textContent="\xa0",_}(s));const c=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(c,this.selection),!this._fakeSelectionNeedsUpdate(r))return;c.parentElement&&c.parentElement==r||r.appendChild(c),c.textContent=this.selection.fakeSelectionLabel||"\xa0";const h=s.getSelection(),v=s.createRange();h.removeAllRanges(),v.selectNodeContents(c),h.addRange(v)}_updateDomSelection(r){const s=r.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(s))return;const c=this.domConverter.viewPositionToDom(this.selection.anchor),h=this.domConverter.viewPositionToDom(this.selection.focus);s.collapse(c.parent,c.offset),s.extend(h.parent,h.offset),me.isGecko&&function(v,y){const _=v.parent;if(_.nodeType!=Node.ELEMENT_NODE||v.offset!=_.childNodes.length-1)return;const A=_.childNodes[v.offset];A&&"BR"==A.tagName&&y.addRange(y.getRangeAt(0))}(h,s)}_domSelectionNeedsUpdate(r){if(!this.domConverter.isDomSelectionCorrect(r))return!0;const s=r&&this.domConverter.domSelectionToView(r);return!(s&&this.selection.isEqual(s)||!this.selection.isCollapsed&&this.selection.isSimilar(s))}_fakeSelectionNeedsUpdate(r){const s=this._fakeSelectionContainer,c=r.ownerDocument.getSelection();return!s||s.parentElement!==r||c.anchorNode!==s&&!s.contains(c.anchorNode)||s.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const r of this.domDocuments){const s=r.getSelection();if(s.rangeCount){const c=r.activeElement,h=this.domConverter.mapDomToView(c);c&&h&&s.removeAllRanges()}}}_removeFakeSelection(){const r=this._fakeSelectionContainer;r&&r.remove()}_updateFocus(){if(this.isFocused){const r=this.selection.editableElement;r&&this.domConverter.focus(r)}}}function Bv(f,r,s){const c=r instanceof Array?r:r.childNodes,h=c[s];if(Cn(h))return h.data=Ui+h.data,h;{const v=f.createTextNode(Ui);return Array.isArray(r)?c.splice(s,0,v):Rx(r,s,v),v}}function Cw(f,r){return mo(f)&&mo(r)&&!Cn(f)&&!Cn(r)&&!Jl(f)&&!Jl(r)&&f.tagName.toLowerCase()===r.tagName.toLowerCase()}function df(f,r){return mo(f)&&mo(r)&&Cn(f)&&Cn(r)}function Jo(f,r,s){return r===s||(Cn(r)&&Cn(s)?r.data===s.data:!(!f.isBlockFiller(r)||!f.isBlockFiller(s)))}function hf(f,r){const s=f.data;if(s==r)return;const c=ww(s,r);for(const h of c)"insert"===h.type?f.insertData(h.index,h.values.join("")):f.deleteData(h.index,h.howMany)}function ff(f){let r=0;for(;f.previousSibling;)f=f.previousSibling,r++;return r}function Uu(f){const r=[];let s=f;for(;s&&s.nodeType!=Node.DOCUMENT_NODE;)r.unshift(s),s=s.parentNode;return r}const xw=Lv(Yt.document),Nx=Xl(Yt.document),Bx=Ql(Yt.document),Pa="data-ck-unsafe-attribute-",Wu="data-ck-unsafe-element";class Yu{constructor(r,s={}){this.document=r,this.renderingMode=s.renderingMode||"editing",this.blockFillerMode=s.blockFillerMode||("editing"===this.renderingMode?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument="editing"===this.renderingMode?Yt.document:Yt.document.implementation.createHTMLDocument(""),this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Ti,this._encounteredRawContentDomNodes=new WeakSet}bindFakeSelection(r,s){this._fakeSelectionMapping.set(r,new rr(s))}fakeSelectionToView(r){return this._fakeSelectionMapping.get(r)}bindElements(r,s){this._domToViewMapping.set(r,s),this._viewToDomMapping.set(s,r)}unbindDomElement(r){const s=this._domToViewMapping.get(r);if(s){this._domToViewMapping.delete(r),this._viewToDomMapping.delete(s);for(const c of Array.from(r.children))this.unbindDomElement(c)}}bindDocumentFragments(r,s){this._domToViewMapping.set(r,s),this._viewToDomMapping.set(s,r)}shouldRenderAttribute(r,s,c){return"data"===this.renderingMode||!(r=r.toLowerCase()).startsWith("on")&&("srcdoc"!==r||!s.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===c&&("src"===r||"srcset"===r)||"source"===c&&"srcset"===r||!s.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(r,s){if("data"===this.renderingMode)return void(r.innerHTML=s);const c=(new DOMParser).parseFromString(s,"text/html"),h=c.createDocumentFragment(),v=c.body.childNodes;for(;v.length>0;)h.appendChild(v[0]);const y=c.createTreeWalker(h,NodeFilter.SHOW_ELEMENT),_=[];let A;for(;A=y.nextNode();)_.push(A);for(const S of _){for(const E of S.getAttributeNames())this.setDomElementAttribute(S,E,S.getAttribute(E));const D=S.tagName.toLowerCase();this._shouldRenameElement(D)&&(zv(D),S.replaceWith(this._createReplacementDomElement(D,S)))}for(;r.firstChild;)r.firstChild.remove();r.append(h)}viewToDom(r,s={}){if(r.is("$text")){const c=this._processDataFromViewText(r);return this._domDocument.createTextNode(c)}{if(this.mapViewToDom(r))return this.mapViewToDom(r);let c;if(r.is("documentFragment"))c=this._domDocument.createDocumentFragment(),s.bind&&this.bindDocumentFragments(c,r);else{if(r.is("uiElement"))return c="$comment"===r.name?this._domDocument.createComment(r.getCustomProperty("$rawContent")):r.render(this._domDocument,this),s.bind&&this.bindElements(c,r),c;this._shouldRenameElement(r.name)?(zv(r.name),c=this._createReplacementDomElement(r.name)):c=r.hasAttribute("xmlns")?this._domDocument.createElementNS(r.getAttribute("xmlns"),r.name):this._domDocument.createElement(r.name),r.is("rawElement")&&r.render(c,this),s.bind&&this.bindElements(c,r);for(const h of r.getAttributeKeys())this.setDomElementAttribute(c,h,r.getAttribute(h),r)}if(!1!==s.withChildren)for(const h of this.viewChildrenToDom(r,s))c.appendChild(h);return c}}setDomElementAttribute(r,s,c,h){const v=this.shouldRenderAttribute(s,c,r.tagName.toLowerCase())||h&&h.shouldRenderUnsafeAttribute(s);v||it("domconverter-unsafe-attribute-detected",{domElement:r,key:s,value:c}),r.hasAttribute(s)&&!v?r.removeAttribute(s):r.hasAttribute(Pa+s)&&v&&r.removeAttribute(Pa+s),r.setAttribute(v?s:Pa+s,c)}removeDomElementAttribute(r,s){s!=Wu&&(r.removeAttribute(s),r.removeAttribute(Pa+s))}*viewChildrenToDom(r,s={}){const c=r.getFillerOffset&&r.getFillerOffset();let h=0;for(const v of r.getChildren()){c===h&&(yield this._getBlockFiller());const y=v.is("element")&&v.getCustomProperty("dataPipeline:transparentRendering");y&&"data"==this.renderingMode?yield*this.viewChildrenToDom(v,s):(y&&it("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:v}),yield this.viewToDom(v,s)),h++}c===h&&(yield this._getBlockFiller())}viewRangeToDom(r){const s=this.viewPositionToDom(r.start),c=this.viewPositionToDom(r.end),h=this._domDocument.createRange();return h.setStart(s.parent,s.offset),h.setEnd(c.parent,c.offset),h}viewPositionToDom(r){const s=r.parent;if(s.is("$text")){const c=this.findCorrespondingDomText(s);if(!c)return null;let h=r.offset;return pr(c)&&(h+=7),{parent:c,offset:h}}{let c,h,v;if(0===r.offset){if(c=this.mapViewToDom(s),!c)return null;v=c.childNodes[0]}else{const y=r.nodeBefore;if(h=y.is("$text")?this.findCorrespondingDomText(y):this.mapViewToDom(y),!h)return null;c=h.parentNode,v=h.nextSibling}return Cn(v)&&pr(v)?{parent:v,offset:7}:{parent:c,offset:h?ff(h)+1:0}}}domToView(r,s={}){if(this.isBlockFiller(r))return null;const c=this.getHostViewElement(r);if(c)return c;if(Jl(r)&&s.skipComments)return null;if(Cn(r)){if(Ps(r))return null;{const h=this._processDataFromDomText(r);return""===h?null:new Te(this.document,h)}}{if(this.mapDomToView(r))return this.mapDomToView(r);let h;if(this.isDocumentFragment(r))h=new Qo(this.document),s.bind&&this.bindDocumentFragments(r,h);else{h=this._createViewElement(r,s),s.bind&&this.bindElements(r,h);const v=r.attributes;if(v)for(let y=v.length,_=0;_<y;_++)h._setAttribute(v[_].name,v[_].value);if(this._isViewElementWithRawContent(h,s)||Jl(r)){const y=Jl(r)?r.data:r.innerHTML;return h._setCustomProperty("$rawContent",y),this._encounteredRawContentDomNodes.add(r),h}}if(!1!==s.withChildren)for(const v of this.domChildrenToView(r,s))h._appendChild(v);return h}}*domChildrenToView(r,s){for(let c=0;c<r.childNodes.length;c++){const v=this.domToView(r.childNodes[c],s);null!==v&&(yield v)}}domSelectionToView(r){if(1===r.rangeCount){let h=r.getRangeAt(0).startContainer;Cn(h)&&(h=h.parentNode);const v=this.fakeSelectionToView(h);if(v)return v}const s=this.isDomSelectionBackward(r),c=[];for(let h=0;h<r.rangeCount;h++){const v=r.getRangeAt(h),y=this.domRangeToView(v);y&&c.push(y)}return new rr(c,{backward:s})}domRangeToView(r){const s=this.domPositionToView(r.startContainer,r.startOffset),c=this.domPositionToView(r.endContainer,r.endOffset);return s&&c?new te(s,c):null}domPositionToView(r,s=0){if(this.isBlockFiller(r))return this.domPositionToView(r.parentNode,ff(r));const c=this.mapDomToView(r);if(c&&(c.is("uiElement")||c.is("rawElement")))return wt._createBefore(c);if(Cn(r)){if(Ps(r))return this.domPositionToView(r.parentNode,ff(r));const h=this.findCorrespondingViewText(r);let v=s;return h?(pr(r)&&(v-=7,v=v<0?0:v),new wt(h,v)):null}if(0===s){const h=this.mapDomToView(r);if(h)return new wt(h,0)}else{const h=r.childNodes[s-1];if(Cn(h)&&Ps(h))return this.domPositionToView(h.parentNode,ff(h));const v=Cn(h)?this.findCorrespondingViewText(h):this.mapDomToView(h);if(v&&v.parent)return new wt(v.parent,v.index+1)}return null}mapDomToView(r){return this.getHostViewElement(r)||this._domToViewMapping.get(r)}findCorrespondingViewText(r){if(Ps(r))return null;const s=this.getHostViewElement(r);if(s)return s;const c=r.previousSibling;if(c){if(!this.isElement(c))return null;const h=this.mapDomToView(c);if(h){const v=h.nextSibling;return v instanceof Te?v:null}}else{const h=this.mapDomToView(r.parentNode);if(h){const v=h.getChild(0);return v instanceof Te?v:null}}return null}mapViewToDom(r){return this._viewToDomMapping.get(r)}findCorrespondingDomText(r){const s=r.previousSibling;return s&&this.mapViewToDom(s)?this.mapViewToDom(s).nextSibling:!s&&r.parent&&this.mapViewToDom(r.parent)?this.mapViewToDom(r.parent).childNodes[0]:null}focus(r){const s=this.mapViewToDom(r);if(s&&s.ownerDocument.activeElement!==s){const{scrollX:c,scrollY:h}=Yt.window,v=[];qu(s,y=>{const{scrollLeft:_,scrollTop:A}=y;v.push([_,A])}),s.focus(),qu(s,y=>{const[_,A]=v.shift();y.scrollLeft=_,y.scrollTop=A}),Yt.window.scrollTo(c,h)}}isElement(r){return r&&r.nodeType==Node.ELEMENT_NODE}isDocumentFragment(r){return r&&r.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(r){return"br"==this.blockFillerMode?r.isEqualNode(xw):!("BR"!==r.tagName||!Zu(r,this.blockElements)||1!==r.parentNode.childNodes.length)||r.isEqualNode(Bx)||function(s,c){return s.isEqualNode(Nx)&&Zu(s,c)&&1===s.parentNode.childNodes.length}(r,this.blockElements)}isDomSelectionBackward(r){if(r.isCollapsed)return!1;const s=this._domDocument.createRange();try{s.setStart(r.anchorNode,r.anchorOffset),s.setEnd(r.focusNode,r.focusOffset)}catch{return!1}const c=s.collapsed;return s.detach(),c}getHostViewElement(r){const s=Uu(r);for(s.pop();s.length;){const c=s.pop(),h=this._domToViewMapping.get(c);if(h&&(h.is("uiElement")||h.is("rawElement")))return h}return null}isDomSelectionCorrect(r){return this._isDomSelectionPositionCorrect(r.anchorNode,r.anchorOffset)&&this._isDomSelectionPositionCorrect(r.focusNode,r.focusOffset)}registerRawContentMatcher(r){this._rawContentElementMatcher.add(r)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Xl(this._domDocument);case"markedNbsp":return Ql(this._domDocument);case"br":return Lv(this._domDocument)}}_isDomSelectionPositionCorrect(r,s){if(Cn(r)&&pr(r)&&s<7||this.isElement(r)&&pr(r.childNodes[s]))return!1;const c=this.mapDomToView(r);return!c||!c.is("uiElement")&&!c.is("rawElement")}_processDataFromViewText(r){let s=r.data;if(r.getAncestors().some(c=>this.preElements.includes(c.name)))return s;if(" "==s.charAt(0)){const c=this._getTouchingInlineViewNode(r,!1);!(c&&c.is("$textProxy")&&this._nodeEndsWithSpace(c))&&c||(s="\xa0"+s.substr(1))}if(" "==s.charAt(s.length-1)){const c=this._getTouchingInlineViewNode(r,!0),h=c&&c.is("$textProxy")&&" "==c.data.charAt(0);" "!=s.charAt(s.length-2)&&c&&!h||(s=s.substr(0,s.length-1)+"\xa0")}return s.replace(/ {2}/g," \xa0")}_nodeEndsWithSpace(r){if(r.getAncestors().some(c=>this.preElements.includes(c.name)))return!1;const s=this._processDataFromViewText(r);return" "==s.charAt(s.length-1)}_processDataFromDomText(r){let s=r.data;if(D=this.preElements,Uu(r).some(E=>E.tagName&&D.includes(E.tagName.toLowerCase())))return Lx(r);var D;s=s.replace(/[ \n\t\r]{1,}/g," ");const c=this._getTouchingInlineDomNode(r,!1),h=this._getTouchingInlineDomNode(r,!0),v=this._checkShouldLeftTrimDomText(r,c),y=this._checkShouldRightTrimDomText(r,h);v&&(s=s.replace(/^ /,"")),y&&(s=s.replace(/ $/,"")),s=Lx(new Text(s)),s=s.replace(/ \u00A0/g,"  ");const _=h&&this.isElement(h)&&"BR"!=h.tagName,A=h&&Cn(h)&&" "==h.data.charAt(0);return(/( |\u00A0)\u00A0$/.test(s)||!h||_||A)&&(s=s.replace(/\u00A0$/," ")),(v||c&&this.isElement(c)&&"BR"!=c.tagName)&&(s=s.replace(/^\u00A0/," ")),s}_checkShouldLeftTrimDomText(r,s){return!s||(this.isElement(s)?"BR"===s.tagName:!this._encounteredRawContentDomNodes.has(r.previousSibling)&&/[^\S\u00A0]/.test(s.data.charAt(s.data.length-1)))}_checkShouldRightTrimDomText(r,s){return!s&&!pr(r)}_getTouchingInlineViewNode(r,s){const c=new Ea({startPosition:s?wt._createAfter(r):wt._createBefore(r),direction:s?"forward":"backward"});for(const h of c){if(h.item.is("element")&&this.inlineObjectElements.includes(h.item.name))return h.item;if(h.item.is("containerElement")||h.item.is("element","br"))return null;if(h.item.is("$textProxy"))return h.item}return null}_getTouchingInlineDomNode(r,s){if(!r.parentNode)return null;const c=s?"firstChild":"lastChild",h=s?"nextSibling":"previousSibling";let v=!0,y=r;do{if(!v&&y[c]?y=y[c]:y[h]?(y=y[h],v=!1):(y=y.parentNode,v=!0),!y||this._isBlockElement(y))return null}while(!Cn(y)&&"BR"!=y.tagName&&!this._isInlineObjectElement(y));return y}_isBlockElement(r){return this.isElement(r)&&this.blockElements.includes(r.tagName.toLowerCase())}_isInlineObjectElement(r){return this.isElement(r)&&this.inlineObjectElements.includes(r.tagName.toLowerCase())}_createViewElement(r,s){if(Jl(r))return new Zl(this.document,"$comment");const c=s.keepOriginalCase?r.tagName:r.tagName.toLowerCase();return new Vr(this.document,c)}_isViewElementWithRawContent(r,s){return!1!==s.withChildren&&!!this._rawContentElementMatcher.match(r)}_shouldRenameElement(r){const s=r.toLowerCase();return"editing"===this.renderingMode&&this.unsafeElements.includes(s)}_createReplacementDomElement(r,s){const c=this._domDocument.createElement("span");if(c.setAttribute(Wu,r),s){for(;s.firstChild;)c.appendChild(s.firstChild);for(const h of s.getAttributeNames())c.setAttribute(h,s.getAttribute(h))}return c}}function qu(f,r){let s=f;for(;s;)r(s),s=s.parentElement}function Zu(f,r){const s=f.parentNode;return!!s&&!!s.tagName&&r.includes(s.tagName.toLowerCase())}function zv(f){"script"===f&&it("domconverter-unsafe-script-element-detected"),"style"===f&&it("domconverter-unsafe-style-element-detected")}function Ra(f){const r=Object.prototype.toString.apply(f);return"[object Window]"==r||"[object global]"==r}function tc(f){return class extends f{listenTo(r,s,c,h={}){if(mo(r)||Ra(r)){const v={capture:!!h.useCapture,passive:!!h.usePassive},y=this._getProxyEmitter(r,v)||new Sw(r,v);this.listenTo(y,s,c,h)}else Ft.prototype.listenTo.call(this,r,s,c,h)}stopListening(r,s,c){if(mo(r)||Ra(r)){const h=this._getAllProxyEmitters(r);for(const v of h)this.stopListening(v,s,c)}else Ft.prototype.stopListening.call(this,r,s,c)}_getProxyEmitter(r,s){return function(c,h){const v=c[jo];return v&&v[h]?v[h].emitter:null}(this,Ov(r,s))}_getAllProxyEmitters(r){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(r,s)).filter(s=>!!s)}}}const Rs=tc(Ft);["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(f=>{tc[f]=Rs.prototype[f]});class Sw extends Ft{constructor(r,s){super(),we(this,Ov(r,s)),this._domNode=r,this._options=s}attach(r){if(this._domListeners&&this._domListeners[r])return;const s=this._createDomListener(r);this._domNode.addEventListener(r,s,this._options),this._domListeners||(this._domListeners={}),this._domListeners[r]=s}detach(r){let s;!this._domListeners[r]||(s=this._events[r])&&s.callbacks.length||this._domListeners[r].removeListener()}_addEventListener(r,s,c){this.attach(r),Ft.prototype._addEventListener.call(this,r,s,c)}_removeEventListener(r,s){Ft.prototype._removeEventListener.call(this,r,s),this.detach(r)}_createDomListener(r){const s=c=>{this.fire(r,c)};return s.removeListener=()=>{this._domNode.removeEventListener(r,s,this._options),delete this._domListeners[r]},s}}function Ov(f,r){let s=(c=f)["data-ck-expando"]||(c["data-ck-expando"]=ot());var c;for(const c of Object.keys(r).sort())r[c]&&(s+="-"+c);return s}class Gr extends Rs{constructor(r){super(),this.view=r,this.document=r.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(r){return r&&3===r.nodeType&&(r=r.parentNode),!(!r||1!==r.nodeType)&&r.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const ec=fw(function(f,r){ws(r,pn(r),f)});class nc{constructor(r,s,c){this.view=r,this.document=r.document,this.domEvent=s,this.domTarget=s.target,ec(this,c)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Na extends Gr{constructor(r){super(r),this.useCapture=!1}observe(r){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(s=>{this.listenTo(r,s,(c,h)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(h.target)&&this.onDomEvent(h)},{useCapture:this.useCapture})})}fire(r,s,c){this.isEnabled&&this.document.fire(r,new nc(this.view,s,c))}}class Vv extends Na{constructor(r){super(r),this.domEventType=["keydown","keyup"]}onDomEvent(r){this.fire(r.type,r,{keyCode:r.keyCode,altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,metaKey:r.metaKey,get keystroke(){return Di(this)}})}}const Ba=function(){return ui.Date.now()};var zx=/\s/,Vx=/^\s+/;var Hv=/^[-+]0x[0-9a-f]+$/i,Tw=/^0b[01]+$/i,Dw=/^0o[0-7]+$/i,jv=parseInt;const Mw=function(f){if("number"==typeof f)return f;if(Zh(f))return NaN;if(Pe(f)){var r="function"==typeof f.valueOf?f.valueOf():f;f=Pe(r)?r+"":r}if("string"!=typeof f)return 0===f?f:+f;f=function(f){return f&&f.slice(0,function(f){for(var r=f.length;r--&&zx.test(f.charAt(r)););return r}(f)+1).replace(Vx,"")}(f);var s=Tw.test(f);return s||Dw.test(f)?jv(f.slice(2),s?2:8):Hv.test(f)?NaN:+f};var Gv=Math.max,Fx=Math.min;const rc=function(f,r,s){var c,h,v,y,_,A,S=0,D=!1,E=!1,P=!0;if("function"!=typeof f)throw new TypeError("Expected a function");function z(ct){var mt=c,Ot=h;return c=h=void 0,S=ct,y=f.apply(Ot,mt)}function G(ct){return S=ct,_=setTimeout($,r),D?z(ct):y}function W(ct){var mt=ct-A;return void 0===A||mt>=r||mt<0||E&&ct-S>=v}function $(){var mt,Ot,ct=Ba();if(W(ct))return X(ct);_=setTimeout($,(Ot=r-((mt=ct)-A),E?Fx(Ot,v-(mt-S)):Ot))}function X(ct){return _=void 0,P&&c?z(ct):(c=h=void 0,y)}function et(){var ct=Ba(),mt=W(ct);if(c=arguments,h=this,A=ct,mt){if(void 0===_)return G(A);if(E)return clearTimeout(_),_=setTimeout($,r),z(A)}return void 0===_&&(_=setTimeout($,r)),y}return r=Mw(r)||0,Pe(s)&&(D=!!s.leading,v=(E="maxWait"in s)?Gv(Mw(s.maxWait)||0,r):v,P="trailing"in s?!!s.trailing:P),et.cancel=function(){void 0!==_&&clearTimeout(_),S=0,c=A=h=_=void 0},et.flush=function(){return void 0===_?y:X(Ba())},et};class Hx extends Gr{constructor(r){super(r),this._fireSelectionChangeDoneDebounced=rc(s=>{this.document.fire("selectionChangeDone",s)},200)}observe(){const r=this.document;r.on("arrowKey",(s,c)=>{r.selection.isFake&&this.isEnabled&&c.preventDefault()},{context:"$capture"}),r.on("arrowKey",(s,c)=>{r.selection.isFake&&this.isEnabled&&this._handleSelectionMove(c.keyCode)},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(r){const s=this.document.selection,c=new rr(s.getRanges(),{backward:s.isBackward,fake:!1});r!=Ce.arrowleft&&r!=Ce.arrowup||c.setTo(c.getFirstPosition()),r!=Ce.arrowright&&r!=Ce.arrowdown||c.setTo(c.getLastPosition());const h={oldSelection:s,newSelection:c,domSelection:null};this.document.fire("selectionChange",h),this._fireSelectionChangeDoneDebounced(h)}}function pf(f){var r=-1,s=null==f?0:f.length;for(this.__data__=new Jg;++r<s;)this.add(f[r])}pf.prototype.add=pf.prototype.push=function(f){return this.__data__.set(f,"__lodash_hash_undefined__"),this},pf.prototype.has=function(f){return this.__data__.has(f)};const jx=pf,gf=function(f,r){for(var s=-1,c=null==f?0:f.length;++s<c;)if(r(f[s],s,f))return!0;return!1},Wv=function(f,r){return f.has(r)},Yv=function(f,r,s,c,h,v){var y=1&s,_=f.length,A=r.length;if(_!=A&&!(y&&A>_))return!1;var S=v.get(f),D=v.get(r);if(S&&D)return S==r&&D==f;var E=-1,P=!0,z=2&s?new jx:void 0;for(v.set(f,r),v.set(r,f);++E<_;){var G=f[E],W=r[E];if(c)var $=y?c(W,G,E,r,f,v):c(G,W,E,f,r,v);if(void 0!==$){if($)continue;P=!1;break}if(z){if(!gf(r,function(X,et){if(!Wv(z,et)&&(G===X||h(G,X,s,c,v)))return z.push(et)})){P=!1;break}}else if(G!==W&&!h(G,W,s,c,v)){P=!1;break}}return v.delete(f),v.delete(r),P},Gx=function(f){var r=-1,s=Array(f.size);return f.forEach(function(c,h){s[++r]=[h,c]}),s},Ux=function(f){var r=-1,s=Array(f.size);return f.forEach(function(c){s[++r]=c}),s};var qv=fo?fo.prototype:void 0,Iw=qv?qv.valueOf:void 0,Zv=Object.prototype.hasOwnProperty,mf="[object Arguments]",Ew="[object Array]",$u="[object Object]",Kv=Object.prototype.hasOwnProperty;const za=function f(r,s,c,h,v){return r===s||(null==r||null==s||!Ci(r)&&!Ci(s)?r!=r&&s!=s:function(f,r,s,c,h,v){var y=Pt(f),_=Pt(r),A=y?Ew:Da(f),S=_?Ew:Da(r),D=(A=A==mf?$u:A)==$u,E=(S=S==mf?$u:S)==$u,P=A==S;if(P&&qt(f)){if(!qt(r))return!1;y=!0,D=!1}if(P&&!D)return v||(v=new po),y||Gt(f)?Yv(f,r,s,c,h,v):function(f,r,s,c,h,v,y){switch(s){case"[object DataView]":if(f.byteLength!=r.byteLength||f.byteOffset!=r.byteOffset)return!1;f=f.buffer,r=r.buffer;case"[object ArrayBuffer]":return!(f.byteLength!=r.byteLength||!v(new Hi(f),new Hi(r)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Su(+f,+r);case"[object Error]":return f.name==r.name&&f.message==r.message;case"[object RegExp]":case"[object String]":return f==r+"";case"[object Map]":var _=Gx;case"[object Set]":if(_||(_=Ux),f.size!=r.size&&!(1&c))return!1;var S=y.get(f);if(S)return S==r;c|=2,y.set(f,r);var D=Yv(_(f),_(r),c,h,v,y);return y.delete(f),D;case"[object Symbol]":if(Iw)return Iw.call(f)==Iw.call(r)}return!1}(f,r,A,s,c,h,v);if(!(1&s)){var z=D&&Kv.call(f,"__wrapped__"),G=E&&Kv.call(r,"__wrapped__");if(z||G){var W=z?f.value():f,$=G?r.value():r;return v||(v=new po),h(W,$,s,c,v)}}return!!P&&(v||(v=new po),function(f,r,s,c,h,v){var y=1&s,_=xt(f),A=_.length;if(A!=xt(r).length&&!y)return!1;for(var S=A;S--;){var D=_[S];if(!(y?D in r:Zv.call(r,D)))return!1}var E=v.get(f),P=v.get(r);if(E&&P)return E==r&&P==f;var z=!0;v.set(f,r),v.set(r,f);for(var G=y;++S<A;){var W=f[D=_[S]],$=r[D];if(c)var X=y?c($,W,D,r,f,v):c(W,$,D,f,r,v);if(!(void 0===X?W===$||h(W,$,s,c,v):X)){z=!1;break}G||(G="constructor"==D)}if(z&&!G){var et=f.constructor,ct=r.constructor;et==ct||!("constructor"in f)||!("constructor"in r)||"function"==typeof et&&et instanceof et&&"function"==typeof ct&&ct instanceof ct||(z=!1)}return v.delete(f),v.delete(r),z}(f,r,s,c,h,v))}(r,s,c,h,f,v))},ic=function(f,r,s){var c=(s="function"==typeof s?s:void 0)?s(f,r):void 0;return void 0===c?za(f,r,void 0,s):!!c};class yf extends Gr{constructor(r){super(r),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=r.domConverter,this.renderer=r._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(r){this._domElements.push(r),this.isEnabled&&this._mutationObserver.observe(r,this._config)}enable(){super.enable();for(const r of this._domElements)this._mutationObserver.observe(r,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(r){if(0===r.length)return;const s=this.domConverter,c=new Set,h=new Set;for(const y of r){const _=s.mapDomToView(y.target);_&&(_.is("uiElement")||_.is("rawElement")||"childList"!==y.type||this._isBogusBrMutation(y)||h.add(_))}for(const y of r){const _=s.mapDomToView(y.target);if((!_||!_.is("uiElement")&&!_.is("rawElement"))&&"characterData"===y.type){const A=s.findCorrespondingViewText(y.target);A&&!h.has(A.parent)?c.add(A):!A&&pr(y.target)&&h.add(s.mapDomToView(y.target.parentNode))}}let v=!1;for(const y of c)v=!0,this.renderer.markToSync("text",y);for(const y of h){const _=s.mapViewToDom(y),A=Array.from(y.getChildren()),S=Array.from(s.domChildrenToView(_,{withChildren:!1}));ic(A,S,Xv)||(v=!0,this.renderer.markToSync("children",y))}v&&this.view.forceRender()}_isBogusBrMutation(r){let s=null;return null===r.nextSibling&&0===r.removedNodes.length&&1==r.addedNodes.length&&(s=this.domConverter.domToView(r.addedNodes[0],{withChildren:!1})),s&&s.is("element","br")}}function Xv(f,r){if(!Array.isArray(f))return f===r||!(!f.is("$text")||!r.is("$text"))&&f.data===r.data}class Wx extends Gr{constructor(r){super(r),this.mutationObserver=r.getObserver(yf),this.selection=this.document.selection,this.domConverter=r.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=rc(s=>{this.document.fire("selectionChangeDone",s)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=rc(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(r){const s=r.ownerDocument,c=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,s),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(r,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(r,"keydown",c,{priority:"highest",useCapture:!0}),this.listenTo(r,"keyup",c,{priority:"highest",useCapture:!0}),this._documents.has(s)||(this.listenTo(s,"mouseup",c,{priority:"highest",useCapture:!0}),this.listenTo(s,"selectionchange",(h,v)=>{this.document.isComposing&&!me.isAndroid||(this._handleSelectionChange(v,s),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(s))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_handleSelectionChange(r,s){if(!this.isEnabled)return;const c=s.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(c.anchorNode))return;this.mutationObserver.flush();const h=this.domConverter.domSelectionToView(c);if(0!=h.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(h)&&this.domConverter.isDomSelectionCorrect(c)||++this._loopbackCounter>60))if(this.selection.isSimilar(h))this.view.forceRender();else{const v={oldSelection:this.selection,newSelection:h,domSelection:c};this.document.fire("selectionChange",v),this._fireSelectionChangeDoneDebounced(v)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class yo extends Na{constructor(r){super(r),this.domEventType=["focus","blur"],this.useCapture=!0;const s=this.document;s.on("focus",()=>{s.isFocused=!0,this._renderTimeoutId=setTimeout(()=>r.change(()=>{}),50)}),s.on("blur",(c,h)=>{const v=s.selection.editableElement;null!==v&&v!==h.target||(s.isFocused=!1,r.change(()=>{}))})}onDomEvent(r){this.fire(r.type,r)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Lw extends Na{constructor(r){super(r),this.domEventType=["compositionstart","compositionupdate","compositionend"];const s=this.document;s.on("compositionstart",()=>{s.isComposing=!0},{priority:"low"}),s.on("compositionend",()=>{s.isComposing=!1},{priority:"low"})}onDomEvent(r){this.fire(r.type,r,{data:r.data})}}class bo{constructor(r){this.files=function(s){const c=Array.from(s.files||[]),h=Array.from(s.items||[]);return c.length?c:h.filter(v=>"file"===v.kind).map(v=>v.getAsFile())}(r),this._native=r}get types(){return this._native.types}getData(r){return this._native.getData(r)}setData(r,s){this._native.setData(r,s)}set effectAllowed(r){this._native.effectAllowed=r}get effectAllowed(){return this._native.effectAllowed}set dropEffect(r){this._native.dropEffect=r}get dropEffect(){return this._native.dropEffect}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}class Pw extends Na{constructor(r){super(r),this.domEventType=["beforeinput"]}onDomEvent(r){const s=r.getTargetRanges(),c=this.view,h=c.document;let v=null,y=null,_=[];if(r.dataTransfer&&(v=new bo(r.dataTransfer)),null!==r.data?y=r.data:v&&(y=v.getData("text/plain")),h.selection.isFake)_=Array.from(h.selection.getRanges());else if(s.length)_=s.map(A=>c.domConverter.domRangeToView(A));else if(me.isAndroid){const A=r.target.ownerDocument.defaultView.getSelection();_=Array.from(c.domConverter.domSelectionToView(A).getRanges())}if(me.isAndroid&&"insertCompositionText"==r.inputType&&y&&y.endsWith("\n"))this.fire(r.type,r,{inputType:"insertParagraph",targetRanges:[c.createRange(_[0].end)]});else if("insertText"==r.inputType&&y&&y.includes("\n")){const A=y.split(/\n{1,2}/g);let S=_;for(let D=0;D<A.length;D++){const E=A[D];""!=E&&(this.fire(r.type,r,{data:E,dataTransfer:v,targetRanges:S,inputType:r.inputType,isComposing:r.isComposing}),S=[h.selection.getFirstRange()]),D+1<A.length&&(this.fire(r.type,r,{inputType:"insertParagraph",targetRanges:S}),S=[h.selection.getFirstRange()])}}else this.fire(r.type,r,{data:y,dataTransfer:v,targetRanges:_,inputType:r.inputType,isComposing:r.isComposing})}}function qn(f,...r){r.forEach(s=>{const c=Object.getOwnPropertyNames(s),h=Object.getOwnPropertySymbols(s);c.concat(h).forEach(v=>{if(v in f.prototype||"function"==typeof s&&("length"==v||"name"==v||"prototype"==v))return;const y=Object.getOwnPropertyDescriptor(s,v);y.enumerable=!1,Object.defineProperty(f.prototype,v,y)})})}const Qv=function(f){return"string"==typeof f||!Pt(f)&&Ci(f)&&"[object String]"==je(f)};function oc(f,r,s={},c=[]){const h=s&&s.xmlns,v=h?f.createElementNS(h,r):f.createElement(r);for(const y in s)v.setAttribute(y,s[y]);!Qv(c)&&kr(c)||(c=[c]);for(let y of c)Qv(y)&&(y=f.createTextNode(y)),v.appendChild(y);return v}function Oa(f){return"[object Range]"==Object.prototype.toString.apply(f)}function Bs(f){const r=f.ownerDocument.defaultView.getComputedStyle(f);return{top:parseInt(r.borderTopWidth,10),right:parseInt(r.borderRightWidth,10),bottom:parseInt(r.borderBottomWidth,10),left:parseInt(r.borderLeftWidth,10)}}const Ku=["top","right","bottom","left","width","height"];class Ue{constructor(r){const s=Oa(r);if(Object.defineProperty(this,"_source",{value:r._source||r,writable:!0,enumerable:!1}),bf(r)||s)if(s){const c=Ue.getDomRangeRects(r);Ur(this,Ue.getBoundingRect(c))}else Ur(this,r.getBoundingClientRect());else if(Ra(r)){const{innerWidth:c,innerHeight:h}=r;Ur(this,{top:0,right:c,bottom:h,left:0,width:c,height:h})}else Ur(this,r)}clone(){return new Ue(this)}moveTo(r,s){return this.top=s,this.right=r+this.width,this.bottom=s+this.height,this.left=r,this}moveBy(r,s){return this.top+=s,this.right+=r,this.left+=r,this.bottom+=s,this}getIntersection(r){const s={top:Math.max(this.top,r.top),right:Math.min(this.right,r.right),bottom:Math.min(this.bottom,r.bottom),left:Math.max(this.left,r.left),width:0,height:0};return s.width=s.right-s.left,s.height=s.bottom-s.top,s.width<0||s.height<0?null:new Ue(s)}getIntersectionArea(r){const s=this.getIntersection(r);return s?s.getArea():0}getArea(){return this.width*this.height}getVisible(){const r=this._source;let s=this.clone();if(!Xu(r)){let c=r.parentNode||r.commonAncestorContainer;for(;c&&!Xu(c);){const h=new Ue(c),v=s.getIntersection(h);if(!v)return null;v.getArea()<s.getArea()&&(s=v),c=c.parentNode}}return s}isEqual(r){for(const s of Ku)if(this[s]!==r[s])return!1;return!0}contains(r){const s=this.getIntersection(r);return!(!s||!s.isEqual(r))}excludeScrollbarsAndBorders(){const r=this._source;let s,c,h;if(Ra(r))s=r.innerWidth-r.document.documentElement.clientWidth,c=r.innerHeight-r.document.documentElement.clientHeight,h=r.getComputedStyle(r.document.documentElement).direction;else{const v=Bs(r);s=r.offsetWidth-r.clientWidth-v.left-v.right,c=r.offsetHeight-r.clientHeight-v.top-v.bottom,h=r.ownerDocument.defaultView.getComputedStyle(r).direction,this.left+=v.left,this.top+=v.top,this.right-=v.right,this.bottom-=v.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=s,"ltr"===h?this.right-=s:this.left+=s,this.height-=c,this.bottom-=c,this}static getDomRangeRects(r){const s=[],c=Array.from(r.getClientRects());if(c.length)for(const h of c)s.push(new Ue(h));else{let h=r.startContainer;Cn(h)&&(h=h.parentNode);const v=new Ue(h.getBoundingClientRect());v.right=v.left,v.width=0,s.push(v)}return s}static getBoundingRect(r){const s={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let c=0;for(const h of r)c++,s.left=Math.min(s.left,h.left),s.top=Math.min(s.top,h.top),s.right=Math.max(s.right,h.right),s.bottom=Math.max(s.bottom,h.bottom);return 0==c?null:(s.width=s.right-s.left,s.height=s.bottom-s.top,new Ue(s))}}function Ur(f,r){for(const s of Ku)f[s]=r[s]}function Xu(f){return!!bf(f)&&f===f.ownerDocument.body}function bf(f){return null!==f&&"object"==typeof f&&1===f.nodeType&&"function"==typeof f.getBoundingClientRect}class Xe{constructor(r,s){Xe._observerInstance||Xe._createObserver(),this._element=r,this._callback=s,Xe._addElementCallback(r,s),Xe._observerInstance.observe(r)}destroy(){Xe._deleteElementCallback(this._element,this._callback)}static _addElementCallback(r,s){Xe._elementCallbacks||(Xe._elementCallbacks=new Map);let c=Xe._elementCallbacks.get(r);c||(c=new Set,Xe._elementCallbacks.set(r,c)),c.add(s)}static _deleteElementCallback(r,s){const c=Xe._getElementCallbacks(r);c&&(c.delete(s),c.size||(Xe._elementCallbacks.delete(r),Xe._observerInstance.unobserve(r))),Xe._elementCallbacks&&!Xe._elementCallbacks.size&&(Xe._observerInstance=null,Xe._elementCallbacks=null)}static _getElementCallbacks(r){return Xe._elementCallbacks?Xe._elementCallbacks.get(r):null}static _createObserver(){Xe._observerInstance=new Yt.window.ResizeObserver(r=>{for(const s of r){const c=Xe._getElementCallbacks(s.target);if(c)for(const h of c)h(s)}})}}function Va(f){return r=>r+f}function Mi(f){return!!(f&&f.getClientRects&&f.getClientRects().length)}function xn(f){const r=f.next();return r.done?null:r.value}Xe._observerInstance=null,Xe._elementCallbacks=null;class Zn extends(tc(hn)){constructor(){super(),this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(r){if(this._elements.has(r))throw new U("focustracker-add-element-already-exist",this);this.listenTo(r,"focus",()=>this._focus(r),{useCapture:!0}),this.listenTo(r,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(r)}remove(r){r===this.focusedElement&&this._blur(),this._elements.has(r)&&(this.stopListening(r),this._elements.delete(r))}destroy(){this.stopListening()}_focus(r){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=r,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class gr{constructor(){this._listener=new Rs}listenTo(r){this._listener.listenTo(r,"keydown",(s,c)=>{this._listener.fire("_keydown:"+Di(c),c)})}set(r,s,c={}){const h=Fu(r);this._listener.listenTo(this._listener,"_keydown:"+h,(y,_)=>{s(_,()=>{_.preventDefault(),_.stopPropagation(),y.stop()}),y.return=!0},{priority:c.priority})}press(r){return!!this._listener.fire("_keydown:"+Di(r),r)}destroy(){this._listener.stopListening()}}class Jv extends Gr{constructor(r){super(r),this.document.on("keydown",(s,c)=>{if(this.isEnabled&&((h=c.keyCode)==Ce.arrowright||h==Ce.arrowleft||h==Ce.arrowup||h==Ce.arrowdown)){const v=new Yl(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(v,c),v.stop.called&&s.stop()}var h})}observe(){}}class Yx extends Gr{constructor(r){super(r);const s=this.document;s.on("keydown",(c,h)=>{if(!this.isEnabled||h.keyCode!=Ce.tab||h.ctrlKey)return;const v=new Yl(s,"tab",s.selection.getFirstRange());s.fire(v,h),v.stop.called&&c.stop()})}observe(){}}function qx(f,r,s){const c=r.clone().moveBy(0,s),h=r.clone().moveBy(0,-s),v=new Ue(f).excludeScrollbarsAndBorders();if(![h,c].every(y=>v.contains(y))){let{scrollX:y,scrollY:_}=f;tm(h,v)?_-=v.top-r.top+s:Rw(c,v)&&(_+=r.bottom-v.bottom+s),em(r,v)?y-=v.left-r.left+s:nm(r,v)&&(y+=r.right-v.right+s),f.scrollTo(y,_)}}function Zx(f,r){const s=Vt(f);let c,h;for(;f!=s.document.body;)h=r(),c=new Ue(f).excludeScrollbarsAndBorders(),c.contains(h)||(tm(h,c)?f.scrollTop-=c.top-h.top:Rw(h,c)&&(f.scrollTop+=h.bottom-c.bottom),em(h,c)?f.scrollLeft-=c.left-h.left:nm(h,c)&&(f.scrollLeft+=h.right-c.right)),f=f.parentNode}function Rw(f,r){return f.bottom>r.bottom}function tm(f,r){return f.top<r.top}function em(f,r){return f.left<r.left}function nm(f,r){return f.right>r.right}function Vt(f){return Oa(f)?f.startContainer.ownerDocument.defaultView:f.ownerDocument.defaultView}function wf(f){if(Oa(f)){let r=f.commonAncestorContainer;return Cn(r)&&(r=r.parentNode),r}return f.parentNode}function Fa(f,r){const s=Vt(f),c=new Ue(f);if(s===r)return c;{let h=s;for(;h!=r;){const y=new Ue(h.frameElement).excludeScrollbarsAndBorders();c.moveBy(y.left,y.top),h=h.parent}}return c}class $x extends hn{constructor(r){super(),this.document=new sf(r),this.domConverter=new Yu(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Nv(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new mw(this.document),this.addObserver(yf),this.addObserver(Wx),this.addObserver(yo),this.addObserver(Vv),this.addObserver(Hx),this.addObserver(Lw),this.addObserver(Jv),this.addObserver(Pw),this.addObserver(Yx),this.document.on("arrowKey",Px,{priority:"low"}),function(f){f.document.on("arrowKey",(r,s)=>function(c,h,v){if(h.keyCode==Ce.arrowright){const y=h.domTarget.ownerDocument.defaultView.getSelection(),_=1==y.rangeCount&&y.getRangeAt(0).collapsed;if(_||h.shiftKey){const D=v.domPositionToView(y.focusNode,y.focusOffset);if(null===D)return;let E=!1;const P=D.getLastMatchingPosition(z=>(z.item.is("uiElement")&&(E=!0),!(!z.item.is("uiElement")&&!z.item.is("attributeElement"))));if(E){const z=v.viewPositionToDom(P);_?y.collapse(z.parent,z.offset):y.extend(z.parent,z.offset)}}}}(0,s,f.domConverter),{priority:"low"})}(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(r,s="main"){const c=this.document.getRoot(s);c._name=r.tagName.toLowerCase();const h={};for(const{name:y,value:_}of Array.from(r.attributes))h[y]=_,"class"===y?this._writer.addClass(_.split(" "),c):this._writer.setAttribute(y,_,c);this._initialDomRootAttributes.set(r,h);const v=()=>{this._writer.setAttribute("contenteditable",(!c.isReadOnly).toString(),c),c.isReadOnly?this._writer.addClass("ck-read-only",c):this._writer.removeClass("ck-read-only",c)};v(),this.domRoots.set(s,r),this.domConverter.bindElements(r,c),this._renderer.markToSync("children",c),this._renderer.markToSync("attributes",c),this._renderer.domDocuments.add(r.ownerDocument),c.on("change:children",(y,_)=>this._renderer.markToSync("children",_)),c.on("change:attributes",(y,_)=>this._renderer.markToSync("attributes",_)),c.on("change:text",(y,_)=>this._renderer.markToSync("text",_)),c.on("change:isReadOnly",()=>this.change(v)),c.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const y of this._observers.values())y.observe(r,s)}detachDomRoot(r){const s=this.domRoots.get(r);Array.from(s.attributes).forEach(({name:h})=>s.removeAttribute(h));const c=this._initialDomRootAttributes.get(s);for(const h in c)s.setAttribute(h,c[h]);this.domRoots.delete(r),this.domConverter.unbindDomElement(s)}getDomRoot(r="main"){return this.domRoots.get(r)}addObserver(r){let s=this._observers.get(r);if(s)return s;s=new r(this),this._observers.set(r,s);for(const[c,h]of this.domRoots)s.observe(h,c);return s.enable(),s}getObserver(r){return this._observers.get(r)}disableObservers(){for(const r of this._observers.values())r.disable()}enableObservers(){for(const r of this._observers.values())r.enable()}scrollToTheSelection(){const r=this.document.selection.getFirstRange();r&&function({target:s,viewportOffset:c=0}){const h=Vt(s);let v=h,y=null;for(;v;){let _;_=wf(v==h?s:y),Zx(_,()=>Fa(s,v));const A=Fa(s,v);if(qx(v,A,c),v.parent!=v){if(y=v.frameElement,v=v.parent,!y)return}else v=null}}({target:this.domConverter.viewRangeToDom(r),viewportOffset:20})}focus(){if(!this.document.isFocused){const r=this.document.selection.editableElement;r&&(this.domConverter.focus(r),this.forceRender())}}change(r){if(this.isRenderingInProgress||this._postFixersInProgress)throw new U("cannot-change-view-tree",this);try{if(this._ongoingChange)return r(this._writer);this._ongoingChange=!0;const s=r(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),s}catch(s){U.rethrowUnexpectedError(s,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change(()=>{})}destroy(){for(const r of this._observers.values())r.destroy();this.document.destroy(),this.stopListening()}createPositionAt(r,s){return wt._createAt(r,s)}createPositionAfter(r){return wt._createAfter(r)}createPositionBefore(r){return wt._createBefore(r)}createRange(...r){return new te(...r)}createRangeOn(r){return te._createOn(r)}createRangeIn(r){return te._createIn(r)}createSelection(...r){return new rr(...r)}_disableRendering(r){this._renderingDisabled=r,0==r&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Ha{is(){throw new Error("is() method is abstract")}}class ja extends Ha{constructor(r){super(),this.parent=null,this._attrs=fr(r)}get document(){return null}get index(){let r;if(!this.parent)return null;if(null===(r=this.parent.getChildIndex(this)))throw new U("model-node-not-found-in-parent",this);return r}get startOffset(){let r;if(!this.parent)return null;if(null===(r=this.parent.getChildStartOffset(this)))throw new U("model-node-not-found-in-parent",this);return r}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const r=this.index;return null!==r&&this.parent.getChild(r+1)||null}get previousSibling(){const r=this.index;return null!==r&&this.parent.getChild(r-1)||null}get root(){let r=this;for(;r.parent;)r=r.parent;return r}isAttached(){return this.root.is("rootElement")}getPath(){const r=[];let s=this;for(;s.parent;)r.unshift(s.startOffset),s=s.parent;return r}getAncestors(r={}){const s=[];let c=r.includeSelf?this:this.parent;for(;c;)s[r.parentFirst?"push":"unshift"](c),c=c.parent;return s}getCommonAncestor(r,s={}){const c=this.getAncestors(s),h=r.getAncestors(s);let v=0;for(;c[v]==h[v]&&c[v];)v++;return 0===v?null:c[v-1]}isBefore(r){if(this==r||this.root!==r.root)return!1;const s=this.getPath(),c=r.getPath(),h=Ke(s,c);switch(h){case"prefix":return!0;case"extension":return!1;default:return s[h]<c[h]}}isAfter(r){return this!=r&&this.root===r.root&&!this.isBefore(r)}hasAttribute(r){return this._attrs.has(r)}getAttribute(r){return this._attrs.get(r)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const r={};return this._attrs.size&&(r.attributes=Array.from(this._attrs).reduce((s,c)=>(s[c[0]]=c[1],s),{})),r}_clone(r){return new ja(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(r,s){this._attrs.set(r,s)}_setAttributesTo(r){this._attrs=fr(r)}_removeAttribute(r){return this._attrs.delete(r)}_clearAttributes(){this._attrs.clear()}}ja.prototype.is=function(f){return"node"===f||"model:node"===f};class ac{constructor(r){this._nodes=[],r&&this._insertNodes(0,r)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((r,s)=>r+s.offsetSize,0)}getNode(r){return this._nodes[r]||null}getNodeIndex(r){const s=this._nodes.indexOf(r);return-1==s?null:s}getNodeStartOffset(r){const s=this.getNodeIndex(r);return null===s?null:this._nodes.slice(0,s).reduce((c,h)=>c+h.offsetSize,0)}indexToOffset(r){if(r==this._nodes.length)return this.maxOffset;const s=this._nodes[r];if(!s)throw new U("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(s)}offsetToIndex(r){let s=0;for(const c of this._nodes){if(r>=s&&r<s+c.offsetSize)return this.getNodeIndex(c);s+=c.offsetSize}if(s!=r)throw new U("model-nodelist-offset-out-of-bounds",this,{offset:r,nodeList:this});return this.length}_insertNodes(r,s){for(const c of s)if(!(c instanceof ja))throw new U("model-nodelist-insertnodes-not-node",this);this._nodes=function(c,h,v,y){if(Math.max(h.length,c.length)>1e4)return c.slice(0,v).concat(h).concat(c.slice(v+0,c.length));{const _=Array.from(c);return _.splice(v,0,...h),_}}(this._nodes,Array.from(s),r)}_removeNodes(r,s=1){return this._nodes.splice(r,s)}toJSON(){return this._nodes.map(r=>r.toJSON())}}class Qe extends ja{constructor(r,s){super(s),this._data=r||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const r=super.toJSON();return r.data=this.data,r}_clone(){return new Qe(this.data,this.getAttributes())}static fromJSON(r){return new Qe(r.data,r.attributes)}}Qe.prototype.is=function(f){return"$text"===f||"model:$text"===f||"text"===f||"model:text"===f||"node"===f||"model:node"===f};class wo extends Ha{constructor(r,s,c){if(super(),this.textNode=r,s<0||s>r.offsetSize)throw new U("model-textproxy-wrong-offsetintext",this);if(c<0||s+c>r.offsetSize)throw new U("model-textproxy-wrong-length",this);this.data=r.data.substring(s,s+c),this.offsetInText=s}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const r=this.textNode.getPath();return r.length>0&&(r[r.length-1]+=this.offsetInText),r}getAncestors(r={}){const s=[];let c=r.includeSelf?this:this.parent;for(;c;)s[r.parentFirst?"push":"unshift"](c),c=c.parent;return s}hasAttribute(r){return this.textNode.hasAttribute(r)}getAttribute(r){return this.textNode.getAttribute(r)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}wo.prototype.is=function(f){return"$textProxy"===f||"model:$textProxy"===f||"textProxy"===f||"model:textProxy"===f};class qe extends ja{constructor(r,s,c){super(s),this.name=r,this._children=new ac,c&&this._insertChild(0,c)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}getChild(r){return this._children.getNode(r)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(r){return this._children.getNodeIndex(r)}getChildStartOffset(r){return this._children.getNodeStartOffset(r)}offsetToIndex(r){return this._children.offsetToIndex(r)}getNodeByPath(r){let s=this;for(const c of r)s=s.getChild(s.offsetToIndex(c));return s}findAncestor(r,s={}){let c=s.includeSelf?this:this.parent;for(;c;){if(c.name===r)return c;c=c.parent}return null}toJSON(){const r=super.toJSON();if(r.name=this.name,this._children.length>0){r.children=[];for(const s of this._children)r.children.push(s.toJSON())}return r}_clone(r=!1){const s=r?Array.from(this._children).map(c=>c._clone(!0)):void 0;return new qe(this.name,this.getAttributes(),s)}_appendChild(r){this._insertChild(this.childCount,r)}_insertChild(r,s){const c="string"==typeof(h=s)?[new Qe(h)]:(kr(h)||(h=[h]),Array.from(h).map(v=>"string"==typeof v?new Qe(v):v instanceof wo?new Qe(v.data,v.getAttributes()):v));var h;for(const h of c)null!==h.parent&&h._remove(),h.parent=this;this._children._insertNodes(r,c)}_removeChildren(r,s=1){const c=this._children._removeNodes(r,s);for(const h of c)h.parent=null;return c}static fromJSON(r){let s;if(r.children){s=[];for(const c of r.children)s.push(c.name?qe.fromJSON(c):Qe.fromJSON(c))}return new qe(r.name,r.attributes,s)}}qe.prototype.is=function(f,r){return r?r===this.name&&("element"===f||"model:element"===f):"element"===f||"model:element"===f||"node"===f||"model:node"===f};class _o{constructor(r={}){if(!r.boundaries&&!r.startPosition)throw new U("model-tree-walker-no-start-position",null);const s=r.direction||"forward";if("forward"!=s&&"backward"!=s)throw new U("model-tree-walker-unknown-direction",r,{direction:s});this.direction=s,this.boundaries=r.boundaries||null,this.position=r.startPosition?r.startPosition.clone():bt._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!r.singleCharacters,this.shallow=!!r.shallow,this.ignoreElementEnd=!!r.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(r){let s,c,h,v;do{h=this.position,v=this._visitedParent,({done:s,value:c}=this.next())}while(!s&&r(c));s||(this.position=h,this._visitedParent=v)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const r=this.position,s=this.position.clone(),c=this._visitedParent;if(null===c.parent&&s.offset===c.maxOffset)return{done:!0,value:void 0};if(c===this._boundaryEndParent&&s.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const h=lc(s,c),v=h||Nw(s,c,h);if(v instanceof qe)return this.shallow?s.offset++:(s.path.push(0),this._visitedParent=v),this.position=s,sc("elementStart",v,r,s,1);if(v instanceof Qe){let y;if(this.singleCharacters)y=1;else{let S=v.endOffset;this._boundaryEndParent==c&&this.boundaries.end.offset<S&&(S=this.boundaries.end.offset),y=S-s.offset}const A=new wo(v,s.offset-v.startOffset,y);return s.offset+=y,this.position=s,sc("text",A,r,s,y)}return s.path.pop(),s.offset++,this.position=s,this._visitedParent=c.parent,this.ignoreElementEnd?this._next():sc("elementEnd",c,r,s)}_previous(){const r=this.position,s=this.position.clone(),c=this._visitedParent;if(null===c.parent&&0===s.offset)return{done:!0,value:void 0};if(c==this._boundaryStartParent&&s.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const h=s.parent,v=lc(s,h),y=v||Ie(s,h,v);if(y instanceof qe)return s.offset--,this.shallow?(this.position=s,sc("elementStart",y,r,s,1)):(s.path.push(y.maxOffset),this.position=s,this._visitedParent=y,this.ignoreElementEnd?this._previous():sc("elementEnd",y,r,s));if(y instanceof Qe){let _;if(this.singleCharacters)_=1;else{let D=y.startOffset;this._boundaryStartParent==c&&this.boundaries.start.offset>D&&(D=this.boundaries.start.offset),_=s.offset-D}const S=new wo(y,s.offset-y.startOffset-_,_);return s.offset-=_,this.position=s,sc("text",S,r,s,_)}return s.path.pop(),this.position=s,this._visitedParent=c.parent,sc("elementStart",c,r,s,1)}}function sc(f,r,s,c,h){return{done:!1,value:{type:f,item:r,previousPosition:s,nextPosition:c,length:h}}}class bt extends Ha{constructor(r,s,c="toNone"){if(super(),!r.is("element")&&!r.is("documentFragment"))throw new U("model-position-root-invalid",r);if(!(s instanceof Array)||0===s.length)throw new U("model-position-path-incorrect-format",r,{path:s});r.is("rootElement")?s=s.slice():(s=[...r.getPath(),...s],r=r.root),this.root=r,this.path=s,this.stickiness=c}get offset(){return this.path[this.path.length-1]}set offset(r){this.path[this.path.length-1]=r}get parent(){let r=this.root;for(let s=0;s<this.path.length-1;s++)if(r=r.getChild(r.offsetToIndex(this.path[s])),!r)throw new U("model-position-path-incorrect",this,{position:this});if(r.is("$text"))throw new U("model-position-path-incorrect",this,{position:this});return r}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return lc(this,this.parent)}get nodeAfter(){const r=this.parent;return Nw(this,r,lc(this,r))}get nodeBefore(){const r=this.parent;return Ie(this,r,lc(this,r))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(r){if(this.root!=r.root)return"different";const s=Ke(this.path,r.path);switch(s){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[s]<r.path[s]?"before":"after"}}getLastMatchingPosition(r,s={}){s.startPosition=this;const c=new _o(s);return c.skip(r),c.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const r=this.parent;return r.is("documentFragment")?[r]:r.getAncestors({includeSelf:!0})}findAncestor(r){const s=this.parent;return s.is("element")?s.findAncestor(r,{includeSelf:!0}):null}getCommonPath(r){if(this.root!=r.root)return[];const s=Ke(this.path,r.path),c="string"==typeof s?Math.min(this.path.length,r.path.length):s;return this.path.slice(0,c)}getCommonAncestor(r){const s=this.getAncestors(),c=r.getAncestors();let h=0;for(;s[h]==c[h]&&s[h];)h++;return 0===h?null:s[h-1]}getShiftedBy(r){const s=this.clone(),c=s.offset+r;return s.offset=c<0?0:c,s}isAfter(r){return"after"==this.compareWith(r)}isBefore(r){return"before"==this.compareWith(r)}isEqual(r){return"same"==this.compareWith(r)}isTouching(r){if(this.root!==r.root)return!1;const s=Math.min(this.path.length,r.path.length);for(let c=0;c<s;c++){const h=this.path[c]-r.path[c];if(h<-1||h>1)return!1;if(1===h)return _t(r,this,c);if(-1===h)return _t(this,r,c)}return this.path.length===r.path.length||on(this.path.length>r.path.length?this.path:r.path,s)}hasSameParentAs(r){return this.root===r.root&&"same"==Ke(this.getParentPath(),r.getParentPath())}getTransformedByOperation(r){let s;switch(r.type){case"insert":s=this._getTransformedByInsertOperation(r);break;case"move":case"remove":case"reinsert":s=this._getTransformedByMoveOperation(r);break;case"split":s=this._getTransformedBySplitOperation(r);break;case"merge":s=this._getTransformedByMergeOperation(r);break;default:s=bt._createAt(this)}return s}_getTransformedByInsertOperation(r){return this._getTransformedByInsertion(r.position,r.howMany)}_getTransformedByMoveOperation(r){return this._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}_getTransformedBySplitOperation(r){const s=r.movedRange;return s.containsPosition(this)||s.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(r.splitPosition,r.moveTargetPosition):r.graveyardPosition?this._getTransformedByMove(r.graveyardPosition,r.insertionPosition,1):this._getTransformedByInsertion(r.insertionPosition,1)}_getTransformedByMergeOperation(r){const s=r.movedRange;let c;return s.containsPosition(this)||s.start.isEqual(this)?(c=this._getCombined(r.sourcePosition,r.targetPosition),r.sourcePosition.isBefore(r.targetPosition)&&(c=c._getTransformedByDeletion(r.deletionPosition,1))):c=this.isEqual(r.deletionPosition)?bt._createAt(r.deletionPosition):this._getTransformedByMove(r.deletionPosition,r.graveyardPosition,1),c}_getTransformedByDeletion(r,s){const c=bt._createAt(this);if(this.root!=r.root)return c;if("same"==Ke(r.getParentPath(),this.getParentPath())){if(r.offset<this.offset){if(r.offset+s>this.offset)return null;c.offset-=s}}else if("prefix"==Ke(r.getParentPath(),this.getParentPath())){const h=r.path.length-1;if(r.offset<=this.path[h]){if(r.offset+s>this.path[h])return null;c.path[h]-=s}}return c}_getTransformedByInsertion(r,s){const c=bt._createAt(this);if(this.root!=r.root)return c;if("same"==Ke(r.getParentPath(),this.getParentPath()))(r.offset<this.offset||r.offset==this.offset&&"toPrevious"!=this.stickiness)&&(c.offset+=s);else if("prefix"==Ke(r.getParentPath(),this.getParentPath())){const h=r.path.length-1;r.offset<=this.path[h]&&(c.path[h]+=s)}return c}_getTransformedByMove(r,s,c){if(s=s._getTransformedByDeletion(r,c),r.isEqual(s))return bt._createAt(this);const h=this._getTransformedByDeletion(r,c);return null===h||r.isEqual(this)&&"toNext"==this.stickiness||r.getShiftedBy(c).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(r,s):h._getTransformedByInsertion(s,c)}_getCombined(r,s){const c=r.path.length-1,h=bt._createAt(s);return h.stickiness=this.stickiness,h.offset=h.offset+this.path[c]-r.offset,h.path=[...h.path,...this.path.slice(c+1)],h}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(r,s,c="toNone"){if(r instanceof bt)return new bt(r.root,r.path,r.stickiness);{const h=r;if("end"==s)s=h.maxOffset;else{if("before"==s)return this._createBefore(h,c);if("after"==s)return this._createAfter(h,c);if(0!==s&&!s)throw new U("model-createpositionat-offset-required",[this,r])}if(!h.is("element")&&!h.is("documentFragment"))throw new U("model-position-parent-incorrect",[this,r]);const v=h.getPath();return v.push(s),new this(h.root,v,c)}}static _createAfter(r,s){if(!r.parent)throw new U("model-position-after-root",[this,r],{root:r});return this._createAt(r.parent,r.endOffset,s)}static _createBefore(r,s){if(!r.parent)throw new U("model-position-before-root",r,{root:r});return this._createAt(r.parent,r.startOffset,s)}static fromJSON(r,s){if("$graveyard"===r.root){const c=new bt(s.graveyard,r.path);return c.stickiness=r.stickiness,c}if(!s.getRoot(r.root))throw new U("model-position-fromjson-no-root",s,{rootName:r.root});return new bt(s.getRoot(r.root),r.path,r.stickiness)}}function lc(f,r){const s=r.getChild(r.offsetToIndex(f.offset));return s&&s.is("$text")&&s.startOffset<f.offset?s:null}function Nw(f,r,s){return null!==s?null:r.getChild(r.offsetToIndex(f.offset))}function Ie(f,r,s){return null!==s?null:r.getChild(r.offsetToIndex(f.offset)-1)}function _t(f,r,s){return s+1!==f.path.length&&!!on(r.path,s+1)&&!!function(c,h){let v=c.parent,y=c.path.length-1,_=0;for(;y>=h;){if(c.path[y]+_!==v.maxOffset)return!1;_=1,y--,v=v.parent}return!0}(f,s+1)}function on(f,r){for(;r<f.length;){if(0!==f[r])return!1;r++}return!0}bt.prototype.is=function(f){return"position"===f||"model:position"===f};class lt extends Ha{constructor(r,s){super(),this.start=bt._createAt(r),this.end=bt._createAt(s||r),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new _o({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==Ke(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(r){return r.isAfter(this.start)&&r.isBefore(this.end)}containsRange(r,s=!1){r.isCollapsed&&(s=!1);const c=this.containsPosition(r.start)||s&&this.start.isEqual(r.start),h=this.containsPosition(r.end)||s&&this.end.isEqual(r.end);return c&&h}containsItem(r){const s=bt._createBefore(r);return this.containsPosition(s)||this.start.isEqual(s)}isEqual(r){return this.start.isEqual(r.start)&&this.end.isEqual(r.end)}isIntersecting(r){return this.start.isBefore(r.end)&&this.end.isAfter(r.start)}getDifference(r){const s=[];return this.isIntersecting(r)?(this.containsPosition(r.start)&&s.push(new lt(this.start,r.start)),this.containsPosition(r.end)&&s.push(new lt(r.end,this.end))):s.push(new lt(this.start,this.end)),s}getIntersection(r){if(this.isIntersecting(r)){let s=this.start,c=this.end;return this.containsPosition(r.start)&&(s=r.start),this.containsPosition(r.end)&&(c=r.end),new lt(s,c)}return null}getJoined(r,s=!1){let c=this.isIntersecting(r);if(c||(c=this.start.isBefore(r.start)?s?this.end.isTouching(r.start):this.end.isEqual(r.start):s?r.end.isTouching(this.start):r.end.isEqual(this.start)),!c)return null;let h=this.start,v=this.end;return r.start.isBefore(h)&&(h=r.start),r.end.isAfter(v)&&(v=r.end),new lt(h,v)}getMinimalFlatRanges(){const r=[],s=this.start.getCommonPath(this.end).length,c=bt._createAt(this.start);let h=c.parent;for(;c.path.length>s+1;){const v=h.maxOffset-c.offset;0!==v&&r.push(new lt(c,c.getShiftedBy(v))),c.path=c.path.slice(0,-1),c.offset++,h=h.parent}for(;c.path.length<=this.end.path.length;){const v=this.end.path[c.path.length-1],y=v-c.offset;0!==y&&r.push(new lt(c,c.getShiftedBy(y))),c.offset=v,c.path.push(0)}return r}getWalker(r={}){return r.boundaries=this,new _o(r)}*getItems(r={}){r.boundaries=this,r.ignoreElementEnd=!0;const s=new _o(r);for(const c of s)yield c.item}*getPositions(r={}){r.boundaries=this;const s=new _o(r);yield s.position;for(const c of s)yield c.nextPosition}getTransformedByOperation(r){switch(r.type){case"insert":return this._getTransformedByInsertOperation(r);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(r);case"split":return[this._getTransformedBySplitOperation(r)];case"merge":return[this._getTransformedByMergeOperation(r)]}return[new lt(this.start,this.end)]}getTransformedByOperations(r){const s=[new lt(this.start,this.end)];for(const c of r)for(let h=0;h<s.length;h++){const v=s[h].getTransformedByOperation(c);s.splice(h,1,...v),h+=v.length-1}for(let c=0;c<s.length;c++){const h=s[c];for(let v=c+1;v<s.length;v++){const y=s[v];(h.containsRange(y)||y.containsRange(h)||h.isEqual(y))&&s.splice(v,1)}}return s}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const r=this.start.nodeAfter,s=this.end.nodeBefore;return r&&r.is("element")&&r===s?r:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(r,s=!1){return this._getTransformedByInsertion(r.position,r.howMany,s)}_getTransformedByMoveOperation(r,s=!1){return this._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany,s)}_getTransformedBySplitOperation(r){const s=this.start._getTransformedBySplitOperation(r);let c=this.end._getTransformedBySplitOperation(r);return this.end.isEqual(r.insertionPosition)&&(c=this.end.getShiftedBy(1)),s.root!=c.root&&(c=this.end.getShiftedBy(-1)),new lt(s,c)}_getTransformedByMergeOperation(r){if(this.start.isEqual(r.targetPosition)&&this.end.isEqual(r.deletionPosition))return new lt(this.start);let s=this.start._getTransformedByMergeOperation(r),c=this.end._getTransformedByMergeOperation(r);return s.root!=c.root&&(c=this.end.getShiftedBy(-1)),s.isAfter(c)?(r.sourcePosition.isBefore(r.targetPosition)?(s=bt._createAt(c),s.offset=0):(r.deletionPosition.isEqual(s)||(c=r.deletionPosition),s=r.targetPosition),new lt(s,c)):new lt(s,c)}_getTransformedByInsertion(r,s,c=!1){if(c&&this.containsPosition(r))return[new lt(this.start,r),new lt(r.getShiftedBy(s),this.end._getTransformedByInsertion(r,s))];{const h=new lt(this.start,this.end);return h.start=h.start._getTransformedByInsertion(r,s),h.end=h.end._getTransformedByInsertion(r,s),[h]}}_getTransformedByMove(r,s,c,h=!1){if(this.isCollapsed){const E=this.start._getTransformedByMove(r,s,c);return[new lt(E)]}const v=lt._createFromPositionAndShift(r,c),y=s._getTransformedByDeletion(r,c);if(this.containsPosition(s)&&!h&&(v.containsPosition(this.start)||v.containsPosition(this.end))){const E=this.start._getTransformedByMove(r,s,c),P=this.end._getTransformedByMove(r,s,c);return[new lt(E,P)]}let _;const A=this.getDifference(v);let S=null;const D=this.getIntersection(v);if(1==A.length?S=new lt(A[0].start._getTransformedByDeletion(r,c),A[0].end._getTransformedByDeletion(r,c)):2==A.length&&(S=new lt(this.start,this.end._getTransformedByDeletion(r,c))),_=S?S._getTransformedByInsertion(y,c,null!==D||h):[],D){const E=new lt(D.start._getCombined(v.start,y),D.end._getCombined(v.start,y));2==_.length?_.splice(1,0,E):_.push(E)}return _}_getTransformedByDeletion(r,s){let c=this.start._getTransformedByDeletion(r,s),h=this.end._getTransformedByDeletion(r,s);return null==c&&null==h?null:(null==c&&(c=r),null==h&&(h=r),new lt(c,h))}static _createFromPositionAndShift(r,s){const c=r,h=r.getShiftedBy(s);return s>0?new this(c,h):new this(h,c)}static _createIn(r){return new this(bt._createAt(r,0),bt._createAt(r,r.maxOffset))}static _createOn(r){return this._createFromPositionAndShift(bt._createBefore(r),r.offsetSize)}static _createFromRanges(r){if(0===r.length)throw new U("range-create-from-ranges-empty-array",null);if(1==r.length)return r[0].clone();const s=r[0];r.sort((v,y)=>v.start.isAfter(y.start)?1:-1);const c=r.indexOf(s),h=new this(s.start,s.end);if(c>0)for(let v=c-1;r[v].end.isEqual(h.start);v++)h.start=bt._createAt(r[v].start);for(let v=c+1;v<r.length&&r[v].start.isEqual(h.end);v++)h.end=bt._createAt(r[v].end);return h}static fromJSON(r,s){return new this(bt.fromJSON(r.start,s),bt.fromJSON(r.end,s))}}lt.prototype.is=function(f){return"range"===f||"model:range"===f};class Yi extends Ft{constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(r,s)=>{if(s.viewPosition)return;const c=this._modelToViewMapping.get(s.modelPosition.parent);if(!c)throw new U("mapping-model-position-view-parent-not-found",this,{modelPosition:s.modelPosition});s.viewPosition=this.findPositionIn(c,s.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(r,s)=>{if(s.modelPosition)return;const c=this.findMappedViewAncestor(s.viewPosition),h=this._viewToModelMapping.get(c),v=this._toModelOffset(s.viewPosition.parent,s.viewPosition.offset,c);s.modelPosition=bt._createAt(h,v)},{priority:"low"})}bindElements(r,s){this._modelToViewMapping.set(r,s),this._viewToModelMapping.set(s,r)}unbindViewElement(r,s={}){const c=this.toModelElement(r);if(this._elementToMarkerNames.has(r))for(const h of this._elementToMarkerNames.get(r))this._unboundMarkerNames.add(h);s.defer?this._deferredBindingRemovals.set(r,r.root):(this._viewToModelMapping.delete(r),this._modelToViewMapping.get(c)==r&&this._modelToViewMapping.delete(c))}unbindModelElement(r){const s=this.toViewElement(r);this._modelToViewMapping.delete(r),this._viewToModelMapping.get(s)==r&&this._viewToModelMapping.delete(s)}bindElementToMarker(r,s){const c=this._markerNameToElements.get(s)||new Set;c.add(r);const h=this._elementToMarkerNames.get(r)||new Set;h.add(s),this._markerNameToElements.set(s,c),this._elementToMarkerNames.set(r,h)}unbindElementFromMarkerName(r,s){const c=this._markerNameToElements.get(s);c&&(c.delete(r),0==c.size&&this._markerNameToElements.delete(s));const h=this._elementToMarkerNames.get(r);h&&(h.delete(s),0==h.size&&this._elementToMarkerNames.delete(r))}flushUnboundMarkerNames(){const r=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),r}flushDeferredBindings(){for(const[r,s]of this._deferredBindingRemovals)r.root==s&&this.unbindViewElement(r);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(r){return this._viewToModelMapping.get(r)}toViewElement(r){return this._modelToViewMapping.get(r)}toModelRange(r){return new lt(this.toModelPosition(r.start),this.toModelPosition(r.end))}toViewRange(r){return new te(this.toViewPosition(r.start),this.toViewPosition(r.end))}toModelPosition(r){const s={viewPosition:r,mapper:this};return this.fire("viewToModelPosition",s),s.modelPosition}toViewPosition(r,s={}){const c={modelPosition:r,mapper:this,isPhantom:s.isPhantom};return this.fire("modelToViewPosition",c),c.viewPosition}markerNameToElements(r){const s=this._markerNameToElements.get(r);if(!s)return null;const c=new Set;for(const h of s)if(h.is("attributeElement"))for(const v of h.getElementsWithSameId())c.add(v);else c.add(h);return c}registerViewToModelLength(r,s){this._viewToModelLengthCallbacks.set(r,s)}findMappedViewAncestor(r){let s=r.parent;for(;!this._viewToModelMapping.has(s);)s=s.parent;return s}_toModelOffset(r,s,c){if(c!=r)return this._toModelOffset(r.parent,r.index,c)+this._toModelOffset(r,s,r);if(r.is("$text"))return s;let h=0;for(let v=0;v<s;v++)h+=this.getModelLength(r.getChild(v));return h}getModelLength(r){if(this._viewToModelLengthCallbacks.get(r.name))return this._viewToModelLengthCallbacks.get(r.name)(r);if(this._viewToModelMapping.has(r))return 1;if(r.is("$text"))return r.data.length;if(r.is("uiElement"))return 0;{let s=0;for(const c of r.getChildren())s+=this.getModelLength(c);return s}}findPositionIn(r,s){let c,h=0,v=0,y=0;if(r.is("$text"))return new wt(r,s);for(;v<s;)c=r.getChild(y),h=this.getModelLength(c),v+=h,y++;return v==s?this._moveViewPositionToTextNode(new wt(r,y)):this.findPositionIn(c,s-(v-h))}_moveViewPositionToTextNode(r){const s=r.nodeBefore,c=r.nodeAfter;return s instanceof Te?new wt(s,s.data.length):c instanceof Te?new wt(c,0):r}}class Kx{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(r,s){s=Qu(s),r instanceof wo&&(r=this._getSymbolForTextProxy(r)),this._consumable.has(r)||this._consumable.set(r,new Map),this._consumable.get(r).set(s,!0)}consume(r,s){return s=Qu(s),r instanceof wo&&(r=this._getSymbolForTextProxy(r)),!!this.test(r,s)&&(this._consumable.get(r).set(s,!1),!0)}test(r,s){s=Qu(s),r instanceof wo&&(r=this._getSymbolForTextProxy(r));const c=this._consumable.get(r);if(void 0===c)return null;const h=c.get(s);return void 0===h?null:h}revert(r,s){s=Qu(s),r instanceof wo&&(r=this._getSymbolForTextProxy(r));const c=this.test(r,s);return!1===c?(this._consumable.get(r).set(s,!0),!0):!0!==c&&null}verifyAllConsumed(r){const s=[];for(const[c,h]of this._consumable)for(const[v,y]of h){const _=v.split(":")[0];y&&r==_&&s.push({event:v,item:c.name||c.description})}if(s.length)throw new U("conversion-model-consumable-not-consumed",null,{items:s})}_getSymbolForTextProxy(r){let s=null;const c=this._textProxyRegistry.get(r.startOffset);if(c){const h=c.get(r.endOffset);h&&(s=h.get(r.parent))}return s||(s=this._addSymbolForTextProxy(r)),s}_addSymbolForTextProxy(r){const s=r.startOffset,c=r.endOffset,h=r.parent,v=Symbol("$textProxy:"+r.data);let y,_;return y=this._textProxyRegistry.get(s),y||(y=new Map,this._textProxyRegistry.set(s,y)),_=y.get(c),_||(_=new Map,y.set(c,_)),_.set(h,v),v}}function Qu(f){const r=f.split(":");return"insert"==r[0]?r[0]:"addMarker"==r[0]||"removeMarker"==r[0]?f:r.length>1?r[0]+":"+r[1]:r[0]}class Xx extends Ft{constructor(r){super(),this._conversionApi={dispatcher:this,...r},this._firedEventsMap=new WeakMap}convertChanges(r,s,c){const h=this._createConversionApi(c,r.getRefreshedItems());for(const y of r.getMarkersToRemove())this._convertMarkerRemove(y.name,y.range,h);const v=this._reduceChanges(r.getChanges());for(const y of v)"insert"===y.type?this._convertInsert(lt._createFromPositionAndShift(y.position,y.length),h):"reinsert"===y.type?this._convertReinsert(lt._createFromPositionAndShift(y.position,y.length),h):"remove"===y.type?this._convertRemove(y.position,y.length,y.name,h):this._convertAttribute(y.range,y.attributeKey,y.attributeOldValue,y.attributeNewValue,h);for(const y of h.mapper.flushUnboundMarkerNames()){const _=s.get(y).getRange();this._convertMarkerRemove(y,_,h),this._convertMarkerAdd(y,_,h)}for(const y of r.getMarkersToAdd())this._convertMarkerAdd(y.name,y.range,h);h.mapper.flushDeferredBindings(),h.consumable.verifyAllConsumed("insert")}convert(r,s,c,h={}){const v=this._createConversionApi(c,void 0,h);this._convertInsert(r,v);for(const[y,_]of s)this._convertMarkerAdd(y,_,v);v.consumable.verifyAllConsumed("insert")}convertSelection(r,s,c){const h=Array.from(s.getMarkersAtPosition(r.getFirstPosition())),v=this._createConversionApi(c);if(this._addConsumablesForSelection(v.consumable,r,h),this.fire("selection",{selection:r},v),r.isCollapsed){for(const y of h){const _=y.getRange();if(!Bw(r.getFirstPosition(),y,v.mapper))continue;const A={item:r,markerName:y.name,markerRange:_};v.consumable.test(r,"addMarker:"+y.name)&&this.fire(`addMarker:${y.name}`,A,v)}for(const y of r.getAttributeKeys()){const _={item:r,range:r.getFirstRange(),attributeKey:y,attributeOldValue:null,attributeNewValue:r.getAttribute(y)};v.consumable.test(r,"attribute:"+_.attributeKey)&&this.fire(`attribute:${_.attributeKey}:$text`,_,v)}}}_convertInsert(r,s,c={}){c.doNotAddConsumables||this._addConsumablesForInsert(s.consumable,Array.from(r));for(const h of Array.from(r.getWalker({shallow:!0})).map(zw))this._testAndFire("insert",h,s)}_convertRemove(r,s,c,h){this.fire(`remove:${c}`,{position:r,length:s},h)}_convertAttribute(r,s,c,h,v){this._addConsumablesForRange(v.consumable,r,`attribute:${s}`);for(const y of r){const _={item:y.item,range:lt._createFromPositionAndShift(y.previousPosition,y.length),attributeKey:s,attributeOldValue:c,attributeNewValue:h};this._testAndFire(`attribute:${s}`,_,v)}}_convertReinsert(r,s){const c=Array.from(r.getWalker({shallow:!0}));this._addConsumablesForInsert(s.consumable,c);for(const h of c.map(zw))this._testAndFire("insert",{...h,reconversion:!0},s)}_convertMarkerAdd(r,s,c){if("$graveyard"==s.root.rootName)return;const h=`addMarker:${r}`;if(c.consumable.add(s,h),this.fire(h,{markerName:r,markerRange:s},c),c.consumable.consume(s,h)){this._addConsumablesForRange(c.consumable,s,h);for(const v of s.getItems()){if(!c.consumable.test(v,h))continue;const y={item:v,range:lt._createOn(v),markerName:r,markerRange:s};this.fire(h,y,c)}}}_convertMarkerRemove(r,s,c){"$graveyard"!=s.root.rootName&&this.fire(`removeMarker:${r}`,{markerName:r,markerRange:s},c)}_reduceChanges(r){const s={changes:r};return this.fire("reduceChanges",s),s.changes}_addConsumablesForInsert(r,s){for(const c of s){const h=c.item;if(null===r.test(h,"insert")){r.add(h,"insert");for(const v of h.getAttributeKeys())r.add(h,"attribute:"+v)}}return r}_addConsumablesForRange(r,s,c){for(const h of s.getItems())r.add(h,c);return r}_addConsumablesForSelection(r,s,c){r.add(s,"selection");for(const h of c)r.add(s,"addMarker:"+h.name);for(const h of s.getAttributeKeys())r.add(s,"attribute:"+h);return r}_testAndFire(r,s,c){const h=`${r}:${(S=s).item.is("element")?S.item.name:"$text"}`,v=s.item.is("$textProxy")?c.consumable._getSymbolForTextProxy(s.item):s.item,y=this._firedEventsMap.get(c),_=y.get(v);var S;if(_){if(_.has(h))return;_.add(h)}else y.set(v,new Set([h]));this.fire(h,s,c)}_testAndFireAddAttributes(r,s){const c={item:r,range:lt._createOn(r)};for(const h of c.item.getAttributeKeys())c.attributeKey=h,c.attributeOldValue=null,c.attributeNewValue=c.item.getAttribute(h),this._testAndFire(`attribute:${h}`,c,s)}_createConversionApi(r,s=new Set,c={}){const h={...this._conversionApi,consumable:new Kx,writer:r,options:c,convertItem:v=>this._convertInsert(lt._createOn(v),h),convertChildren:v=>this._convertInsert(lt._createIn(v),h,{doNotAddConsumables:!0}),convertAttributes:v=>this._testAndFireAddAttributes(v,h),canReuseView:v=>!s.has(h.mapper.toModelElement(v))};return this._firedEventsMap.set(h,new Map),h}}function Bw(f,r,s){const c=r.getRange(),h=Array.from(f.getAncestors());return h.shift(),h.reverse(),!h.some(v=>{if(c.containsItem(v))return!!s.toViewElement(v).getCustomProperty("addHighlight")})}function zw(f){return{item:f.item,range:lt._createFromPositionAndShift(f.previousPosition,f.length)}}class qi extends(_r(Ha)){constructor(...r){super(),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,r.length&&this.setTo(...r)}get anchor(){if(this._ranges.length>0){const r=this._ranges[this._ranges.length-1];return this._lastRangeBackward?r.end:r.start}return null}get focus(){if(this._ranges.length>0){const r=this._ranges[this._ranges.length-1];return this._lastRangeBackward?r.start:r.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(r){if(this.rangeCount!=r.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(r.anchor)||!this.focus.isEqual(r.focus))return!1;for(const s of this._ranges){let c=!1;for(const h of r._ranges)if(s.isEqual(h)){c=!0;break}if(!c)return!1}return!0}*getRanges(){for(const r of this._ranges)yield new lt(r.start,r.end)}getFirstRange(){let r=null;for(const s of this._ranges)r&&!s.start.isBefore(r.start)||(r=s);return r?new lt(r.start,r.end):null}getLastRange(){let r=null;for(const s of this._ranges)r&&!s.end.isAfter(r.end)||(r=s);return r?new lt(r.start,r.end):null}getFirstPosition(){const r=this.getFirstRange();return r?r.start.clone():null}getLastPosition(){const r=this.getLastRange();return r?r.end.clone():null}setTo(...r){let[s,c,h]=r;if("object"==typeof c&&(h=c,c=void 0),null===s)this._setRanges([]);else if(s instanceof qi)this._setRanges(s.getRanges(),s.isBackward);else if(s&&"function"==typeof s.getRanges)this._setRanges(s.getRanges(),s.isBackward);else if(s instanceof lt)this._setRanges([s],!!h&&!!h.backward);else if(s instanceof bt)this._setRanges([new lt(s)]);else if(s instanceof ja){const v=!!h&&!!h.backward;let y;if("in"==c)y=lt._createIn(s);else if("on"==c)y=lt._createOn(s);else{if(void 0===c)throw new U("model-selection-setto-required-second-parameter",[this,s]);y=new lt(bt._createAt(s,c))}this._setRanges([y],v)}else{if(!kr(s))throw new U("model-selection-setto-not-selectable",[this,s]);this._setRanges(s,h&&!!h.backward)}}_setRanges(r,s=!1){const c=Array.from(r),h=c.some(v=>{if(!(v instanceof lt))throw new U("model-selection-set-ranges-not-range",[this,r]);return this._ranges.every(y=>!y.isEqual(v))});(c.length!==this._ranges.length||h)&&(this._replaceAllRanges(c),this._lastRangeBackward=!!s,this.fire("change:range",{directChange:!0}))}setFocus(r,s){if(null===this.anchor)throw new U("model-selection-setfocus-no-ranges",[this,r]);const c=bt._createAt(r,s);if("same"==c.compareWith(this.focus))return;const h=this.anchor;this._ranges.length&&this._popRange(),"before"==c.compareWith(h)?(this._pushRange(new lt(c,h)),this._lastRangeBackward=!0):(this._pushRange(new lt(h,c)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(r){return this._attrs.get(r)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(r){return this._attrs.has(r)}removeAttribute(r){this.hasAttribute(r)&&(this._attrs.delete(r),this.fire("change:attribute",{attributeKeys:[r],directChange:!0}))}setAttribute(r,s){this.getAttribute(r)!==s&&(this._attrs.set(r,s),this.fire("change:attribute",{attributeKeys:[r],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const r=new WeakSet;for(const s of this.getRanges()){const c=Ow(s.start,r);c&&Ii(c,s)&&(yield c);for(const v of s.getWalker()){const y=v.item;"elementEnd"==v.type&&_f(y,r,s)&&(yield y)}const h=Ow(s.end,r);h&&!s.end.isTouching(bt._createAt(h,0))&&Ii(h,s)&&(yield h)}}containsEntireContent(r=this.anchor.root){const s=bt._createAt(r,0),c=bt._createAt(r,"end");return s.isTouching(this.getFirstPosition())&&c.isTouching(this.getLastPosition())}_pushRange(r){this._checkRange(r),this._ranges.push(new lt(r.start,r.end))}_checkRange(r){for(let s=0;s<this._ranges.length;s++)if(r.isIntersecting(this._ranges[s]))throw new U("model-selection-range-intersects",[this,r],{addedRange:r,intersectingRange:this._ranges[s]})}_replaceAllRanges(r){this._removeAllRanges();for(const s of r)this._pushRange(s)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function rm(f,r){return!r.has(f)&&(r.add(f),f.root.document.model.schema.isBlock(f)&&!!f.parent)}function _f(f,r,s){return rm(f,r)&&Ii(f,s)}function Ow(f,r){const s=f.parent.root.document.model.schema,c=f.parent.getAncestors({parentFirst:!0,includeSelf:!0});let h=!1;const v=c.find(y=>!h&&(h=s.isLimit(y),!h&&rm(y,r)));return c.forEach(y=>r.add(y)),v}function Ii(f,r){const s=function(c){const h=c.root.document.model.schema;let v=c.parent;for(;v;){if(h.isBlock(v))return v;v=v.parent}}(f);return!s||!r.containsRange(lt._createOn(s),!0)}qi.prototype.is=function(f){return"selection"===f||"model:selection"===f};class Zi extends(_r(lt)){constructor(r,s){super(r,s),im.call(this)}detach(){this.stopListening()}toRange(){return new lt(this.start,this.end)}static fromRange(r){return new Zi(r.start,r.end)}}function im(){this.listenTo(this.root.document.model,"applyOperation",(f,r)=>{const s=r[0];s.isDocumentOperation&&Vw.call(this,s)},{priority:"low"})}function Vw(f){const r=this.getTransformedByOperation(f),s=lt._createFromRanges(r),c=!s.isEqual(this),h=function(y,_){switch(_.type){case"insert":return y.containsPosition(_.position);case"move":case"remove":case"reinsert":case"merge":return y.containsPosition(_.sourcePosition)||y.start.isEqual(_.sourcePosition)||y.containsPosition(_.targetPosition);case"split":return y.containsPosition(_.splitPosition)||y.containsPosition(_.insertionPosition)}return!1}(this,f);let v=null;if(c){"$graveyard"==s.root.rootName&&(v="remove"==f.type?f.sourcePosition:f.deletionPosition);const y=this.toRange();this.start=s.start,this.end=s.end,this.fire("change:range",y,{deletionPosition:v})}else h&&this.fire("change:content",this.toRange(),{deletionPosition:v})}Zi.prototype.is=function(f){return"liveRange"===f||"model:liveRange"===f||"range"==f||"model:range"===f};const zs="selection:";class fi extends(_r(Ha)){constructor(r){super(),this._selection=new ta(r),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(r){return this._selection.containsEntireContent(r)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(r){return this._selection.getAttribute(r)}hasAttribute(r){return this._selection.hasAttribute(r)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(r){this._selection.observeMarkers(r)}_setFocus(r,s){this._selection.setFocus(r,s)}_setTo(...r){this._selection.setTo(...r)}_setAttribute(r,s){this._selection.setAttribute(r,s)}_removeAttribute(r){this._selection.removeAttribute(r)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(r){this._selection.restoreGravity(r)}static _getStoreAttributeKey(r){return zs+r}static _isStoreAttributeKey(r){return r.startsWith(zs)}}fi.prototype.is=function(f){return"selection"===f||"model:selection"==f||"documentSelection"==f||"model:documentSelection"==f};class ta extends qi{constructor(r){super(),this.markers=new nr({idProperty:"name"}),this._model=r.model,this._document=r,this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this.listenTo(this._model,"applyOperation",(s,c)=>{const h=c[0];h.isDocumentOperation&&"marker"!=h.type&&"rename"!=h.type&&"noop"!=h.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(s,c,h,v)=>{this._updateMarker(c,v)}),this.listenTo(this._document,"change",(s,c)=>{!function(h,v){const y=h.document.differ;for(const _ of y.getChanges()){if("insert"!=_.type)continue;const A=_.position.parent;_.length===A.maxOffset&&h.enqueueChange(v,S=>{const D=Array.from(A.getAttributeKeys()).filter(E=>E.startsWith(zs));for(const E of D)S.removeAttribute(E,A)})}}(this._model,c)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let r=0;r<this._ranges.length;r++)this._ranges[r].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...r){super.setTo(...r),this._updateAttributes(!0),this.updateMarkers()}setFocus(r,s){super.setFocus(r,s),this._updateAttributes(!0),this.updateMarkers()}setAttribute(r,s){this._setAttribute(r,s)&&this.fire("change:attribute",{attributeKeys:[r],directChange:!0})}removeAttribute(r){this._removeAttribute(r)&&this.fire("change:attribute",{attributeKeys:[r],directChange:!0})}overrideGravity(){const r=ot();return this._overriddenGravityRegister.add(r),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),r}restoreGravity(r){if(!this._overriddenGravityRegister.has(r))throw new U("document-selection-gravity-wrong-restore",this,{uid:r});this._overriddenGravityRegister.delete(r),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(r){this._observedMarkers.add(r),this.updateMarkers()}_replaceAllRanges(r){this._validateSelectionRanges(r),super._replaceAllRanges(r)}_popRange(){this._ranges.pop().detach()}_pushRange(r){const s=this._prepareRange(r);s&&this._ranges.push(s)}_validateSelectionRanges(r){for(const s of r)if(!this._document._validateSelectionRange(s))throw new U("document-selection-wrong-position",this,{range:s})}_prepareRange(r){if(this._checkRange(r),r.root==this._document.graveyard)return;const s=Zi.fromRange(r);return s.on("change:range",(c,h,v)=>{if(this._hasChangedRange=!0,s.root==this._document.graveyard){this._selectionRestorePosition=v.deletionPosition;const y=this._ranges.indexOf(s);this._ranges.splice(y,1),s.detach()}}),s}updateMarkers(){if(!this._observedMarkers.size)return;const r=[];let s=!1;for(const h of this._model.markers){const v=h.name.split(":",1)[0];if(!this._observedMarkers.has(v))continue;const y=h.getRange();for(const _ of this.getRanges())y.containsRange(_,!_.isCollapsed)&&r.push(h)}const c=Array.from(this.markers);for(const h of r)this.markers.has(h)||(this.markers.add(h),s=!0);for(const h of Array.from(this.markers))r.includes(h)||(this.markers.remove(h),s=!0);s&&this.fire("change:marker",{oldMarkers:c,directChange:!1})}_updateMarker(r,s){const c=r.name.split(":",1)[0];if(!this._observedMarkers.has(c))return;let h=!1;const v=Array.from(this.markers),y=this.markers.has(r);if(s){let _=!1;for(const A of this.getRanges())if(s.containsRange(A,!A.isCollapsed)){_=!0;break}_&&!y?(this.markers.add(r),h=!0):!_&&y&&(this.markers.remove(r),h=!0)}else y&&(this.markers.remove(r),h=!0);h&&this.fire("change:marker",{oldMarkers:v,directChange:!1})}_updateAttributes(r){const s=fr(this._getSurroundingAttributes()),c=fr(this.getAttributes());if(r)this._attributePriority=new Map,this._attrs=new Map;else for(const[v,y]of this._attributePriority)"low"==y&&(this._attrs.delete(v),this._attributePriority.delete(v));this._setAttributesTo(s);const h=[];for(const[v,y]of this.getAttributes())c.has(v)&&c.get(v)===y||h.push(v);for(const[v]of c)this.hasAttribute(v)||h.push(v);h.length>0&&this.fire("change:attribute",{attributeKeys:h,directChange:!1})}_setAttribute(r,s,c=!0){const h=c?"normal":"low";return("low"!=h||"normal"!=this._attributePriority.get(r))&&super.getAttribute(r)!==s&&(this._attrs.set(r,s),this._attributePriority.set(r,h),!0)}_removeAttribute(r,s=!0){const c=s?"normal":"low";return!("low"==c&&"normal"==this._attributePriority.get(r)||(this._attributePriority.set(r,c),!super.hasAttribute(r)||(this._attrs.delete(r),0)))}_setAttributesTo(r){const s=new Set;for(const[c,h]of this.getAttributes())r.get(c)!==h&&this._removeAttribute(c,!1);for(const[c,h]of r)this._setAttribute(c,h,!1)&&s.add(c);return s}*getStoredAttributes(){const r=this.getFirstPosition().parent;if(this.isCollapsed&&r.isEmpty)for(const s of r.getAttributeKeys())s.startsWith(zs)&&(yield[s.substr(zs.length),r.getAttribute(s)])}_getSurroundingAttributes(){const r=this.getFirstPosition(),s=this._model.schema;let c=null;if(this.isCollapsed){const h=r.textNode?r.textNode:r.nodeBefore,v=r.textNode?r.textNode:r.nodeAfter;if(this.isGravityOverridden||(c=Ju(h)),c||(c=Ju(v)),!this.isGravityOverridden&&!c){let y=h;for(;y&&!s.isInline(y)&&!c;)y=y.previousSibling,c=Ju(y)}if(!c){let y=v;for(;y&&!s.isInline(y)&&!c;)y=y.nextSibling,c=Ju(y)}c||(c=this.getStoredAttributes())}else{const h=this.getFirstRange();for(const v of h){if(v.item.is("element")&&s.isObject(v.item))break;if("text"==v.type){c=v.item.getAttributes();break}}}return c}_fixGraveyardSelection(r){const s=this._model.schema.getNearestSelectionRange(r);s&&this._pushRange(s)}}function Ju(f){return f instanceof wo||f instanceof Qe?f.getAttributes():null}class om{constructor(r){this._dispatchers=r}add(r){for(const s of this._dispatchers)r(s);return this}}const Ga=function(f){return hv(f,5)};class Fw extends om{elementToElement(r){return this.add(function(s){const c=lm(s.model),h=De(s.view,"container");return c.attributes.length&&(c.children=!0),v=>{v.on(`insert:${c.name}`,function(y,_=Jx){return(A,S,D)=>{if(!_(S.item,D.consumable,{preflight:!0}))return;const E=y(S.item,D,S);if(!E)return;_(S.item,D.consumable);const P=D.mapper.toViewPosition(S.range.start);D.mapper.bindElements(S.item,E),D.writer.insert(P,E),D.convertAttributes(S.item),jw(E,S.item.getChildren(),D,{reconversion:S.reconversion})}}(h,um(c)),{priority:s.converterPriority||"normal"}),(c.children||c.attributes.length)&&v.on("reduceChanges",Hw(c),{priority:"low"})}}(r))}elementToStructure(r){return this.add(function(s){const c=lm(s.model),h=De(s.view,"container");return c.children=!0,v=>{if(v._conversionApi.schema.checkChild(c.name,"$text"))throw new U("conversion-element-to-structure-disallowed-text",v,{elementName:c.name});var y,_;v.on(`insert:${c.name}`,(y=h,_=um(c),(A,S,D)=>{if(!_(S.item,D.consumable,{preflight:!0}))return;const E=new Map;var G,W,$;D.writer._registerSlotFactory((G=S.item,W=E,$=D,(X,et="children")=>{const ct=X.createContainerElement("$slot");let mt=null;if("children"===et)mt=Array.from(G.getChildren());else{if("function"!=typeof et)throw new U("conversion-slot-mode-unknown",$.dispatcher,{modeOrFilter:et});mt=Array.from(G.getChildren()).filter(Ot=>et(Ot))}return W.set(ct,mt),ct}));const P=y(S.item,D,S);if(D.writer._clearSlotFactory(),!P)return;(function(G,W,$){const X=Array.from(W.values()).flat(),et=new Set(X);if(et.size!=X.length)throw new U("conversion-slot-filter-overlap",$.dispatcher,{element:G});if(et.size!=G.childCount)throw new U("conversion-slot-filter-incomplete",$.dispatcher,{element:G})})(S.item,E,D),_(S.item,D.consumable);const z=D.mapper.toViewPosition(S.range.start);D.mapper.bindElements(S.item,P),D.writer.insert(z,P),D.convertAttributes(S.item),function(G,W,$,X){$.mapper.on("modelToViewPosition",mt,{priority:"highest"});let et=null,ct=null;for([et,ct]of W)jw(G,ct,$,X),$.writer.move($.writer.createRangeIn(et),$.writer.createPositionBefore(et)),$.writer.remove(et);function mt(Ot,Wt){const un=ct.indexOf(Wt.modelPosition.nodeAfter);un<0||(Wt.viewPosition=Wt.mapper.findPositionIn(et,un))}$.mapper.off("modelToViewPosition",mt)}(P,E,D,{reconversion:S.reconversion})}),{priority:s.converterPriority||"normal"}),v.on("reduceChanges",Hw(c),{priority:"low"})}}(r))}attributeToElement(r){return this.add(function(s){let c=(s=Ga(s)).model;"string"==typeof c&&(c={key:c});let h=`attribute:${c.key}`;if(c.name&&(h+=":"+c.name),c.values)for(const y of c.values)s.view[y]=De(s.view[y],"attribute");else s.view=De(s.view,"attribute");const v=Ua(s);return y=>{var _;y.on(h,(_=v,(A,S,D)=>{if(!D.consumable.test(S.item,A.name))return;const E=_(S.attributeOldValue,D,S),P=_(S.attributeNewValue,D,S);if(!E&&!P)return;D.consumable.consume(S.item,A.name);const z=D.writer;if(S.item instanceof qi||S.item instanceof fi)z.wrap(z.document.selection.getFirstRange(),P);else{let W=D.mapper.toViewRange(S.range);null!==S.attributeOldValue&&E&&(W=z.unwrap(W,E)),null!==S.attributeNewValue&&P&&z.wrap(W,P)}}),{priority:s.converterPriority||"normal"})}}(r))}attributeToAttribute(r){return this.add(function(s){let c=(s=Ga(s)).model;"string"==typeof c&&(c={key:c});let h=`attribute:${c.key}`;if(c.name&&(h+=":"+c.name),c.values)for(const y of c.values)s.view[y]=cm(s.view[y]);else s.view=cm(s.view);const v=Ua(s);return y=>{var _;y.on(h,(_=v,(A,S,D)=>{if(!D.consumable.test(S.item,A.name))return;const E=_(S.attributeOldValue,D,S),P=_(S.attributeNewValue,D,S);if(!E&&!P)return;D.consumable.consume(S.item,A.name);const z=D.mapper.toViewElement(S.item),G=D.writer;if(!z)throw new U("conversion-attribute-to-attribute-on-text",D.dispatcher,S);if(null!==S.attributeOldValue&&E)if("class"==E.key){const W=Ge(E.value);for(const $ of W)G.removeClass($,z)}else if("style"==E.key){const W=Object.keys(E.value);for(const $ of W)G.removeStyle($,z)}else G.removeAttribute(E.key,z);if(null!==S.attributeNewValue&&P)if("class"==P.key){const W=Ge(P.value);for(const $ of W)G.addClass($,z)}else if("style"==P.key){const W=Object.keys(P.value);for(const $ of W)G.setStyle($,P.value[$],z)}else G.setAttribute(P.key,P.value,z)}),{priority:s.converterPriority||"normal"})}}(r))}markerToElement(r){return this.add(function(s){const c=De(s.view,"ui");return h=>{var v;h.on(`addMarker:${s.model}`,(v=c,(y,_,A)=>{_.isOpening=!0;const S=v(_,A);_.isOpening=!1;const D=v(_,A);if(!S||!D)return;const E=_.markerRange;if(E.isCollapsed&&!A.consumable.consume(E,y.name))return;for(const G of E)if(!A.consumable.consume(G.item,y.name))return;const P=A.mapper,z=A.writer;z.insert(P.toViewPosition(E.start),S),A.mapper.bindElementToMarker(S,_.markerName),E.isCollapsed||(z.insert(P.toViewPosition(E.end),D),A.mapper.bindElementToMarker(D,_.markerName)),y.stop()}),{priority:s.converterPriority||"normal"}),h.on(`removeMarker:${s.model}`,(y,_,A)=>{const S=A.mapper.markerNameToElements(_.markerName);if(S){for(const D of S)A.mapper.unbindElementFromMarkerName(D,_.markerName),A.writer.clear(A.writer.createRangeOn(D),D);A.writer.clearClonedElementsGroup(_.markerName),y.stop()}},{priority:s.converterPriority||"normal"})}}(r))}markerToHighlight(r){return this.add(function(s){return c=>{var h,v;c.on(`addMarker:${s.model}`,(h=s.view,(v,y,_)=>{if(!y.item||!(y.item instanceof qi||y.item instanceof fi||y.item.is("$textProxy")))return;const A=Wa(h,y,_);if(!A||!_.consumable.consume(y.item,v.name))return;const S=_.writer,D=am(S,A);if(y.item instanceof qi||y.item instanceof fi)S.wrap(S.document.selection.getFirstRange(),D);else{const P=_.mapper.toViewRange(y.range),z=S.wrap(P,D);for(const G of z.getItems())if(G.is("attributeElement")&&G.isSimilar(D)){_.mapper.bindElementToMarker(G,y.markerName);break}}}),{priority:s.converterPriority||"normal"}),c.on(`addMarker:${s.model}`,(v=s.view,(y,_,A)=>{if(!(_.item&&_.item instanceof qe))return;const S=Wa(v,_,A);if(!S||!A.consumable.test(_.item,y.name))return;const D=A.mapper.toViewElement(_.item);if(D&&D.getCustomProperty("addHighlight")){A.consumable.consume(_.item,y.name);for(const E of lt._createIn(_.item))A.consumable.consume(E.item,y.name);D.getCustomProperty("addHighlight")(D,S,A.writer),A.mapper.bindElementToMarker(D,_.markerName)}}),{priority:s.converterPriority||"normal"}),c.on(`removeMarker:${s.model}`,function(v){return(y,_,A)=>{if(_.markerRange.isCollapsed)return;const S=Wa(v,_,A);if(!S)return;const D=am(A.writer,S),E=A.mapper.markerNameToElements(_.markerName);if(E){for(const P of E)A.mapper.unbindElementFromMarkerName(P,_.markerName),P.is("attributeElement")?A.writer.unwrap(A.writer.createRangeOn(P),D):P.getCustomProperty("removeHighlight")(P,S.id,A.writer);A.writer.clearClonedElementsGroup(_.markerName),y.stop()}}}(s.view),{priority:s.converterPriority||"normal"})}}(r))}markerToData(r){return this.add(function(s){const c=(s=Ga(s)).model;let h=s.view;return h||(h=v=>({group:c,name:v.substr(s.model.length+1)})),v=>{var y,_;v.on(`addMarker:${c}`,(y=h,(_,A,S)=>{const D=y(A.markerName,S);if(!D)return;const E=A.markerRange;S.consumable.consume(E,_.name)&&(sm(E,!1,S,A,D),sm(E,!0,S,A,D),_.stop())}),{priority:s.converterPriority||"normal"}),v.on(`removeMarker:${c}`,(_=h,(A,S,D)=>{const E=_(S.markerName,D);if(!E)return;const P=D.mapper.markerNameToElements(S.markerName);if(P){for(const G of P)D.mapper.unbindElementFromMarkerName(G,S.markerName),G.is("containerElement")?(z(`data-${E.group}-start-before`,G),z(`data-${E.group}-start-after`,G),z(`data-${E.group}-end-before`,G),z(`data-${E.group}-end-after`,G)):D.writer.clear(D.writer.createRangeOn(G),G);D.writer.clearClonedElementsGroup(S.markerName),A.stop()}function z(G,W){if(W.hasAttribute(G)){const $=new Set(W.getAttribute(G).split(","));$.delete(E.name),0==$.size?D.writer.removeAttribute(G,W):D.writer.setAttribute(G,Array.from($).join(","),W)}}}),{priority:s.converterPriority||"normal"})}}(r))}}function am(f,r){const s=f.createAttributeElement("span",r.attributes);return r.classes&&s._addClass(r.classes),"number"==typeof r.priority&&(s._priority=r.priority),s._id=r.id,s}function sm(f,r,s,c,h){const v=r?f.start:f.end,y=v.nodeAfter&&v.nodeAfter.is("element")?v.nodeAfter:null,_=v.nodeBefore&&v.nodeBefore.is("element")?v.nodeBefore:null;if(y||_){let A,S;r&&y||!r&&!_?(A=y,S=!0):(A=_,S=!1);const D=s.mapper.toViewElement(A);if(D)return void function(E,P,z,G,W,$){const X=`data-${$.group}-${P?"start":"end"}-${z?"before":"after"}`,et=E.hasAttribute(X)?E.getAttribute(X).split(","):[];et.unshift($.name),G.writer.setAttribute(X,et.join(","),E),G.mapper.bindElementToMarker(E,W.markerName)}(D,r,S,s,c,h)}!function(A,S,D,E,P){const W=D.writer.createUIElement(`${P.group}-${S?"start":"end"}`,P.name?{name:P.name}:null);D.writer.insert(A,W),D.mapper.bindElementToMarker(W,E.markerName)}(s.mapper.toViewPosition(v),r,s,c,h)}function lm(f){return"string"==typeof f&&(f={name:f}),f.attributes?Array.isArray(f.attributes)||(f.attributes=[f.attributes]):f.attributes=[],f.children=!!f.children,f}function De(f,r){return"function"==typeof f?f:(s,c)=>function(h,v,y){let _;"string"==typeof h&&(h={name:h});const A=v.writer,S=Object.assign({},h.attributes);if(_="container"==y?A.createContainerElement(h.name,S):"attribute"==y?A.createAttributeElement(h.name,S,{priority:h.priority||Es.DEFAULT_PRIORITY}):A.createUIElement(h.name,S),h.styles){const D=Object.keys(h.styles);for(const E of D)A.setStyle(E,h.styles[E],_)}if(h.classes){const D=h.classes;if("string"==typeof D)A.addClass(D,_);else for(const E of D)A.addClass(E,_)}return _}(f,c,r)}function Ua(f){return f.model.values?(r,s,c)=>{const h=f.view[r];return h?h(r,s,c):null}:f.view}function cm(f){return"string"==typeof f?r=>({key:f,value:r}):"object"==typeof f?f.value?()=>f:r=>({key:f.key,value:r}):f}function Wa(f,r,s){const c="function"==typeof f?f(r,s):f;return c?(c.priority||(c.priority=10),c.id||(c.id=r.markerName),c):null}function Hw(f){const r=function(s){return(c,h)=>{if(!c.is("element",s.name))return!1;if("attribute"==h.type){if(s.attributes.includes(h.attributeKey))return!0}else if(s.children)return!0;return!1}}(f);return(s,c)=>{const h=[];c.reconvertedElements||(c.reconvertedElements=new Set);for(const v of c.changes){const y="attribute"==v.type?v.range.start.nodeAfter:v.position.parent;if(y&&r(y,v)){if(!c.reconvertedElements.has(y)){c.reconvertedElements.add(y);const _=bt._createBefore(y);h.push({type:"remove",name:y.name,position:_,length:1},{type:"reinsert",name:y.name,position:_,length:1})}}else h.push(v)}c.changes=h}}function um(f){return(r,s,c={})=>{const h=["insert"];for(const v of f.attributes)r.hasAttribute(v)&&h.push(`attribute:${v}`);return!!h.every(v=>s.test(r,v))&&(c.preflight||h.forEach(v=>s.consume(r,v)),!0)}}function jw(f,r,s,c){for(const h of r)Qx(f.root,h,s,c)||s.convertItem(h)}function Qx(f,r,s,c){const{writer:h,mapper:v}=s;if(!c.reconversion)return!1;const y=v.toViewElement(r);return!(!y||y.root==f||!s.canReuseView(y)||(h.move(h.createRangeOn(y),v.toViewPosition(bt._createBefore(r))),0))}function Jx(f,r,{preflight:s}={}){return s?r.test(f,"insert"):r.consume(f,"insert")}function Gw(f){const{schema:r,document:s}=f.model;for(const c of s.getRootNames()){const h=s.getRoot(c);if(h.isEmpty&&!r.checkChild(h,"$text")&&r.checkChild(h,"paragraph"))return f.insertElement("paragraph",h),!0}return!1}function Uw(f,r,s){const c=s.createContext(f);return!!s.checkChild(c,"paragraph")&&!!s.checkChild(c.push("paragraph"),r)}function Ww(f,r){const s=r.createElement("paragraph");return r.insert(s,f),r.createPositionAt(s,0)}class Yw extends om{elementToElement(r){return this.add(cc(r))}elementToAttribute(r){return this.add(function(s){tS(s=Ga(s));const c=kf(s,!1),h=mn(s.view),v=h?`element:${h}`:"element";return y=>{y.on(v,c,{priority:s.converterPriority||"low"})}}(r))}attributeToAttribute(r){return this.add(function(s){let c=null;("string"==typeof(s=Ga(s)).view||s.view.key)&&(c=function(v){"string"==typeof v.view&&(v.view={key:v.view});const y=v.view.key;let _;return _="class"==y||"style"==y?{["class"==y?"classes":"styles"]:v.view.value}:{attributes:{[y]:void 0===v.view.value?/[\s\S]*/:v.view.value}},v.view.name&&(_.name=v.view.name),v.view=_,y}(s)),tS(s,c);const h=kf(s,!0);return v=>{v.on("element",h,{priority:s.converterPriority||"low"})}}(r))}elementToMarker(r){return this.add(function(s){const c=(h=s.model,(v,y)=>{const _="string"==typeof h?h:h(v,y);return y.writer.createElement("$marker",{"data-name":_})});var h;return cc({...s,model:c})}(r))}dataToMarker(r){return this.add(function(s){(s=Ga(s)).model||(s.model=y=>y?s.view+":"+y:s.view);const c={view:s.view,model:s.model},h=qw(uc(c,"start")),v=qw(uc(c,"end"));return y=>{y.on(`element:${s.view}-start`,h,{priority:s.converterPriority||"normal"}),y.on(`element:${s.view}-end`,v,{priority:s.converterPriority||"normal"});const _=dt.get("low"),A=dt.get("highest"),S=dt.get(s.converterPriority)/A;var D;y.on("element",(D=c,(E,P,z)=>{const G=`data-${D.view}`;function W($,X){for(const et of X){const ct=D.model(et,z),mt=z.writer.createElement("$marker",{"data-name":ct});z.writer.insert(mt,$),P.modelCursor=P.modelCursor.isEqual($)?P.modelCursor.getShiftedBy(1):P.modelCursor._getTransformedByInsertion($,1),P.modelRange=P.modelRange._getTransformedByInsertion($,1)[0]}}(z.consumable.test(P.viewItem,{attributes:G+"-end-after"})||z.consumable.test(P.viewItem,{attributes:G+"-start-after"})||z.consumable.test(P.viewItem,{attributes:G+"-end-before"})||z.consumable.test(P.viewItem,{attributes:G+"-start-before"}))&&(P.modelRange||Object.assign(P,z.convertChildren(P.viewItem,P.modelCursor)),z.consumable.consume(P.viewItem,{attributes:G+"-end-after"})&&W(P.modelRange.end,P.viewItem.getAttribute(G+"-end-after").split(",")),z.consumable.consume(P.viewItem,{attributes:G+"-start-after"})&&W(P.modelRange.end,P.viewItem.getAttribute(G+"-start-after").split(",")),z.consumable.consume(P.viewItem,{attributes:G+"-end-before"})&&W(P.modelRange.start,P.viewItem.getAttribute(G+"-end-before").split(",")),z.consumable.consume(P.viewItem,{attributes:G+"-start-before"})&&W(P.modelRange.start,P.viewItem.getAttribute(G+"-start-before").split(",")))}),{priority:_+S})}}(r))}}function cc(f){const r=qw(f=Ga(f)),s=mn(f.view),c=s?`element:${s}`:"element";return h=>{h.on(c,r,{priority:f.converterPriority||"normal"})}}function mn(f){return"string"==typeof f?f:"object"==typeof f&&"string"==typeof f.name?f.name:null}function qw(f){const r=new Ti(f.view);return(s,c,h)=>{const v=r.match(c.viewItem);if(!v)return;const y=v.match;if(y.name=!0,!h.consumable.test(c.viewItem,y))return;const _=(D=h,(A=f.model)instanceof Function?A(c.viewItem,D):D.writer.createElement(A));var A,D;_&&h.safeInsert(_,c.modelCursor)&&(h.consumable.consume(c.viewItem,y),h.convertChildren(c.viewItem,_),h.updateConversionResult(_,c))}}function tS(f,r=null){f.model={key:"object"!=typeof f.model?f.model:f.model.key,value:"object"!=typeof f.model||void 0===f.model.value?null===r||(v=>v.getAttribute(r)):f.model.value}}function kf(f,r){const s=new Ti(f.view);return(c,h,v)=>{if(!h.modelRange&&r)return;const y=s.match(h.viewItem);if(!y||(function(D,E){const P="function"==typeof D?D(E):D;return!("object"==typeof P&&!mn(P)||P.classes||P.attributes||P.styles)}(f.view,h.viewItem)?y.match.name=!0:delete y.match.name,!v.consumable.test(h.viewItem,y.match)))return;const _=f.model.key,A="function"==typeof f.model.value?f.model.value(h.viewItem,v):f.model.value;null!==A&&(h.modelRange||Object.assign(h,v.convertChildren(h.viewItem,h.modelCursor)),function(D,E,P,z){let G=!1;for(const W of Array.from(D.getItems({shallow:P})))z.schema.checkAttribute(W,E.key)&&(G=!0,W.hasAttribute(E.key)||z.writer.setAttribute(E.key,E.value,W));return G}(h.modelRange,{key:_,value:A},r,v)&&(v.consumable.test(h.viewItem,{name:!0})&&(y.match.name=!0),v.consumable.consume(h.viewItem,y.match)))}}function uc(f,r){return{view:`${f.view}-${r}`,model:(s,c)=>{const h=s.getAttribute("name"),v=f.model(h,c);return c.writer.createElement("$marker",{"data-name":v})}}}class eS extends hn{constructor(r,s){super(),this.model=r,this.view=new $x(s),this.mapper=new Yi,this.downcastDispatcher=new Xx({mapper:this.mapper,schema:r.schema});const c=this.model.document,h=c.selection,v=this.model.markers;var y,_;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(c,"change",()=>{this.view.change(y=>{this.downcastDispatcher.convertChanges(c.differ,v,y),this.downcastDispatcher.convertSelection(h,v,y)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",(y=this.model,_=this.mapper,(A,S)=>{const D=S.newSelection,E=[];for(const z of D.getRanges())E.push(_.toModelRange(z));const P=y.createSelection(E,{backward:D.isBackward});P.isEqual(y.document.selection)||y.change(z=>{z.setSelection(P)})})),this.downcastDispatcher.on("insert:$text",(y,_,A)=>{if(!A.consumable.consume(_.item,y.name))return;const S=A.writer,D=A.mapper.toViewPosition(_.range.start),E=S.createText(_.item.data);S.insert(D,E)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(y,_,A)=>{A.convertAttributes(_.item),_.reconversion||!_.item.is("element")||_.item.isEmpty||A.convertChildren(_.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(y,_,A)=>{const S=A.mapper.toViewPosition(_.position),D=_.position.getShiftedBy(_.length),E=A.mapper.toViewPosition(D,{isPhantom:!0}),P=A.writer.createRange(S,E),z=A.writer.remove(P.getTrimmed());for(const G of A.writer.createRangeIn(z).getItems())A.mapper.unbindViewElement(G,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("selection",(y,_,A)=>{const S=A.writer,D=S.document.selection;for(const E of D.getRanges())E.isCollapsed&&E.end.parent.isAttached()&&A.writer.mergeAttributes(E.start);S.setSelection(null)},{priority:"high"}),this.downcastDispatcher.on("selection",(y,_,A)=>{const S=_.selection;if(S.isCollapsed||!A.consumable.consume(S,"selection"))return;const D=[];for(const E of S.getRanges())D.push(A.mapper.toViewRange(E));A.writer.setSelection(D,{backward:S.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(y,_,A)=>{const S=_.selection;if(!S.isCollapsed||!A.consumable.consume(S,"selection"))return;const D=A.writer,E=S.getFirstPosition(),P=A.mapper.toViewPosition(E),z=D.breakAttributes(P);D.setSelection(z)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(y=>{if("$graveyard"==y.rootName)return null;const _=new Ko(this.view.document,y.name);return _.rootName=y.rootName,this.mapper.bindElements(y,_),_})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(r){const s="string"==typeof r?r:r.name,c=this.model.markers.get(s);if(!c)throw new U("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:s});this.model.change(()=>{this.model.markers._refresh(c)})}reconvertItem(r){this.model.change(()=>{this.model.document.differ._refreshItem(r)})}}class nS{constructor(){this._commands=new Map}add(r,s){this._commands.set(r,s)}get(r){return this._commands.get(r)}execute(r,...s){const c=this.get(r);if(!c)throw new U("commandcollection-command-not-found",this,{commandName:r});return c.execute(...s)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const r of this.commands())r.destroy()}}class td{constructor(){this._consumables=new Map}add(r,s){let c;r.is("$text")||r.is("documentFragment")?this._consumables.set(r,!0):(this._consumables.has(r)?c=this._consumables.get(r):(c=new Os(r),this._consumables.set(r,c)),c.add(s))}test(r,s){const c=this._consumables.get(r);return void 0===c?null:r.is("$text")||r.is("documentFragment")?c:c.test(s)}consume(r,s){return!!this.test(r,s)&&(r.is("$text")||r.is("documentFragment")?this._consumables.set(r,!1):this._consumables.get(r).consume(s),!0)}revert(r,s){const c=this._consumables.get(r);void 0!==c&&(r.is("$text")||r.is("documentFragment")?this._consumables.set(r,!0):c.revert(s))}static consumablesFromElement(r){const s={element:r,name:!0,attributes:[],classes:[],styles:[]},c=r.getAttributeKeys();for(const y of c)"style"!=y&&"class"!=y&&s.attributes.push(y);const h=r.getClassNames();for(const y of h)s.classes.push(y);const v=r.getStyleNames();for(const y of v)s.styles.push(y);return s}static createFrom(r,s){if(s||(s=new td),r.is("$text"))return s.add(r),s;r.is("element")&&s.add(r,td.consumablesFromElement(r)),r.is("documentFragment")&&s.add(r);for(const c of r.getChildren())s=td.createFrom(c,s);return s}}const Af=["attributes","classes","styles"];class Os{constructor(r){this.element=r,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(r){r.name&&(this._canConsumeName=!0);for(const s of Af)s in r&&this._add(s,r[s])}test(r){if(r.name&&!this._canConsumeName)return this._canConsumeName;for(const s of Af)if(s in r){const c=this._test(s,r[s]);if(!0!==c)return c}return!0}consume(r){r.name&&(this._canConsumeName=!1);for(const s of Af)s in r&&this._consume(s,r[s])}revert(r){r.name&&(this._canConsumeName=!0);for(const s of Af)s in r&&this._revert(s,r[s])}_add(r,s){const c=Pt(s)?s:[s],h=this._consumables[r];for(const v of c){if("attributes"===r&&("class"===v||"style"===v))throw new U("viewconsumable-invalid-attribute",this);if(h.set(v,!0),"styles"===r)for(const y of this.element.document.stylesProcessor.getRelatedStyles(v))h.set(y,!0)}}_test(r,s){const c=Pt(s)?s:[s],h=this._consumables[r];for(const v of c)if("attributes"!==r||"class"!==v&&"style"!==v){const y=h.get(v);if(void 0===y)return null;if(!y)return!1}else{const y="class"==v?"classes":"styles",_=this._test(y,[...this._consumables[y].keys()]);if(!0!==_)return _}return!0}_consume(r,s){const c=Pt(s)?s:[s],h=this._consumables[r];for(const v of c)if("attributes"!==r||"class"!==v&&"style"!==v){if(h.set(v,!1),"styles"==r)for(const y of this.element.document.stylesProcessor.getRelatedStyles(v))h.set(y,!1)}else{const y="class"==v?"classes":"styles";this._consume(y,[...this._consumables[y].keys()])}}_revert(r,s){const c=Pt(s)?s:[s],h=this._consumables[r];for(const v of c)if("attributes"!==r||"class"!==v&&"style"!==v)!1===h.get(v)&&h.set(v,!0);else{const y="class"==v?"classes":"styles";this._revert(y,[...this._consumables[y].keys()])}}}class ye extends hn{constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(r,s)=>{s[0]=new Vs(s[0])},{priority:"highest"}),this.on("checkChild",(r,s)=>{s[0]=new Vs(s[0]),s[1]=this.getDefinition(s[1])},{priority:"highest"})}register(r,s){if(this._sourceDefinitions[r])throw new U("schema-cannot-register-item-twice",this,{itemName:r});this._sourceDefinitions[r]=[Object.assign({},s)],this._clearCache()}extend(r,s){if(!this._sourceDefinitions[r])throw new U("schema-cannot-extend-missing-item",this,{itemName:r});this._sourceDefinitions[r].push(Object.assign({},s)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(r){let s;return s="string"==typeof r?r:"is"in r&&(r.is("$text")||r.is("$textProxy"))?"$text":r.name,this.getDefinitions()[s]}isRegistered(r){return!!this.getDefinition(r)}isBlock(r){const s=this.getDefinition(r);return!(!s||!s.isBlock)}isLimit(r){const s=this.getDefinition(r);return!(!s||!s.isLimit&&!s.isObject)}isObject(r){const s=this.getDefinition(r);return!!s&&!!(s.isObject||s.isLimit&&s.isSelectable&&s.isContent)}isInline(r){const s=this.getDefinition(r);return!(!s||!s.isInline)}isSelectable(r){const s=this.getDefinition(r);return!(!s||!s.isSelectable&&!s.isObject)}isContent(r){const s=this.getDefinition(r);return!(!s||!s.isContent&&!s.isObject)}checkChild(r,s){return!!s&&this._checkContextMatch(s,r)}checkAttribute(r,s){const c=this.getDefinition(r.last);return!!c&&c.allowAttributes.includes(s)}checkMerge(r,s){if(r instanceof bt){const c=r.nodeBefore,h=r.nodeAfter;if(!(c instanceof qe))throw new U("schema-check-merge-no-element-before",this);if(!(h instanceof qe))throw new U("schema-check-merge-no-element-after",this);return this.checkMerge(c,h)}for(const c of s.getChildren())if(!this.checkChild(r,c))return!1;return!0}addChildCheck(r){this.on("checkChild",(s,[c,h])=>{if(!h)return;const v=r(c,h);"boolean"==typeof v&&(s.stop(),s.return=v)},{priority:"high"})}addAttributeCheck(r){this.on("checkAttribute",(s,[c,h])=>{const v=r(c,h);"boolean"==typeof v&&(s.stop(),s.return=v)},{priority:"high"})}setAttributeProperties(r,s){this._attributeProperties[r]=Object.assign(this.getAttributeProperties(r),s)}getAttributeProperties(r){return this._attributeProperties[r]||{}}getLimitElement(r){let s;for(s=r instanceof bt?r.parent:(r instanceof lt?[r]:Array.from(r.getRanges())).reduce((c,h)=>{const v=h.getCommonAncestor();return c?c.getCommonAncestor(v,{includeSelf:!0}):v},null);!this.isLimit(s)&&s.parent;)s=s.parent;return s}checkAttributeInSelection(r,s){if(r.isCollapsed){const c=[...r.getFirstPosition().getAncestors(),new Qe("",r.getAttributes())];return this.checkAttribute(c,s)}{const c=r.getRanges();for(const h of c)for(const v of h)if(this.checkAttribute(v.item,s))return!0}return!1}*getValidRanges(r,s){r=function*(c){for(const h of c)yield*h.getMinimalFlatRanges()}(r);for(const c of r)yield*this._getValidRangesForRange(c,s)}getNearestSelectionRange(r,s="both"){if(this.checkChild(r,"$text"))return new lt(r);let c,h;const v=r.getAncestors().reverse().find(y=>this.isLimit(y))||r.root;"both"!=s&&"backward"!=s||(c=new _o({boundaries:lt._createIn(v),startPosition:r,direction:"backward"})),"both"!=s&&"forward"!=s||(h=new _o({boundaries:lt._createIn(v),startPosition:r}));for(const y of function*(_,A){let S=!1;for(;!S;){if(S=!0,_){const D=_.next();D.done||(S=!1,yield{walker:_,value:D.value})}if(A){const D=A.next();D.done||(S=!1,yield{walker:A,value:D.value})}}}(c,h)){const A=y.value;if(A.type==(y.walker==c?"elementEnd":"elementStart")&&this.isObject(A.item))return lt._createOn(A.item);if(this.checkChild(A.nextPosition,"$text"))return new lt(A.nextPosition)}return null}findAllowedParent(r,s){let c=r.parent;for(;c;){if(this.checkChild(c,s))return c;if(this.isLimit(c))return null;c=c.parent}return null}setAllowedAttributes(r,s,c){const h=c.model;for(const[v,y]of Object.entries(s))h.schema.checkAttribute(r,v)&&c.setAttribute(v,y,r)}removeDisallowedAttributes(r,s){for(const c of r)if(c.is("$text"))fm(this,c,s);else{const h=lt._createIn(c).getPositions();for(const v of h)fm(this,v.nodeBefore||v.parent,s)}}getAttributesWithProperty(r,s,c){const h={};for(const[v,y]of r.getAttributes()){const _=this.getAttributeProperties(v);void 0!==_[s]&&(void 0!==c&&c!==_[s]||(h[v]=y))}return h}createContext(r){return new Vs(r)}_clearCache(){this._compiledDefinitions=null}_compile(){const r={},s=this._sourceDefinitions,c=Object.keys(s);for(const h of c)r[h]=ed(s[h],h);for(const h of c)dm(r,h);for(const h of c)Sn(r,h);for(const h of c)rS(r,h);for(const h of c)nd(r,h),Zw(r,h);for(const h of c)iS(r,h),oS(r,h),hm(r,h);this._compiledDefinitions=r}_checkContextMatch(r,s,c=s.length-1){const h=s.getItem(c);if(r.allowIn.includes(h.name)){if(0==c)return!0;{const v=this.getDefinition(h);return this._checkContextMatch(v,s,c-1)}}return!1}*_getValidRangesForRange(r,s){let c=r.start,h=r.start;for(const v of r.getItems({shallow:!0}))v.is("element")&&(yield*this._getValidRangesForRange(lt._createIn(v),s)),this.checkAttribute(v,s)||(c.isEqual(h)||(yield new lt(c,h)),c=bt._createAfter(v)),h=bt._createAfter(v);c.isEqual(h)||(yield new lt(c,h))}}class Vs{constructor(r){if(r instanceof Vs)return r;let s;s="string"==typeof r?[r]:Array.isArray(r)?r:r.getAncestors({includeSelf:!0}),this._items=s.map(Fs)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(r){const s=new Vs([r]);return s._items=[...this._items,...s._items],s}getItem(r){return this._items[r]}*getNames(){yield*this._items.map(r=>r.name)}endsWith(r){return Array.from(this.getNames()).join(" ").endsWith(r)}startsWith(r){return Array.from(this.getNames()).join(" ").startsWith(r)}}function ed(f,r){const s={name:r,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(c,h){for(const v of c){const y=Object.keys(v).filter(_=>_.startsWith("is"));for(const _ of y)h[_]=!!v[_]}}(f,s),Ya(f,s,"allowIn"),Ya(f,s,"allowContentOf"),Ya(f,s,"allowWhere"),Ya(f,s,"allowAttributes"),Ya(f,s,"allowAttributesOf"),Ya(f,s,"allowChildren"),Ya(f,s,"inheritTypesFrom"),function(c,h){for(const v of c){const y=v.inheritAllFrom;y&&(h.allowContentOf.push(y),h.allowWhere.push(y),h.allowAttributesOf.push(y),h.inheritTypesFrom.push(y))}}(f,s),s}function dm(f,r){const s=f[r];for(const c of s.allowChildren){const h=f[c];h&&h.allowIn.push(r)}s.allowChildren.length=0}function Sn(f,r){for(const s of f[r].allowContentOf)f[s]&&aS(f,s).forEach(c=>{c.allowIn.push(r)});delete f[r].allowContentOf}function rS(f,r){for(const s of f[r].allowWhere){const c=f[s];c&&f[r].allowIn.push(...c.allowIn)}delete f[r].allowWhere}function nd(f,r){for(const s of f[r].allowAttributesOf){const c=f[s];c&&f[r].allowAttributes.push(...c.allowAttributes)}delete f[r].allowAttributesOf}function Zw(f,r){const s=f[r];for(const c of s.inheritTypesFrom){const h=f[c];if(h){const v=Object.keys(h).filter(y=>y.startsWith("is"));for(const y of v)y in s||(s[y]=h[y])}}delete s.inheritTypesFrom}function iS(f,r){const s=f[r],c=s.allowIn.filter(h=>f[h]);s.allowIn=Array.from(new Set(c))}function oS(f,r){const s=f[r];for(const c of s.allowIn)f[c].allowChildren.push(r)}function hm(f,r){const s=f[r];s.allowAttributes=Array.from(new Set(s.allowAttributes))}function Ya(f,r,s){for(const c of f){const h=c[s];"string"==typeof h?r[s].push(h):Array.isArray(h)&&r[s].push(...h)}}function aS(f,r){const s=f[r];return(c=f,Object.keys(c).map(h=>c[h])).filter(h=>h.allowIn.includes(s.name));var c}function Fs(f){return"string"==typeof f||f.is("documentFragment")?{name:"string"==typeof f?f:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:f.is("element")?f.name:"$text",*getAttributeKeys(){yield*f.getAttributeKeys()},getAttribute:r=>f.getAttribute(r)}}function fm(f,r,s){for(const c of r.getAttributeKeys())f.checkAttribute(r,c)||s.removeAttribute(c,r)}class ko extends Ft{constructor(r){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...r,consumable:null,writer:null,store:null,convertItem:(s,c)=>this._convertItem(s,c),convertChildren:(s,c)=>this._convertChildren(s,c),safeInsert:(s,c)=>this._safeInsert(s,c),updateConversionResult:(s,c)=>this._updateConversionResult(s,c),splitToAllowedParent:(s,c)=>this._splitToAllowedParent(s,c),getSplitParts:s=>this._getSplitParts(s),keepEmptyElement:s=>this._keepEmptyElement(s)}}convert(r,s,c=["$root"]){this.fire("viewCleanup",r),this._modelCursor=function(y,_){let A;for(const S of new Vs(y)){const D={};for(const P of S.getAttributeKeys())D[P]=S.getAttribute(P);const E=_.createElement(S.name,D);A&&_.insert(E,A),A=bt._createAt(E,0)}return A}(c,s),this.conversionApi.writer=s,this.conversionApi.consumable=td.createFrom(r),this.conversionApi.store={};const{modelRange:h}=this._convertItem(r,this._modelCursor),v=s.createDocumentFragment();if(h){this._removeEmptyElements();for(const y of Array.from(this._modelCursor.parent.getChildren()))s.append(y,v);v.markers=function(y,_){const A=new Set,S=new Map,D=lt._createIn(y).getItems();for(const E of D)E.is("element","$marker")&&A.add(E);for(const E of A){const P=E.getAttribute("data-name"),z=_.createPositionBefore(E);S.has(P)?S.get(P).end=z.clone():S.set(P,new lt(z.clone())),_.remove(E)}return S}(v,s)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,v}_convertItem(r,s){const c={viewItem:r,modelCursor:s,modelRange:null};if(r.is("element")?this.fire(`element:${r.name}`,c,this.conversionApi):r.is("$text")?this.fire("text",c,this.conversionApi):this.fire("documentFragment",c,this.conversionApi),c.modelRange&&!(c.modelRange instanceof lt))throw new U("view-conversion-dispatcher-incorrect-result",this);return{modelRange:c.modelRange,modelCursor:c.modelCursor}}_convertChildren(r,s){let c=s.is("position")?s:bt._createAt(s,0);const h=new lt(c);for(const v of Array.from(r.getChildren())){const y=this._convertItem(v,c);y.modelRange instanceof lt&&(h.end=y.modelRange.end,c=y.modelCursor)}return{modelRange:h,modelCursor:c}}_safeInsert(r,s){const c=this._splitToAllowedParent(r,s);return!!c&&(this.conversionApi.writer.insert(r,c.position),!0)}_updateConversionResult(r,s){const c=this._getSplitParts(r),h=this.conversionApi.writer;s.modelRange||(s.modelRange=h.createRange(h.createPositionBefore(r),h.createPositionAfter(c[c.length-1])));const v=this._cursorParents.get(r);s.modelCursor=v?h.createPositionAt(v,0):s.modelRange.end}_splitToAllowedParent(r,s){const{schema:c,writer:h}=this.conversionApi;let v=c.findAllowedParent(s,r);if(v){if(v===s.parent)return{position:s};this._modelCursor.parent.getAncestors().includes(v)&&(v=null)}if(!v)return Uw(s,r,c)?{position:Ww(s,h)}:null;const y=this.conversionApi.writer.split(s,v),_=[];for(const S of y.range.getWalker())if("elementEnd"==S.type)_.push(S.item);else{const D=_.pop();this._registerSplitPair(D,S.item)}const A=y.range.end.parent;return this._cursorParents.set(r,A),{position:y.position,cursorParent:A}}_registerSplitPair(r,s){this._splitParts.has(r)||this._splitParts.set(r,[r]);const c=this._splitParts.get(r);this._splitParts.set(s,c),c.push(s)}_getSplitParts(r){let s;return s=this._splitParts.has(r)?this._splitParts.get(r):[r],s}_keepEmptyElement(r){this._emptyElementsToKeep.add(r)}_removeEmptyElements(){let r=!1;for(const s of this._splitParts.keys())s.isEmpty&&!this._emptyElementsToKeep.has(s)&&(this.conversionApi.writer.remove(s),this._splitParts.delete(s),r=!0);r&&this._removeEmptyElements()}}class sS{getHtml(r){const s=document.implementation.createHTMLDocument("").createElement("div");return s.appendChild(r),s.innerHTML}}class $w{constructor(r){this.domParser=new DOMParser,this.domConverter=new Yu(r,{renderingMode:"data"}),this.htmlWriter=new sS}toData(r){const s=this.domConverter.viewToDom(r);return this.htmlWriter.getHtml(s)}toView(r){const s=this._toDom(r);return this.domConverter.domToView(s)}registerRawContentMatcher(r){this.domConverter.registerRawContentMatcher(r)}useFillerType(r){this.domConverter.blockFillerMode="marked"==r?"markedNbsp":"nbsp"}_toDom(r){r.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(r=`<body>${r}</body>`);const s=this.domParser.parseFromString(r,"text/html"),c=s.createDocumentFragment(),h=s.body.childNodes;for(;h.length>0;)c.appendChild(h[0]);return c}}class pm extends Ft{constructor(r,s){super(),this.model=r,this.mapper=new Yi,this.downcastDispatcher=new Xx({mapper:this.mapper,schema:r.schema}),this.downcastDispatcher.on("insert:$text",(c,h,v)=>{if(!v.consumable.consume(h.item,c.name))return;const y=v.writer,_=v.mapper.toViewPosition(h.range.start),A=y.createText(h.item.data);y.insert(_,A)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(c,h,v)=>{v.convertAttributes(h.item),h.reconversion||!h.item.is("element")||h.item.isEmpty||v.convertChildren(h.item)},{priority:"lowest"}),this.upcastDispatcher=new ko({schema:r.schema}),this.viewDocument=new sf(s),this.stylesProcessor=s,this.htmlProcessor=new $w(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new mw(this.viewDocument),this.upcastDispatcher.on("text",(c,h,{schema:v,consumable:y,writer:_})=>{let A=h.modelCursor;if(!y.test(h.viewItem))return;if(!v.checkChild(A,"$text")){if(!Uw(A,"$text",v)||0==h.viewItem.data.trim().length)return;A=Ww(A,_)}y.consume(h.viewItem);const S=_.createText(h.viewItem.data);_.insert(S,A),h.modelRange=_.createRange(A,A.getShiftedBy(S.offsetSize)),h.modelCursor=h.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(c,h,v)=>{if(!h.modelRange&&v.consumable.consume(h.viewItem,{name:!0})){const{modelRange:y,modelCursor:_}=v.convertChildren(h.viewItem,h.modelCursor);h.modelRange=y,h.modelCursor=_}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(c,h,v)=>{if(!h.modelRange&&v.consumable.consume(h.viewItem,{name:!0})){const{modelRange:y,modelCursor:_}=v.convertChildren(h.viewItem,h.modelCursor);h.modelRange=y,h.modelCursor=_}},{priority:"lowest"}),hn.prototype.decorate.call(this,"init"),hn.prototype.decorate.call(this,"set"),hn.prototype.decorate.call(this,"get"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Gw)},{priority:"lowest"})}get(r={}){const{rootName:s="main",trim:c="empty"}=r;if(!this._checkIfRootsExists([s]))throw new U("datacontroller-get-non-existent-root",this);const h=this.model.document.getRoot(s);return"empty"!==c||this.model.hasContent(h,{ignoreWhitespaces:!0})?this.stringify(h,r):""}stringify(r,s={}){const c=this.toView(r,s);return this.processor.toData(c)}toView(r,s={}){const c=this.viewDocument,h=this._viewWriter;this.mapper.clearBindings();const v=lt._createIn(r),y=new Qo(c);this.mapper.bindElements(r,y);const _=r.is("documentFragment")?r.markers:function(A){const S=[],D=A.root.document;if(!D)return new Map;const E=lt._createIn(A);for(const P of D.model.markers){const z=P.getRange(),G=z.isCollapsed,W=z.start.isEqual(E.start)||z.end.isEqual(E.end);if(G&&W)S.push([P.name,z]);else{const $=E.getIntersection(z);$&&S.push([P.name,$])}}return S.sort(([P,z],[G,W])=>{if("after"!==z.end.compareWith(W.start))return 1;if("before"!==z.start.compareWith(W.end))return-1;switch(z.start.compareWith(W.start)){case"before":return 1;case"after":return-1;default:switch(z.end.compareWith(W.end)){case"before":return 1;case"after":return-1;default:return G.localeCompare(P)}}}),new Map(S)}(r);return this.downcastDispatcher.convert(v,_,h,s),y}init(r){if(this.model.document.version)throw new U("datacontroller-init-document-not-empty",this);let s={};if("string"==typeof r?s.main=r:s=r,!this._checkIfRootsExists(Object.keys(s)))throw new U("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},c=>{for(const h of Object.keys(s)){const v=this.model.document.getRoot(h);c.insert(this.parse(s[h],v),v,0)}}),Promise.resolve()}set(r,s={}){let c={};if("string"==typeof r?c.main=r:c=r,!this._checkIfRootsExists(Object.keys(c)))throw new U("datacontroller-set-non-existent-root",this);this.model.enqueueChange(s.batchType||{},h=>{h.setSelection(null),h.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const v of Object.keys(c)){const y=this.model.document.getRoot(v);h.remove(h.createRangeIn(y)),h.insert(this.parse(c[v],y),y,0)}})}parse(r,s="$root"){const c=this.processor.toView(r);return this.toModel(c,s)}toModel(r,s="$root"){return this.model.change(c=>this.upcastDispatcher.convert(r,c,s))}addStyleProcessorRules(r){r(this.stylesProcessor)}registerRawContentMatcher(r){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(r),this.htmlProcessor.registerRawContentMatcher(r)}destroy(){this.stopListening()}_checkIfRootsExists(r){for(const s of r)if(!this.model.document.getRootNames().includes(s))return!1;return!0}}class lS{constructor(r,s){this._helpers=new Map,this._downcast=Ge(r),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Ge(s),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(r,s){const c=this._downcast.includes(s);if(!this._upcast.includes(s)&&!c)throw new U("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:r,dispatchers:[s],isDowncast:c})}for(r){if(!this._helpers.has(r))throw new U("conversion-for-unknown-group",this);return this._helpers.get(r)}elementToElement(r){this.for("downcast").elementToElement(r);for(const{model:s,view:c}of Cf(r))this.for("upcast").elementToElement({model:s,view:c,converterPriority:r.converterPriority})}attributeToElement(r){this.for("downcast").attributeToElement(r);for(const{model:s,view:c}of Cf(r))this.for("upcast").elementToAttribute({view:c,model:s,converterPriority:r.converterPriority})}attributeToAttribute(r){this.for("downcast").attributeToAttribute(r);for(const{model:s,view:c}of Cf(r))this.for("upcast").attributeToAttribute({view:c,model:s})}_createConversionHelpers({name:r,dispatchers:s,isDowncast:c}){if(this._helpers.has(r))throw new U("conversion-group-exists",this);const h=c?new Fw(s):new Yw(s);this._helpers.set(r,h)}}function*Cf(f){if(f.model.values)for(const r of f.model.values){const s={key:f.model.key,value:r},c=f.view[r],h=f.upcastAlso?f.upcastAlso[r]:void 0;yield*Kw(s,c,h)}else yield*Kw(f.model,f.view,f.upcastAlso)}function*Kw(f,r,s){if(yield{model:f,view:r},s)for(const c of Ge(s))yield{model:f,view:c}}class dc{constructor(r={}){"string"==typeof r&&(r="transparent"===r?{isUndoable:!1}:{},it("batch-constructor-deprecated-string-type"));const{isUndoable:s=!0,isLocal:c=!0,isUndo:h=!1,isTyping:v=!1}=r;this.operations=[],this.isUndoable=s,this.isLocal=c,this.isUndo=h,this.isTyping=v}get type(){return it("batch-type-deprecated"),"default"}get baseVersion(){for(const r of this.operations)if(null!==r.baseVersion)return r.baseVersion;return null}addOperation(r){return r.batch=this,this.operations.push(r),r}}class cS{constructor(r){this._markerCollection=r,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}bufferOperation(r){const s=r;switch(s.type){case"insert":if(this._isInInsertedElement(s.position.parent))return;this._markInsert(s.position.parent,s.position.offset,s.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const c of s.range.getItems({shallow:!0}))this._isInInsertedElement(c.parent)||this._markAttribute(c);break;case"remove":case"move":case"reinsert":{if(s.sourcePosition.isEqual(s.targetPosition)||s.sourcePosition.getShiftedBy(s.howMany).isEqual(s.targetPosition))return;const c=this._isInInsertedElement(s.sourcePosition.parent),h=this._isInInsertedElement(s.targetPosition.parent);c||this._markRemove(s.sourcePosition.parent,s.sourcePosition.offset,s.howMany),h||this._markInsert(s.targetPosition.parent,s.getMovedRangeStart().offset,s.howMany);break}case"rename":{if(this._isInInsertedElement(s.position.parent))return;this._markRemove(s.position.parent,s.position.offset,1),this._markInsert(s.position.parent,s.position.offset,1);const c=lt._createFromPositionAndShift(s.position,1);for(const h of this._markerCollection.getMarkersIntersectingRange(c)){const v=h.getData();this.bufferMarkerChange(h.name,v,v)}break}case"split":{const c=s.splitPosition.parent;this._isInInsertedElement(c)||this._markRemove(c,s.splitPosition.offset,s.howMany),this._isInInsertedElement(s.insertionPosition.parent)||this._markInsert(s.insertionPosition.parent,s.insertionPosition.offset,1),s.graveyardPosition&&this._markRemove(s.graveyardPosition.parent,s.graveyardPosition.offset,1);break}case"merge":{const c=s.sourcePosition.parent;this._isInInsertedElement(c.parent)||this._markRemove(c.parent,c.startOffset,1),this._markInsert(s.graveyardPosition.parent,s.graveyardPosition.offset,1);const v=s.targetPosition.parent;this._isInInsertedElement(v)||this._markInsert(v,s.targetPosition.offset,c.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(r,s,c){const h=this._changedMarkers.get(r);h?(h.newMarkerData=c,null==h.oldMarkerData.range&&null==c.range&&this._changedMarkers.delete(r)):this._changedMarkers.set(r,{newMarkerData:c,oldMarkerData:s})}getMarkersToRemove(){const r=[];for(const[s,c]of this._changedMarkers)null!=c.oldMarkerData.range&&r.push({name:s,range:c.oldMarkerData.range});return r}getMarkersToAdd(){const r=[];for(const[s,c]of this._changedMarkers)null!=c.newMarkerData.range&&r.push({name:s,range:c.newMarkerData.range});return r}getChangedMarkers(){return Array.from(this._changedMarkers).map(([r,s])=>({name:r,data:{oldRange:s.oldMarkerData.range,newRange:s.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0)return!0;for(const{newMarkerData:r,oldMarkerData:s}of this._changedMarkers.values()){if(r.affectsData!==s.affectsData)return!0;if(r.affectsData){const c=r.range&&!s.range,h=!r.range&&s.range,v=r.range&&s.range&&!r.range.isEqual(s.range);if(c||h||v)return!0}}return!1}getChanges(r={}){if(this._cachedChanges)return r.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let s=[];for(const c of this._changesInElement.keys()){const h=this._changesInElement.get(c).sort((D,E)=>D.offset===E.offset?D.type!=E.type?"remove"==D.type?-1:1:0:D.offset<E.offset?-1:1),v=this._elementSnapshots.get(c),y=Xw(c.getChildren()),_=xf(v.length,h);let A=0,S=0;for(const D of _)if("i"===D)s.push(this._getInsertDiff(c,A,y[A])),A++;else if("r"===D)s.push(this._getRemoveDiff(c,A,v[S])),S++;else if("a"===D){const E=y[A].attributes,P=v[S].attributes;let z;if("$text"==y[A].name)z=new lt(bt._createAt(c,A),bt._createAt(c,A+1));else{const G=c.offsetToIndex(A);z=new lt(bt._createAt(c,A),bt._createAt(c.getChild(G),0))}s.push(...this._getAttributesDiff(z,P,E)),A++,S++}else A++,S++}s.sort((c,h)=>c.position.root!=h.position.root?c.position.root.rootName<h.position.root.rootName?-1:1:c.position.isEqual(h.position)?c.changeCount-h.changeCount:c.position.isBefore(h.position)?-1:1);for(let c=1,h=0;c<s.length;c++){const v=s[h],y=s[c],_="remove"==v.type&&"remove"==y.type&&"$text"==v.name&&"$text"==y.name&&v.position.isEqual(y.position),A="insert"==v.type&&"insert"==y.type&&"$text"==v.name&&"$text"==y.name&&v.position.parent==y.position.parent&&v.position.offset+v.length==y.position.offset,S="attribute"==v.type&&"attribute"==y.type&&v.position.parent==y.position.parent&&v.range.isFlat&&y.range.isFlat&&v.position.offset+v.length==y.position.offset&&v.attributeKey==y.attributeKey&&v.attributeOldValue==y.attributeOldValue&&v.attributeNewValue==y.attributeNewValue;_||A||S?(v.length++,S&&(v.range.end=v.range.end.getShiftedBy(1)),s[c]=null):h=c}s=s.filter(c=>c);for(const c of s)delete c.changeCount,"attribute"==c.type&&(delete c.position,delete c.length);return this._changeCount=0,this._cachedChangesWithGraveyard=s,this._cachedChanges=s.filter(Hs),r.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_refreshItem(r){if(this._isInInsertedElement(r.parent))return;this._markRemove(r.parent,r.startOffset,r.offsetSize),this._markInsert(r.parent,r.startOffset,r.offsetSize),this._refreshedItems.add(r);const s=lt._createOn(r);for(const c of this._markerCollection.getMarkersIntersectingRange(s)){const h=c.getData();this.bufferMarkerChange(c.name,h,h)}this._cachedChanges=null}_markInsert(r,s,c){const h={type:"insert",offset:s,howMany:c,count:this._changeCount++};this._markChange(r,h)}_markRemove(r,s,c){const h={type:"remove",offset:s,howMany:c,count:this._changeCount++};this._markChange(r,h),this._removeAllNestedChanges(r,s,c)}_markAttribute(r){const s={type:"attribute",offset:r.startOffset,howMany:r.offsetSize,count:this._changeCount++};this._markChange(r.parent,s)}_markChange(r,s){this._makeSnapshot(r);const c=this._getChangesForElement(r);this._handleChange(s,c),c.push(s);for(let h=0;h<c.length;h++)c[h].howMany<1&&(c.splice(h,1),h--)}_getChangesForElement(r){let s;return this._changesInElement.has(r)?s=this._changesInElement.get(r):(s=[],this._changesInElement.set(r,s)),s}_makeSnapshot(r){this._elementSnapshots.has(r)||this._elementSnapshots.set(r,Xw(r.getChildren()))}_handleChange(r,s){r.nodesToHandle=r.howMany;for(const c of s){const h=r.offset+r.howMany,v=c.offset+c.howMany;if("insert"==r.type&&("insert"==c.type&&(r.offset<=c.offset?c.offset+=r.howMany:r.offset<v&&(c.howMany+=r.nodesToHandle,r.nodesToHandle=0)),"remove"==c.type&&r.offset<c.offset&&(c.offset+=r.howMany),"attribute"==c.type))if(r.offset<=c.offset)c.offset+=r.howMany;else if(r.offset<v){const y=c.howMany;c.howMany=r.offset-c.offset,s.unshift({type:"attribute",offset:h,howMany:y-c.howMany,count:this._changeCount++})}if("remove"==r.type){if("insert"==c.type)if(h<=c.offset)c.offset-=r.howMany;else if(h<=v)if(r.offset<c.offset){const y=h-c.offset;c.offset=r.offset,c.howMany-=y,r.nodesToHandle-=y}else c.howMany-=r.nodesToHandle,r.nodesToHandle=0;else if(r.offset<=c.offset)r.nodesToHandle-=c.howMany,c.howMany=0;else if(r.offset<v){const y=v-r.offset;c.howMany-=y,r.nodesToHandle-=y}if("remove"==c.type&&(h<=c.offset?c.offset-=r.howMany:r.offset<c.offset&&(r.nodesToHandle+=c.howMany,c.howMany=0)),"attribute"==c.type)if(h<=c.offset)c.offset-=r.howMany;else if(r.offset<c.offset){const y=h-c.offset;c.offset=r.offset,c.howMany-=y}else if(r.offset<v)if(h<=v){const y=c.howMany;c.howMany=r.offset-c.offset,s.unshift({type:"attribute",offset:r.offset,howMany:y-c.howMany-r.nodesToHandle,count:this._changeCount++})}else c.howMany-=v-r.offset}if("attribute"==r.type){if("insert"==c.type)if(r.offset<c.offset&&h>c.offset){if(h>v){const y={type:"attribute",offset:v,howMany:h-v,count:this._changeCount++};this._handleChange(y,s),s.push(y)}r.nodesToHandle=c.offset-r.offset,r.howMany=r.nodesToHandle}else r.offset>=c.offset&&r.offset<v&&(h>v?(r.nodesToHandle=h-v,r.offset=v):r.nodesToHandle=0);if("remove"==c.type&&r.offset<c.offset&&h>c.offset){const y={type:"attribute",offset:c.offset,howMany:h-c.offset,count:this._changeCount++};this._handleChange(y,s),s.push(y),r.nodesToHandle=c.offset-r.offset,r.howMany=r.nodesToHandle}"attribute"==c.type&&(r.offset>=c.offset&&h<=v?(r.nodesToHandle=0,r.howMany=0,r.offset=0):r.offset<=c.offset&&h>=v&&(c.howMany=0))}}r.howMany=r.nodesToHandle,delete r.nodesToHandle}_getInsertDiff(r,s,c){return{type:"insert",position:bt._createAt(r,s),name:c.name,attributes:new Map(c.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(r,s,c){return{type:"remove",position:bt._createAt(r,s),name:c.name,attributes:new Map(c.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(r,s,c){const h=[];c=new Map(c);for(const[v,y]of s){const _=c.has(v)?c.get(v):null;_!==y&&h.push({type:"attribute",position:r.start,range:r.clone(),length:1,attributeKey:v,attributeOldValue:y,attributeNewValue:_,changeCount:this._changeCount++}),c.delete(v)}for(const[v,y]of c)h.push({type:"attribute",position:r.start,range:r.clone(),length:1,attributeKey:v,attributeOldValue:null,attributeNewValue:y,changeCount:this._changeCount++});return h}_isInInsertedElement(r){const s=r.parent;if(!s)return!1;const c=this._changesInElement.get(s),h=r.startOffset;if(c)for(const v of c)if("insert"==v.type&&h>=v.offset&&h<v.offset+v.howMany)return!0;return this._isInInsertedElement(s)}_removeAllNestedChanges(r,s,c){const h=new lt(bt._createAt(r,s),bt._createAt(r,s+c));for(const v of h.getItems({shallow:!0}))v.is("element")&&(this._elementSnapshots.delete(v),this._changesInElement.delete(v),this._removeAllNestedChanges(v,0,v.maxOffset))}}function Xw(f){const r=[];for(const s of f)if(s.is("$text"))for(let c=0;c<s.data.length;c++)r.push({name:"$text",attributes:new Map(s.getAttributes())});else r.push({name:s.name,attributes:new Map(s.getAttributes())});return r}function xf(f,r){const s=[];let c=0,h=0;for(const v of r){if(v.offset>c){for(let y=0;y<v.offset-c;y++)s.push("e");h+=v.offset-c}if("insert"==v.type){for(let y=0;y<v.howMany;y++)s.push("i");c=v.offset+v.howMany}else if("remove"==v.type){for(let y=0;y<v.howMany;y++)s.push("r");c=v.offset,h+=v.howMany}else s.push(..."a".repeat(v.howMany).split("")),c=v.offset+v.howMany,h+=v.howMany}if(h<f)for(let v=0;v<f-h-c;v++)s.push("e");return s}function Hs(f){return!("position"in f&&"$graveyard"==f.position.root.rootName||"range"in f&&"$graveyard"==f.range.root.rootName)}class uS{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(r){this._operations.length&&r>this._version+1&&this._gaps.set(this._version,r),this._version=r}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(r){if(r.baseVersion!==this.version)throw new U("model-document-history-addoperation-incorrect-version",this,{operation:r,historyVersion:this.version});this._operations.push(r),this._version++,this._baseVersionToOperationIndex.set(r.baseVersion,this._operations.length-1)}getOperations(r,s=this.version){if(!this._operations.length)return[];const c=this._operations[0];void 0===r&&(r=c.baseVersion);let h=s-1;for(const[_,A]of this._gaps)r>_&&r<A&&(r=A),h>_&&h<A&&(h=_-1);if(h<c.baseVersion||r>this.lastOperation.baseVersion)return[];let v=this._baseVersionToOperationIndex.get(r);void 0===v&&(v=0);let y=this._baseVersionToOperationIndex.get(h);return void 0===y&&(y=this._operations.length-1),this._operations.slice(v,y+1)}getOperation(r){const s=this._baseVersionToOperationIndex.get(r);if(void 0!==s)return this._operations[s]}setOperationAsUndone(r,s){this._undoPairs.set(s,r),this._undoneOperations.add(r)}isUndoingOperation(r){return this._undoPairs.has(r)}isUndoneOperation(r){return this._undoneOperations.has(r)}getUndoneOperation(r){return this._undoPairs.get(r)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Sf extends qe{constructor(r,s,c="main"){super(s),this._document=r,this.rootName=c}get document(){return this._document}toJSON(){return this.rootName}}function Qw(f,r){return!!(s=f.charAt(r-1))&&1==s.length&&/[\ud800-\udbff]/.test(s)&&!!(c=f.charAt(r))&&1==c.length&&/[\udc00-\udfff]/.test(c);var c,s}function Tf(f,r){return!!(s=f.charAt(r))&&1==s.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(s);var s}Sf.prototype.is=function(f,r){return r?r===this.name&&("rootElement"===f||"model:rootElement"===f||"element"===f||"model:element"===f):"rootElement"===f||"model:rootElement"===f||"element"===f||"model:element"===f||"node"===f||"model:node"===f};const dS=function(){const f=/\p{Regional_Indicator}{2}/u.source,r="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map(s=>s.source).join("|")+")";return new RegExp(`${f}|${r}(?:\u200d${r})*`,"ug")}();function gm(f,r){const s=String(f).matchAll(dS);return Array.from(s).some(c=>c.index<r&&r<c.index+c[0].length)}const Df="$graveyard";class Mf extends Ft{constructor(r){super(),this.model=r,this.history=new uS,this.selection=new fi(this),this.roots=new nr({idProperty:"rootName"}),this.differ=new cS(r.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Df),this.listenTo(r,"applyOperation",(s,c)=>{const h=c[0];h.isDocumentOperation&&this.differ.bufferOperation(h)},{priority:"high"}),this.listenTo(r,"applyOperation",(s,c)=>{const h=c[0];h.isDocumentOperation&&this.history.addOperation(h)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(r.markers,"update",(s,c,h,v,y)=>{const _={...c.getData(),range:v};this.differ.bufferMarkerChange(c.name,y,_),null===h&&c.on("change",(A,S)=>{const D=c.getData();this.differ.bufferMarkerChange(c.name,{...D,range:S},D)})})}get version(){return this.history.version}set version(r){this.history.version=r}get graveyard(){return this.getRoot(Df)}createRoot(r="$root",s="main"){if(this.roots.get(s))throw new U("model-document-createroot-name-exists",this,{name:s});const c=new Sf(this,r,s);return this.roots.add(c),c}destroy(){this.selection.destroy(),this.stopListening()}getRoot(r="main"){return this.roots.get(r)}getRootNames(){return Array.from(this.roots,r=>r.rootName).filter(r=>r!=Df)}registerPostFixer(r){this._postFixers.add(r)}toJSON(){const r=Lu(this);return r.selection="[engine.model.DocumentSelection]",r.model="[engine.model.Model]",r}_handleChangeBlock(r){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(r),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",r.batch):this.fire("change",r.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const r of this.roots)if(r!==this.graveyard)return r;return this.graveyard}_getDefaultRange(){const r=this._getDefaultRoot(),s=this.model,c=s.schema,h=s.createPositionFromPath(r,[0]);return c.getNearestSelectionRange(h)||s.createRange(h)}_validateSelectionRange(r){return If(r.start)&&If(r.end)}_callPostFixers(r){let s=!1;do{for(const c of this._postFixers)if(this.selection.refresh(),s=c(r),s)break}while(s)}}function If(f){const r=f.textNode;if(r){const s=r.data,c=f.offset-r.startOffset;return!Qw(s,c)&&!Tf(s,c)}return!0}class hS extends Ft{constructor(){super(),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(r){return this._markers.has(r instanceof js?r.name:r)}get(r){return this._markers.get(r)||null}_set(r,s,c=!1,h=!1){const v=r instanceof js?r.name:r;if(v.includes(","))throw new U("markercollection-incorrect-marker-name",this);const y=this._markers.get(v);if(y){const S=y.getData(),D=y.getRange();let E=!1;return D.isEqual(s)||(y._attachLiveRange(Zi.fromRange(s)),E=!0),c!=y.managedUsingOperations&&(y._managedUsingOperations=c,E=!0),"boolean"==typeof h&&h!=y.affectsData&&(y._affectsData=h,E=!0),E&&this.fire(`update:${v}`,y,D,s,S),y}const _=Zi.fromRange(s),A=new js(v,_,c,h);return this._markers.set(v,A),this.fire(`update:${v}`,A,null,s,{...A.getData(),range:null}),A}_remove(r){const s=r instanceof js?r.name:r,c=this._markers.get(s);return!!c&&(this._markers.delete(s),this.fire(`update:${s}`,c,c.getRange(),null,c.getData()),this._destroyMarker(c),!0)}_refresh(r){const s=r instanceof js?r.name:r,c=this._markers.get(s);if(!c)throw new U("markercollection-refresh-marker-not-exists",this);const h=c.getRange();this.fire(`update:${s}`,c,h,h,c.getData())}*getMarkersAtPosition(r){for(const s of this)s.getRange().containsPosition(r)&&(yield s)}*getMarkersIntersectingRange(r){for(const s of this)null!==s.getRange().getIntersection(r)&&(yield s)}destroy(){for(const r of this._markers.values())this._destroyMarker(r);this._markers=null,this.stopListening()}*getMarkersGroup(r){for(const s of this._markers.values())s.name.startsWith(r+":")&&(yield s)}_destroyMarker(r){r.stopListening(),r._detachLiveRange()}}class js extends(_r(Ha)){constructor(r,s,c,h){super(),this.name=r,this._liveRange=this._attachLiveRange(s),this._managedUsingOperations=c,this._affectsData=h}get managedUsingOperations(){if(!this._liveRange)throw new U("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new U("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new U("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new U("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new U("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(r){return this._liveRange&&this._detachLiveRange(),r.delegate("change:range").to(this),r.delegate("change:content").to(this),this._liveRange=r,r}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}js.prototype.is=function(f){return"marker"===f||"model:marker"===f};class pi{constructor(r){this.baseVersion=r,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const r=Object.assign({},this);return r.__className=this.constructor.className,delete r.batch,delete r.isDocumentOperation,r}static get className(){return"Operation"}static fromJSON(r,s){return new this(r.baseVersion)}}function vm(f,r){const s=mm(r),c=s.reduce((y,_)=>y+_.offsetSize,0),h=f.parent;od(f);const v=f.index;return h._insertChild(v,s),id(h,v+s.length),id(h,v),new lt(f,f.getShiftedBy(c))}function Jw(f){if(!f.isFlat)throw new U("operation-utils-remove-range-not-flat",this);const r=f.start.parent;od(f.start),od(f.end);const s=r._removeChildren(f.start.index,f.end.index-f.start.index);return id(r,f.start.index),s}function rd(f,r){if(!f.isFlat)throw new U("operation-utils-move-range-not-flat",this);const s=Jw(f);return vm(r=r._getTransformedByDeletion(f.start,f.end.offset-f.start.offset),s)}function mm(f){const r=[];!function s(c){if("string"==typeof c)r.push(new Qe(c));else if(c instanceof wo)r.push(new Qe(c.data,c.getAttributes()));else if(c instanceof ja)r.push(c);else if(kr(c))for(const h of c)s(h)}(f);for(let s=1;s<r.length;s++){const c=r[s],h=r[s-1];c instanceof Qe&&h instanceof Qe&&Ef(c,h)&&(r.splice(s-1,2,new Qe(h.data+c.data,h.getAttributes())),s--)}return r}function id(f,r){const s=f.getChild(r-1),c=f.getChild(r);if(s&&c&&s.is("$text")&&c.is("$text")&&Ef(s,c)){const h=new Qe(s.data+c.data,s.getAttributes());f._removeChildren(r-1,2),f._insertChild(r-1,h)}}function od(f){const r=f.textNode,s=f.parent;if(r){const c=f.offset-r.startOffset,h=r.index;s._removeChildren(h,1);const v=new Qe(r.data.substr(0,c),r.getAttributes()),y=new Qe(r.data.substr(c),r.getAttributes());s._insertChild(h,[v,y])}}function Ef(f,r){const s=f.getAttributes(),c=r.getAttributes();for(const h of s){if(h[1]!==r.getAttribute(h[0]))return!1;c.next()}return c.next().done}const t_=function(f,r){return za(f,r)};class Tn extends pi{constructor(r,s,c,h,v){super(v),this.range=r.clone(),this.key=s,this.oldValue=void 0===c?null:c,this.newValue=void 0===h?null:h}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new Tn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Tn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const r=super.toJSON();return r.range=this.range.toJSON(),r}_validate(){if(!this.range.isFlat)throw new U("attribute-operation-range-not-flat",this);for(const r of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!t_(r.getAttribute(this.key),this.oldValue))throw new U("attribute-operation-wrong-old-value",this,{item:r,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&r.hasAttribute(this.key))throw new U("attribute-operation-attribute-exists",this,{node:r,key:this.key})}}_execute(){t_(this.oldValue,this.newValue)||function(r,s,c){od(r.start),od(r.end);for(const h of r.getItems({shallow:!0})){const v=h.is("$textProxy")?h.textNode:h;null!==c?v._setAttribute(s,c):v._removeAttribute(s),id(v.parent,v.index)}id(r.end.parent,r.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(r,s){return new Tn(lt.fromJSON(r.range,s),r.key,r.oldValue,r.newValue,r.baseVersion)}}class Ne extends pi{constructor(r,s,c,h){super(h),this.sourcePosition=r.clone(),this.sourcePosition.stickiness="toNext",this.howMany=s,this.targetPosition=c.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new Ne(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const r=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Ne(this.getMovedRangeStart(),this.howMany,r,this.baseVersion+1)}_validate(){const r=this.sourcePosition.parent,s=this.targetPosition.parent,c=this.sourcePosition.offset,h=this.targetPosition.offset;if(c+this.howMany>r.maxOffset)throw new U("move-operation-nodes-do-not-exist",this);if(r===s&&c<h&&h<c+this.howMany)throw new U("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Ke(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const v=this.sourcePosition.path.length-1;if(this.targetPosition.path[v]>=c&&this.targetPosition.path[v]<c+this.howMany)throw new U("move-operation-node-into-itself",this)}}_execute(){rd(lt._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const r=super.toJSON();return r.sourcePosition=this.sourcePosition.toJSON(),r.targetPosition=this.targetPosition.toJSON(),r}static get className(){return"MoveOperation"}static fromJSON(r,s){const c=bt.fromJSON(r.sourcePosition,s),h=bt.fromJSON(r.targetPosition,s);return new this(c,r.howMany,h,r.baseVersion)}}class Gn extends pi{constructor(r,s,c){super(c),this.position=r.clone(),this.position.stickiness="toNone",this.nodes=new ac(mm(s)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const r=new ac([...this.nodes].map(c=>c._clone(!0))),s=new Gn(this.position,r,this.baseVersion);return s.shouldReceiveAttributes=this.shouldReceiveAttributes,s}getReversed(){const s=new bt(this.position.root.document.graveyard,[0]);return new Ne(this.position,this.nodes.maxOffset,s,this.baseVersion+1)}_validate(){const r=this.position.parent;if(!r||r.maxOffset<this.position.offset)throw new U("insert-operation-position-invalid",this)}_execute(){const r=this.nodes;this.nodes=new ac([...r].map(s=>s._clone(!0))),vm(this.position,r)}toJSON(){const r=super.toJSON();return r.position=this.position.toJSON(),r.nodes=this.nodes.toJSON(),r}static get className(){return"InsertOperation"}static fromJSON(r,s){const c=[];for(const v of r.nodes)c.push(v.name?qe.fromJSON(v):Qe.fromJSON(v));const h=new Gn(bt.fromJSON(r.position,s),c,r.baseVersion);return h.shouldReceiveAttributes=r.shouldReceiveAttributes,h}}class vr extends pi{constructor(r,s,c,h,v,y){super(y),this.name=r,this.oldRange=s?s.clone():null,this.newRange=c?c.clone():null,this.affectsData=v,this._markers=h}get type(){return"marker"}clone(){return new vr(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new vr(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const r=super.toJSON();return this.oldRange&&(r.oldRange=this.oldRange.toJSON()),this.newRange&&(r.newRange=this.newRange.toJSON()),delete r._markers,r}static get className(){return"MarkerOperation"}static fromJSON(r,s){return new vr(r.name,r.oldRange?lt.fromJSON(r.oldRange,s):null,r.newRange?lt.fromJSON(r.newRange,s):null,s.model.markers,r.affectsData,r.baseVersion)}}class ln extends pi{get type(){return"noop"}clone(){return new ln(this.baseVersion)}getReversed(){return new ln(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class ir extends pi{constructor(r,s,c,h){super(h),this.position=r,this.position.stickiness="toNext",this.oldName=s,this.newName=c}get type(){return"rename"}clone(){return new ir(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new ir(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const r=this.position.nodeAfter;if(!(r instanceof qe))throw new U("rename-operation-wrong-position",this);if(r.name!==this.oldName)throw new U("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const r=super.toJSON();return r.position=this.position.toJSON(),r}static get className(){return"RenameOperation"}static fromJSON(r,s){return new ir(bt.fromJSON(r.position,s),r.oldName,r.newName,r.baseVersion)}}class Ao extends pi{constructor(r,s,c,h,v){super(v),this.root=r,this.key=s,this.oldValue=c,this.newValue=h}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new Ao(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ao(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new U("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new U("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new U("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const r=super.toJSON();return r.root=this.root.toJSON(),r}static get className(){return"RootAttributeOperation"}static fromJSON(r,s){if(!s.getRoot(r.root))throw new U("rootattribute-operation-fromjson-no-root",this,{rootName:r.root});return new Ao(s.getRoot(r.root),r.key,r.oldValue,r.newValue,r.baseVersion)}}class yn extends pi{constructor(r,s,c,h,v){super(v),this.sourcePosition=r.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=s,this.targetPosition=c.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=h.clone()}get type(){return"merge"}get deletionPosition(){return new bt(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const r=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new lt(this.sourcePosition,r)}clone(){return new yn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const r=this.targetPosition._getTransformedByMergeOperation(this),s=this.sourcePosition.path.slice(0,-1),c=new bt(this.sourcePosition.root,s)._getTransformedByMergeOperation(this);return new Ze(r,this.howMany,c,this.graveyardPosition,this.baseVersion+1)}_validate(){const r=this.sourcePosition.parent,s=this.targetPosition.parent;if(!r.parent)throw new U("merge-operation-source-position-invalid",this);if(!s.parent)throw new U("merge-operation-target-position-invalid",this);if(this.howMany!=r.maxOffset)throw new U("merge-operation-how-many-invalid",this)}_execute(){const r=this.sourcePosition.parent;rd(lt._createIn(r),this.targetPosition),rd(lt._createOn(r),this.graveyardPosition)}toJSON(){const r=super.toJSON();return r.sourcePosition=r.sourcePosition.toJSON(),r.targetPosition=r.targetPosition.toJSON(),r.graveyardPosition=r.graveyardPosition.toJSON(),r}static get className(){return"MergeOperation"}static fromJSON(r,s){const c=bt.fromJSON(r.sourcePosition,s),h=bt.fromJSON(r.targetPosition,s),v=bt.fromJSON(r.graveyardPosition,s);return new this(c,r.howMany,h,v,r.baseVersion)}}class Ze extends pi{constructor(r,s,c,h,v){super(v),this.splitPosition=r.clone(),this.splitPosition.stickiness="toNext",this.howMany=s,this.insertionPosition=c,this.graveyardPosition=h?h.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const r=this.insertionPosition.path.slice();return r.push(0),new bt(this.insertionPosition.root,r)}get movedRange(){const r=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new lt(this.splitPosition,r)}clone(){return new Ze(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const s=new bt(this.splitPosition.root.document.graveyard,[0]);return new yn(this.moveTargetPosition,this.howMany,this.splitPosition,s,this.baseVersion+1)}_validate(){const r=this.splitPosition.parent;if(!r||r.maxOffset<this.splitPosition.offset)throw new U("split-operation-position-invalid",this);if(!r.parent)throw new U("split-operation-split-in-root",this);if(this.howMany!=r.maxOffset-this.splitPosition.offset)throw new U("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new U("split-operation-graveyard-position-invalid",this)}_execute(){const r=this.splitPosition.parent;if(this.graveyardPosition)rd(lt._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const s=r._clone();vm(this.insertionPosition,s)}rd(new lt(bt._createAt(r,this.splitPosition.offset),bt._createAt(r,r.maxOffset)),this.moveTargetPosition)}toJSON(){const r=super.toJSON();return r.splitPosition=this.splitPosition.toJSON(),r.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(r.graveyardPosition=this.graveyardPosition.toJSON()),r}static get className(){return"SplitOperation"}static getInsertionPosition(r){const s=r.path.slice(0,-1);return s[s.length-1]++,new bt(r.root,s,"toPrevious")}static fromJSON(r,s){const c=bt.fromJSON(r.splitPosition,s),h=bt.fromJSON(r.insertionPosition,s),v=r.graveyardPosition?bt.fromJSON(r.graveyardPosition,s):null;return new this(c,r.howMany,h,v,r.baseVersion)}}const gi={};gi[Tn.className]=Tn,gi[Gn.className]=Gn,gi[vr.className]=vr,gi[Ne.className]=Ne,gi[ln.className]=ln,gi[pi.className]=pi,gi[ir.className]=ir,gi[Ao.className]=Ao,gi[Ze.className]=Ze,gi[yn.className]=yn;class fS extends pi{constructor(r,s){super(null),this.sourcePosition=r.clone(),this.howMany=s}get type(){return"detach"}toJSON(){const r=super.toJSON();return r.sourcePosition=this.sourcePosition.toJSON(),r}_validate(){if(this.sourcePosition.root.document)throw new U("detach-operation-on-document-node",this)}_execute(){Jw(lt._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Rn extends Ha{constructor(r){super(),this.markers=new Map,this._children=new ac,r&&this._insertChild(0,r)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}getAncestors(){return[]}getChild(r){return this._children.getNode(r)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(r){return this._children.getNodeIndex(r)}getChildStartOffset(r){return this._children.getNodeStartOffset(r)}getPath(){return[]}getNodeByPath(r){let s=this;for(const c of r)s=s.getChild(s.offsetToIndex(c));return s}offsetToIndex(r){return this._children.offsetToIndex(r)}toJSON(){const r=[];for(const s of this._children)r.push(s.toJSON());return r}static fromJSON(r){const s=[];for(const c of r)s.push(c.name?qe.fromJSON(c):Qe.fromJSON(c));return new Rn(s)}_appendChild(r){this._insertChild(this.childCount,r)}_insertChild(r,s){const c="string"==typeof(h=s)?[new Qe(h)]:(kr(h)||(h=[h]),Array.from(h).map(v=>"string"==typeof v?new Qe(v):v instanceof wo?new Qe(v.data,v.getAttributes()):v));var h;for(const h of c)null!==h.parent&&h._remove(),h.parent=this;this._children._insertNodes(r,c)}_removeChildren(r,s=1){const c=this._children._removeNodes(r,s);for(const h of c)h.parent=null;return c}}Rn.prototype.is=function(f){return"documentFragment"===f||"model:documentFragment"===f};class Wr{constructor(r,s){this.model=r,this.batch=s}createText(r,s){return new Qe(r,s)}createElement(r,s){return new qe(r,s)}createDocumentFragment(){return new Rn}cloneElement(r,s=!0){return r._clone(s)}insert(r,s,c=0){if(this._assertWriterUsedCorrectly(),r instanceof Qe&&""==r.data)return;const h=bt._createAt(s,c);if(r.parent){if(ad(r.root,h.root))return void this.move(lt._createOn(r),h);if(r.root.document)throw new U("model-writer-insert-forbidden-move",this);this.remove(r)}const y=new Gn(h,r,h.root.document?h.root.document.version:null);if(r instanceof Qe&&(y.shouldReceiveAttributes=!0),this.batch.addOperation(y),this.model.applyOperation(y),r instanceof Rn)for(const[_,A]of r.markers){const S=bt._createAt(A.root,0),D={range:new lt(A.start._getCombined(S,h),A.end._getCombined(S,h)),usingOperation:!0,affectsData:!0};this.model.markers.has(_)?this.updateMarker(_,D):this.addMarker(_,D)}}insertText(r,s,c,h){s instanceof Rn||s instanceof qe||s instanceof bt?this.insert(this.createText(r),s,c):this.insert(this.createText(r,s),c,h)}insertElement(r,s,c,h){s instanceof Rn||s instanceof qe||s instanceof bt?this.insert(this.createElement(r),s,c):this.insert(this.createElement(r,s),c,h)}append(r,s){this.insert(r,s,"end")}appendText(r,s,c){s instanceof Rn||s instanceof qe?this.insert(this.createText(r),s,"end"):this.insert(this.createText(r,s),c,"end")}appendElement(r,s,c){s instanceof Rn||s instanceof qe?this.insert(this.createElement(r),s,"end"):this.insert(this.createElement(r,s),c,"end")}setAttribute(r,s,c){if(this._assertWriterUsedCorrectly(),c instanceof lt){const h=c.getMinimalFlatRanges();for(const v of h)Cr(this,r,s,v)}else Lf(this,r,s,c)}setAttributes(r,s){for(const[c,h]of fr(r))this.setAttribute(c,h,s)}removeAttribute(r,s){if(this._assertWriterUsedCorrectly(),s instanceof lt){const c=s.getMinimalFlatRanges();for(const h of c)Cr(this,r,null,h)}else Lf(this,r,null,s)}clearAttributes(r){this._assertWriterUsedCorrectly();const s=c=>{for(const h of c.getAttributeKeys())this.removeAttribute(h,c)};if(r instanceof lt)for(const c of r.getItems())s(c);else s(r)}move(r,s,c){if(this._assertWriterUsedCorrectly(),!(r instanceof lt))throw new U("writer-move-invalid-range",this);if(!r.isFlat)throw new U("writer-move-range-not-flat",this);const h=bt._createAt(s,c);if(h.isEqual(r.start))return;if(this._addOperationForAffectedMarkers("move",r),!ad(r.root,h.root))throw new U("writer-move-different-document",this);const y=new Ne(r.start,r.end.offset-r.start.offset,h,r.root.document?r.root.document.version:null);this.batch.addOperation(y),this.model.applyOperation(y)}remove(r){this._assertWriterUsedCorrectly();const s=(r instanceof lt?r:lt._createOn(r)).getMinimalFlatRanges().reverse();for(const c of s)this._addOperationForAffectedMarkers("move",c),Us(c.start,c.end.offset-c.start.offset,this.batch,this.model)}merge(r){this._assertWriterUsedCorrectly();const s=r.nodeBefore,c=r.nodeAfter;if(this._addOperationForAffectedMarkers("merge",r),!(s instanceof qe))throw new U("writer-merge-no-element-before",this);if(!(c instanceof qe))throw new U("writer-merge-no-element-after",this);r.root.document?this._merge(r):this._mergeDetached(r)}createPositionFromPath(r,s,c){return this.model.createPositionFromPath(r,s,c)}createPositionAt(r,s){return this.model.createPositionAt(r,s)}createPositionAfter(r){return this.model.createPositionAfter(r)}createPositionBefore(r){return this.model.createPositionBefore(r)}createRange(r,s){return this.model.createRange(r,s)}createRangeIn(r){return this.model.createRangeIn(r)}createRangeOn(r){return this.model.createRangeOn(r)}createSelection(...r){return this.model.createSelection(...r)}_mergeDetached(r){const s=r.nodeBefore,c=r.nodeAfter;this.move(lt._createIn(c),bt._createAt(s,"end")),this.remove(c)}_merge(r){const s=bt._createAt(r.nodeBefore,"end"),c=bt._createAt(r.nodeAfter,0),v=new bt(r.root.document.graveyard,[0]),_=new yn(c,r.nodeAfter.maxOffset,s,v,r.root.document.version);this.batch.addOperation(_),this.model.applyOperation(_)}rename(r,s){if(this._assertWriterUsedCorrectly(),!(r instanceof qe))throw new U("writer-rename-not-element-instance",this);const c=r.root.document?r.root.document.version:null,h=new ir(bt._createBefore(r),r.name,s,c);this.batch.addOperation(h),this.model.applyOperation(h)}split(r,s){this._assertWriterUsedCorrectly();let c,h,v=r.parent;if(!v.parent)throw new U("writer-split-element-no-parent",this);if(s||(s=v.parent),!r.parent.getAncestors({includeSelf:!0}).includes(s))throw new U("writer-split-invalid-limit-element",this);do{const y=v.root.document?v.root.document.version:null,_=v.maxOffset-r.offset,A=Ze.getInsertionPosition(r),S=new Ze(r,_,A,null,y);this.batch.addOperation(S),this.model.applyOperation(S),c||h||(c=v,h=r.parent.nextSibling),v=(r=this.createPositionAfter(r.parent)).parent}while(v!==s);return{position:r,range:new lt(bt._createAt(c,"end"),bt._createAt(h,0))}}wrap(r,s){if(this._assertWriterUsedCorrectly(),!r.isFlat)throw new U("writer-wrap-range-not-flat",this);const c=s instanceof qe?s:new qe(s);if(c.childCount>0)throw new U("writer-wrap-element-not-empty",this);if(null!==c.parent)throw new U("writer-wrap-element-attached",this);this.insert(c,r.start);const h=new lt(r.start.getShiftedBy(1),r.end.getShiftedBy(1));this.move(h,bt._createAt(c,0))}unwrap(r){if(this._assertWriterUsedCorrectly(),null===r.parent)throw new U("writer-unwrap-element-no-parent",this);this.move(lt._createIn(r),this.createPositionAfter(r)),this.remove(r)}addMarker(r,s){if(this._assertWriterUsedCorrectly(),!s||"boolean"!=typeof s.usingOperation)throw new U("writer-addmarker-no-usingoperation",this);const c=s.usingOperation,h=s.range,v=void 0!==s.affectsData&&s.affectsData;if(this.model.markers.has(r))throw new U("writer-addmarker-marker-exists",this);if(!h)throw new U("writer-addmarker-no-range",this);return c?(Gs(this,r,null,h,v),this.model.markers.get(r)):this.model.markers._set(r,h,c,v)}updateMarker(r,s){this._assertWriterUsedCorrectly();const c="string"==typeof r?r:r.name,h=this.model.markers.get(c);if(!h)throw new U("writer-updatemarker-marker-not-exists",this);if(!s)return it("writer-updatemarker-reconvert-using-editingcontroller",{markerName:c}),void this.model.markers._refresh(h);const v="boolean"==typeof s.usingOperation,y="boolean"==typeof s.affectsData,_=y?s.affectsData:h.affectsData;if(!v&&!s.range&&!y)throw new U("writer-updatemarker-wrong-options",this);const A=h.getRange(),S=s.range?s.range:A;v&&s.usingOperation!==h.managedUsingOperations?s.usingOperation?Gs(this,c,null,S,_):(Gs(this,c,A,null,_),this.model.markers._set(c,S,void 0,_)):h.managedUsingOperations?Gs(this,c,A,S,_):this.model.markers._set(c,S,void 0,_)}removeMarker(r){this._assertWriterUsedCorrectly();const s="string"==typeof r?r:r.name;if(!this.model.markers.has(s))throw new U("writer-removemarker-no-marker",this);const c=this.model.markers.get(s);c.managedUsingOperations?Gs(this,s,c.getRange(),null,c.affectsData):this.model.markers._remove(s)}setSelection(...r){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...r)}setSelectionFocus(r,s){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(r,s)}setSelectionAttribute(r,s){if(this._assertWriterUsedCorrectly(),"string"==typeof r)this._setSelectionAttribute(r,s);else for(const[c,h]of fr(r))this._setSelectionAttribute(c,h)}removeSelectionAttribute(r){if(this._assertWriterUsedCorrectly(),"string"==typeof r)this._removeSelectionAttribute(r);else for(const s of r)this._removeSelectionAttribute(s)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(r){this.model.document.selection._restoreGravity(r)}_setSelectionAttribute(r,s){const c=this.model.document.selection;if(c.isCollapsed&&c.anchor.parent.isEmpty){const h=fi._getStoreAttributeKey(r);this.setAttribute(h,s,c.anchor.parent)}c._setAttribute(r,s)}_removeSelectionAttribute(r){const s=this.model.document.selection;if(s.isCollapsed&&s.anchor.parent.isEmpty){const c=fi._getStoreAttributeKey(r);this.removeAttribute(c,s.anchor.parent)}s._removeAttribute(r)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new U("writer-incorrect-use",this)}_addOperationForAffectedMarkers(r,s){for(const c of this.model.markers){if(!c.managedUsingOperations)continue;const h=c.getRange();let v=!1;if("move"===r){const y=s;v=y.containsPosition(h.start)||y.start.isEqual(h.start)||y.containsPosition(h.end)||y.end.isEqual(h.end)}else{const A=s.nodeAfter,D=h.end.parent==A&&0==h.end.offset,E=h.end.nodeAfter==A,P=h.start.nodeAfter==A;v=h.start.parent==s.nodeBefore&&h.start.isAtEnd||D||E||P}v&&this.updateMarker(c.name,{range:h})}}}function Cr(f,r,s,c){const h=f.model,v=h.document;let y,_,A,S=c.start;for(const E of c.getWalker({shallow:!0}))A=E.item.getAttribute(r),y&&_!=A&&(_!=s&&D(),S=y),y=E.nextPosition,_=A;function D(){const E=new lt(S,y),z=new Tn(E,r,_,s,E.root.document?v.version:null);f.batch.addOperation(z),h.applyOperation(z)}y instanceof bt&&y!=S&&_!=s&&D()}function Lf(f,r,s,c){const h=f.model,v=h.document,y=c.getAttribute(r);let _,A;y!=s&&(c.root===c?A=new Ao(c,r,y,s,c.document?v.version:null):(_=new lt(bt._createBefore(c),f.createPositionAfter(c)),A=new Tn(_,r,y,s,_.root.document?v.version:null)),f.batch.addOperation(A),h.applyOperation(A))}function Gs(f,r,s,c,h){const v=f.model,_=new vr(r,s,c,v.markers,!!h,v.document.version);f.batch.addOperation(_),v.applyOperation(_)}function Us(f,r,s,c){let h;if(f.root.document){const v=c.document,y=new bt(v.graveyard,[0]);h=new Ne(f,r,y,v.version)}else h=new fS(f,r);s.addOperation(h),c.applyOperation(h)}function ad(f,r){return f===r||f instanceof Sf&&r instanceof Sf}function Rf(f,r){return f.isCollapsed?function(s,c){const h=s.start,v=c.getNearestSelectionRange(h);if(!v){const _=h.getAncestors().reverse().find(A=>c.isObject(A));return _?lt._createOn(_):null}if(!v.isCollapsed)return v;const y=v.start;return h.isEqual(y)?null:new lt(y)}(f,r):function(s,c){const{start:h,end:v}=s,y=c.checkChild(h,"$text"),_=c.checkChild(v,"$text"),A=c.getLimitElement(h),S=c.getLimitElement(v);if(A===S){if(y&&_)return null;if(function(P,z,G){const W=P.nodeAfter&&!G.isLimit(P.nodeAfter)||G.checkChild(P,"$text"),$=z.nodeBefore&&!G.isLimit(z.nodeBefore)||G.checkChild(z,"$text");return W||$}(h,v,c)){const P=h.nodeAfter&&c.isSelectable(h.nodeAfter)?null:c.getNearestSelectionRange(h,"forward"),z=v.nodeBefore&&c.isSelectable(v.nodeBefore)?null:c.getNearestSelectionRange(v,"backward");return new lt(P?P.start:h,z?z.end:v)}}const D=A&&!A.is("rootElement"),E=S&&!S.is("rootElement");if(D||E){const P=h.nodeAfter&&v.nodeBefore&&h.nodeAfter.parent===v.nodeBefore.parent,z=D&&(!P||!bm(h.nodeAfter,c)),G=E&&(!P||!bm(v.nodeBefore,c));let W=h,$=v;return z&&(W=bt._createBefore(sd(A,c))),G&&($=bt._createAfter(sd(S,c))),new lt(W,$)}return null}(f,r)}function sd(f,r){let s=f,c=s;for(;r.isLimit(c)&&c.parent;)s=c,c=c.parent;return s}function bm(f,r){return f&&r.isSelectable(f)}class $n extends(_r(bt)){constructor(r,s,c="toNone"){if(super(r,s,c),!this.root.is("rootElement"))throw new U("model-liveposition-root-not-rootelement",r);e_.call(this)}detach(){this.stopListening()}toPosition(){return new bt(this.root,this.path.slice(),this.stickiness)}static fromPosition(r,s){return new this(r.root,r.path.slice(),s||r.stickiness)}}function e_(){this.listenTo(this.root.document.model,"applyOperation",(f,r)=>{const s=r[0];s.isDocumentOperation&&pS.call(this,s)},{priority:"low"})}function pS(f){const r=this.getTransformedByOperation(f);if(!this.isEqual(r)){const s=this.toPosition();this.path=r.path,this.root=r.root,this.fire("change",s)}}function gS(f,r,s={}){if(r.isCollapsed)return;const c=r.getFirstRange();if("$graveyard"==c.root.rootName)return;const h=f.schema;f.change(v=>{if(!s.doNotResetEntireContent&&function(S,D){const E=S.getLimitElement(D);if(!D.containsEntireContent(E))return!1;const P=D.getFirstRange();return P.start.parent!=P.end.parent&&S.checkChild(E,"paragraph")}(h,r))return void function(S,D){const E=S.model.schema.getLimitElement(D);S.remove(S.createRangeIn(E)),qa(S,S.createPositionAt(E,0),D)}(v,r);const y={};if(!s.doNotAutoparagraph){const S=r.getSelectedElement();S&&Object.assign(y,h.getAttributesWithProperty(S,"copyOnReplace",!0))}const[_,A]=function(S){const D=S.root.document.model,E=S.start;let P=S.end;if(D.hasContent(S,{ignoreMarkers:!0})){const z=function(G){const W=G.parent,$=W.root.document.model.schema,X=W.getAncestors({parentFirst:!0,includeSelf:!0});for(const et of X){if($.isLimit(et))return null;if($.isBlock(et))return et}}(P);if(z&&P.isTouching(D.createPositionAt(z,0))){const G=D.createSelection(S);D.modifySelection(G,{direction:"backward"});const W=G.getLastPosition(),$=D.createRange(W,P);D.hasContent($,{ignoreMarkers:!0})||(P=W)}}return[$n.fromPosition(E,"toPrevious"),$n.fromPosition(P,"toNext")]}(c);_.isTouching(A)||v.remove(v.createRange(_,A)),s.leaveUnmerged||(function(S,D,E){const P=S.model;if(!ea(S.model.schema,D,E))return;const[z,G]=function(W,$){const X=W.getAncestors(),et=$.getAncestors();let ct=0;for(;X[ct]&&X[ct]==et[ct];)ct++;return[X[ct],et[ct]]}(D,E);!z||!G||(!P.hasContent(z,{ignoreMarkers:!0})&&P.hasContent(G,{ignoreMarkers:!0})?ze(S,D,E,z.parent):n_(S,D,E,z.parent))}(v,_,A),h.removeDisallowedAttributes(_.parent.getChildren(),v)),$i(v,r,_),!s.doNotAutoparagraph&&function(S,D){const E=S.checkChild(D,"$text"),P=S.checkChild(D,"paragraph");return!E&&P}(h,_)&&qa(v,_,r,y),_.detach(),A.detach()})}function n_(f,r,s,c){const h=r.parent,v=s.parent;if(h!=c&&v!=c){for(r=f.createPositionAfter(h),(s=f.createPositionBefore(v)).isEqual(r)||f.insert(v,r),f.merge(r);s.parent.isEmpty;){const y=s.parent;s=f.createPositionBefore(y),f.remove(y)}ea(f.model.schema,r,s)&&n_(f,r,s,c)}}function ze(f,r,s,c){const h=r.parent,v=s.parent;if(h!=c&&v!=c){for(r=f.createPositionAfter(h),(s=f.createPositionBefore(v)).isEqual(r)||f.insert(h,s);r.parent.isEmpty;){const y=r.parent;r=f.createPositionBefore(y),f.remove(y)}s=f.createPositionBefore(v),function(y,_){const A=_.nodeBefore,S=_.nodeAfter;A.name!=S.name&&y.rename(A,S.name),y.clearAttributes(A),y.setAttributes(Object.fromEntries(S.getAttributes()),A),y.merge(_)}(f,s),ea(f.model.schema,r,s)&&ze(f,r,s,c)}}function ea(f,r,s){const c=r.parent,h=s.parent;return c!=h&&!f.isLimit(c)&&!f.isLimit(h)&&function(v,y,_){const A=new lt(v,y);for(const S of A.getWalker())if(_.isLimit(S.item))return!1;return!0}(r,s,f)}function qa(f,r,s,c={}){const h=f.createElement("paragraph");f.model.schema.setAllowedAttributes(h,c,f),f.insert(h,r),$i(f,s,f.createPositionAt(h,0))}function $i(f,r,s){r instanceof fi?f.setSelection(s):r.setTo(s)}function na(f,r){const s=[];Array.from(f.getItems({direction:"backward"})).map(c=>r.createRangeOn(c)).filter(c=>(c.start.isAfter(f.start)||c.start.isEqual(f.start))&&(c.end.isBefore(f.end)||c.end.isEqual(f.end))).forEach(c=>{s.push(c.start.parent),r.remove(c)}),s.forEach(c=>{let h=c;for(;h.parent&&h.isEmpty;){const v=r.createRangeOn(h);h=h.parent,r.remove(v)}})}$n.prototype.is=function(f){return"livePosition"===f||"model:livePosition"===f||"position"==f||"model:position"===f};var Ki=St(8894);Ut()(Ki.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const hc=new WeakMap;function Nf(f){const{view:r,element:s,text:c,isDirectHost:h=!0,keepOnFocus:v=!1}=f,y=r.document;hc.has(y)||(hc.set(y,new Map),y.registerPostFixer(_=>ra(y,_)),y.on("change:isComposing",()=>{r.change(_=>ra(y,_))},{priority:"high"})),hc.get(y).set(s,{text:c,isDirectHost:h,keepOnFocus:v,hostElement:h?s:null}),r.change(_=>ra(y,_))}function ra(f,r){const s=hc.get(f),c=[];let h=!1;for(const[v,y]of s)y.isDirectHost&&(c.push(v),xo(r,v,y)&&(h=!0));for(const[v,y]of s){if(y.isDirectHost)continue;const _=wm(v);_&&(c.includes(_)||(y.hostElement=_,xo(r,v,y)&&(h=!0)))}return h}function xo(f,r,s){const{text:c,isDirectHost:h,hostElement:v}=s;let y=!1;return v.getAttribute("data-placeholder")!==c&&(f.setAttribute("data-placeholder",c,v),y=!0),(h||1==r.childCount)&&function(_,A){if(!_.isAttached()||Array.from(_.getChildren()).some(P=>!P.is("uiElement")))return!1;const D=_.document,E=D.selection.anchor;return!(D.isComposing&&E&&E.parent===_||!A&&D.isFocused&&(!E||E.parent===_))}(v,s.keepOnFocus)?(_=f,!(A=v).hasClass("ck-placeholder")&&(_.addClass("ck-placeholder",A),!0)&&(y=!0)):function(f,r){return!!r.hasClass("ck-placeholder")&&(f.removeClass("ck-placeholder",r),!0)}(f,v)&&(y=!0),y;var _,A}function wm(f){if(f.childCount){const r=f.getChild(0);if(r.is("element")&&!r.is("uiElement")&&!r.is("attributeElement"))return r}return null}const So=new Map;function Ee(f,r,s){let c=So.get(f);c||(c=new Map,So.set(f,c)),c.set(r,s)}function ld(f){return[f]}function Bf(f,r,s={}){const c=function(h,v){const y=So.get(h);return y&&y.has(v)?y.get(v):ld}(f.constructor,r.constructor);try{return c(f=f.clone(),r,s)}catch(h){throw h}}function r_(f,r,s){f=f.slice(),r=r.slice();const c=new vS(s.document,s.useRelations,s.forceWeakRemove);c.setOriginalOperations(f),c.setOriginalOperations(r);const h=c.originalOperations;if(0==f.length||0==r.length)return{operationsA:f,operationsB:r,originalOperations:h};const v=new WeakMap;for(const A of f)v.set(A,0);const y={nextBaseVersionA:f[f.length-1].baseVersion+1,nextBaseVersionB:r[r.length-1].baseVersion+1,originalOperationsACount:f.length,originalOperationsBCount:r.length};let _=0;for(;_<f.length;){const A=f[_],S=v.get(A);if(S==r.length){_++;continue}const D=r[S],E=Bf(A,D,c.getContext(A,D,!0)),P=Bf(D,A,c.getContext(D,A,!1));c.updateRelation(A,D),c.setOriginalOperations(E,A),c.setOriginalOperations(P,D);for(const z of E)v.set(z,S+P.length);f.splice(_,1,...E),r.splice(S,1,...P)}if(s.padWithNoOps){const A=f.length-y.originalOperationsACount,S=r.length-y.originalOperationsBCount;ia(f,S-A),ia(r,A-S)}return Xi(f,y.nextBaseVersionB),Xi(r,y.nextBaseVersionA),{operationsA:f,operationsB:r,originalOperations:h}}class vS{constructor(r,s,c=!1){this.originalOperations=new Map,this._history=r.history,this._useRelations=s,this._forceWeakRemove=!!c,this._relations=new Map}setOriginalOperations(r,s=null){const c=s?this.originalOperations.get(s):null;for(const h of r)this.originalOperations.set(h,c||h)}updateRelation(r,s){if(r instanceof Ne)s instanceof yn?r.targetPosition.isEqual(s.sourcePosition)||s.movedRange.containsPosition(r.targetPosition)?this._setRelation(r,s,"insertAtSource"):r.targetPosition.isEqual(s.deletionPosition)?this._setRelation(r,s,"insertBetween"):r.targetPosition.isAfter(s.sourcePosition)&&this._setRelation(r,s,"moveTargetAfter"):s instanceof Ne&&(r.targetPosition.isEqual(s.sourcePosition)||r.targetPosition.isBefore(s.sourcePosition)?this._setRelation(r,s,"insertBefore"):this._setRelation(r,s,"insertAfter"));else if(r instanceof Ze){if(s instanceof yn)r.splitPosition.isBefore(s.sourcePosition)&&this._setRelation(r,s,"splitBefore");else if(s instanceof Ne)if(r.splitPosition.isEqual(s.sourcePosition)||r.splitPosition.isBefore(s.sourcePosition))this._setRelation(r,s,"splitBefore");else{const c=lt._createFromPositionAndShift(s.sourcePosition,s.howMany);r.splitPosition.hasSameParentAs(s.sourcePosition)&&c.containsPosition(r.splitPosition)&&this._setRelation(r,s,{howMany:c.end.offset-r.splitPosition.offset,offset:r.splitPosition.offset-c.start.offset})}}else if(r instanceof yn)s instanceof yn?(r.targetPosition.isEqual(s.sourcePosition)||this._setRelation(r,s,"mergeTargetNotMoved"),r.sourcePosition.isEqual(s.targetPosition)&&this._setRelation(r,s,"mergeSourceNotMoved"),r.sourcePosition.isEqual(s.sourcePosition)&&this._setRelation(r,s,"mergeSameElement")):s instanceof Ze&&r.sourcePosition.isEqual(s.splitPosition)&&this._setRelation(r,s,"splitAtSource");else if(r instanceof vr){const c=r.newRange;if(!c)return;if(s instanceof Ne){const h=lt._createFromPositionAndShift(s.sourcePosition,s.howMany),v=h.containsPosition(c.start)||h.start.isEqual(c.start),y=h.containsPosition(c.end)||h.end.isEqual(c.end);!v&&!y||h.containsRange(c)||this._setRelation(r,s,{side:v?"left":"right",path:v?c.start.path.slice():c.end.path.slice()})}else if(s instanceof yn){const h=c.start.isEqual(s.targetPosition),v=c.start.isEqual(s.deletionPosition),y=c.end.isEqual(s.deletionPosition),_=c.end.isEqual(s.sourcePosition);(h||v||y||_)&&this._setRelation(r,s,{wasInLeftElement:h,wasStartBeforeMergedElement:v,wasEndBeforeMergedElement:y,wasInRightElement:_})}}}getContext(r,s,c){return{aIsStrong:c,aWasUndone:this._wasUndone(r),bWasUndone:this._wasUndone(s),abRelation:this._useRelations?this._getRelation(r,s):null,baRelation:this._useRelations?this._getRelation(s,r):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(r){const s=this.originalOperations.get(r);return s.wasUndone||this._history.isUndoneOperation(s)}_getRelation(r,s){const c=this.originalOperations.get(s),h=this._history.getUndoneOperation(c);if(!h)return null;const v=this.originalOperations.get(r),y=this._relations.get(v);return y&&y.get(h)||null}_setRelation(r,s,c){const h=this.originalOperations.get(r),v=this.originalOperations.get(s);let y=this._relations.get(h);y||(y=new Map,this._relations.set(h,y)),y.set(v,c)}}function Xi(f,r){for(const s of f)s.baseVersion=r++}function ia(f,r){for(let s=0;s<r;s++)f.push(new ln(0))}function i_(f,r,s){const c=f.nodes.getNode(0).getAttribute(r);if(c==s)return null;const h=new lt(f.position,f.position.getShiftedBy(f.howMany));return new Tn(h,r,c,s,0)}function _m(f,r){return null===f.targetPosition._getTransformedByDeletion(r.sourcePosition,r.howMany)}function Ys(f,r){const s=[];for(let c=0;c<f.length;c++){const h=f[c],v=new Ne(h.start,h.end.offset-h.start.offset,r,0);s.push(v);for(let y=c+1;y<f.length;y++)f[y]=f[y]._getTransformedByMove(v.sourcePosition,v.targetPosition,v.howMany)[0];r=r._getTransformedByMove(v.sourcePosition,v.targetPosition,v.howMany)}return s}Ee(Tn,Tn,(f,r,s)=>{if(f.key===r.key&&f.range.start.hasSameParentAs(r.range.start)){const c=f.range.getDifference(r.range).map(v=>new Tn(v,f.key,f.oldValue,f.newValue,0)),h=f.range.getIntersection(r.range);return h&&s.aIsStrong&&c.push(new Tn(h,r.key,r.newValue,f.newValue,0)),0==c.length?[new ln(0)]:c}return[f]}),Ee(Tn,Gn,(f,r)=>{if(f.range.start.hasSameParentAs(r.position)&&f.range.containsPosition(r.position)){const s=f.range._getTransformedByInsertion(r.position,r.howMany,!r.shouldReceiveAttributes).map(c=>new Tn(c,f.key,f.oldValue,f.newValue,f.baseVersion));if(r.shouldReceiveAttributes){const c=i_(r,f.key,f.oldValue);c&&s.unshift(c)}return s}return f.range=f.range._getTransformedByInsertion(r.position,r.howMany,!1)[0],[f]}),Ee(Tn,yn,(f,r)=>{const s=[];f.range.start.hasSameParentAs(r.deletionPosition)&&(f.range.containsPosition(r.deletionPosition)||f.range.start.isEqual(r.deletionPosition))&&s.push(lt._createFromPositionAndShift(r.graveyardPosition,1));const c=f.range._getTransformedByMergeOperation(r);return c.isCollapsed||s.push(c),s.map(h=>new Tn(h,f.key,f.oldValue,f.newValue,f.baseVersion))}),Ee(Tn,Ne,(f,r)=>function(c,h){const v=lt._createFromPositionAndShift(h.sourcePosition,h.howMany);let y=null,_=[];v.containsRange(c,!0)?y=c:c.start.hasSameParentAs(v.start)?(_=c.getDifference(v),y=c.getIntersection(v)):_=[c];const A=[];for(let S of _){S=S._getTransformedByDeletion(h.sourcePosition,h.howMany);const D=h.getMovedRangeStart(),E=S.start.hasSameParentAs(D),P=S._getTransformedByInsertion(D,h.howMany,E);A.push(...P)}return y&&A.push(y._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany,!1)[0]),A}(f.range,r).map(c=>new Tn(c,f.key,f.oldValue,f.newValue,f.baseVersion))),Ee(Tn,Ze,(f,r)=>{if(f.range.end.isEqual(r.insertionPosition))return r.graveyardPosition||f.range.end.offset++,[f];if(f.range.start.hasSameParentAs(r.splitPosition)&&f.range.containsPosition(r.splitPosition)){const s=f.clone();return s.range=new lt(r.moveTargetPosition.clone(),f.range.end._getCombined(r.splitPosition,r.moveTargetPosition)),f.range.end=r.splitPosition.clone(),f.range.end.stickiness="toPrevious",[f,s]}return f.range=f.range._getTransformedBySplitOperation(r),[f]}),Ee(Gn,Tn,(f,r)=>{const s=[f];if(f.shouldReceiveAttributes&&f.position.hasSameParentAs(r.range.start)&&r.range.containsPosition(f.position)){const c=i_(f,r.key,r.newValue);c&&s.push(c)}return s}),Ee(Gn,Gn,(f,r,s)=>(f.position.isEqual(r.position)&&s.aIsStrong||(f.position=f.position._getTransformedByInsertOperation(r)),[f])),Ee(Gn,Ne,(f,r)=>(f.position=f.position._getTransformedByMoveOperation(r),[f])),Ee(Gn,Ze,(f,r)=>(f.position=f.position._getTransformedBySplitOperation(r),[f])),Ee(Gn,yn,(f,r)=>(f.position=f.position._getTransformedByMergeOperation(r),[f])),Ee(vr,Gn,(f,r)=>(f.oldRange&&(f.oldRange=f.oldRange._getTransformedByInsertOperation(r)[0]),f.newRange&&(f.newRange=f.newRange._getTransformedByInsertOperation(r)[0]),[f])),Ee(vr,vr,(f,r,s)=>{if(f.name==r.name){if(!s.aIsStrong)return[new ln(0)];f.oldRange=r.newRange?r.newRange.clone():null}return[f]}),Ee(vr,yn,(f,r)=>(f.oldRange&&(f.oldRange=f.oldRange._getTransformedByMergeOperation(r)),f.newRange&&(f.newRange=f.newRange._getTransformedByMergeOperation(r)),[f])),Ee(vr,Ne,(f,r,s)=>{if(f.oldRange&&(f.oldRange=lt._createFromRanges(f.oldRange._getTransformedByMoveOperation(r))),f.newRange){if(s.abRelation){const c=lt._createFromRanges(f.newRange._getTransformedByMoveOperation(r));if("left"==s.abRelation.side&&r.targetPosition.isEqual(f.newRange.start))return f.newRange.end=c.end,f.newRange.start.path=s.abRelation.path,[f];if("right"==s.abRelation.side&&r.targetPosition.isEqual(f.newRange.end))return f.newRange.start=c.start,f.newRange.end.path=s.abRelation.path,[f]}f.newRange=lt._createFromRanges(f.newRange._getTransformedByMoveOperation(r))}return[f]}),Ee(vr,Ze,(f,r,s)=>{if(f.oldRange&&(f.oldRange=f.oldRange._getTransformedBySplitOperation(r)),f.newRange){if(s.abRelation){const c=f.newRange._getTransformedBySplitOperation(r);return f.newRange.start.isEqual(r.splitPosition)&&s.abRelation.wasStartBeforeMergedElement?f.newRange.start=bt._createAt(r.insertionPosition):f.newRange.start.isEqual(r.splitPosition)&&!s.abRelation.wasInLeftElement&&(f.newRange.start=bt._createAt(r.moveTargetPosition)),f.newRange.end=f.newRange.end.isEqual(r.splitPosition)&&s.abRelation.wasInRightElement?bt._createAt(r.moveTargetPosition):f.newRange.end.isEqual(r.splitPosition)&&s.abRelation.wasEndBeforeMergedElement?bt._createAt(r.insertionPosition):c.end,[f]}f.newRange=f.newRange._getTransformedBySplitOperation(r)}return[f]}),Ee(yn,Gn,(f,r)=>(f.sourcePosition.hasSameParentAs(r.position)&&(f.howMany+=r.howMany),f.sourcePosition=f.sourcePosition._getTransformedByInsertOperation(r),f.targetPosition=f.targetPosition._getTransformedByInsertOperation(r),[f])),Ee(yn,yn,(f,r,s)=>{if(f.sourcePosition.isEqual(r.sourcePosition)&&f.targetPosition.isEqual(r.targetPosition)){if(s.bWasUndone){const c=r.graveyardPosition.path.slice();return c.push(0),f.sourcePosition=new bt(r.graveyardPosition.root,c),f.howMany=0,[f]}return[new ln(0)]}if(f.sourcePosition.isEqual(r.sourcePosition)&&!f.targetPosition.isEqual(r.targetPosition)&&!s.bWasUndone&&"splitAtSource"!=s.abRelation){const c="$graveyard"==f.targetPosition.root.rootName,h="$graveyard"==r.targetPosition.root.rootName;if(h&&!c||(!c||h)&&s.aIsStrong){const y=r.targetPosition._getTransformedByMergeOperation(r),_=f.targetPosition._getTransformedByMergeOperation(r);return[new Ne(y,f.howMany,_,0)]}return[new ln(0)]}return f.sourcePosition.hasSameParentAs(r.targetPosition)&&(f.howMany+=r.howMany),f.sourcePosition=f.sourcePosition._getTransformedByMergeOperation(r),f.targetPosition=f.targetPosition._getTransformedByMergeOperation(r),f.graveyardPosition.isEqual(r.graveyardPosition)&&s.aIsStrong||(f.graveyardPosition=f.graveyardPosition._getTransformedByMergeOperation(r)),[f]}),Ee(yn,Ne,(f,r,s)=>{const c=lt._createFromPositionAndShift(r.sourcePosition,r.howMany);return"remove"==r.type&&!s.bWasUndone&&!s.forceWeakRemove&&f.deletionPosition.hasSameParentAs(r.sourcePosition)&&c.containsPosition(f.sourcePosition)?[new ln(0)]:(f.sourcePosition.hasSameParentAs(r.targetPosition)&&(f.howMany+=r.howMany),f.sourcePosition.hasSameParentAs(r.sourcePosition)&&(f.howMany-=r.howMany),f.sourcePosition=f.sourcePosition._getTransformedByMoveOperation(r),f.targetPosition=f.targetPosition._getTransformedByMoveOperation(r),f.graveyardPosition.isEqual(r.targetPosition)||(f.graveyardPosition=f.graveyardPosition._getTransformedByMoveOperation(r)),[f])}),Ee(yn,Ze,(f,r,s)=>{if(r.graveyardPosition&&(f.graveyardPosition=f.graveyardPosition._getTransformedByDeletion(r.graveyardPosition,1),f.deletionPosition.isEqual(r.graveyardPosition)&&(f.howMany=r.howMany)),f.targetPosition.isEqual(r.splitPosition)){const c=0!=r.howMany,h=r.graveyardPosition&&f.deletionPosition.isEqual(r.graveyardPosition);if(c||h||"mergeTargetNotMoved"==s.abRelation)return f.sourcePosition=f.sourcePosition._getTransformedBySplitOperation(r),[f]}if(f.sourcePosition.isEqual(r.splitPosition)){if("mergeSourceNotMoved"==s.abRelation)return f.howMany=0,f.targetPosition=f.targetPosition._getTransformedBySplitOperation(r),[f];if("mergeSameElement"==s.abRelation||f.sourcePosition.offset>0)return f.sourcePosition=r.moveTargetPosition.clone(),f.targetPosition=f.targetPosition._getTransformedBySplitOperation(r),[f]}return f.sourcePosition.hasSameParentAs(r.splitPosition)&&(f.howMany=r.splitPosition.offset),f.sourcePosition=f.sourcePosition._getTransformedBySplitOperation(r),f.targetPosition=f.targetPosition._getTransformedBySplitOperation(r),[f]}),Ee(Ne,Gn,(f,r)=>{const s=lt._createFromPositionAndShift(f.sourcePosition,f.howMany)._getTransformedByInsertOperation(r,!1)[0];return f.sourcePosition=s.start,f.howMany=s.end.offset-s.start.offset,f.targetPosition.isEqual(r.position)||(f.targetPosition=f.targetPosition._getTransformedByInsertOperation(r)),[f]}),Ee(Ne,Ne,(f,r,s)=>{const c=lt._createFromPositionAndShift(f.sourcePosition,f.howMany),h=lt._createFromPositionAndShift(r.sourcePosition,r.howMany);let v,y=s.aIsStrong,_=!s.aIsStrong;if("insertBefore"==s.abRelation||"insertAfter"==s.baRelation?_=!0:"insertAfter"!=s.abRelation&&"insertBefore"!=s.baRelation||(_=!1),v=f.targetPosition.isEqual(r.targetPosition)&&_?f.targetPosition._getTransformedByDeletion(r.sourcePosition,r.howMany):f.targetPosition._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany),_m(f,r)&&_m(r,f))return[r.getReversed()];if(c.containsPosition(r.targetPosition)&&c.containsRange(h,!0))return c.start=c.start._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany),c.end=c.end._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany),Ys([c],v);if(h.containsPosition(f.targetPosition)&&h.containsRange(c,!0))return c.start=c.start._getCombined(r.sourcePosition,r.getMovedRangeStart()),c.end=c.end._getCombined(r.sourcePosition,r.getMovedRangeStart()),Ys([c],v);const A=Ke(f.sourcePosition.getParentPath(),r.sourcePosition.getParentPath());if("prefix"==A||"extension"==A)return c.start=c.start._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany),c.end=c.end._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany),Ys([c],v);"remove"!=f.type||"remove"==r.type||s.aWasUndone||s.forceWeakRemove?"remove"==f.type||"remove"!=r.type||s.bWasUndone||s.forceWeakRemove||(y=!1):y=!0;const S=[],D=c.getDifference(h);for(const P of D){P.start=P.start._getTransformedByDeletion(r.sourcePosition,r.howMany),P.end=P.end._getTransformedByDeletion(r.sourcePosition,r.howMany);const z="same"==Ke(P.start.getParentPath(),r.getMovedRangeStart().getParentPath()),G=P._getTransformedByInsertion(r.getMovedRangeStart(),r.howMany,z);S.push(...G)}const E=c.getIntersection(h);return null!==E&&y&&(E.start=E.start._getCombined(r.sourcePosition,r.getMovedRangeStart()),E.end=E.end._getCombined(r.sourcePosition,r.getMovedRangeStart()),0===S.length?S.push(E):1==S.length?h.start.isBefore(c.start)||h.start.isEqual(c.start)?S.unshift(E):S.push(E):S.splice(1,0,E)),0===S.length?[new ln(f.baseVersion)]:Ys(S,v)}),Ee(Ne,Ze,(f,r,s)=>{let c=f.targetPosition.clone();f.targetPosition.isEqual(r.insertionPosition)&&r.graveyardPosition&&"moveTargetAfter"!=s.abRelation||(c=f.targetPosition._getTransformedBySplitOperation(r));const h=lt._createFromPositionAndShift(f.sourcePosition,f.howMany);if(h.end.isEqual(r.insertionPosition))return r.graveyardPosition||f.howMany++,f.targetPosition=c,[f];if(h.start.hasSameParentAs(r.splitPosition)&&h.containsPosition(r.splitPosition)){let y=new lt(r.splitPosition,h.end);return y=y._getTransformedBySplitOperation(r),Ys([new lt(h.start,r.splitPosition),y],c)}f.targetPosition.isEqual(r.splitPosition)&&"insertAtSource"==s.abRelation&&(c=r.moveTargetPosition),f.targetPosition.isEqual(r.insertionPosition)&&"insertBetween"==s.abRelation&&(c=f.targetPosition);const v=[h._getTransformedBySplitOperation(r)];if(r.graveyardPosition){const y=h.start.isEqual(r.graveyardPosition)||h.containsPosition(r.graveyardPosition);f.howMany>1&&y&&!s.aWasUndone&&v.push(lt._createFromPositionAndShift(r.insertionPosition,1))}return Ys(v,c)}),Ee(Ne,yn,(f,r,s)=>{const c=lt._createFromPositionAndShift(f.sourcePosition,f.howMany);if(r.deletionPosition.hasSameParentAs(f.sourcePosition)&&c.containsPosition(r.sourcePosition))if("remove"!=f.type||s.forceWeakRemove){if(1==f.howMany)return s.bWasUndone?(f.sourcePosition=r.graveyardPosition.clone(),f.targetPosition=f.targetPosition._getTransformedByMergeOperation(r),[f]):[new ln(0)]}else if(!s.aWasUndone){const v=[];let y=r.graveyardPosition.clone(),_=r.targetPosition._getTransformedByMergeOperation(r);f.howMany>1&&(v.push(new Ne(f.sourcePosition,f.howMany-1,f.targetPosition,0)),y=y._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany-1),_=_._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany-1));const A=r.deletionPosition._getCombined(f.sourcePosition,f.targetPosition),S=new Ne(y,1,A,0),D=S.getMovedRangeStart().path.slice();D.push(0);const E=new bt(S.targetPosition.root,D);_=_._getTransformedByMove(y,A,1);const P=new Ne(_,r.howMany,E,0);return v.push(S),v.push(P),v}const h=lt._createFromPositionAndShift(f.sourcePosition,f.howMany)._getTransformedByMergeOperation(r);return f.sourcePosition=h.start,f.howMany=h.end.offset-h.start.offset,f.targetPosition=f.targetPosition._getTransformedByMergeOperation(r),[f]}),Ee(ir,Gn,(f,r)=>(f.position=f.position._getTransformedByInsertOperation(r),[f])),Ee(ir,yn,(f,r)=>f.position.isEqual(r.deletionPosition)?(f.position=r.graveyardPosition.clone(),f.position.stickiness="toNext",[f]):(f.position=f.position._getTransformedByMergeOperation(r),[f])),Ee(ir,Ne,(f,r)=>(f.position=f.position._getTransformedByMoveOperation(r),[f])),Ee(ir,ir,(f,r,s)=>{if(f.position.isEqual(r.position)){if(!s.aIsStrong)return[new ln(0)];f.oldName=r.newName}return[f]}),Ee(ir,Ze,(f,r)=>{if("same"==Ke(f.position.path,r.splitPosition.getParentPath())&&!r.graveyardPosition){const s=new ir(f.position.getShiftedBy(1),f.oldName,f.newName,0);return[f,s]}return f.position=f.position._getTransformedBySplitOperation(r),[f]}),Ee(Ao,Ao,(f,r,s)=>{if(f.root===r.root&&f.key===r.key){if(!s.aIsStrong||f.newValue===r.newValue)return[new ln(0)];f.oldValue=r.newValue}return[f]}),Ee(Ze,Gn,(f,r)=>(f.splitPosition.hasSameParentAs(r.position)&&f.splitPosition.offset<r.position.offset&&(f.howMany+=r.howMany),f.splitPosition=f.splitPosition._getTransformedByInsertOperation(r),f.insertionPosition=f.insertionPosition._getTransformedByInsertOperation(r),[f])),Ee(Ze,yn,(f,r,s)=>{if(!f.graveyardPosition&&!s.bWasUndone&&f.splitPosition.hasSameParentAs(r.sourcePosition)){const c=r.graveyardPosition.path.slice();c.push(0);const h=new bt(r.graveyardPosition.root,c),v=Ze.getInsertionPosition(new bt(r.graveyardPosition.root,c)),y=new Ze(h,0,v,null,0);return f.splitPosition=f.splitPosition._getTransformedByMergeOperation(r),f.insertionPosition=Ze.getInsertionPosition(f.splitPosition),f.graveyardPosition=y.insertionPosition.clone(),f.graveyardPosition.stickiness="toNext",[y,f]}return f.splitPosition.hasSameParentAs(r.deletionPosition)&&!f.splitPosition.isAfter(r.deletionPosition)&&f.howMany--,f.splitPosition.hasSameParentAs(r.targetPosition)&&(f.howMany+=r.howMany),f.splitPosition=f.splitPosition._getTransformedByMergeOperation(r),f.insertionPosition=Ze.getInsertionPosition(f.splitPosition),f.graveyardPosition&&(f.graveyardPosition=f.graveyardPosition._getTransformedByMergeOperation(r)),[f]}),Ee(Ze,Ne,(f,r,s)=>{const c=lt._createFromPositionAndShift(r.sourcePosition,r.howMany);if(f.graveyardPosition){const v=c.start.isEqual(f.graveyardPosition)||c.containsPosition(f.graveyardPosition);if(!s.bWasUndone&&v){const y=f.splitPosition._getTransformedByMoveOperation(r),_=f.graveyardPosition._getTransformedByMoveOperation(r),A=_.path.slice();A.push(0);const S=new bt(_.root,A);return[new Ne(y,f.howMany,S,0)]}f.graveyardPosition=f.graveyardPosition._getTransformedByMoveOperation(r)}const h=f.splitPosition.isEqual(r.targetPosition);if(h&&("insertAtSource"==s.baRelation||"splitBefore"==s.abRelation))return f.howMany+=r.howMany,f.splitPosition=f.splitPosition._getTransformedByDeletion(r.sourcePosition,r.howMany),f.insertionPosition=Ze.getInsertionPosition(f.splitPosition),[f];if(h&&s.abRelation&&s.abRelation.howMany){const{howMany:v,offset:y}=s.abRelation;return f.howMany+=v,f.splitPosition=f.splitPosition.getShiftedBy(y),[f]}return f.splitPosition.hasSameParentAs(r.sourcePosition)&&c.containsPosition(f.splitPosition)?(f.howMany-=r.howMany-(f.splitPosition.offset-r.sourcePosition.offset),f.splitPosition.hasSameParentAs(r.targetPosition)&&f.splitPosition.offset<r.targetPosition.offset&&(f.howMany+=r.howMany),f.splitPosition=r.sourcePosition.clone(),f.insertionPosition=Ze.getInsertionPosition(f.splitPosition),[f]):(r.sourcePosition.isEqual(r.targetPosition)||(f.splitPosition.hasSameParentAs(r.sourcePosition)&&f.splitPosition.offset<=r.sourcePosition.offset&&(f.howMany-=r.howMany),f.splitPosition.hasSameParentAs(r.targetPosition)&&f.splitPosition.offset<r.targetPosition.offset&&(f.howMany+=r.howMany)),f.splitPosition.stickiness="toNone",f.splitPosition=f.splitPosition._getTransformedByMoveOperation(r),f.splitPosition.stickiness="toNext",f.insertionPosition=f.graveyardPosition?f.insertionPosition._getTransformedByMoveOperation(r):Ze.getInsertionPosition(f.splitPosition),[f])}),Ee(Ze,Ze,(f,r,s)=>{if(f.splitPosition.isEqual(r.splitPosition)){if(!f.graveyardPosition&&!r.graveyardPosition)return[new ln(0)];if(f.graveyardPosition&&r.graveyardPosition&&f.graveyardPosition.isEqual(r.graveyardPosition))return[new ln(0)];if("splitBefore"==s.abRelation)return f.howMany=0,f.graveyardPosition=f.graveyardPosition._getTransformedBySplitOperation(r),[f]}if(f.graveyardPosition&&r.graveyardPosition&&f.graveyardPosition.isEqual(r.graveyardPosition)){const c="$graveyard"==f.splitPosition.root.rootName,h="$graveyard"==r.splitPosition.root.rootName;if(h&&!c||(!c||h)&&s.aIsStrong){const y=[];return r.howMany&&y.push(new Ne(r.moveTargetPosition,r.howMany,r.splitPosition,0)),f.howMany&&y.push(new Ne(f.splitPosition,f.howMany,f.moveTargetPosition,0)),y}return[new ln(0)]}if(f.graveyardPosition&&(f.graveyardPosition=f.graveyardPosition._getTransformedBySplitOperation(r)),f.splitPosition.isEqual(r.insertionPosition)&&"splitBefore"==s.abRelation)return f.howMany++,[f];if(r.splitPosition.isEqual(f.insertionPosition)&&"splitBefore"==s.baRelation){const c=r.insertionPosition.path.slice();c.push(0);const h=new bt(r.insertionPosition.root,c);return[f,new Ne(f.insertionPosition,1,h,0)]}return f.splitPosition.hasSameParentAs(r.splitPosition)&&f.splitPosition.offset<r.splitPosition.offset&&(f.howMany-=r.howMany),f.splitPosition=f.splitPosition._getTransformedBySplitOperation(r),f.insertionPosition=Ze.getInsertionPosition(f.splitPosition),[f]});class Za extends Na{constructor(r){super(r),this.domEventType="click"}onDomEvent(r){this.fire(r.type,r)}}class $a extends Na{constructor(r){super(r),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(r){this.fire(r.type,r)}}class fc{constructor(r){this.document=r}createDocumentFragment(r){return new Qo(this.document,r)}createElement(r,s,c){return new Vr(this.document,r,s,c)}createText(r){return new Te(this.document,r)}clone(r,s=!1){return r._clone(s)}appendChild(r,s){return s._appendChild(r)}insertChild(r,s,c){return c._insertChild(r,s)}removeChildren(r,s,c){return c._removeChildren(r,s)}remove(r){const s=r.parent;return s?this.removeChildren(s.getChildIndex(r),1,s):[]}replace(r,s){const c=r.parent;if(c){const h=c.getChildIndex(r);return this.removeChildren(h,1,c),this.insertChild(h,s,c),!0}return!1}unwrapElement(r){const s=r.parent;if(s){const c=s.getChildIndex(r);this.remove(r),this.insertChild(c,r.getChildren(),s)}}rename(r,s){const c=new Vr(this.document,r,s.getAttributes(),s.getChildren());return this.replace(s,c)?c:null}setAttribute(r,s,c){c._setAttribute(r,s)}removeAttribute(r,s){s._removeAttribute(r)}addClass(r,s){s._addClass(r)}removeClass(r,s){s._removeClass(r)}setStyle(r,s,c){Or(r)&&void 0===c?s._setStyle(r):c._setStyle(r,s)}removeStyle(r,s){s._removeStyle(r)}setCustomProperty(r,s,c){c._setCustomProperty(r,s)}removeCustomProperty(r,s){return s._removeCustomProperty(r)}createPositionAt(r,s){return wt._createAt(r,s)}createPositionAfter(r){return wt._createAfter(r)}createPositionBefore(r){return wt._createBefore(r)}createRange(r,s){return new te(r,s)}createRangeOn(r){return te._createOn(r)}createRangeIn(r){return te._createIn(r)}createSelection(...r){return new rr(...r)}}const oa=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,Ka=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,qs=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,mS=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,yS=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,xr=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function Ei(f){return f.startsWith("#")?oa.test(f):f.startsWith("rgb")?Ka.test(f)||qs.test(f):f.startsWith("hsl")?mS.test(f)||yS.test(f):xr.has(f.toLowerCase())}const bS=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/,wS=/^[+-]?[0-9]*([.][0-9]+)?%$/,_S=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function kS(f){return _S.includes(f)}const o_=["center","top","bottom","left","right"];function AS(f){return o_.includes(f)}const CS=["fixed","scroll","local"];function zf(f){return CS.includes(f)}const xS=/^url\(/;function km(f){return xS.test(f)}function SS(f=""){if(""===f)return{top:void 0,right:void 0,bottom:void 0,left:void 0};const r=a_(f),s=r[0],h=r[1]||s;return{top:s,bottom:r[2]||s,right:h,left:r[3]||h}}function re({top:f,right:r,bottom:s,left:c}){const h=[];return c!==r?h.push(f,r,s,c):s!==f?h.push(f,r,s):r!==f?h.push(f,r):h.push(f),h.join(" ")}function a_(f){return f.replace(/, /g,",").split(" ").map(r=>r.replace(/,/g,", "))}function s_(f){f.setNormalizer("background",r=>{const s={},c=a_(r);for(const h of c)kS(h)?(s.repeat=s.repeat||[],s.repeat.push(h)):AS(h)?(s.position=s.position||[],s.position.push(h)):zf(h)?s.attachment=h:Ei(h)?s.color=h:km(h)&&(s.image=h);return{path:"background",value:s}}),f.setNormalizer("background-color",r=>({path:"background.color",value:r})),f.setReducer("background",r=>{const s=[];return s.push(["background-color",r.color]),s}),f.setStyleRelation("background",["background-color"])}function cd(f){var s;f.setNormalizer("margin",c=>({path:"margin",value:SS(c)})),f.setNormalizer("margin-top",c=>({path:"margin.top",value:c})),f.setNormalizer("margin-right",c=>({path:"margin.right",value:c})),f.setNormalizer("margin-bottom",c=>({path:"margin.bottom",value:c})),f.setNormalizer("margin-left",c=>({path:"margin.left",value:c})),f.setReducer("margin",(s="margin",c=>{const{top:h,right:v,bottom:y,left:_}=c,A=[];return[h,v,_,y].every(S=>!!S)?A.push([s,re(c)]):(h&&A.push([s+"-top",h]),v&&A.push([s+"-right",v]),y&&A.push([s+"-bottom",y]),_&&A.push([s+"-left",_])),A})),f.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}class TS{constructor(r,s,c){this.model=r,this.writer=s,this.position=c,this.canMergeWith=new Set([this.position.parent]),this.schema=r.schema,this._documentFragment=s.createDocumentFragment(),this._documentFragmentPosition=s.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(r){for(const s of Array.from(r))this._handleNode(s);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(r){const s=this.writer.createPositionAfter(this._lastNode),c=this.writer.createPositionAfter(r);if(c.isAfter(s)){if(this._lastNode=r,this.position.parent!=r||!this.position.isAtEnd)throw new U("insertcontent-invalid-insertion-position",this);this.position=c,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?lt._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new lt(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(r){if(this.schema.isObject(r))return void this._handleObject(r);let s=this._checkAndAutoParagraphToAllowedPosition(r);s||(s=this._checkAndSplitToAllowedPosition(r),s)?(this._appendToFragment(r),this._firstNode||(this._firstNode=r),this._lastNode=r):this._handleDisallowedNode(r)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const r=$n.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=r.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=r.toPosition(),r.detach()}_handleObject(r){this._checkAndSplitToAllowedPosition(r)?this._appendToFragment(r):this._tryAutoparagraphing(r)}_handleDisallowedNode(r){r.is("element")?this.handleNodes(r.getChildren()):this._tryAutoparagraphing(r)}_appendToFragment(r){if(!this.schema.checkChild(this.position,r))throw new U("insertcontent-wrong-position",this,{node:r,position:this.position});this.writer.insert(r,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(r.offsetSize),this._nodeToSelect=this.schema.isObject(r)&&!this.schema.checkChild(this.position,"$text")?r:null,this._filterAttributesOf.push(r)}_setAffectedBoundaries(r){this._affectedStart||(this._affectedStart=$n.fromPosition(r,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(r)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=$n.fromPosition(r,"toNext"))}_mergeOnLeft(){const r=this._firstNode;if(!(r instanceof qe&&this._canMergeLeft(r)))return;const s=$n._createBefore(r);s.stickiness="toNext";const c=$n.fromPosition(this.position,"toNext");this._affectedStart.isEqual(s)&&(this._affectedStart.detach(),this._affectedStart=$n._createAt(s.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=s.nodeBefore,this._lastNode=s.nodeBefore),this.writer.merge(s),s.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=$n._createAt(s.nodeBefore,"end","toNext")),this.position=c.toPosition(),c.detach(),this._filterAttributesOf.push(this.position.parent),s.detach()}_mergeOnRight(){const r=this._lastNode;if(!(r instanceof qe&&this._canMergeRight(r)))return;const s=$n._createAfter(r);if(s.stickiness="toNext",!this.position.isEqual(s))throw new U("insertcontent-invalid-insertion-position",this);this.position=bt._createAt(s.nodeBefore,"end");const c=$n.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(s)&&(this._affectedEnd.detach(),this._affectedEnd=$n._createAt(s.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=s.nodeBefore,this._lastNode=s.nodeBefore),this.writer.merge(s),s.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=$n._createAt(s.nodeBefore,0,"toPrevious")),this.position=c.toPosition(),c.detach(),this._filterAttributesOf.push(this.position.parent),s.detach()}_canMergeLeft(r){const s=r.previousSibling;return s instanceof qe&&this.canMergeWith.has(s)&&this.model.schema.checkMerge(s,r)}_canMergeRight(r){const s=r.nextSibling;return s instanceof qe&&this.canMergeWith.has(s)&&this.model.schema.checkMerge(r,s)}_tryAutoparagraphing(r){const s=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,s)&&this.schema.checkChild(s,r)&&(s._appendChild(r),this._handleNode(s))}_checkAndAutoParagraphToAllowedPosition(r){if(this.schema.checkChild(this.position.parent,r))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",r))return!1;this._insertPartialFragment();const s=this.writer.createElement("paragraph");return this.writer.insert(s,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=s,this.position=this.writer.createPositionAt(s,0),!0}_checkAndSplitToAllowedPosition(r){const s=this._getAllowedIn(this.position.parent,r);if(!s)return!1;for(s!=this.position.parent&&this._insertPartialFragment();s!=this.position.parent;)if(this.position.isAtStart){const c=this.position.parent;this.position=this.writer.createPositionBefore(c),c.isEmpty&&c.parent===s&&this.writer.remove(c)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const c=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=c,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(r,s){return this.schema.checkChild(r,s)?r:this.schema.isLimit(r)?null:this._getAllowedIn(r.parent,s)}}function l_(f,r,s="auto"){const c=f.getSelectedElement();if(c&&r.schema.isObject(c)&&!r.schema.isInline(c))return"before"==s||"after"==s?r.createRange(r.createPositionAt(c,s)):r.createRangeOn(c);const h=xn(f.getSelectedBlocks());if(!h)return r.createRange(f.focus);if(h.isEmpty)return r.createRange(r.createPositionAt(h,0));const v=r.createPositionAfter(h);return f.focus.isTouching(v)?r.createRange(v):r.createRange(r.createPositionBefore(h))}function c_(f,r){const{isForward:s,walker:c,unit:h,schema:v,treatEmojiAsSingleUnit:y}=f,{type:_,item:A,nextPosition:S}=r;if("text"==_)return"word"===f.unit?function(D,E){let P=D.position.textNode;for(P||(P=E?D.position.nodeAfter:D.position.nodeBefore);P&&P.is("$text");){const z=D.position.offset-P.startOffset;if(pc(P,z,E))P=E?D.position.nodeAfter:D.position.nodeBefore;else{if(MS(P.data,z,E))break;D.next()}}return D.position}(c,s):function(D,E,P){const z=D.position.textNode;if(z){const G=z.data;let W=D.position.offset-z.startOffset;for(;Qw(G,W)||"character"==E&&Tf(G,W)||P&&gm(G,W);)D.next(),W=D.position.offset-z.startOffset}return D.position}(c,h,y);if(_==(s?"elementStart":"elementEnd")){if(v.isSelectable(A))return bt._createAt(A,s?"after":"before");if(v.checkChild(S,"$text"))return S}else{if(v.isLimit(A))return void c.skip(()=>!0);if(v.checkChild(S,"$text"))return S}}function or(f,r){const c=bt._createAt(f.root,r?"end":0);return r?new lt(f,c):new lt(c,f)}function MS(f,r,s){return' ,.?!:;"-()'.includes(f.charAt(r+(s?0:-1)))}function pc(f,r,s){return r===(s?f.offsetSize:0)}class u_ extends hn{constructor(){super(),this.markers=new hS,this.document=new Mf(this),this.schema=new ye,this._pendingChanges=[],this._currentWriter=null,["insertContent","insertObject","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(r=>this.decorate(r)),this.on("applyOperation",(r,s)=>{s[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((r,s)=>{if("$marker"===s.name)return!0}),function(f){f.document.registerPostFixer(r=>function(s,c){const h=c.document.selection,v=c.schema,y=[];let _=!1;for(const A of h.getRanges()){const S=Rf(A,v);S&&!S.isEqual(A)?(y.push(S),_=!0):y.push(A)}return _&&s.setSelection(function(A){const S=[...A],D=new Set;let E=1;for(;E<S.length;){const P=S[E],z=S.slice(0,E);for(const[G,W]of z.entries())if(!D.has(G))if(P.isEqual(W))D.add(G);else if(P.isIntersecting(W)){D.add(G),D.add(E);const $=P.getJoined(W);S.push($)}E++}return S.filter((P,z)=>!D.has(z))}(y),{backward:h.isBackward}),!1}(r,f))}(this),this.document.registerPostFixer(Gw)}change(r){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new dc,callback:r}),this._runPendingChanges()[0]):r(this._currentWriter)}catch(s){U.rethrowUnexpectedError(s,this)}}enqueueChange(r,s){try{r?"function"==typeof r?(s=r,r=new dc):r instanceof dc||(r=new dc(r)):r=new dc,this._pendingChanges.push({batch:r,callback:s}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(c){U.rethrowUnexpectedError(c,this)}}applyOperation(r){r._execute()}insertContent(r,s,c){return v=r,y=s,_=c,(h=this).change(A=>{let S;S=y?y instanceof qi||y instanceof fi?y:A.createSelection(y,_):h.document.selection,S.isCollapsed||h.deleteContent(S,{doNotAutoparagraph:!0});const D=new TS(h,A,S.anchor),E=[];let P;if(v.is("documentFragment")){if(v.markers.size){const W=[];for(const[$,X]of v.markers){const{start:et,end:ct}=X,mt=et.isEqual(ct);W.push({position:et,name:$,isCollapsed:mt},{position:ct,name:$,isCollapsed:mt})}W.sort(({position:$},{position:X})=>$.isBefore(X)?1:-1);for(const{position:$,name:X,isCollapsed:et}of W){let ct=null,mt=null;const Ot=$.parent===v&&$.isAtStart,Wt=$.parent===v&&$.isAtEnd;Ot||Wt?et&&(mt=Ot?"start":"end"):(ct=A.createElement("$marker"),A.insert(ct,$)),E.push({name:X,element:ct,collapsed:mt})}}P=v.getChildren()}else P=[v];D.handleNodes(P);let z=D.getSelectionRange();if(v.is("documentFragment")&&E.length){const W=z?Zi.fromRange(z):null,$={};for(let X=E.length-1;X>=0;X--){const{name:et,element:ct,collapsed:mt}=E[X],Ot=!$[et];if(Ot&&($[et]=[]),ct){const Wt=A.createPositionAt(ct,"before");$[et].push(Wt),A.remove(ct)}else{const Wt=D.getAffectedRange();if(!Wt){mt&&$[et].push(D.position);continue}$[et].push(mt?Wt[mt]:Ot?Wt.start:Wt.end)}}for(const[X,[et,ct]]of Object.entries($))et&&ct&&et.root===ct.root&&A.addMarker(X,{usingOperation:!0,affectsData:!0,range:new lt(et,ct)});W&&(z=W.toRange(),W.detach())}z&&(S instanceof fi?A.setSelection(z):S.setTo(z));const G=D.getAffectedRange()||h.createRange(S.anchor);return D.destroy(),G});var h,v,y,_}insertObject(r,s,c,h){return function(f,r,s,c,h={}){if(!f.schema.isObject(r))throw new U("insertobject-element-not-an-object",f,{object:r});let v;v=s?s instanceof qi||s instanceof fi?s:f.createSelection(s,c):f.document.selection;let y=v;h.findOptimalPosition&&f.schema.isBlock(r)&&(y=f.createSelection(l_(v,f,h.findOptimalPosition)));const _=xn(v.getSelectedBlocks()),A={};return _&&Object.assign(A,f.schema.getAttributesWithProperty(_,"copyOnReplace",!0)),f.change(S=>{y.isCollapsed||f.deleteContent(y,{doNotAutoparagraph:!0});let D=r;const E=y.anchor.parent;!f.schema.checkChild(E,r)&&f.schema.checkChild(E,"paragraph")&&f.schema.checkChild("paragraph",r)&&(D=S.createElement("paragraph"),S.insert(r,D)),f.schema.setAllowedAttributes(D,A,S);const P=f.insertContent(D,y);return P.isCollapsed||h.setSelection&&function(z,G,W,$){const X=z.model;if("after"==W){let et=G.nextSibling;!(et&&X.schema.checkChild(et,"$text"))&&X.schema.checkChild(G.parent,"paragraph")&&(et=z.createElement("paragraph"),X.schema.setAllowedAttributes(et,$,z),X.insertContent(et,z.createPositionAfter(G))),et&&z.setSelection(et,0)}else{if("on"!=W)throw new U("insertobject-invalid-place-parameter-value",X);z.setSelection(G,"on")}}(S,r,h.setSelection,A),P})}(this,r,s,c,h)}deleteContent(r,s){gS(this,r,s)}modifySelection(r,s){!function(c,h,v={}){const y=c.schema,_="backward"!=v.direction,A=v.unit?v.unit:"character",S=!!v.treatEmojiAsSingleUnit,E=new _o({boundaries:or(h.focus,_),singleCharacters:!0,direction:_?"forward":"backward"}),P={walker:E,schema:y,isForward:_,unit:A,treatEmojiAsSingleUnit:S};let z;for(;z=E.next();){if(z.done)return;const G=c_(P,z.value);if(G)return void(h instanceof fi?c.change(W=>{W.setSelectionFocus(G)}):h.setFocus(G))}}(this,r,s)}getSelectedContent(r){return function(s,c){return s.change(h=>{const v=h.createDocumentFragment(),y=c.getFirstRange();if(!y||y.isCollapsed)return v;const _=y.start.root,A=y.start.getCommonPath(y.end),S=_.getNodeByPath(A);let D;D=y.start.parent==y.end.parent?y:h.createRange(h.createPositionAt(S,y.start.path[A.length]),h.createPositionAt(S,y.end.path[A.length]+1));const E=D.end.offset-D.start.offset;for(const P of D.getItems({shallow:!0}))P.is("$textProxy")?h.appendText(P.data,P.getAttributes(),v):h.append(h.cloneElement(P,!0),v);if(D!=y){const P=y._getTransformedByMove(D.start,h.createPositionAt(v,0),E)[0],z=h.createRange(h.createPositionAt(v,0),P.start);na(h.createRange(P.end,h.createPositionAt(v,"end")),h),na(z,h)}return v})}(this,r)}hasContent(r,s={}){const c=r instanceof lt?r:lt._createIn(r);if(c.isCollapsed)return!1;const{ignoreWhitespaces:h=!1,ignoreMarkers:v=!1}=s;if(!v)for(const y of this.markers.getMarkersIntersectingRange(c))if(y.affectsData)return!0;for(const y of c.getItems())if(this.schema.isContent(y)&&(!y.is("$textProxy")||!h||-1!==y.data.search(/\S/)))return!0;return!1}createPositionFromPath(r,s,c){return new bt(r,s,c)}createPositionAt(r,s){return bt._createAt(r,s)}createPositionAfter(r){return bt._createAfter(r)}createPositionBefore(r){return bt._createBefore(r)}createRange(r,s){return new lt(r,s)}createRangeIn(r){return lt._createIn(r)}createRangeOn(r){return lt._createOn(r)}createSelection(...r){return new qi(...r)}createBatch(r){return new dc(r)}createOperationFromJSON(r){return class{static fromJSON(r,s){return gi[r.__className].fromJSON(r,s)}}.fromJSON(r,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const r=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){this._currentWriter=new Wr(this,this._pendingChanges[0].batch);const c=this._pendingChanges[0].callback(this._currentWriter);r.push(c),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return r}}class d_ extends gr{constructor(r){super(),this.editor=r}set(r,s,c={}){if("string"==typeof s){const h=s;s=(v,y)=>{this.editor.execute(h),y()}}super.set(r,s,c)}}class Zs extends hn{constructor(r={}){super();const s=this.constructor;this._context=r.context||new ow({language:r.language||s.defaultConfig&&s.defaultConfig.language}),this._context._addEditor(this,!r.context);const h=Array.from(s.builtinPlugins||[]);this.config=new iw(r,s.defaultConfig),this.config.define("plugins",h),this.config.define(this._context._getEditorConfig()),this.plugins=new Yh(this,h,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new nS,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new u_;const v=new nf;this.data=new pm(this.model,v),this.editing=new eS(this.model,v),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new lS([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new d_(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(r){throw new U("editor-isreadonly-has-no-setter")}enableReadOnlyMode(r){if("string"!=typeof r&&"symbol"!=typeof r)throw new U("editor-read-only-lock-id-invalid",null,{lockId:r});this._readOnlyLocks.has(r)||(this._readOnlyLocks.add(r),1===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(r){if("string"!=typeof r&&"symbol"!=typeof r)throw new U("editor-read-only-lock-id-invalid",null,{lockId:r});this._readOnlyLocks.has(r)&&(this._readOnlyLocks.delete(r),0===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const r=this.config,s=r.get("plugins"),c=r.get("removePlugins")||[],h=r.get("extraPlugins")||[],v=r.get("substitutePlugins")||[];return this.plugins.init(s.concat(h),c,v)}destroy(){let r=Promise.resolve();return"initializing"==this.state&&(r=new Promise(s=>this.once("ready",s))),r.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(r,...s){try{return this.commands.execute(r,...s)}catch(c){U.rethrowUnexpectedError(c,this)}}focus(){this.editing.view.focus()}}class IS{constructor(r){this.editor=r,this._components=new Map}*names(){for(const r of this._components.values())yield r.originalName}add(r,s){this._components.set(Am(r),{callback:s,originalName:r})}create(r){if(!this.has(r))throw new U("componentfactory-item-missing",this,{name:r});return this._components.get(Am(r)).callback(this.editor.locale)}has(r){return this._components.has(Am(r))}}function Am(f){return String(f).toLowerCase()}class To extends nr{constructor(r=[]){super(r,{idProperty:"viewUid"}),this.on("add",(s,c,h)=>{this._renderViewIntoCollectionParent(c,h)}),this.on("remove",(s,c)=>{c.element&&this._parentElement&&c.element.remove()}),this._parentElement=null}destroy(){this.map(r=>r.destroy())}setParent(r){this._parentElement=r;for(const s of this)this._renderViewIntoCollectionParent(s)}delegate(...r){if(!r.length||!r.every(s=>"string"==typeof s))throw new U("ui-viewcollection-delegate-wrong-events",this);return{to:s=>{for(const c of this)for(const h of r)c.delegate(h).to(s);this.on("add",(c,h)=>{for(const v of r)h.delegate(v).to(s)}),this.on("remove",(c,h)=>{for(const v of r)h.stopDelegating(v,s)})}}}_renderViewIntoCollectionParent(r,s){r.isRendered||r.render(),r.element&&this._parentElement&&this._parentElement.insertBefore(r.element,this._parentElement.children[s])}}class Xt extends Ft{constructor(r){super(),Object.assign(this,xm(Cm(r))),this._isRendered=!1,this._revertData=null}render(){const r=this._renderNode({intoFragment:!0});return this._isRendered=!0,r}apply(r){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:r,intoFragment:!1,isApplying:!0,revertData:this._revertData}),r}revert(r){if(!this._revertData)throw new U("ui-template-revert-not-applied",[this,r]);this._revertTemplateFromNode(r,this._revertData)}*getViews(){yield*function*r(s){if(s.children)for(const c of s.children)dd(c)?yield c:hd(c)&&(yield*r(c))}(this)}static bind(r,s){return{to:(c,h)=>new h_({eventNameOrFunction:c,attribute:c,observable:r,emitter:s,callback:h}),if:(c,h,v)=>new f_({observable:r,emitter:s,attribute:c,valueIfTrue:h,callback:v})}}static extend(r,s){if(r._isRendered)throw new U("template-extend-render",[this,r]);Dm(r,xm(Cm(s)))}_renderNode(r){let s;if(s=r.node?this.tag&&this.text:this.tag?this.text:!this.text,s)throw new U("ui-template-wrong-syntax",this);return this.text?this._renderText(r):this._renderElement(r)}_renderElement(r){let s=r.node;return s||(s=r.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(r),this._renderElementChildren(r),this._setUpListeners(r),s}_renderText(r){let s=r.node;return s?r.revertData.text=s.textContent:s=r.node=document.createTextNode(""),ud(this.text)?this._bindToObservable({schema:this.text,updater:ES(s),data:r}):s.textContent=this.text.join(""),s}_renderAttributes(r){if(!this.attributes)return;const s=r.node,c=r.revertData;for(const h in this.attributes){const v=s.getAttribute(h),y=this.attributes[h];c&&(c.attributes[h]=v);const _=jt(y)?y[0].ns:null;if(ud(y)){const A=jt(y)?y[0].value:y;c&&Of(h)&&A.unshift(v),this._bindToObservable({schema:A,updater:g_(s,h,_),data:r})}else if("style"==h&&"string"!=typeof y[0])this._renderStyleAttribute(y[0],r);else{c&&v&&Of(h)&&y.unshift(v);const A=y.map(S=>S&&S.value||S).reduce((S,D)=>S.concat(D),[]).reduce(Sm,"");$s(A)||s.setAttributeNS(_,h,A)}}}_renderStyleAttribute(r,s){const c=s.node;for(const h in r){const v=r[h];ud(v)?this._bindToObservable({schema:[v],updater:v_(c,h),data:s}):c.style[h]=v}}_renderElementChildren(r){const s=r.node,c=r.intoFragment?document.createDocumentFragment():s,h=r.isApplying;let v=0;for(const y of this.children)if(ge(y)){if(!h){y.setParent(s);for(const _ of y)c.appendChild(_.element)}}else if(dd(y))h||(y.isRendered||y.render(),c.appendChild(y.element));else if(mo(y))c.appendChild(y);else if(h){const _={children:[],bindings:[],attributes:{}};r.revertData.children.push(_),y._renderNode({intoFragment:!1,node:c.childNodes[v++],isApplying:!0,revertData:_})}else c.appendChild(y.render());r.intoFragment&&s.appendChild(c)}_setUpListeners(r){if(this.eventListeners)for(const s in this.eventListeners){const c=this.eventListeners[s].map(h=>{const[v,y]=s.split("@");return h.activateDomEventListener(v,y,r)});r.revertData&&r.revertData.bindings.push(c)}}_bindToObservable({schema:r,updater:s,data:c}){const h=c.revertData;p_(r,s,c);const v=r.filter(y=>!$s(y)).filter(y=>y.observable).map(y=>y.activateAttributeListener(r,s,c));h&&h.bindings.push(v)}_revertTemplateFromNode(r,s){for(const h of s.bindings)for(const v of h)v();if(s.text)return void(r.textContent=s.text);const c=r;for(const h in s.attributes){const v=s.attributes[h];null===v?c.removeAttribute(h):c.setAttribute(h,v)}for(let h=0;h<s.children.length;++h)this._revertTemplateFromNode(c.childNodes[h],s.children[h])}}class gc{constructor(r){this.attribute=r.attribute,this.observable=r.observable,this.emitter=r.emitter,this.callback=r.callback}getValue(r){const s=this.observable[this.attribute];return this.callback?this.callback(s,r):s}activateAttributeListener(r,s,c){const h=()=>p_(r,s,c);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,h),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,h)}}}class h_ extends gc{constructor(r){super(r),this.eventNameOrFunction=r.eventNameOrFunction}activateDomEventListener(r,s,c){const h=(v,y)=>{s&&!y.target.matches(s)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(y):this.observable.fire(this.eventNameOrFunction,y))};return this.emitter.listenTo(c.node,r,h),()=>{this.emitter.stopListening(c.node,r,h)}}}class f_ extends gc{constructor(r){super(r),this.valueIfTrue=r.valueIfTrue}getValue(r){return!$s(super.getValue(r))&&(this.valueIfTrue||!0)}}function ud(f){return!!f&&(f.value&&(f=f.value),Array.isArray(f)?f.some(ud):f instanceof gc)}function p_(f,r,{node:s}){const c=(y=s,f.map(_=>_ instanceof gc?_.getValue(y):_));var y;let h;h=1==f.length&&f[0]instanceof f_?c[0]:c.reduce(Sm,""),$s(h)?r.remove():r.set(h)}function ES(f){return{set(r){f.textContent=r},remove(){f.textContent=""}}}function g_(f,r,s){return{set(c){f.setAttributeNS(s,r,c)},remove(){f.removeAttributeNS(s,r)}}}function v_(f,r){return{set(s){f.style[r]=s},remove(){f.style[r]=null}}}function Cm(f){return rw(f,r=>{if(r&&(r instanceof gc||hd(r)||dd(r)||ge(r)))return r})}function xm(f){if("string"==typeof f?f=function(r){return{text:[r]}}(f):f.text&&function(r){r.text=Ge(r.text)}(f),f.on&&(f.eventListeners=function(r){for(const s in r)m_(r,s);return r}(f.on),delete f.on),!f.text){f.attributes&&function(s){for(const c in s)s[c].value&&(s[c].value=Ge(s[c].value)),m_(s,c)}(f.attributes);const r=[];if(f.children)if(ge(f.children))r.push(f.children);else for(const s of f.children)hd(s)||dd(s)||mo(s)?r.push(s):r.push(new Xt(s));f.children=r}return f}function m_(f,r){f[r]=Ge(f[r])}function Sm(f,r){return $s(r)?f:$s(f)?r:`${f} ${r}`}function Tm(f,r){for(const s in r)f[s]?f[s].push(...r[s]):f[s]=r[s]}function Dm(f,r){if(r.attributes&&(f.attributes||(f.attributes={}),Tm(f.attributes,r.attributes)),r.eventListeners&&(f.eventListeners||(f.eventListeners={}),Tm(f.eventListeners,r.eventListeners)),r.text&&f.text.push(...r.text),r.children&&r.children.length){if(f.children.length!=r.children.length)throw new U("ui-template-extend-children-mismatch",f);let s=0;for(const c of r.children)Dm(f.children[s++],c)}}function $s(f){return!f&&0!==f}function dd(f){return f instanceof he}function hd(f){return f instanceof Xt}function ge(f){return f instanceof To}function jt(f){return Pe(f[0])&&f[0].ns}function Of(f){return"class"==f||"style"==f}var Mm=St(6150);Ut()(Mm.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class he extends(tc(hn)){constructor(r){super(),this.element=null,this.isRendered=!1,this.locale=r,this.t=r&&r.t,this._viewCollections=new nr,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(s,c)=>{c.locale=r,c.t=r&&r.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Xt.bind(this,this)}createCollection(r){const s=new To(r);return this._viewCollections.add(s),s}registerChild(r){kr(r)||(r=[r]);for(const s of r)this._unboundChildren.add(s)}deregisterChild(r){kr(r)||(r=[r]);for(const s of r)this._unboundChildren.remove(s)}setTemplate(r){this.template=new Xt(r)}extendTemplate(r){Xt.extend(this.template,r)}render(){if(this.isRendered)throw new U("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(r=>r.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function Vf({element:f,target:r,positions:s,limiter:c,fitInViewport:h,viewportOffsetConfig:v}){xh(r)&&(r=r()),xh(c)&&(c=c());const y=(P=f)&&P.parentNode?P.offsetParent===Yt.document.body?null:P.offsetParent:null,_=new Ue(f),A=new Ue(r);var P;let S;const D=h&&function(P){P=Object.assign({top:0,bottom:0,left:0,right:0},P);const z=new Ue(Yt.window);return z.top+=P.top,z.height-=P.top,z.bottom-=P.bottom,z.height-=P.bottom,z}(v)||null,E={targetRect:A,elementRect:_,positionedElementAncestor:y,viewportRect:D};if(c||h){const P=c&&new Ue(c).getVisible();Object.assign(E,{limiterRect:P,viewportRect:D}),S=function(z,G){const{elementRect:W}=G,$=W.getArea(),X=z.map(mt=>new Ks(mt,G)).filter(mt=>!!mt.name);let et=0,ct=null;for(const mt of X){const{limiterIntersectionArea:Ot,viewportIntersectionArea:Wt}=mt;if(Ot===$)return mt;const se=Wt**2+Ot**2;se>et&&(et=se,ct=mt)}return ct}(s,E)||new Ks(s[0],E)}else S=new Ks(s[0],E);return S}function Ff(f){const{scrollX:r,scrollY:s}=Yt.window;return f.clone().moveBy(r,s)}class Ks{constructor(r,s){const c=r(s.targetRect,s.elementRect,s.viewportRect);if(!c)return;const{left:h,top:v,name:y,config:_}=c;this.name=y,this.config=_,this._positioningFunctionCorrdinates={left:h,top:v},this._options=s}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const r=this._options.limiterRect;if(r){const s=this._options.viewportRect;if(!s)return r.getIntersectionArea(this._rect);{const c=r.getIntersection(s);if(c)return c.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const r=this._options.viewportRect;return r?r.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=Ff(this._rect),this._options.positionedElementAncestor&&function(r,s){const c=Ff(new Ue(s)),h=Bs(s);let v=0,y=0;v-=c.left,y-=c.top,v+=s.scrollLeft,y+=s.scrollTop,v-=h.left,y-=h.top,r.moveBy(v,y)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}var fd=St(8245);Ut()(fd.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const vc=Va("px"),Xs=Yt.document.body;class Tr extends he{constructor(r){super(r);const s=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",s.to("position",c=>`ck-balloon-panel_${c}`),s.if("isVisible","ck-balloon-panel_visible"),s.if("withArrow","ck-balloon-panel_with-arrow"),s.to("class")],style:{top:s.to("top",vc),left:s.to("left",vc)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(r){this.show();const s=Tr.defaultPositions,c=Object.assign({},{element:this.element,positions:[s.southArrowNorth,s.southArrowNorthMiddleWest,s.southArrowNorthMiddleEast,s.southArrowNorthWest,s.southArrowNorthEast,s.northArrowSouth,s.northArrowSouthMiddleWest,s.northArrowSouthMiddleEast,s.northArrowSouthWest,s.northArrowSouthEast,s.viewportStickyNorth],limiter:Xs,fitInViewport:!0},r),h=Tr._getOptimalPosition(c),v=parseInt(h.left),y=parseInt(h.top),_=h.name,A=h.config||{},{withArrow:S=!0}=A;this.top=y,this.left=v,this.position=_,this.withArrow=S}pin(r){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(r):this._stopPinning()},this._startPinning(r),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(r){this.attachTo(r);const s=aa(r.target),c=r.limiter?aa(r.limiter):Xs;this.listenTo(Yt.document,"scroll",(h,v)=>{const y=v.target,_=s&&y.contains(s),A=c&&y.contains(c);!_&&!A&&s&&c||this.attachTo(r)},{useCapture:!0}),this.listenTo(Yt.window,"resize",()=>{this.attachTo(r)})}_stopPinning(){this.stopListening(Yt.document,"scroll"),this.stopListening(Yt.window,"resize")}}function aa(f){return An(f)?f:Oa(f)?f.commonAncestorContainer:"function"==typeof f?aa(f()):null}function pd(f={}){const{sideOffset:r=Tr.arrowSideOffset,heightOffset:s=Tr.arrowHeightOffset,stickyVerticalOffset:c=Tr.stickyVerticalOffset,config:h}=f;return{northWestArrowSouthWest:(_,A)=>({top:v(_,A),left:_.left-r,name:"arrow_sw",...h&&{config:h}}),northWestArrowSouthMiddleWest:(_,A)=>({top:v(_,A),left:_.left-.25*A.width-r,name:"arrow_smw",...h&&{config:h}}),northWestArrowSouth:(_,A)=>({top:v(_,A),left:_.left-A.width/2,name:"arrow_s",...h&&{config:h}}),northWestArrowSouthMiddleEast:(_,A)=>({top:v(_,A),left:_.left-.75*A.width+r,name:"arrow_sme",...h&&{config:h}}),northWestArrowSouthEast:(_,A)=>({top:v(_,A),left:_.left-A.width+r,name:"arrow_se",...h&&{config:h}}),northArrowSouthWest:(_,A)=>({top:v(_,A),left:_.left+_.width/2-r,name:"arrow_sw",...h&&{config:h}}),northArrowSouthMiddleWest:(_,A)=>({top:v(_,A),left:_.left+_.width/2-.25*A.width-r,name:"arrow_smw",...h&&{config:h}}),northArrowSouth:(_,A)=>({top:v(_,A),left:_.left+_.width/2-A.width/2,name:"arrow_s",...h&&{config:h}}),northArrowSouthMiddleEast:(_,A)=>({top:v(_,A),left:_.left+_.width/2-.75*A.width+r,name:"arrow_sme",...h&&{config:h}}),northArrowSouthEast:(_,A)=>({top:v(_,A),left:_.left+_.width/2-A.width+r,name:"arrow_se",...h&&{config:h}}),northEastArrowSouthWest:(_,A)=>({top:v(_,A),left:_.right-r,name:"arrow_sw",...h&&{config:h}}),northEastArrowSouthMiddleWest:(_,A)=>({top:v(_,A),left:_.right-.25*A.width-r,name:"arrow_smw",...h&&{config:h}}),northEastArrowSouth:(_,A)=>({top:v(_,A),left:_.right-A.width/2,name:"arrow_s",...h&&{config:h}}),northEastArrowSouthMiddleEast:(_,A)=>({top:v(_,A),left:_.right-.75*A.width+r,name:"arrow_sme",...h&&{config:h}}),northEastArrowSouthEast:(_,A)=>({top:v(_,A),left:_.right-A.width+r,name:"arrow_se",...h&&{config:h}}),southWestArrowNorthWest:_=>({top:y(_),left:_.left-r,name:"arrow_nw",...h&&{config:h}}),southWestArrowNorthMiddleWest:(_,A)=>({top:y(_),left:_.left-.25*A.width-r,name:"arrow_nmw",...h&&{config:h}}),southWestArrowNorth:(_,A)=>({top:y(_),left:_.left-A.width/2,name:"arrow_n",...h&&{config:h}}),southWestArrowNorthMiddleEast:(_,A)=>({top:y(_),left:_.left-.75*A.width+r,name:"arrow_nme",...h&&{config:h}}),southWestArrowNorthEast:(_,A)=>({top:y(_),left:_.left-A.width+r,name:"arrow_ne",...h&&{config:h}}),southArrowNorthWest:_=>({top:y(_),left:_.left+_.width/2-r,name:"arrow_nw",...h&&{config:h}}),southArrowNorthMiddleWest:(_,A)=>({top:y(_),left:_.left+_.width/2-.25*A.width-r,name:"arrow_nmw",...h&&{config:h}}),southArrowNorth:(_,A)=>({top:y(_),left:_.left+_.width/2-A.width/2,name:"arrow_n",...h&&{config:h}}),southArrowNorthMiddleEast:(_,A)=>({top:y(_),left:_.left+_.width/2-.75*A.width+r,name:"arrow_nme",...h&&{config:h}}),southArrowNorthEast:(_,A)=>({top:y(_),left:_.left+_.width/2-A.width+r,name:"arrow_ne",...h&&{config:h}}),southEastArrowNorthWest:_=>({top:y(_),left:_.right-r,name:"arrow_nw",...h&&{config:h}}),southEastArrowNorthMiddleWest:(_,A)=>({top:y(_),left:_.right-.25*A.width-r,name:"arrow_nmw",...h&&{config:h}}),southEastArrowNorth:(_,A)=>({top:y(_),left:_.right-A.width/2,name:"arrow_n",...h&&{config:h}}),southEastArrowNorthMiddleEast:(_,A)=>({top:y(_),left:_.right-.75*A.width+r,name:"arrow_nme",...h&&{config:h}}),southEastArrowNorthEast:(_,A)=>({top:y(_),left:_.right-A.width+r,name:"arrow_ne",...h&&{config:h}}),westArrowEast:(_,A)=>({top:_.top+_.height/2-A.height/2,left:_.left-A.width-s,name:"arrow_e",...h&&{config:h}}),eastArrowWest:(_,A)=>({top:_.top+_.height/2-A.height/2,left:_.right+s,name:"arrow_w",...h&&{config:h}}),viewportStickyNorth:(_,A,S)=>_.getIntersection(S)?{top:S.top+c,left:_.left+_.width/2-A.width/2,name:"arrowless",config:{withArrow:!1,...h}}:null};function v(_,A){return _.top-A.height-s}function y(_){return _.bottom+s}}Tr.arrowSideOffset=25,Tr.arrowHeightOffset=10,Tr.stickyVerticalOffset=20,Tr._getOptimalPosition=Vf,Tr.defaultPositions=pd();var mc=St(9948);Ut()(mc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const yc="ck-tooltip";class gn extends Rs{constructor(r){if(super(),gn._editors.add(r),gn._instance)return gn._instance;gn._instance=this,this.tooltipTextView=new he(r.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Tr(r.locale),this.balloonPanelView.class=yc,this.balloonPanelView.content.add(this.tooltipTextView),this._resizeObserver=null,this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._pinTooltipDebounced=rc(this._pinTooltip,600),this.listenTo(Yt.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Yt.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Yt.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Yt.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Yt.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(r){const s=r.ui.view&&r.ui.view.body;gn._editors.delete(r),this.stopListening(r.ui),s&&s.has(this.balloonPanelView)&&s.remove(this.balloonPanelView),gn._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),gn._instance=null)}static getPositioningFunctions(r){const s=gn.defaultBalloonPositions;return{s:[s.southArrowNorth,s.southArrowNorthEast,s.southArrowNorthWest],n:[s.northArrowSouth],e:[s.eastArrowWest],w:[s.westArrowEast],sw:[s.southArrowNorthEast],se:[s.southArrowNorthWest]}[r]}_onEnterOrFocus(r,{target:s}){const c=jf(s);var h;c&&c!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(c,{text:(h=c).dataset.ckeTooltipText,position:h.dataset.ckeTooltipPosition||"s",cssClass:h.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(r,{target:s,relatedTarget:c}){if("mouseleave"===r.name){if(!An(s)||this._currentElementWithTooltip&&s!==this._currentElementWithTooltip)return;const h=jf(s),v=jf(c);h&&h!==v&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&s!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(r,{target:s}){this._currentElementWithTooltip&&(s.contains(this.balloonPanelView.element)&&s.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(r,{text:s,position:c,cssClass:h}){const v=xn(gn._editors.values()).ui.view.body;v.has(this.balloonPanelView)||v.add(this.balloonPanelView),this.tooltipTextView.text=s,this.balloonPanelView.pin({target:r,positions:gn.getPositioningFunctions(c)}),this._resizeObserver=new Xe(r,()=>{Mi(r)||this._unpinTooltip()}),this.balloonPanelView.class=[yc,h].filter(y=>y).join(" ");for(const y of gn._editors)this.listenTo(y.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=r,this._currentTooltipPosition=c}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const r of gn._editors)this.stopListening(r.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){Mi(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:gn.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}}function jf(f){return An(f)?f.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}gn.defaultBalloonPositions=pd({heightOffset:5,sideOffset:13}),gn._editors=new Set,gn._instance=null;class b_ extends hn{constructor(r){super(),this.editor=r,this.componentFactory=new IS(r),this.focusTracker=new Zn,this.tooltipManager=new gn(r),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.isReady=!1,this.once("ready",()=>{this.isReady=!0}),this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this.listenTo(r.editing.view.document,"layoutChanged",()=>this.update()),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor);for(const r of this._editableElementsMap.values())r.ckeditorInstance=null;this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(r,s){this._editableElementsMap.set(r,s),s.ckeditorInstance||(s.ckeditorInstance=this.editor),this.focusTracker.add(s);const c=()=>{this.editor.editing.view.getDomRoot(r)||this.editor.keystrokes.listenTo(s)};this.isReady?c():this.once("ready",c)}getEditableElement(r="main"){return this._editableElementsMap.get(r)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(r,s={}){r.isRendered?(this.focusTracker.add(r.element),this.editor.keystrokes.listenTo(r.element)):r.once("render",()=>{this.focusTracker.add(r.element),this.editor.keystrokes.listenTo(r.element)}),this._focusableToolbarDefinitions.push({toolbarView:r,options:s})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const r=this.editor,s=r.config.get("ui.viewportOffset");if(s)return s;const c=r.config.get("toolbar.viewportTopOffset");return c?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:c}):{top:0}}_initFocusTracking(){const r=this.editor,s=r.editing.view;let c,h;r.keystrokes.set("Alt+F10",(v,y)=>{const _=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(_)&&!Array.from(s.domRoots.values()).includes(_)&&(c=_);const A=this._getCurrentFocusedToolbarDefinition();A&&h||(h=this._getFocusableCandidateToolbarDefinitions());for(let S=0;S<h.length;S++){const D=h.shift();if(h.push(D),D!==A&&this._focusFocusableCandidateToolbar(D)){A&&A.options.afterBlur&&A.options.afterBlur();break}}y()}),r.keystrokes.set("Esc",(v,y)=>{const _=this._getCurrentFocusedToolbarDefinition();_&&(c?(c.focus(),c=null):r.editing.view.focus(),_.options.afterBlur&&_.options.afterBlur(),y())})}_getFocusableCandidateToolbarDefinitions(){const r=[];for(const s of this._focusableToolbarDefinitions){const{toolbarView:c,options:h}=s;(Mi(c.element)||h.beforeFocus)&&r.push(s)}return r.sort((s,c)=>gd(s)-gd(c)),r}_getCurrentFocusedToolbarDefinition(){for(const r of this._focusableToolbarDefinitions)if(r.toolbarView.element&&r.toolbarView.element.contains(this.focusTracker.focusedElement))return r;return null}_focusFocusableCandidateToolbar(r){const{toolbarView:s,options:{beforeFocus:c}}=r;return c&&c(),!!Mi(s.element)&&(s.focus(),!0)}}function gd(f){const{toolbarView:r,options:s}=f;let c=10;return Mi(r.element)&&c--,s.isContextual&&c--,c}function vd(f){return class extends f{setData(r){this.data.set(r)}getData(r){return this.data.get(r)}}}{const f=vd(Object);vd.setData=f.prototype.setData,vd.getData=f.prototype.getData}function md(f){return class extends f{updateSourceElement(r=this.data.get()){if(!this.sourceElement)throw new U("editor-missing-sourceelement",this);const s=this.config.get("updateSourceElementOnDestroy"),c=this.sourceElement instanceof HTMLTextAreaElement;!function(f,r){f instanceof HTMLTextAreaElement&&(f.value=r),f.innerHTML=r}(this.sourceElement,s||c?r:"")}}}md.updateSourceElement=md(Object).prototype.updateSourceElement;class Im extends qh{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new nr({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(r){if("string"!=typeof r)throw new U("pendingactions-add-invalid-message",this);const s=new hn;return s.set("message",r),this._actions.add(s),this.hasAny=!0,s}remove(r){this._actions.remove(r),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Ve={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path clip-rule="evenodd" d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path clip-rule="evenodd" d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};class LS extends b_{constructor(r,s){super(r),this.view=s}init(){const s=this.view,c=this.editor.editing.view,h=s.editable,v=c.document.getRoot();s.editable.name=v.rootName,s.render();const y=h.element;this.setEditableElement(h.name,y),s.editable.bind("isFocused").to(this.focusTracker),c.attachDomRoot(y),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const r=this.view;this.editor.editing.view.detachDomRoot(r.editable.name),r.destroy()}_initToolbar(){const s=this.view;s.toolbar.fillFromConfig(this.editor.config.get("toolbar"),this.componentFactory),this.addToolbar(s.toolbar)}_initPlaceholder(){const r=this.editor,s=r.editing.view,c=s.document.getRoot(),h=r.sourceElement,v=r.config.get("placeholder")||h&&"textarea"===h.tagName.toLowerCase()&&h.getAttribute("placeholder");v&&Nf({view:s,element:c,text:v,isDirectHost:!1,keepOnFocus:!0})}}function Gf({emitter:f,activator:r,callback:s,contextElements:c}){f.listenTo(document,"mousedown",(h,v)=>{if(!r())return;const y="function"==typeof v.composedPath?v.composedPath():[];for(const _ of c)if(_.contains(v.target)||y.includes(_))return;s()})}function Qi(f){const r=f;r.set("_isCssTransitionsDisabled",!1),r.disableCssTransitions=()=>{r._isCssTransitionsDisabled=!0},r.enableCssTransitions=()=>{r._isCssTransitionsDisabled=!1},r.extendTemplate({attributes:{class:[r.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function bc({view:f}){f.listenTo(f.element,"submit",(r,s)=>{s.preventDefault(),f.fire("submit")},{useCapture:!0})}function __({keystrokeHandler:f,focusTracker:r,gridItems:s,numberOfColumns:c}){const h="number"==typeof c?()=>c:c;function v(y){return _=>{const A=s.find(E=>E.element===r.focusedElement),S=s.getIndex(A),D=y(S,s);s.get(D).focus(),_.stopPropagation(),_.preventDefault()}}f.set("arrowright",v((y,_)=>y===_.length-1?0:y+1)),f.set("arrowleft",v((y,_)=>0===y?_.length-1:y-1)),f.set("arrowup",v((y,_)=>{let A=y-h();return A<0&&(A=y+h()*Math.floor(_.length/h()),A>_.length-1&&(A-=h())),A})),f.set("arrowdown",v((y,_)=>{let A=y+h();return A>_.length-1&&(A=y%h()),A}))}class PS extends To{constructor(r,s=[]){super(s),this.locale=r}attachToDom(){this._bodyCollectionContainer=new Xt({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let r=document.querySelector(".ck-body-wrapper");r||(r=oc(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(r)),r.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const r=document.querySelector(".ck-body-wrapper");r&&0==r.childElementCount&&r.remove()}}var k_=St(1174);Ut()(k_.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});let Uf=(()=>{class f extends he{constructor(){super();const s=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",s.if("isColorInherited","ck-icon_inherit-color")],viewBox:s.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const s=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),c=s.getAttribute("viewBox");c&&(this.viewBox=c);for(const{name:h,value:v}of Array.from(s.attributes))f.presentationalAttributeNames.includes(h)&&this.element.setAttribute(h,v);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;s.childNodes.length>0;)this.element.appendChild(s.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(s=>{s.style.fill=this.fillColor})}}return f.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"],f})();var Wf=St(4499);Ut()(Wf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class xe extends he{constructor(r){super(r);const s=this.bindTemplate,c=ot();this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(c),this.iconView=new Uf,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const h={tag:"button",attributes:{class:["ck","ck-button",s.to("class"),s.if("isEnabled","ck-disabled",v=>!v),s.if("isVisible","ck-hidden",v=>!v),s.to("isOn",v=>v?"ck-on":"ck-off"),s.if("withText","ck-button_with-text"),s.if("withKeystroke","ck-button_with-keystroke")],type:s.to("type",v=>v||"button"),tabindex:s.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${c}`,"aria-disabled":s.if("isEnabled",!0,v=>!v),"aria-pressed":s.to("isOn",v=>!!this.isToggleable&&String(!!v)),"data-cke-tooltip-text":s.to("_tooltipString"),"data-cke-tooltip-position":s.to("tooltipPosition")},children:this.children,on:{click:s.to(v=>{this.isEnabled?this.fire("execute"):v.preventDefault()})}};me.isSafari&&(h.on.mousedown=s.to(v=>{this.focus(),v.preventDefault()})),this.setTemplate(h)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createLabelView(r){const s=new he;return s.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:this.bindTemplate.to("labelStyle"),id:`ck-editor__aria-label_${r}`},children:[{text:this.bindTemplate.to("label")}]}),s}_createKeystrokeView(){const r=new he;return r.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",s=>Xo(s))}]}),r}_getTooltipString(r,s,c){return r?"string"==typeof r?r:(c&&(c=Xo(c)),r instanceof Function?r(s,c):`${s}${c?` (${c})`:""}`):""}}var Em=St(9681);Ut()(Em.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class vi extends xe{constructor(r){super(r),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const r=new he;return r.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),r}}function A_(f){return"string"==typeof f?{model:f,label:f,hasBorder:!1,view:{name:"span",styles:{color:f}}}:{model:f.color,label:f.label||f.color,hasBorder:void 0!==f.hasBorder&&f.hasBorder,view:{name:"span",styles:{color:`${f.color}`}}}}class Yf extends xe{constructor(r){super(r);const s=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',this.extendTemplate({attributes:{style:{backgroundColor:s.to("color")},class:["ck","ck-color-grid__tile",s.if("hasBorder","ck-color-table__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}var Lm=St(4923);Ut()(Lm.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Pm extends he{constructor(r,s){super(r);const c=s&&s.colorDefinitions||[];this.columns=s&&s.columns?s.columns:5;const h={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new Zn,this.keystrokes=new gr,this.items.on("add",(v,y)=>{y.isOn=y.color===this.selectedColor}),c.forEach(v=>{const y=new Yf;y.set({color:v.color,label:v.label,tooltip:!0,hasBorder:v.options.hasBorder}),y.on("execute",()=>{this.fire("execute",{value:v.color,hasBorder:v.options.hasBorder,label:v.label})}),this.items.add(y)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:h}}),this.on("change:selectedColor",(v,y,_)=>{for(const A of this.items)A.isOn=A.color===_})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const r of this.items)this.focusTracker.add(r.element);this.items.on("add",(r,s)=>{this.focusTracker.add(s.element)}),this.items.on("remove",(r,s)=>{this.focusTracker.remove(s.element)}),this.keystrokes.listenTo(this.element),__({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}const qf='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Zf extends xe{constructor(r){super(r),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",s=>String(s))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const r=new Uf;return r.content=qf,r.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),r}}var $f=St(66);Ut()($f.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class wc extends he{constructor(r){super(r);const s=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new gr,this.focusTracker=new Zn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",s.to("class"),s.if("isVisible","ck-hidden",c=>!c),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(r,s)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),s())}),this.keystrokes.set("arrowleft",(r,s)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),s())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const r=new xe;return r.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),r.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),r.delegate("execute").to(this),r}_createArrowView(){const r=new xe,s=r.bindTemplate;return r.icon=qf,r.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":s.to("isOn"),"aria-haspopup":!0,"aria-expanded":s.to("isOn",c=>String(c))}}),r.bind("isEnabled").to(this),r.bind("label").to(this),r.bind("tooltip").to(this),r.delegate("execute").to(this,"open"),r}}class BS extends he{constructor(r){super(r);const s=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",s.to("position",c=>`ck-dropdown__panel_${c}`),s.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:s.to(c=>c.preventDefault())}})}focus(){if(this.children.length){const r=this.children.first;"function"==typeof r.focus?r.focus():it("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const r=this.children.last;"function"==typeof r.focusLast?r.focusLast():r.focus()}}}var x_=St(3488);Ut()(x_.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Js extends he{constructor(r,s,c){super(r);const h=this.bindTemplate;this.buttonView=s,this.panelView=c,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new gr,this.focusTracker=new Zn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",h.to("class"),h.if("isEnabled","ck-disabled",v=>!v)],id:h.to("id"),"aria-describedby":h.to("ariaDescribedById")},children:[s,c]}),s.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":h.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(s,c,h)=>{h&&(this.panelView.position="auto"===this.panelPosition?Js._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelPosition)}),this.keystrokes.listenTo(this.element);const r=(s,c)=>{this.isOpen&&(this.isOpen=!1,c())};this.keystrokes.set("arrowdown",(s,c)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,c())}),this.keystrokes.set("arrowright",(s,c)=>{this.isOpen&&c()}),this.keystrokes.set("arrowleft",r),this.keystrokes.set("esc",r)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:r,north:s,southEast:c,southWest:h,northEast:v,northWest:y,southMiddleEast:_,southMiddleWest:A,northMiddleEast:S,northMiddleWest:D}=Js.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[c,h,_,A,r,v,y,S,D,s]:[h,c,A,_,r,y,v,D,S,s]}}Js.defaultPanelPositions={south:(f,r)=>({top:f.bottom,left:f.left-(r.width-f.width)/2,name:"s"}),southEast:f=>({top:f.bottom,left:f.left,name:"se"}),southWest:(f,r)=>({top:f.bottom,left:f.left-r.width+f.width,name:"sw"}),southMiddleEast:(f,r)=>({top:f.bottom,left:f.left-(r.width-f.width)/4,name:"sme"}),southMiddleWest:(f,r)=>({top:f.bottom,left:f.left-3*(r.width-f.width)/4,name:"smw"}),north:(f,r)=>({top:f.top-r.height,left:f.left-(r.width-f.width)/2,name:"n"}),northEast:(f,r)=>({top:f.top-r.height,left:f.left,name:"ne"}),northWest:(f,r)=>({top:f.top-r.height,left:f.left-r.width+f.width,name:"nw"}),northMiddleEast:(f,r)=>({top:f.top-r.height,left:f.left-(r.width-f.width)/4,name:"nme"}),northMiddleWest:(f,r)=>({top:f.top-r.height,left:f.left-3*(r.width-f.width)/4,name:"nmw"})},Js._getOptimalPosition=Vf;class Xa{constructor(r){if(this.focusables=r.focusables,this.focusTracker=r.focusTracker,this.keystrokeHandler=r.keystrokeHandler,this.actions=r.actions,r.actions&&r.keystrokeHandler)for(const s in r.actions){let c=r.actions[s];"string"==typeof c&&(c=[c]);for(const h of c)r.keystrokeHandler.set(h,(v,y)=>{this[s](),y()})}}get first(){return this.focusables.find(la)||null}get last(){return this.focusables.filter(la).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let r=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((s,c)=>{const h=s.element===this.focusTracker.focusedElement;return h&&(r=c),h}),r)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(r){r&&r.focus()}_getFocusableItem(r){const s=this.current,c=this.focusables.length;if(!c)return null;if(null===s)return this[1===r?"first":"last"];let h=(s+c+r)%c;do{const v=this.focusables.get(h);if(la(v))return v;h=(h+c+r)%c}while(h!==s);return null}}function la(f){return!(!f.focus||!Mi(f.element))}class S_ extends he{constructor(r){super(r),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class cn extends he{constructor(r){super(r),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var Kf=St(5571);Ut()(Kf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const{threeVerticalDots:D_}=Ve,ar={alignLeft:Ve.alignLeft,bold:Ve.bold,importExport:Ve.importExport,paragraph:Ve.paragraph,plus:Ve.plus,text:Ve.text,threeVerticalDots:Ve.threeVerticalDots};class ca extends he{constructor(r,s){super(r);const c=this.bindTemplate,h=this.t;this.options=s||{},this.set("ariaLabel",h("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Zn,this.keystrokes=new gr,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new yd(r),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const v="rtl"===r.uiLanguageDirection;this._focusCycler=new Xa({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[v?"arrowright":"arrowleft","arrowup"],focusNext:[v?"arrowleft":"arrowright","arrowdown"]}});const y=["ck","ck-toolbar",c.to("class"),c.if("isCompact","ck-toolbar_compact")];var _;this.options.shouldGroupWhenFull&&this.options.isFloating&&y.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:y,role:"toolbar","aria-label":c.to("ariaLabel"),style:{maxWidth:c.to("maxWidth")}},children:this.children,on:{mousedown:(_=this,_.bindTemplate.to(A=>{A.target===_.element&&A.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new VS(this):new OS(this)}render(){super.render();for(const r of this.items)this.focusTracker.add(r.element);this.items.on("add",(r,s)=>{this.focusTracker.add(s.element)}),this.items.on("remove",(r,s)=>{this.focusTracker.remove(s.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(r,s,c){const h=(_=r,Array.isArray(_)?{items:_,removeItems:[]}:_?Object.assign({items:[],removeItems:[]},_):{items:[],removeItems:[]}),v=c||h.removeItems,y=this._cleanItemsConfiguration(h.items,s,v).map(_=>Pe(_)?this._createNestedToolbarDropdown(_,s,v):"|"===_?new S_:"-"===_?new cn:s.create(_)).filter(_=>!!_);var _;this.items.addMany(y)}_cleanItemsConfiguration(r,s,c){const h=r.filter((v,y,_)=>"|"===v||-1===c.indexOf(v)&&("-"===v?!this.options.shouldGroupWhenFull||(it("toolbarview-line-break-ignored-when-grouping-items",_),!1):!(!Pe(v)&&!s.has(v)&&(it("toolbarview-item-unavailable",{item:v}),1))));return this._cleanSeparatorsAndLineBreaks(h)}_cleanSeparatorsAndLineBreaks(r){const s=y=>"-"!==y&&"|"!==y,c=r.length,h=r.findIndex(s);if(-1===h)return[];const v=c-r.slice().reverse().findIndex(s);return r.slice(h,v).filter((y,_,A)=>!!s(y)||!(_>0&&A[_-1]===y))}_createNestedToolbarDropdown(r,s,c){let{label:h,icon:v,items:y,tooltip:_=!0,withText:A=!1}=r;if(y=this._cleanItemsConfiguration(y,s,c),!y.length)return null;const S=bn(this.locale);return h||it("toolbarview-nested-toolbar-dropdown-missing-label",r),S.class="ck-toolbar__nested-toolbar-dropdown",S.buttonView.set({label:h,tooltip:_,withText:!!A}),!1!==v?S.buttonView.icon=ar[v]||v||D_:S.buttonView.withText=!0,bd(S,[]),S.toolbarView.fillFromConfig(y,s,c),S}}class yd extends he{constructor(r){super(r),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class OS{constructor(r){const s=r.bindTemplate;r.set("isVertical",!1),r.itemsView.children.bindTo(r.items).using(c=>c),r.focusables.bindTo(r.items).using(c=>c),r.extendTemplate({attributes:{class:[s.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class VS{constructor(r){this.view=r,this.viewChildren=r.children,this.viewFocusables=r.focusables,this.viewItemsView=r.itemsView,this.viewFocusTracker=r.focusTracker,this.viewLocale=r.locale,this.ungroupedItems=r.createCollection(),this.groupedItems=r.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,r.itemsView.children.bindTo(this.ungroupedItems).using(s=>s),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),r.children.on("add",this._updateFocusCycleableItems.bind(this)),r.children.on("remove",this._updateFocusCycleableItems.bind(this)),r.items.on("change",(s,c)=>{const h=c.index,v=Array.from(c.added);for(const y of c.removed)h>=this.ungroupedItems.length?this.groupedItems.remove(y):this.ungroupedItems.remove(y);for(let y=h;y<h+v.length;y++){const _=v[y-h];y>this.ungroupedItems.length?this.groupedItems.add(_,y-this.ungroupedItems.length):this.ungroupedItems.add(_,y)}this._updateGrouping()}),r.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(r){this.viewElement=r.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(r)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Mi(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const r=this.groupedItems.length;let s;for(;this._areItemsOverflowing;)this._groupLastItem(),s=!0;if(!s&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==r&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const r=this.viewElement,s=this.viewLocale.uiLanguageDirection,c=new Ue(r.lastChild),h=new Ue(r);if(!this.cachedPadding){const v=Yt.window.getComputedStyle(r);this.cachedPadding=Number.parseInt(v["ltr"===s?"paddingRight":"paddingLeft"])}return"ltr"===s?c.right>h.right-this.cachedPadding:c.left<h.left+this.cachedPadding}_enableGroupingOnResize(){let r;this.resizeObserver=new Xe(this.viewElement,s=>{r&&r===s.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),r=s.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(r){r.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new S_),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const r=this.viewLocale,s=r.t,c=bn(r);return c.class="ck-toolbar__grouped-dropdown",c.panelPosition="ltr"===r.uiLanguageDirection?"sw":"se",bd(c,[]),c.buttonView.set({label:s("Show more items"),tooltip:!0,tooltipPosition:"rtl"===r.uiLanguageDirection?"se":"sw",icon:D_}),c.toolbarView.items.bindTo(this.groupedItems).using(h=>h),c}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(r=>{this.viewFocusables.add(r)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var Xf=St(1162);Ut()(Xf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class FS extends he{constructor(r){super(r),this.items=this.createCollection(),this.focusTracker=new Zn,this.keystrokes=new gr,this._focusCycler=new Xa({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const r of this.items)this.focusTracker.add(r.element);this.items.on("add",(r,s)=>{this.focusTracker.add(s.element)}),this.items.on("remove",(r,s)=>{this.focusTracker.remove(s.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class Rm extends he{constructor(r){super(r);const s=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",s.if("isVisible","ck-hidden",c=>!c)]},children:this.children})}focus(){this.children.first.focus()}}class _c extends he{constructor(r){super(r),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var Qf=St(5075);Ut()(Qf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Je=St(6875);function bn(f,r=Zf){const s=new r(f),c=new BS(f),h=new Js(f,s,c);return s.bind("isEnabled").to(h),s instanceof wc?s.arrowView.bind("isOn").to(h,"isOpen"):s.bind("isOn").to(h,"isOpen"),(y=v=h).on("render",()=>{Gf({emitter:y,activator:()=>y.isOpen,callback:()=>{y.isOpen=!1},contextElements:[y.element]})}),function(y){y.on("execute",_=>{_.source instanceof vi||(y.isOpen=!1)})}(v),function(y){y.focusTracker.on("change:isFocused",(_,A,S)=>{y.isOpen&&!S&&(y.isOpen=!1)})}(v),function(y){y.keystrokes.set("arrowdown",(_,A)=>{y.isOpen&&(y.panelView.focus(),A())}),y.keystrokes.set("arrowup",(_,A)=>{y.isOpen&&(y.panelView.focusLast(),A())})}(v),function(y){y.on("change:isOpen",(_,A,S)=>{S||y.panelView.element.contains(Yt.document.activeElement)&&y.buttonView.focus()})}(v),function(y){y.on("change:isOpen",(_,A,S)=>{S&&y.panelView.focus()},{priority:"low"})}(v),h;var v,y}function bd(f,r,s={}){const c=f.locale,h=c.t,v=f.toolbarView=new ca(c);v.set("ariaLabel",h("Dropdown toolbar")),f.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),r.map(y=>v.items.add(y)),s.enableActiveItemFocusOnDropdownOpen&&Yr(f,()=>v.items.find(y=>y.isOn)),f.panelView.children.add(v),v.items.delegate("execute").to(f)}function Do(f,r){const s=f.locale,c=f.listView=new FS(s);c.items.bindTo(r).using(h=>{if("separator"===h.type)return new _c(s);if("button"===h.type||"switchbutton"===h.type){const v=new Rm(s);let y;return y="button"===h.type?new xe(s):new vi(s),y.bind(...Object.keys(h.model)).to(h.model),y.delegate("execute").to(v),v.children.add(y),v}return null}),f.panelView.children.add(c),c.items.delegate("execute").to(f),Yr(f,()=>c.items.find(h=>h instanceof Rm&&h.children.first.isOn))}function Yr(f,r){f.on("change:isOpen",()=>{if(!f.isOpen)return;const s=r();s&&("function"==typeof s.focus?s.focus():it("ui-dropdown-focus-child-on-open-child-missing-focus",{view:s}))},{priority:dt.low-10})}Ut()(Je.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var I_=St(4547);Ut()(I_.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class E_ extends he{constructor(r){super(r),this.body=new PS(r)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}var tp=St(2751);Ut()(tp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Nn extends he{constructor(r){super(r),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${ot()}`;const s=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:s.to("for")},children:[{text:s.to("text")}]})}}class We extends he{constructor(r,s,c){super(r),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:r.contentLanguage,dir:r.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=c,this._hasExternalElement=!!this._editableElement,this._editingView=s}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const r=this._editingView;function s(c){r.change(h=>{const v=r.document.getRoot(c.name);h.addClass(c.isFocused?"ck-focused":"ck-blurred",v),h.removeClass(c.isFocused?"ck-blurred":"ck-focused",v)})}r.isRenderingInProgress?function c(h){r.once("change:isRenderingInProgress",(v,y,_)=>{_?c(h):s(h)})}(this):s(this)}}class ep extends We{constructor(r,s,c,h={}){super(r,s,c);const v=r.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=h.label||(()=>v("Editor editing area: %0",this.name))}render(){super.render();const r=this._editingView;r.change(s=>{const c=r.document.getRoot(this.name);s.setAttribute("aria-label",this._generateLabel(this),c)})}}var L_=St(5523);Ut()(L_.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Nm=St(6985);Ut()(Nm.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Bm extends he{constructor(r){super(r),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new Zn,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const s=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",s.if("isFocused","ck-input_focused"),s.if("isEmpty","ck-input-text_empty"),s.if("hasError","ck-error")],id:s.to("id"),placeholder:s.to("placeholder"),readonly:s.to("isReadOnly"),inputmode:s.to("inputMode"),"aria-invalid":s.if("hasError",!0),"aria-describedby":s.to("ariaDescribedById")},on:{input:s.to((...c)=>{this.fire("input",...c),this._updateIsEmpty()}),change:s.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(r,s,c)=>{this._setDomElementValue(c),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(r){this.element.value=r||0===r?r:""}}class zm extends Bm{constructor(r){super(r),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class R_ extends Bm{constructor(r,{min:s,max:c,step:h}={}){super(r);const v=this.bindTemplate;this.set("min",s),this.set("max",c),this.set("step",h),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:v.to("min"),max:v.to("max"),step:v.to("step")}})}}class Ac extends he{constructor(r){super(r),this.setTemplate({tag:"iframe",attributes:{class:["ck","ck-reset_all"],sandbox:"allow-same-origin allow-scripts"},on:{load:this.bindTemplate.to("loaded")}})}render(){return new Promise(r=>(this.on("loaded",r),super.render()))}}var Om=St(8111);Ut()(Om.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class np extends he{constructor(r,s){super(r);const c=`ck-labeled-field-view-${ot()}`,h=`ck-labeled-field-view-status-${ot()}`;this.fieldView=s(this,c,h),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(c),this.statusView=this._createStatusView(h),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(y,_)=>y||_);const v=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",v.to("class"),v.if("isEnabled","ck-disabled",y=>!y),v.if("isEmpty","ck-labeled-field-view_empty"),v.if("isFocused","ck-labeled-field-view_focused"),v.if("placeholder","ck-labeled-field-view_placeholder"),v.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(r){const s=new Nn(this.locale);return s.for=r,s.bind("text").to(this,"label"),s}_createStatusView(r){const s=new he(this.locale),c=this.bindTemplate;return s.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",c.if("errorText","ck-labeled-field-view__status_error"),c.if("_statusText","ck-hidden",h=>!h)],id:r,role:c.if("errorText","alert")},children:[{text:c.to("_statusText")}]}),s}focus(){this.fieldView.focus()}}function wd(f,r,s){const c=new zm(f.locale);return c.set({id:r,ariaDescribedById:s}),c.bind("isReadOnly").to(f,"isEnabled",h=>!h),c.bind("hasError").to(f,"errorText",h=>!!h),c.on("input",()=>{f.errorText=null}),f.bind("isEmpty","isFocused","placeholder").to(c),c}function Vm(f,r,s){const c=new R_(f.locale);return c.set({id:r,ariaDescribedById:s,inputMode:"numeric"}),c.bind("isReadOnly").to(f,"isEnabled",h=>!h),c.bind("hasError").to(f,"errorText",h=>!!h),c.on("input",()=>{f.errorText=null}),f.bind("isEmpty","isFocused","placeholder").to(c),c}class Fm extends qh{static get pluginName(){return"Notification"}init(){this.on("show:warning",(r,s)=>{window.alert(s.message)},{priority:"lowest"})}showSuccess(r,s={}){this._showNotification({message:r,type:"success",namespace:s.namespace,title:s.title})}showInfo(r,s={}){this._showNotification({message:r,type:"info",namespace:s.namespace,title:s.title})}showWarning(r,s={}){this._showNotification({message:r,type:"warning",namespace:s.namespace,title:s.title})}_showNotification(r){this.fire(r.namespace?`show:${r.type}:${r.namespace}`:`show:${r.type}`,{message:r.message,type:r.type,title:r.title||""})}}class Cc extends hn{constructor(r,s){super(),s&&ec(this,s),r&&this.set(r)}}var Hm=St(1757);Ut()(Hm.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var B_=St(3553);Ut()(B_.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const rp=Va("px");class ip extends vt{static get pluginName(){return"ContextualBalloon"}constructor(r){super(r),this.positionLimiter=()=>{const s=this.editor.editing.view,c=s.document.selection.editableElement;return c?s.domConverter.mapViewToDom(c.root):null},this.set("visibleView",null),this.view=new Tr(r.locale),r.ui.view.body.add(this.view),r.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}destroy(){super.destroy(),this.view.destroy(),this._rotatorView.destroy(),this._fakePanelsView.destroy()}hasView(r){return Array.from(this._viewToStack.keys()).includes(r)}add(r){if(this.hasView(r.view))throw new U("contextualballoon-add-view-exist",[this,r]);const s=r.stackId||"main";if(!this._idToStack.has(s))return this._idToStack.set(s,new Map([[r.view,r]])),this._viewToStack.set(r.view,this._idToStack.get(s)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!r.singleViewMode||this.showStack(s));const c=this._idToStack.get(s);r.singleViewMode&&this.showStack(s),c.set(r.view,r),this._viewToStack.set(r.view,c),c===this._visibleStack&&this._showView(r)}remove(r){if(!this.hasView(r))throw new U("contextualballoon-remove-view-not-exist",[this,r]);const s=this._viewToStack.get(r);this._singleViewMode&&this.visibleView===r&&(this._singleViewMode=!1),this.visibleView===r&&(1===s.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(s.values())[s.size-2])),1===s.size?(this._idToStack.delete(this._getStackId(s)),this._numberOfStacks=this._idToStack.size):s.delete(r),this._viewToStack.delete(r)}updatePosition(r){r&&(this._visibleStack.get(this.visibleView).position=r),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(r){this.visibleStack=r;const s=this._idToStack.get(r);if(!s)throw new U("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==s&&this._showView(Array.from(s.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(r){return Array.from(this._idToStack.entries()).find(s=>s[1]===r)[0]}_showNextStack(){const r=Array.from(this._idToStack.values());let s=r.indexOf(this._visibleStack)+1;r[s]||(s=0),this.showStack(this._getStackId(r[s]))}_showPrevStack(){const r=Array.from(this._idToStack.values());let s=r.indexOf(this._visibleStack)-1;r[s]||(s=r.length-1),this.showStack(this._getStackId(r[s]))}_createRotatorView(){const r=new tl(this.editor.locale),s=this.editor.locale.t;return this.view.content.add(r),r.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(c,h)=>!h&&c>1),r.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),r.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(c,h)=>{if(h<2)return"";const v=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return s("%0 of %1",[v,h])}),r.buttonNextView.on("execute",()=>{r.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),r.buttonPrevView.on("execute",()=>{r.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),r}_createFakePanelsView(){const r=new Ye(this.editor.locale,this.view);return r.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(s,c)=>!c&&s>=2?Math.min(s-1,2):0),r.listenTo(this.view,"change:top",()=>r.updatePosition()),r.listenTo(this.view,"change:left",()=>r.updatePosition()),this.editor.ui.view.body.add(r),r}_showView({view:r,balloonClassName:s="",withArrow:c=!0,singleViewMode:h=!1}){this.view.class=s,this.view.withArrow=c,this._rotatorView.showView(r),this.visibleView=r,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),h&&(this._singleViewMode=!0)}_getBalloonPosition(){let r=Array.from(this._visibleStack.values()).pop().position;return r&&(r.limiter||(r=Object.assign({},r,{limiter:this.positionLimiter})),r=Object.assign({},r,{viewportOffsetConfig:this.editor.ui.viewportOffset})),r}}class tl extends he{constructor(r){super(r);const s=r.t,c=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Zn,this.buttonPrevView=this._createButtonView(s("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(s("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",c.to("isNavigationVisible",h=>h?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:c.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(r){this.hideView(),this.content.add(r)}hideView(){this.content.clear()}_createButtonView(r,s){const c=new xe(this.locale);return c.set({label:r,icon:s,tooltip:!0}),c}}class Ye extends he{constructor(r,s){super(r);const c=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=s,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",c.to("numberOfPanels",h=>h?"":"ck-hidden")],style:{top:c.to("top",rp),left:c.to("left",rp),width:c.to("width",rp),height:c.to("height",rp)}},children:this.content}),this.on("change:numberOfPanels",(h,v,y,_)=>{y>_?this._addPanels(y-_):this._removePanels(_-y),this.updatePosition()})}_addPanels(r){for(;r--;){const s=new he;s.setTemplate({tag:"div"}),this.content.add(s),this.registerChild(s)}}_removePanels(r){for(;r--;){const s=this.content.last;this.content.remove(s),this.deregisterChild(s),s.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:r,left:s}=this._balloonPanelView,{width:c,height:h}=new Ue(this._balloonPanelView.element);Object.assign(this,{top:r,left:s,width:c,height:h})}}}var O_=St(3609);Ut()(O_.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Va("px"),Va("px");var V_=St(6706);Ut()(V_.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Va("px"),Va("px");class Qa extends E_{constructor(r,s,c={}){super(r);const h=r.t;this.toolbar=new ca(r,{shouldGroupWhenFull:c.shouldToolbarGroupWhenFull}),this.editable=new ep(r,s,c.editableElement,{label:v=>h("Rich Text Editor. Editing area: %0",v.name)}),this.toolbar.extendTemplate({attributes:{class:["ck-reset_all","ck-rounded-corners"],dir:r.uiLanguageDirection}})}render(){super.render(),this.registerChild([this.toolbar,this.editable])}}class jm extends Zs{constructor(r,s={}){if(!An(r)&&void 0!==s.initialData)throw new U("editor-create-initial-data",null);var v,y;super(s),void 0===this.config.get("initialData")&&this.config.set("initialData",An(v=r)?(y=v)instanceof HTMLTextAreaElement?y.value:y.innerHTML:v),An(r)&&(this.sourceElement=r,function(v){const y=v.sourceElement;if(y){if(y.ckeditorInstance)throw new U("editor-source-element-already-used",v);y.ckeditorInstance=v,v.once("destroy",()=>{delete y.ckeditorInstance})}}(this)),this.model.document.createRoot();const c=!this.config.get("toolbar.shouldNotGroupWhenFull"),h=new Qa(this.locale,this.editing.view,{editableElement:this.sourceElement,shouldToolbarGroupWhenFull:c});this.ui=new LS(this,h)}destroy(){const r=this.getData();return this.ui.destroy(),super.destroy().then(()=>{this.sourceElement&&this.updateSourceElement(r)})}static create(r,s={}){return new Promise(c=>{if(An(r)&&"TEXTAREA"===r.tagName)throw new U("editor-wrong-element",null);const h=new this(r,s);c(h.initPlugins().then(()=>h.ui.init()).then(()=>h.data.init(h.config.get("initialData"))).then(()=>h.fire("ready")).then(()=>h))})}}qn(jm,md),qn(jm,vd);class Gm extends Na{constructor(r){super(r);const s=this.document;function c(h){return(v,y)=>{y.preventDefault();const _=y.dropRange?[y.dropRange]:null,A=new ut(s,h);s.fire(A,{dataTransfer:y.dataTransfer,method:v.name,targetRanges:_,target:y.target}),A.stop.called&&y.stopPropagation()}}this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],this.listenTo(s,"paste",c("clipboardInput"),{priority:"low"}),this.listenTo(s,"drop",c("clipboardInput"),{priority:"low"}),this.listenTo(s,"dragover",c("dragging"),{priority:"low"})}onDomEvent(r){const s={dataTransfer:new bo("clipboardData"in r?r.clipboardData:r.dataTransfer)};"drop"!=r.type&&"dragover"!=r.type||(s.dropRange=function(c,h){const v=h.target.ownerDocument,y=h.clientX,_=h.clientY;let A;return v.caretRangeFromPoint&&v.caretRangeFromPoint(y,_)?A=v.caretRangeFromPoint(y,_):h.rangeParent&&(A=v.createRange(),A.setStart(h.rangeParent,h.rangeOffset),A.collapse(!0)),A?c.domConverter.domRangeToView(A):null}(this.view,r)),this.fire(r.type,r,s)}}const _d=["figcaption","li"];function op(f){let r="";if(f.is("$text")||f.is("$textProxy"))r=f.data;else if(f.is("element","img")&&f.hasAttribute("alt"))r=f.getAttribute("alt");else if(f.is("element","br"))r="\n";else{let s=null;for(const c of f.getChildren()){const h=op(c);s&&(s.is("containerElement")||c.is("containerElement"))&&(_d.includes(s.name)||_d.includes(c.name)?r+="\n":r+="\n\n"),r+=h,s=c}}return r}class qr extends vt{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(Gm),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const r=this.editor,s=r.model,c=r.editing.view,h=c.document;this.listenTo(h,"clipboardInput",v=>{r.isReadOnly&&v.stop()},{priority:"highest"}),this.listenTo(h,"clipboardInput",(v,y)=>{const _=y.dataTransfer;let A;if(y.content)A=y.content;else{let E="";_.getData("text/html")?E=_.getData("text/html").replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(z,G)=>1==G.length?" ":G).replace(/<!--[\s\S]*?-->/g,""):_.getData("text/plain")&&(((S=(S=_.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||S.includes("<br>"))&&(S=`<p>${S}</p>`),E=S),A=this.editor.data.htmlProcessor.toView(E)}var S;const D=new ut(this,"inputTransformation");this.fire(D,{content:A,dataTransfer:_,targetRanges:y.targetRanges,method:y.method}),D.stop.called&&v.stop(),c.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(v,y)=>{if(y.content.isEmpty)return;const _=this.editor.data.toModel(y.content,"$clipboardHolder");0!=_.childCount&&(v.stop(),s.change(()=>{this.fire("contentInsertion",{content:_,method:y.method,dataTransfer:y.dataTransfer,targetRanges:y.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(v,y)=>{y.resultRange=s.insertContent(y.content)},{priority:"low"})}_setupCopyCut(){const r=this.editor,s=r.model.document,c=r.editing.view.document,h=(v,y)=>{const _=y.dataTransfer;y.preventDefault();const A=r.data.toView(r.model.getSelectedContent(s.selection));c.fire("clipboardOutput",{dataTransfer:_,content:A,method:v.name})};this.listenTo(c,"copy",h,{priority:"low"}),this.listenTo(c,"cut",(v,y)=>{r.isReadOnly?y.preventDefault():h(v,y)},{priority:"low"}),this.listenTo(c,"clipboardOutput",(v,y)=>{y.content.isEmpty||(y.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(y.content)),y.dataTransfer.setData("text/plain",op(y.content))),"cut"==y.method&&r.model.deleteContent(s.selection)},{priority:"low"})}}function*kd(f,r){for(const s of r)s&&f.getAttributeProperties(s[0]).copyOnEnter&&(yield s)}class Um extends ae{execute(){const r=this.editor.model,s=r.document;r.change(c=>{(function(h,v,y,_){const A=y.isCollapsed,S=y.getFirstRange(),D=S.start.parent,E=S.end.parent;if(_.isLimit(D)||_.isLimit(E))A||D!=E||h.deleteContent(y);else if(A){const P=kd(v.model.schema,y.getAttributes());Wm(v,S.start),v.setSelectionAttribute(P)}else{const P=!(S.start.isAtStart&&S.end.isAtEnd),z=D==E;h.deleteContent(y,{leaveUnmerged:P}),P&&(z?Wm(v,y.focus):v.setSelection(E,0))}})(this.editor.model,c,s.selection,r.schema),this.fire("afterExecute",{writer:c})})}}function Wm(f,r){f.split(r),f.setSelection(r.parent.nextSibling,0)}const F_={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class H_ extends Gr{constructor(r){super(r);const s=this.document;s.on("beforeinput",(c,h)=>{if(!this.isEnabled)return;const v=h.domEvent,y=F_[h.inputType];if(!y)return;const _=new Yl(s,"enter",h.targetRanges[0]);s.fire(_,new nc(r,v,{isSoft:y.isSoft})),_.stop.called&&c.stop()})}observe(){}}class Sc extends vt{static get pluginName(){return"Enter"}init(){const r=this.editor,s=r.editing.view,c=s.document;s.addObserver(H_),r.commands.add("enter",new Um(r)),this.listenTo(c,"enter",(h,v)=>{c.isComposing||v.preventDefault(),v.isSoft||(r.execute("enter"),s.scrollToTheSelection())},{priority:"low"})}}class j_{constructor(r,s=20){this._batch=null,this.model=r,this._size=0,this.limit=s,this._isLocked=!1,this._changeCallback=(c,h)=>{h.isLocal&&h.isUndoable&&h!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(r){this._size+=r,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(r=!1){this.isLocked&&!r||(this._batch=null,this._size=0)}}class ap extends ae{constructor(r,s){super(r),this.direction=s,this._buffer=new j_(r.model,r.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(r={}){const s=this.editor.model,c=s.document;s.enqueueChange(this._buffer.batch,h=>{this._buffer.lock();const v=h.createSelection(r.selection||c.selection),y=r.sequence||1,_=v.isCollapsed;if(v.isCollapsed&&s.modifySelection(v,{direction:this.direction,unit:r.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(y))return void this._replaceEntireContentWithParagraph(h);if(this._shouldReplaceFirstBlockWithParagraph(v,y))return void this.editor.execute("paragraph",{selection:v});if(v.isCollapsed)return;let A=0;v.getFirstRange().getMinimalFlatRanges().forEach(S=>{A+=rf(S.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),s.deleteContent(v,{doNotResetEntireContent:_,direction:this.direction}),this._buffer.input(A),h.setSelection(v),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(r){if(r>1)return!1;const s=this.editor.model,c=s.document.selection,h=s.schema.getLimitElement(c);if(!c.isCollapsed||!c.containsEntireContent(h)||!s.schema.checkChild(h,"paragraph"))return!1;const v=h.getChild(0);return!v||!v.is("element","paragraph")}_replaceEntireContentWithParagraph(r){const s=this.editor.model,h=s.schema.getLimitElement(s.document.selection),v=r.createElement("paragraph");r.remove(r.createRangeIn(h)),r.insert(v,h),r.setSelection(v,0)}_shouldReplaceFirstBlockWithParagraph(r,s){const c=this.editor.model;if(s>1||"backward"!=this.direction||!r.isCollapsed)return!1;const h=r.getFirstPosition(),v=c.schema.getLimitElement(h),y=v.getChild(0);return h.parent==y&&!!r.containsEntireContent(y)&&!!c.schema.checkChild(v,"paragraph")&&"paragraph"!=y.name}}const Li="selection",lr="backward",Tc="forward",Dc={deleteContent:{unit:Li,direction:lr},deleteContentBackward:{unit:"codePoint",direction:lr},deleteWordBackward:{unit:"word",direction:lr},deleteHardLineBackward:{unit:Li,direction:lr},deleteSoftLineBackward:{unit:Li,direction:lr},deleteContentForward:{unit:"character",direction:Tc},deleteWordForward:{unit:"word",direction:Tc},deleteHardLineForward:{unit:Li,direction:Tc},deleteSoftLineForward:{unit:Li,direction:Tc}};class lp extends Gr{constructor(r){super(r);const s=r.document;let c=0;s.on("keydown",()=>{c++}),s.on("keyup",()=>{c=0}),s.on("beforeinput",(h,v)=>{if(!this.isEnabled)return;const{targetRanges:y,domEvent:_,inputType:A}=v,S=Dc[A];if(!S)return;const D={direction:S.direction,unit:S.unit,sequence:c};D.unit==Li&&(D.selectionToRemove=r.createSelection(y[0])),me.isAndroid&&"deleteContentBackward"===A&&(D.sequence=1,1!=y.length||y[0].start.parent==y[0].end.parent&&y[0].start.offset+1==y[0].end.offset||(D.unit=Li,D.selectionToRemove=r.createSelection(y)));const E=new Yl(s,"delete",y[0]);s.fire(E,new nc(r,_,D)),E.stop.called&&h.stop()}),me.isBlink&&function(h){const v=h.view,y=v.document;let _=null,A=!1;function S(E){return E==Ce.backspace||E==Ce.delete}function D(E){return E==Ce.backspace?lr:Tc}y.on("keydown",(E,{keyCode:P})=>{_=P,A=!1}),y.on("keyup",(E,{keyCode:P,domEvent:z})=>{const G=y.selection,W=h.isEnabled&&P==_&&S(P)&&!G.isCollapsed&&!A;if(_=null,W){const $=G.getFirstRange(),X=new Yl(y,"delete",$),et={unit:Li,direction:D(P),selectionToRemove:G};y.fire(X,new nc(v,z,et))}}),y.on("beforeinput",(E,{inputType:P})=>{const z=Dc[P];S(_)&&z&&z.direction==D(_)&&(A=!0)}),y.on("beforeinput",(E,{inputType:P,data:z})=>{_==Ce.delete&&"insertText"==P&&"\x7f"==z&&E.stop()},{priority:"high"})}(this)}observe(){}}class ua extends vt{static get pluginName(){return"Delete"}init(){const r=this.editor,s=r.editing.view,c=s.document,h=r.model.document;s.addObserver(lp),this._undoOnBackspace=!1;const v=new ap(r,"forward");r.commands.add("deleteForward",v),r.commands.add("forwardDelete",v),r.commands.add("delete",new ap(r,"backward")),this.listenTo(c,"delete",(y,_)=>{c.isComposing||_.preventDefault();const{direction:A,sequence:S,selectionToRemove:D,unit:E}=_,P="forward"===A?"deleteForward":"delete",z={sequence:S};if("selection"==E){const G=Array.from(D.getRanges()).map(W=>r.editing.mapper.toModelRange(W));z.selection=r.model.createSelection(G)}else z.unit=E;r.execute(P,z),s.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(c,"delete",(y,_)=>{this._undoOnBackspace&&"backward"==_.direction&&1==_.sequence&&"codePoint"==_.unit&&(this._undoOnBackspace=!1,r.execute("undo"),_.preventDefault(),y.stop())},{context:"$capture"}),this.listenTo(h,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Ym extends Ft{constructor(){super(),this._stack=[]}add(r,s){const c=this._stack,h=c[0];this._insertDescriptor(r);const v=c[0];h===v||cp(h,v)||this.fire("change:top",{oldDescriptor:h,newDescriptor:v,writer:s})}remove(r,s){const c=this._stack,h=c[0];this._removeDescriptor(r);const v=c[0];h===v||cp(h,v)||this.fire("change:top",{oldDescriptor:h,newDescriptor:v,writer:s})}_insertDescriptor(r){const s=this._stack,c=s.findIndex(v=>v.id===r.id);if(cp(r,s[c]))return;c>-1&&s.splice(c,1);let h=0;for(;s[h]&&el(s[h],r);)h++;s.splice(h,0,r)}_removeDescriptor(r){const s=this._stack,c=s.findIndex(h=>h.id===r);c>-1&&s.splice(c,1)}}function cp(f,r){return f&&r&&f.priority==r.priority&&da(f.classes)==da(r.classes)}function el(f,r){return f.priority>r.priority||!(f.priority<r.priority)&&da(f.classes)>da(r.classes)}function da(f){return Array.isArray(f)?f.sort().join(","):f}const G_="ck-widget_selected";function tn(f){return!!f.is("element")&&!!f.getCustomProperty("widget")}function Ad(f,r,s={}){if(!f.is("containerElement"))throw new U("widget-to-widget-wrong-element-type",null,{element:f});return r.setAttribute("contenteditable","false",f),r.addClass("ck-widget",f),r.setCustomProperty("widget",!0,f),f.getFillerOffset=dp,s.label&&r.setCustomProperty("widgetLabel",s.label,f),s.hasSelectionHandle&&function(c,h){const v=h.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(y){const _=this.toDomElement(y),A=new Uf;return A.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),A.render(),_.appendChild(A.element),_});h.insert(h.createPositionAt(c,0),v),h.addClass(["ck-widget_with-selection-handle"],c)}(f,r),up(f,r),f}function U_(f,r,s){if(r.classes&&s.addClass(Ge(r.classes),f),r.attributes)for(const c in r.attributes)s.setAttribute(c,r.attributes[c],f)}function W_(f,r,s){if(r.classes&&s.removeClass(Ge(r.classes),f),r.attributes)for(const c in r.attributes)s.removeAttribute(c,f)}function up(f,r,s=U_,c=W_){const h=new Ym;h.on("change:top",(v,y)=>{y.oldDescriptor&&c(f,y.oldDescriptor,y.writer),y.newDescriptor&&s(f,y.newDescriptor,y.writer)}),r.setCustomProperty("addHighlight",(v,y,_)=>h.add(y,_),f),r.setCustomProperty("removeHighlight",(v,y,_)=>h.remove(y,_),f)}function Mc(f){const r=f.getCustomProperty("widgetLabel");return r?"function"==typeof r?r():r:""}function Ic(f,r,s={}){return r.addClass(["ck-editor__editable","ck-editor__nested-editable"],f),r.setAttribute("role","textbox",f),s.label&&r.setAttribute("aria-label",s.label,f),r.setAttribute("contenteditable",f.isReadOnly?"false":"true",f),f.on("change:isReadOnly",(c,h,v)=>{r.setAttribute("contenteditable",v?"false":"true",f)}),f.on("change:isFocused",(c,h,v)=>{v?r.addClass("ck-editor__nested-editable_focused",f):r.removeClass("ck-editor__nested-editable_focused",f)}),up(f,r),f}function nl(f,r){const s=f.getSelectedElement();if(s){const c=Ja(f);if(c)return r.createRange(r.createPositionAt(s,c))}return l_(f,r)}function dp(){return null}const Pi="widget-type-around";function Mo(f,r,s){return!!f&&tn(f)&&!s.isInline(r)}function Ja(f){return f.getAttribute(Pi)}var qm=St(5137);Ut()(qm.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Zm=["before","after"],q_=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,$m="ck-widget__type-around_disabled";class Z_ extends vt{static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Sc,ua]}constructor(r){super(r),this._currentFakeCaretModelElement=null}init(){const r=this.editor,s=r.editing.view;this.on("change:isEnabled",(c,h,v)=>{s.change(y=>{for(const _ of s.document.roots)v?y.removeClass($m,_):y.addClass($m,_)}),v||r.model.change(y=>{y.removeSelectionAttribute(Pi)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(r,s){const c=this.editor,h=c.editing.view,v=c.model.schema.getAttributesWithProperty(r,"copyOnReplace",!0);c.execute("insertParagraph",{position:c.model.createPositionAt(r,s),attributes:v}),h.focus(),h.scrollToTheSelection()}_listenToIfEnabled(r,s,c,h){this.listenTo(r,s,(...v)=>{this.isEnabled&&c(...v)},h)}_insertParagraphAccordingToFakeCaretPosition(){const r=this.editor.model.document.selection,s=Ja(r);if(!s)return!1;const c=r.getSelectedElement();return this._insertParagraph(c,s),!0}_enableTypeAroundUIInjection(){const r=this.editor,s=r.model.schema,c=r.locale.t,h={before:c("Insert paragraph before block"),after:c("Insert paragraph after block")};r.editing.downcastDispatcher.on("insert",(v,y,_)=>{const A=_.mapper.toViewElement(y.item);Mo(A,y.item,s)&&function(S,D,E){const P=S.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(z){const G=this.toDomElement(z);return function(W,$){for(const X of Zm){const et=new Xt({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${X}`],title:$[X]},children:[W.ownerDocument.importNode(q_,!0)]});W.appendChild(et.render())}}(G,D),function(W){const $=new Xt({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});W.appendChild($.render())}(G),G});S.insert(S.createPositionAt(E,"end"),P)}(_.writer,h,A)},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const r=this.editor,s=r.model,c=s.document.selection,h=s.schema;function y(_){return`ck-widget_type-around_show-fake-caret_${_}`}this._listenToIfEnabled(r.editing.view.document,"arrowKey",(_,A)=>{this._handleArrowKeyPress(_,A)},{context:[tn,"$text"],priority:"high"}),this._listenToIfEnabled(c,"change:range",(_,A)=>{A.directChange&&r.model.change(S=>{S.removeSelectionAttribute(Pi)})}),this._listenToIfEnabled(s.document,"change:data",()=>{const _=c.getSelectedElement();_&&Mo(r.editing.mapper.toViewElement(_),_,h)||r.model.change(A=>{A.removeSelectionAttribute(Pi)})}),this._listenToIfEnabled(r.editing.downcastDispatcher,"selection",(_,A,S)=>{const D=S.writer;if(this._currentFakeCaretModelElement){const G=S.mapper.toViewElement(this._currentFakeCaretModelElement);G&&(D.removeClass(Zm.map(y),G),this._currentFakeCaretModelElement=null)}const E=A.selection.getSelectedElement();if(!E)return;const P=S.mapper.toViewElement(E);if(!Mo(P,E,h))return;const z=Ja(A.selection);z&&(D.addClass(y(z),P),this._currentFakeCaretModelElement=E)}),this._listenToIfEnabled(r.ui.focusTracker,"change:isFocused",(_,A,S)=>{S||r.model.change(D=>{D.removeSelectionAttribute(Pi)})})}_handleArrowKeyPress(r,s){const c=this.editor,h=c.model,v=h.document.selection,y=h.schema,_=c.editing.view,A=function(E,P){const z=Fr(E,P);return"down"===z||"right"===z}(s.keyCode,c.locale.contentLanguageDirection),S=_.document.selection.getSelectedElement();let D;Mo(S,c.editing.mapper.toModelElement(S),y)?D=this._handleArrowKeyPressOnSelectedWidget(A):v.isCollapsed?D=this._handleArrowKeyPressWhenSelectionNextToAWidget(A):s.shiftKey||(D=this._handleArrowKeyPressWhenNonCollapsedSelection(A)),D&&(s.preventDefault(),r.stop())}_handleArrowKeyPressOnSelectedWidget(r){const s=this.editor.model,c=Ja(s.document.selection);return s.change(h=>c?c!==(r?"after":"before")&&(h.removeSelectionAttribute(Pi),!0):(h.setSelectionAttribute(Pi,r?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(r){const s=this.editor,c=s.model,h=c.schema,v=s.plugins.get("Widget"),y=v._getObjectElementNextToSelection(r);return!!Mo(s.editing.mapper.toViewElement(y),y,h)&&(c.change(_=>{v._setSelectionOverElement(y),_.setSelectionAttribute(Pi,r?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(r){const s=this.editor,c=s.model,h=c.schema,v=s.editing.mapper,y=c.document.selection,_=r?y.getLastPosition().nodeBefore:y.getFirstPosition().nodeAfter;return!!Mo(v.toViewElement(_),_,h)&&(c.change(A=>{A.setSelection(_,"on"),A.setSelectionAttribute(Pi,r?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const r=this.editor,s=r.editing.view;this._listenToIfEnabled(s.document,"mousedown",(c,h)=>{const v=h.domTarget.closest(".ck-widget__type-around__button");if(!v)return;const y=v.classList.contains("ck-widget__type-around__button_before")?"before":"after",_=function(S,D){const E=S.closest(".ck-widget");return D.mapDomToView(E)}(v,s.domConverter),A=r.editing.mapper.toModelElement(_);this._insertParagraph(A,y),h.preventDefault(),c.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const r=this.editor,s=r.model.document.selection;this._listenToIfEnabled(r.editing.view.document,"enter",(h,v)=>{if("atTarget"!=h.eventPhase)return;const y=s.getSelectedElement(),_=r.editing.mapper.toViewElement(y),A=r.model.schema;let S;this._insertParagraphAccordingToFakeCaretPosition()?S=!0:Mo(_,y,A)&&(this._insertParagraph(y,v.isSoft?"before":"after"),S=!0),S&&(v.preventDefault(),h.stop())},{context:tn})}_enableInsertingParagraphsOnTypingKeystroke(){const r=this.editor.editing.view.document;this._listenToIfEnabled(r,"insertText",(s,c)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(c.selection=r.selection)},{priority:"high"}),me.isAndroid?this._listenToIfEnabled(r,"keydown",(s,c)=>{229==c.keyCode&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(r,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const r=this.editor,c=r.model,h=c.schema;this._listenToIfEnabled(r.editing.view.document,"delete",(v,y)=>{if("atTarget"!=v.eventPhase)return;const _=Ja(c.document.selection);if(!_)return;const A=y.direction,S=c.document.selection.getSelectedElement(),D="forward"==A;if("before"===_===D)r.execute("delete",{selection:c.createSelection(S,"on")});else{const E=h.getNearestSelectionRange(c.createPositionAt(S,_),A);if(E)if(E.isCollapsed){const P=c.createSelection(E.start);if(c.modifySelection(P,{direction:A}),P.focus.isEqual(E.start)){const z=function(G,W){let $=W;for(const X of W.getAncestors({parentFirst:!0})){if(X.childCount>1||G.isLimit(X))break;$=X}return $}(h,E.start.parent);c.deleteContent(c.createSelection(z,"on"),{doNotAutoparagraph:!0})}else c.change(z=>{z.setSelection(E),r.execute(D?"deleteForward":"delete")})}else c.change(P=>{P.setSelection(E),r.execute(D?"deleteForward":"delete")})}y.preventDefault(),v.stop()},{context:tn})}_enableInsertContentIntegration(){const s=this.editor.model,c=s.document.selection;this._listenToIfEnabled(this.editor.model,"insertContent",(h,[v,y])=>{if(y&&!y.is("documentSelection"))return;const _=Ja(c);return _?(h.stop(),s.change(A=>{const S=c.getSelectedElement(),D=s.createPositionAt(S,_),E=A.createSelection(D),P=s.insertContent(v,E);return A.setSelection(E),P})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const s=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"insertObject",(c,h)=>{const[,v,,y={}]=h;if(v&&!v.is("documentSelection"))return;const _=Ja(s);_&&(y.findOptimalPosition=_,h[3]=y)},{priority:"high"})}_enableDeleteContentIntegration(){const s=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"deleteContent",(c,[h])=>{h&&!h.is("documentSelection")||Ja(s)&&c.stop()},{priority:"high"})}}function Km(f,r,s){const c=f.schema,h=f.createRangeIn(r.root),v="forward"==s?"elementStart":"elementEnd";for(const{previousPosition:y,item:_,type:A}of h.getWalker({startPosition:r,direction:s})){if(c.isLimit(_)&&!c.isInline(_))return y;if(A==v&&c.isBlock(_))return null}return null}function rl(f,r,s){const c="backward"==s?r.end:r.start;if(f.checkChild(c,"$text"))return c;for(const{nextPosition:h}of r.getWalker({direction:s}))if(f.checkChild(h,"$text"))return h;return null}var hp=St(6507);Ut()(hp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ha extends vt{static get pluginName(){return"Widget"}static get requires(){return[Z_,ua]}init(){const r=this.editor,s=r.editing.view,c=s.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(h,v,y)=>{const _=y.writer,A=v.selection;if(A.isCollapsed)return;const S=A.getSelectedElement();if(!S)return;const D=r.editing.mapper.toViewElement(S);tn(D)&&y.consumable.consume(A,"selection")&&_.setSelection(_.createRangeOn(D),{fake:!0,label:Mc(D)})}),this.editor.editing.downcastDispatcher.on("selection",(h,v,y)=>{this._clearPreviouslySelectedWidgets(y.writer);const _=y.writer,A=_.document.selection;let S=null;for(const D of A.getRanges())for(const E of D){const P=E.item;tn(P)&&!X_(P,S)&&(_.addClass(G_,P),this._previouslySelected.add(P),S=P)}},{priority:"low"}),s.addObserver($a),this.listenTo(c,"mousedown",(...h)=>this._onMousedown(...h)),this.listenTo(c,"arrowKey",(...h)=>{this._handleSelectionChangeOnArrowKeyPress(...h)},{context:[tn,"$text"]}),this.listenTo(c,"arrowKey",(...h)=>{this._preventDefaultOnArrowKeyPress(...h)},{context:"$root"}),this.listenTo(c,"arrowKey",function(f){const r=f.model;return(s,c)=>{const v=c.keyCode==Ce.arrowdown,y=c.shiftKey,_=r.document.selection;if(c.keyCode!=Ce.arrowup&&!v)return;const A=v;if(y&&!(D=_).isCollapsed&&D.isBackward==A)return;var D;const S=function(D,E,P){const z=D.model;if(P){const G=E.isCollapsed?E.focus:E.getLastPosition(),W=Km(z,G,"forward");if(!W)return null;const $=z.createRange(G,W),X=rl(z.schema,$,"backward");return X?z.createRange(G,X):null}{const G=E.isCollapsed?E.focus:E.getFirstPosition(),W=Km(z,G,"backward");if(!W)return null;const $=z.createRange(W,G),X=rl(z.schema,$,"forward");return X?z.createRange(X,G):null}}(f,_,A);if(S){if(S.isCollapsed&&(_.isCollapsed||y))return;(S.isCollapsed||function(D,E,P){const z=D.model,G=D.view.domConverter;if(P){const ct=z.createSelection(E.start);z.modifySelection(ct),ct.focus.isAtEnd||E.start.isEqual(ct.focus)||(E=z.createRange(ct.focus,E.end))}const W=D.mapper.toViewRange(E),$=G.viewRangeToDom(W),X=Ue.getDomRangeRects($);let et;for(const ct of X)if(void 0!==et){if(Math.round(ct.top)>=et)return!1;et=Math.max(et,Math.round(ct.bottom))}else et=Math.round(ct.bottom);return!0}(f,S,A))&&(r.change(D=>{const E=A?S.end:S.start;if(y){const P=r.createSelection(_.anchor);P.setFocus(E),D.setSelection(P)}else D.setSelection(E)}),s.stop(),c.preventDefault(),c.stopPropagation())}}}(this.editor.editing),{context:"$text"}),this.listenTo(c,"delete",(h,v)=>{this._handleDelete("forward"==v.direction)&&(v.preventDefault(),h.stop())},{context:"$root"})}_onMousedown(r,s){const c=this.editor,h=c.editing.view,v=h.document;let y=s.target;if(function(A){let S=A;for(;S;){if(S.is("editableElement")&&!S.is("rootElement"))return!0;if(tn(S))return!1;S=S.parent}return!1}(y)){if((me.isSafari||me.isGecko)&&s.domEvent.detail>=3){const A=c.editing.mapper,S=y.is("attributeElement")?y.findAncestor(E=>!E.is("attributeElement")):y,D=A.toModelElement(S);s.preventDefault(),this.editor.model.change(E=>{E.setSelection(D,"in")})}return}if(!tn(y)&&(y=y.findAncestor(tn),!y))return;me.isAndroid&&s.preventDefault(),v.isFocused||h.focus();const _=c.editing.mapper.toModelElement(y);this._setSelectionOverElement(_)}_handleSelectionChangeOnArrowKeyPress(r,s){const c=s.keyCode,h=this.editor.model,v=h.schema,y=h.document.selection,_=y.getSelectedElement(),A=Fr(c,this.editor.locale.contentLanguageDirection),S="down"==A||"right"==A,D="up"==A||"down"==A;if(_&&v.isObject(_)){const P=S?y.getLastPosition():y.getFirstPosition(),z=v.getNearestSelectionRange(P,S?"forward":"backward");return void(z&&(h.change(G=>{G.setSelection(z)}),s.preventDefault(),r.stop()))}if(!y.isCollapsed&&!s.shiftKey){const P=y.getFirstPosition(),z=y.getLastPosition(),G=P.nodeAfter,W=z.nodeBefore;return void((G&&v.isObject(G)||W&&v.isObject(W))&&(h.change($=>{$.setSelection(S?z:P)}),s.preventDefault(),r.stop()))}if(!y.isCollapsed)return;const E=this._getObjectElementNextToSelection(S);if(E&&v.isObject(E)){if(v.isInline(E)&&D)return;this._setSelectionOverElement(E),s.preventDefault(),r.stop()}}_preventDefaultOnArrowKeyPress(r,s){const c=this.editor.model,h=c.schema,v=c.document.selection.getSelectedElement();v&&h.isObject(v)&&(s.preventDefault(),r.stop())}_handleDelete(r){if(this.editor.isReadOnly)return;const s=this.editor.model.document.selection;if(!s.isCollapsed)return;const c=this._getObjectElementNextToSelection(r);return c?(this.editor.model.change(h=>{let v=s.anchor.parent;for(;v.isEmpty;){const y=v;v=y.parent,h.remove(y)}this._setSelectionOverElement(c)}),!0):void 0}_setSelectionOverElement(r){this.editor.model.change(s=>{s.setSelection(s.createRangeOn(r))})}_getObjectElementNextToSelection(r){const s=this.editor.model,c=s.schema,h=s.document.selection,v=s.createSelection(h);if(s.modifySelection(v,{direction:r?"forward":"backward"}),v.isEqual(h))return null;const y=r?v.focus.nodeBefore:v.focus.nodeAfter;return y&&c.isObject(y)?y:null}_clearPreviouslySelectedWidgets(r){for(const s of this._previouslySelected)r.removeClass(G_,s);this._previouslySelected.clear()}}function X_(f,r){return!!r&&Array.from(f.getAncestors()).includes(r)}const Q_=function(f,r,s){var c=!0,h=!0;if("function"!=typeof f)throw new TypeError("Expected a function");return Pe(s)&&(c="leading"in s?!!s.leading:c,h="trailing"in s?!!s.trailing:h),rc(f,r,{leading:c,maxWait:r,trailing:h})};var J_=St(390);Ut()(J_.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class EE extends vt{static get pluginName(){return"DragDrop"}static get requires(){return[qr,ha]}init(){const r=this.editor,s=r.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=Q_(c=>this._updateDropMarker(c),40),this._removeDropMarkerDelayed=xd(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=xd(()=>this._clearDraggableAttributes(),40),s.addObserver(Gm),s.addObserver($a),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(r,"change:isReadOnly",(c,h,v)=>{v?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(c,h,v)=>{v||this._finalizeDragging(!1)}),me.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const r=this.editor,s=r.model,c=s.document,h=r.editing.view,v=h.document;this.listenTo(v,"dragstart",(y,_)=>{const A=c.selection;if(_.target&&_.target.is("editableElement"))return void _.preventDefault();const S=_.target?Xm(_.target):null;if(S){const P=r.editing.mapper.toModelElement(S);this._draggedRange=Zi.fromRange(s.createRangeOn(P)),r.plugins.has("WidgetToolbarRepository")&&r.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!v.selection.isCollapsed){const P=v.selection.getSelectedElement();P&&tn(P)||(this._draggedRange=Zi.fromRange(A.getFirstRange()))}if(!this._draggedRange)return void _.preventDefault();this._draggingUid=ot(),_.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",_.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const D=s.createSelection(this._draggedRange.toRange()),E=r.data.toView(s.getSelectedContent(D));v.fire("clipboardOutput",{dataTransfer:_.dataTransfer,content:E,method:"dragstart"}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(v,"dragend",(y,_)=>{this._finalizeDragging(!_.dataTransfer.isCanceled&&"move"==_.dataTransfer.dropEffect)},{priority:"low"}),this.listenTo(v,"dragenter",()=>{this.isEnabled&&h.focus()}),this.listenTo(v,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(v,"dragging",(y,_)=>{if(!this.isEnabled)return void(_.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const A=ts(r,_.targetRanges,_.target);this._draggedRange||(_.dataTransfer.dropEffect="copy"),me.isGecko||("copy"==_.dataTransfer.effectAllowed?_.dataTransfer.dropEffect="copy":["all","copyMove"].includes(_.dataTransfer.effectAllowed)&&(_.dataTransfer.dropEffect="move")),A&&this._updateDropMarkerThrottled(A)},{priority:"low"})}_setupClipboardInputIntegration(){const r=this.editor;this.listenTo(r.editing.view.document,"clipboardInput",(c,h)=>{if("drop"!=h.method)return;const v=ts(r,h.targetRanges,h.target);return this._removeDropMarker(),v?(this._draggedRange&&this._draggingUid!=h.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),"move"==Cd(h.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(v,!0)?(this._finalizeDragging(!1),void c.stop()):void(h.targetRanges=[r.editing.mapper.toViewRange(v)])):(this._finalizeDragging(!1),void c.stop())},{priority:"high"})}_setupContentInsertionIntegration(){const r=this.editor.plugins.get(qr);r.on("contentInsertion",(s,c)=>{if(!this.isEnabled||"drop"!==c.method)return;const h=c.targetRanges.map(v=>this.editor.editing.mapper.toModelRange(v));this.editor.model.change(v=>v.setSelection(h))},{priority:"high"}),r.on("contentInsertion",(s,c)=>{if(!this.isEnabled||"drop"!==c.method)return;const h="move"==Cd(c.dataTransfer);this._finalizeDragging((!c.resultRange||!c.resultRange.isCollapsed)&&h)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const r=this.editor,s=r.editing.view,c=s.document;this.listenTo(c,"mousedown",(h,v)=>{if(me.isAndroid||!v)return;this._clearDraggableAttributesDelayed.cancel();let y=Xm(v.target);if(me.isBlink&&!r.isReadOnly&&!y&&!c.selection.isCollapsed){const _=c.selection.getSelectedElement();_&&tn(_)||(y=c.selection.editableElement)}y&&(s.change(_=>{_.setAttribute("draggable","true",y)}),this._draggableElement=r.editing.mapper.toModelElement(y))}),this.listenTo(c,"mouseup",()=>{me.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const r=this.editor.editing;r.view.change(s=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&s.removeAttribute("draggable",r.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const r=this.editor;r.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),r.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(s,{writer:c})=>{if(r.model.schema.checkChild(s.markerRange.start,"$text"))return c.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(h){const v=this.toDomElement(h);return v.append("\u2060",h.createElement("span"),"\u2060"),v})}})}_updateDropMarker(r){const s=this.editor,c=s.model.markers;s.model.change(h=>{c.has("drop-target")?c.get("drop-target").getRange().isEqual(r)||h.updateMarker("drop-target",{range:r}):h.addMarker("drop-target",{range:r,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const r=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),r.markers.has("drop-target")&&r.change(s=>{s.removeMarker("drop-target")})}_finalizeDragging(r){const s=this.editor,c=s.model;this._removeDropMarker(),this._clearDraggableAttributes(),s.plugins.has("WidgetToolbarRepository")&&s.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(r&&this.isEnabled&&c.deleteContent(c.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function ts(f,r,s){const c=f.model,h=f.editing.mapper;let v=null;const y=r?r[0].start:null;if(s.is("uiElement")&&(s=s.parent),v=function(S,D){const E=S.model,P=S.editing.mapper;if(tn(D))return E.createRangeOn(P.toModelElement(D));if(!D.is("editableElement")){const z=D.findAncestor(G=>tn(G)||G.is("editableElement"));if(tn(z))return E.createRangeOn(P.toModelElement(z))}return null}(f,s),v)return v;const _=function(S,D){const E=S.editing.mapper,P=S.editing.view,z=E.toModelElement(D);if(z)return z;const G=P.createPositionBefore(D),W=E.findMappedViewAncestor(G);return E.toModelElement(W)}(f,s),A=y?h.toModelPosition(y):null;return A?(v=function(S,D,E){const P=S.model;if(!P.schema.checkChild(E,"$block"))return null;const z=P.createPositionAt(E,0),G=D.path.slice(0,z.path.length),W=P.createPositionFromPath(D.root,G).nodeAfter;return W&&P.schema.isObject(W)?P.createRangeOn(W):null}(f,A,_),v||(v=c.schema.getNearestSelectionRange(A,me.isGecko?"forward":"backward"),v||function(S,D){const E=S.model;let P=D;for(;P;){if(E.schema.isObject(P))return E.createRangeOn(P);P=P.parent}return null}(f,A.parent))):function(S,D){const E=S.model,P=E.schema,z=E.createPositionAt(D,0);return P.getNearestSelectionRange(z,"forward")}(f,_)}function Cd(f){return me.isGecko?f.dropEffect:["all","copyMove"].includes(f.effectAllowed)?"move":"copy"}function xd(f,r){let s;function c(...h){c.cancel(),s=setTimeout(()=>f(...h),r)}return c.cancel=()=>{clearTimeout(s)},c}function Xm(f){if(f.is("editableElement"))return null;if(f.hasClass("ck-widget__selection-handle"))return f.findAncestor(tn);if(tn(f))return f;const r=f.findAncestor(s=>tn(s)||s.is("editableElement"));return tn(r)?r:null}class il extends vt{static get pluginName(){return"PastePlainText"}static get requires(){return[qr]}init(){const r=this.editor,s=r.model,c=r.editing.view,h=c.document,v=s.document.selection;let y=!1;c.addObserver(Gm),this.listenTo(h,"keydown",(_,A)=>{y=A.shiftKey}),r.plugins.get(qr).on("contentInsertion",(_,A)=>{(y||function(S,D){if(S.childCount>1)return!1;const E=S.getChild(0);return!D.isObject(E)&&0==Array.from(E.getAttributeKeys()).length}(A.content,s.schema))&&s.change(S=>{const D=Array.from(v.getAttributes()).filter(([P])=>s.schema.getAttributeProperties(P).isFormatting);v.isCollapsed||s.deleteContent(v,{doNotAutoparagraph:!0}),D.push(...v.getAttributes());const E=S.createRangeIn(A.content);for(const P of E.getItems())P.is("$textProxy")&&S.setAttributes(D,P)})})}}class fp extends vt{static get pluginName(){return"Clipboard"}static get requires(){return[qr,EE,il]}}class ol extends ae{execute(){const r=this.editor.model,s=r.document;r.change(c=>{(function(h,v,y){const _=y.isCollapsed,A=y.getFirstRange(),D=A.end.parent,E=A.start.parent==D;if(_){const P=kd(h.schema,y.getAttributes());WS(h,v,A.end),v.removeSelectionAttribute(y.getAttributeKeys()),v.setSelectionAttribute(P)}else{const P=!(A.start.isAtStart&&A.end.isAtEnd);h.deleteContent(y,{leaveUnmerged:P}),E?WS(h,v,y.focus):P&&v.setSelection(D,0)}})(r,c,s.selection),this.fire("afterExecute",{writer:c})})}refresh(){const r=this.editor.model;this.isEnabled=function(c,h){if(h.rangeCount>1)return!1;const v=h.anchor;if(!v||!c.checkChild(v,"softBreak"))return!1;const y=h.getFirstRange(),_=y.start.parent,A=y.end.parent;return!((tk(_,c)||tk(A,c))&&_!==A)}(r.schema,r.document.selection)}}function WS(f,r,s){const c=r.createElement("softBreak");f.insertContent(c,s),r.setSelection(c,"after")}function tk(f,r){return!f.is("rootElement")&&(r.isLimit(f)||tk(f.parent,r))}class YS extends vt{static get pluginName(){return"ShiftEnter"}init(){const r=this.editor,c=r.conversion,h=r.editing.view,v=h.document;r.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),c.for("upcast").elementToElement({model:"softBreak",view:"br"}),c.for("downcast").elementToElement({model:"softBreak",view:(y,{writer:_})=>_.createEmptyElement("br")}),h.addObserver(H_),r.commands.add("shiftEnter",new ol(r)),this.listenTo(v,"enter",(y,_)=>{v.isComposing||_.preventDefault(),_.isSoft&&(r.execute("shiftEnter"),h.scrollToTheSelection())},{priority:"low"})}}class Bn extends ae{constructor(r){super(r),this.affectsData=!1}execute(){const r=this.editor.model,s=r.document.selection;let c=r.schema.getLimitElement(s);if(s.containsEntireContent(c)||!Sd(r.schema,c))do{if(c=c.parent,!c)return}while(!Sd(r.schema,c));r.change(h=>{h.setSelection(c,"in")})}}function Sd(f,r){return f.isLimit(r)&&(f.checkChild(r,"$text")||f.checkChild(r,"paragraph"))}const qS=Fu("Ctrl+A");class Td extends vt{static get pluginName(){return"SelectAllEditing"}init(){const r=this.editor,s=r.editing.view.document;r.commands.add("selectAll",new Bn(r)),this.listenTo(s,"keydown",(c,h)=>{Di(h)===qS&&(r.execute("selectAll"),h.preventDefault())})}}class es extends vt{static get pluginName(){return"SelectAllUI"}init(){const r=this.editor;r.ui.componentFactory.add("selectAll",s=>{const c=r.commands.get("selectAll"),h=new xe(s);return h.set({label:(0,s.t)("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),h.bind("isEnabled").to(c,"isEnabled"),this.listenTo(h,"execute",()=>{r.execute("selectAll"),r.editing.view.focus()}),h})}}class Ec extends vt{static get requires(){return[Td,es]}static get pluginName(){return"SelectAll"}}class ek extends ae{constructor(r,s){super(r),this._buffer=new j_(r.model,s)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(r={}){const s=this.editor.model,c=s.document,h=r.text||"",v=h.length;let y=c.selection;r.selection?y=r.selection:r.range&&(y=s.createSelection(r.range));const _=r.resultRange;s.enqueueChange(this._buffer.batch,A=>{this._buffer.lock(),s.deleteContent(y),h&&s.insertContent(A.createText(h,c.selection.getAttributes()),y),_?A.setSelection(_):y.is("documentSelection")||A.setSelection(y),this._buffer.unlock(),this._buffer.input(v)})}}const nk=["insertText","insertReplacementText"];class Lc extends Gr{constructor(r){super(r),me.isAndroid&&nk.push("insertCompositionText");const s=r.document;s.on("beforeinput",(c,h)=>{if(!this.isEnabled)return;const{data:v,targetRanges:y,inputType:_,domEvent:A}=h;if(!nk.includes(_))return;const S=new ut(s,"insertText");s.fire(S,new nc(r,A,{text:v,selection:r.createSelection(y)})),S.stop.called&&c.stop()}),s.on("compositionend",(c,{data:h,domEvent:v})=>{this.isEnabled&&!me.isAndroid&&h&&s.fire("insertText",new nc(r,v,{text:h,selection:s.selection}))},{priority:"lowest"})}observe(){}}class rk extends vt{static get pluginName(){return"Input"}init(){const r=this.editor,s=r.model,c=r.editing.view,h=s.document.selection;c.addObserver(Lc);const v=new ek(r,r.config.get("typing.undoStep")||20);r.commands.add("insertText",v),r.commands.add("input",v),this.listenTo(c.document,"insertText",(y,_)=>{c.document.isComposing||_.preventDefault();const{text:A,selection:S,resultRange:D}=_,E=Array.from(S.getRanges()).map(G=>r.editing.mapper.toModelRange(G));let P=A;if(me.isAndroid){const G=Array.from(E[0].getItems()).reduce((W,$)=>W+($.is("$textProxy")?$.data:""),"");G&&(G.length<=P.length?P.startsWith(G)&&(P=P.substring(G.length),E[0].start=E[0].start.getShiftedBy(G.length)):G.startsWith(P)&&(E[0].start=E[0].start.getShiftedBy(P.length),P=""))}const z={text:P,selection:s.createSelection(E)};D&&(z.resultRange=r.editing.mapper.toModelRange(D)),r.execute("insertText",z)}),me.isAndroid?this.listenTo(c.document,"keydown",(y,_)=>{!h.isCollapsed&&229==_.keyCode&&c.document.isComposing&&be(s,v)}):this.listenTo(c.document,"compositionstart",()=>{h.isCollapsed||be(s,v)})}}function be(f,r){if(!r.isEnabled)return;const s=r.buffer;s.lock(),f.enqueueChange(s.batch,()=>{f.deleteContent(f.document.selection)}),s.unlock()}class ik extends vt{static get requires(){return[rk,ua]}static get pluginName(){return"Typing"}}function al(f,r){let s=f.start;return{text:Array.from(f.getItems()).reduce((c,h)=>h.is("$text")||h.is("$textProxy")?c+h.data:(s=r.createPositionAfter(h),""),""),range:r.createRange(s,f.end)}}class ok extends hn{constructor(r,s){super(),this.model=r,this.testCallback=s,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(r.document.selection),this.stopListening(r.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const r=this.model.document;this.listenTo(r.selection,"change:range",(s,{directChange:c})=>{c&&(r.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(r,"change:data",(s,c)=>{!c.isUndo&&c.isLocal&&this._evaluateTextBeforeSelection("data",{batch:c})})}_evaluateTextBeforeSelection(r,s={}){const c=this.model,h=c.document.selection,v=c.createRange(c.createPositionAt(h.focus.parent,0),h.focus),{text:y,range:_}=al(v,c),A=this.testCallback(y);if(!A&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!A,A){const S=Object.assign(s,{text:y,range:_});"object"==typeof A&&Object.assign(S,A),this.fire(`matched:${r}`,S)}}}class Qm extends vt{static get pluginName(){return"TwoStepCaretMovement"}constructor(r){super(r),this.attributes=new Set,this._overrideUid=null}init(){const r=this.editor,h=r.locale,v=r.model.document.selection;this.listenTo(r.editing.view.document,"arrowKey",(y,_)=>{if(!v.isCollapsed||_.shiftKey||_.altKey||_.ctrlKey)return;const A=_.keyCode==Ce.arrowright,S=_.keyCode==Ce.arrowleft;if(!A&&!S)return;const D=h.contentLanguageDirection;let E=!1;E="ltr"===D&&A||"rtl"===D&&S?this._handleForwardMovement(_):this._handleBackwardMovement(_),!0===E&&y.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(v,"change:range",(y,_)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!_.directChange&&mi(v.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(r){this.attributes.add(r)}_handleForwardMovement(r){const s=this.attributes,c=this.editor.model.document.selection,h=c.getFirstPosition();return!(this._isGravityOverridden||h.isAtStart&&Zr(c,s)||!mi(h,s)||(Dr(r),this._overrideGravity(),0))}_handleBackwardMovement(r){const s=this.attributes,c=this.editor.model,h=c.document.selection,v=h.getFirstPosition();return this._isGravityOverridden?(Dr(r),this._restoreGravity(),Kn(c,s,v),!0):v.isAtStart?!!Zr(h,s)&&(Dr(r),Kn(c,s,v),!0):(_=s,!(!mi(v.getShiftedBy(-1),_)||(v.isAtEnd&&!Zr(h,s)&&mi(v,s)?(Dr(r),Kn(c,s,v),0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),1))));var _}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(r=>r.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(r=>{r.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Zr(f,r){for(const s of r)if(f.hasAttribute(s))return!0;return!1}function Kn(f,r,s){const c=s.nodeBefore;f.change(h=>{c?h.setSelectionAttribute(c.getAttributes()):h.removeSelectionAttribute(r)})}function Dr(f){f.preventDefault()}function mi(f,r){const{nodeBefore:s,nodeAfter:c}=f;for(const h of r){const v=s?s.getAttribute(h):void 0;if((c?c.getAttribute(h):void 0)!==v)return!0}return!1}var Io=/[\\^$.*+?()[\]{}|]/g,ak=RegExp(Io.source);const sl={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xbd",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xbc",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xbe",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:ns('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:ns("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:ns("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:ns('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:ns('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:ns("'"),to:[null,"\u201a",null,"\u2019"]}},Xn={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},sk=["symbols","mathematical","typography","quotes"];function ZS(f){return"string"==typeof f?new RegExp(`(${function(f){return(f=mv(f))&&ak.test(f)?f.replace(Io,"\\$&"):f}(f)})$`):f}function lk(f){return"string"==typeof f?()=>[f]:f instanceof Array?()=>f:f}function Jm(f){return(f.textNode?f.textNode:f.nodeAfter).getAttributes()}function ns(f){return new RegExp(`(^|\\s)(${f})([^${f}]*)(${f})$`)}function Pc(f,r,s,c){return c.createRange(ty(f,r,s,!0,c),ty(f,r,s,!1,c))}function ty(f,r,s,c,h){let v=f.textNode||(c?f.nodeBefore:f.nodeAfter),y=null;for(;v&&v.getAttribute(r)==s;)y=v,v=c?v.previousSibling:v.nextSibling;return y?h.createPositionAt(y,c?"before":"after"):f}class ey extends ae{constructor(r){super(r),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(r.data,"set",(s,c)=>{c[1]={...c[1]};const h=c[1];h.batchType||(h.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(r.data,"set",(s,c)=>{c[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}addBatch(r){const s=this.editor.model.document.selection,c={ranges:s.hasOwnRange?Array.from(s.getRanges()):[],isBackward:s.isBackward};this._stack.push({batch:r,selection:c}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(r,s,c){const h=this.editor.model,v=h.document,y=[],_=r.map(S=>S.getTransformedByOperations(c)),A=_.flat();for(const S of _){const D=S.filter(E=>E.root!=v.graveyard).filter(E=>!$S(E,A));D.length&&(ny(D),y.push(D[0]))}y.length&&h.change(S=>{S.setSelection(y,{backward:s})})}_undo(r,s){const c=this.editor.model,h=c.document;this._createdBatches.add(s);const v=r.operations.slice().filter(y=>y.isDocumentOperation);v.reverse();for(const y of v){const A=Array.from(h.history.getOperations(y.baseVersion+1)),S=r_([y.getReversed()],A,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const D of S)s.addOperation(D),c.applyOperation(D),h.history.setOperationAsUndone(y,D)}}}function ny(f){f.sort((r,s)=>r.start.isBefore(s.start)?-1:1);for(let r=1;r<f.length;r++){const s=f[r-1].getJoined(f[r],!0);s&&(r--,f.splice(r,2,s))}}function $S(f,r){return r.some(s=>s!==f&&s.containsRange(f,!0))}class KS extends ey{execute(r=null){const s=r?this._stack.findIndex(v=>v.batch==r):this._stack.length-1,c=this._stack.splice(s,1)[0],h=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(h,()=>{this._undo(c.batch,h);const v=this.editor.model.document.history.getOperations(c.batch.baseVersion);this._restoreSelection(c.selection.ranges,c.selection.isBackward,v),this.fire("revert",c.batch,h)}),this.refresh()}}class ck extends ey{execute(){const r=this._stack.pop(),s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{const h=this.editor.model.document.history.getOperations(r.batch.operations[r.batch.operations.length-1].baseVersion+1);this._restoreSelection(r.selection.ranges,r.selection.isBackward,h),this._undo(r.batch,s)}),this.refresh()}}class XS extends vt{static get pluginName(){return"UndoEditing"}constructor(r){super(r),this._batchRegistry=new WeakSet}init(){const r=this.editor;this._undoCommand=new KS(r),this._redoCommand=new ck(r),r.commands.add("undo",this._undoCommand),r.commands.add("redo",this._redoCommand),this.listenTo(r.model,"applyOperation",(s,c)=>{const h=c[0];if(!h.isDocumentOperation)return;const v=h.batch,y=this._redoCommand._createdBatches.has(v),_=this._undoCommand._createdBatches.has(v);this._batchRegistry.has(v)||(this._batchRegistry.add(v),v.isUndoable&&(y?this._undoCommand.addBatch(v):_||(this._undoCommand.addBatch(v),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(s,c,h)=>{this._redoCommand.addBatch(h)}),r.keystrokes.set("CTRL+Z","undo"),r.keystrokes.set("CTRL+Y","redo"),r.keystrokes.set("CTRL+SHIFT+Z","redo")}}const pp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',gp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class QS extends vt{static get pluginName(){return"UndoUI"}init(){const r=this.editor,s=r.locale,c=r.t,h="ltr"==s.uiLanguageDirection?pp:gp,v="ltr"==s.uiLanguageDirection?gp:pp;this._addButton("undo",c("Undo"),"CTRL+Z",h),this._addButton("redo",c("Redo"),"CTRL+Y",v)}_addButton(r,s,c,h){const v=this.editor;v.ui.componentFactory.add(r,y=>{const _=v.commands.get(r),A=new xe(y);return A.set({label:s,icon:h,keystroke:c,tooltip:!0}),A.bind("isEnabled").to(_,"isEnabled"),this.listenTo(A,"execute",()=>{v.execute(r),v.editing.view.focus()}),A})}}class ry extends vt{static get requires(){return[XS,QS]}static get pluginName(){return"Undo"}}const iy=["left","right","center","justify"];function Dd(f){return iy.includes(f)}function Rc(f,r){return"rtl"==r.contentLanguageDirection?"right"===f:"left"===f}function oy(f){const r=f.map(c=>{let h;return h="string"==typeof c?{name:c}:c,h}).filter(c=>{const h=!!iy.includes(c.name);return h||it("alignment-config-name-not-recognized",{option:c}),h}),s=r.filter(c=>!!c.className).length;if(s&&s<r.length)throw new U("alignment-config-classnames-are-missing",{configuredOptions:f});return r.forEach((c,h,v)=>{const y=v.slice(h+1);if(y.some(_=>_.name==c.name))throw new U("alignment-config-name-already-defined",{option:c,configuredOptions:f});if(c.className&&y.some(_=>_.className==c.className))throw new U("alignment-config-classname-already-defined",{option:c,configuredOptions:f})}),r}const vp="alignment";class JS extends ae{refresh(){const r=this.editor.locale,s=xn(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!s&&this._canBeAligned(s),this.value=this.isEnabled&&s.hasAttribute("alignment")?s.getAttribute("alignment"):"rtl"===r.contentLanguageDirection?"right":"left"}execute(r={}){const s=this.editor,c=s.locale,h=s.model,v=h.document,y=r.value;h.change(_=>{const A=Array.from(v.selection.getSelectedBlocks()).filter(D=>this._canBeAligned(D)),S=A[0].getAttribute("alignment");Rc(y,c)||S===y||!y?function(D,E){for(const P of D)E.removeAttribute(vp,P)}(A,_):function(D,E,P){for(const z of D)E.setAttribute(vp,P,z)}(A,_,y)})}_canBeAligned(r){return this.editor.model.schema.checkAttribute(r,vp)}}class tT extends vt{static get pluginName(){return"AlignmentEditing"}constructor(r){super(r),r.config.define("alignment",{options:[...iy.map(s=>({name:s}))]})}init(){const r=this.editor,s=r.locale,c=r.model.schema,h=oy(r.config.get("alignment.options")).filter(A=>Dd(A.name)&&!Rc(A.name,s)),v=h.some(A=>!!A.className);c.extend("$block",{allowAttributes:"alignment"}),r.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),v?r.conversion.attributeToAttribute(function(A){const S={model:{key:"alignment",values:A.map(D=>D.name)},view:{}};for(const D of A)S.view[D.name]={key:"class",value:D.className};return S}(h)):r.conversion.for("downcast").attributeToAttribute(function(A){const S={model:{key:"alignment",values:A.map(D=>D.name)},view:{}};for(const{name:D}of A)S.view[D]={key:"style",value:{"text-align":D}};return S}(h));const y=function(A){const S=[];for(const{name:D}of A)S.push({view:{key:"style",value:{"text-align":D}},model:{key:"alignment",value:D}});return S}(h);for(const A of y)r.conversion.for("upcast").attributeToAttribute(A);const _=function(A){const S=[];for(const{name:D}of A)S.push({view:{key:"align",value:D},model:{key:"alignment",value:D}});return S}(h);for(const A of _)r.conversion.for("upcast").attributeToAttribute(A);r.commands.add("alignment",new JS(r))}}const uk=new Map([["left",Ve.alignLeft],["right",Ve.alignRight],["center",Ve.alignCenter],["justify",Ve.alignJustify]]);class dk extends vt{get localizedOptionTitles(){const r=this.editor.t;return{left:r("Align left"),right:r("Align right"),center:r("Align center"),justify:r("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const r=this.editor,s=r.ui.componentFactory,c=r.t,h=oy(r.config.get("alignment.options"));h.map(v=>v.name).filter(Dd).forEach(v=>this._addButton(v)),s.add("alignment",v=>{const y=bn(v),_=h.map(S=>s.create(`alignment:${S.name}`));bd(y,_,{enableActiveItemFocusOnDropdownOpen:!0}),y.buttonView.set({label:c("Text alignment"),tooltip:!0}),y.toolbarView.isVertical=!0,y.toolbarView.ariaLabel=c("Text alignment toolbar"),y.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const A=uk.get("rtl"===v.contentLanguageDirection?"right":"left");return y.buttonView.bind("icon").toMany(_,"isOn",(...S)=>{const D=S.findIndex(E=>E);return D<0?A:_[D].icon}),y.bind("isEnabled").toMany(_,"isEnabled",(...S)=>S.some(D=>D)),this.listenTo(y,"execute",()=>{r.editing.view.focus()}),y})}_addButton(r){const s=this.editor;s.ui.componentFactory.add(`alignment:${r}`,c=>{const h=s.commands.get("alignment"),v=new xe(c);return v.set({label:this.localizedOptionTitles[r],icon:uk.get(r),tooltip:!0,isToggleable:!0}),v.bind("isEnabled").to(h),v.bind("isOn").to(h,"value",y=>y===r),this.listenTo(v,"execute",()=>{s.execute("alignment",{value:r}),s.editing.view.focus()}),v})}}class ay extends ae{constructor(r,s){super(r),this.attributeKey=s}refresh(){const r=this.editor.model,s=r.document;this.value=s.selection.getAttribute(this.attributeKey),this.isEnabled=r.schema.checkAttributeInSelection(s.selection,this.attributeKey)}execute(r={}){const s=this.editor.model,c=s.document.selection,h=r.value;s.change(v=>{if(c.isCollapsed)h?v.setSelectionAttribute(this.attributeKey,h):v.removeSelectionAttribute(this.attributeKey);else{const y=s.schema.getValidRanges(c.getRanges(),this.attributeKey);for(const _ of y)h?v.setAttribute(this.attributeKey,h,_):v.removeAttribute(this.attributeKey,_)}})}}class sy extends nr{constructor(r){super(r),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",0===this.length)})}add(r,s){this.find(c=>c.color===r.color)||super.add(r,s)}hasColor(r){return!!this.find(s=>s.color===r)}}qn(sy,Cu);var hk=St(2585);Ut()(hk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class fk extends he{constructor(r,{colors:s,columns:c,removeButtonLabel:h,documentColorsLabel:v,documentColorsCount:y}){super(r),this.items=this.createCollection(),this.colorDefinitions=s,this.focusTracker=new Zn,this.keystrokes=new gr,this.set("selectedColor"),this.removeButtonLabel=h,this.columns=c,this.documentColors=new sy,this.documentColorsCount=y,this._focusables=new To,this._focusCycler=new Xa({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._documentColorsLabel=v,this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-table"]},children:this.items}),this.items.add(this._createRemoveColorButton())}updateDocumentColors(r,s){const c=r.document,h=this.documentColorsCount;this.documentColors.clear();for(const v of c.getRootNames()){const y=c.getRoot(v),_=r.createRangeIn(y);for(const A of _.getItems())if(A.is("$textProxy")&&A.hasAttribute(s)&&(this._addColorToDocumentColors(A.getAttribute(s)),this.documentColors.length>=h))return}}updateSelectedColors(){const r=this.documentColorsGrid,c=this.selectedColor;this.staticColorsGrid.selectedColor=c,r&&(r.selectedColor=c)}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendGrids(){if(!this.staticColorsGrid&&(this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid),this.documentColorsCount)){const r=Xt.bind(this.documentColors,this.documentColors),s=new Nn(this.locale);s.text=this._documentColorsLabel,s.extendTemplate({attributes:{class:["ck","ck-color-grid__label",r.if("isEmpty","ck-hidden")]}}),this.items.add(s),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid),this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid)}}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_createRemoveColorButton(){const r=new xe;return r.set({withText:!0,icon:Ve.eraser,label:this.removeButtonLabel}),r.class="ck-color-table__remove-color",r.on("execute",()=>{this.fire("execute",{value:null})}),r.render(),this.focusTracker.add(r.element),this._focusables.add(r),r}_createStaticColorsGrid(){const r=new Pm(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return r.delegate("execute").to(this),r}_createDocumentColorsGrid(){const r=Xt.bind(this.documentColors,this.documentColors),s=new Pm(this.locale,{columns:this.columns});return s.delegate("execute").to(this),s.extendTemplate({attributes:{class:r.if("isEmpty","ck-hidden")}}),s.items.bindTo(this.documentColors).using(c=>{const h=new Yf;return h.set({color:c.color,hasBorder:c.options&&c.options.hasBorder}),c.label&&h.set({label:c.label,tooltip:!0}),h.on("execute",()=>{this.fire("execute",{value:c.color})}),h}),this.documentColors.on("change:isEmpty",(c,h,v)=>{v&&(s.selectedColor=null)}),s}_addColorToDocumentColors(r){const s=this.colorDefinitions.find(c=>c.color===r);this.documentColors.add(s?Object.assign({},s):{color:r,label:r,options:{hasBorder:!1}})}}const $r="fontSize",Kr="fontFamily",Ji="fontColor",fa="fontBackgroundColor";function pk(f,r){const s={model:{key:f,values:[]},view:{},upcastAlso:{}};for(const c of r)s.model.values.push(c.model),s.view[c.model]=c.view,c.upcastAlso&&(s.upcastAlso[c.model]=c.upcastAlso);return s}function ly(f){return r=>r.getStyle(f).replace(/\s/g,"")}function mp(f){return(r,{writer:s})=>s.createAttributeElement("span",{style:`${f}:${r}`},{priority:7})}class nT extends ay{constructor(r){super(r,$r)}}function ll(f){return f.map(r=>function(s){if("object"==typeof(c=s)&&c.title&&c.model&&c.view)return cy(s);var c;const h=gk[v=s]||gk[v.model];var v;return h?cy(h):"default"===s?{model:void 0,title:"Default"}:function(v){let y;if("object"==typeof v){if(!v.model)throw new U("font-size-invalid-definition",null,v);y=parseFloat(v.model)}else y=parseFloat(v);return isNaN(y)}(s)?void 0:function(v){return"number"!=typeof v&&"string"!=typeof v||(v={title:String(v),model:`${parseFloat(v)}px`}),v.view={name:"span",styles:{"font-size":v.model}},cy(v)}(s)}(r)).filter(r=>!!r)}const gk={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function cy(f){return f.view.priority||(f.view.priority=7),f}const vk=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class rT extends vt{static get pluginName(){return"FontSizeEditing"}constructor(r){super(r),r.config.define($r,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const r=this.editor;r.model.schema.extend("$text",{allowAttributes:$r}),r.model.schema.setAttributeProperties($r,{isFormatting:!0,copyOnEnter:!0});const s=r.config.get("fontSize.supportAllValues"),c=ll(this.editor.config.get("fontSize.options")).filter(v=>v.model),h=pk($r,c);s?(this._prepareAnyValueConverters(h),this._prepareCompatibilityConverter()):r.conversion.attributeToElement(h),r.commands.add($r,new nT(r))}_prepareAnyValueConverters(r){const s=this.editor,c=r.model.values.filter(h=>{return v=String(h),!(bS.test(v)||(y=String(h),wS.test(y)));var y,v});if(c.length)throw new U("font-size-invalid-use-of-named-presets",null,{presets:c});s.conversion.for("downcast").attributeToElement({model:$r,view:(h,{writer:v})=>{if(h)return v.createAttributeElement("span",{style:"font-size:"+h},{priority:7})}}),s.conversion.for("upcast").elementToAttribute({model:{key:$r,value:h=>h.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:$r,value:r=>{const s=r.getAttribute("size"),c="-"===s[0]||"+"===s[0];let h=parseInt(s,10);c&&(h=3+h);const v=vk.length-1,y=Math.min(Math.max(h,0),v);return vk[y]}}})}}var mk=St(6203);Ut()(mk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class oT extends vt{static get pluginName(){return"FontSizeUI"}init(){const r=this.editor,s=r.t,c=this._getLocalizedOptions(),h=r.commands.get($r);r.ui.componentFactory.add($r,v=>{const y=bn(v);return Do(y,function(_,A){const S=new nr;for(const D of _){const E={type:"button",model:new Cc({commandName:$r,commandParam:D.model,label:D.title,class:"ck-fontsize-option",withText:!0})};D.view&&D.view.styles&&E.model.set("labelStyle",`font-size:${D.view.styles["font-size"]}`),D.view&&D.view.classes&&E.model.set("class",`${E.model.class} ${D.view.classes}`),E.model.bind("isOn").to(A,"value",P=>P===D.model),S.add(E)}return S}(c,h)),y.buttonView.set({label:s("Font Size"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>',tooltip:!0}),y.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),y.bind("isEnabled").to(h),this.listenTo(y,"execute",_=>{r.execute(_.source.commandName,{value:_.source.commandParam}),r.editing.view.focus()}),y})}_getLocalizedOptions(){const r=this.editor,s=r.t,c={Default:s("Default"),Tiny:s("Tiny"),Small:s("Small"),Big:s("Big"),Huge:s("Huge")};return ll(r.config.get($r).options).map(h=>{const v=c[h.title];return v&&v!=h.title&&(h=Object.assign({},h,{title:v})),h})}}class to extends ay{constructor(r){super(r,Kr)}}function Nc(f){return f.map(yk).filter(r=>!!r)}function yk(f){return"object"==typeof f?f:"default"===f?{title:"Default",model:void 0}:"string"==typeof f?function(r){const s=r.replace(/"|'/g,"").split(","),c=s[0],h=s.map(uy).join(", ");return{title:c,model:h,view:{name:"span",styles:{"font-family":h},priority:7}}}(f):void 0}function uy(f){return(f=f.trim()).indexOf(" ")>0&&(f=`'${f}'`),f}class mr extends vt{static get pluginName(){return"FontFamilyEditing"}constructor(r){super(r),r.config.define(Kr,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const r=this.editor;r.model.schema.extend("$text",{allowAttributes:Kr}),r.model.schema.setAttributeProperties(Kr,{isFormatting:!0,copyOnEnter:!0});const s=Nc(r.config.get("fontFamily.options")).filter(h=>h.model),c=pk(Kr,s);r.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):r.conversion.attributeToElement(c),r.commands.add(Kr,new to(r))}_prepareAnyValueConverters(){const r=this.editor;r.conversion.for("downcast").attributeToElement({model:Kr,view:(s,{writer:c})=>c.createAttributeElement("span",{style:"font-family:"+s},{priority:7})}),r.conversion.for("upcast").elementToAttribute({model:{key:Kr,value:s=>s.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:Kr,value:r=>r.getAttribute("face")}})}}class Md extends vt{static get pluginName(){return"FontFamilyUI"}init(){const r=this.editor,s=r.t,c=this._getLocalizedOptions(),h=r.commands.get(Kr);r.ui.componentFactory.add(Kr,v=>{const y=bn(v);return Do(y,function(_,A){const S=new nr;for(const D of _){const E={type:"button",model:new Cc({commandName:Kr,commandParam:D.model,label:D.title,withText:!0})};E.model.bind("isOn").to(A,"value",P=>P===D.model||!(!P||!D.model)&&P.split(",")[0].replace(/'/g,"").toLowerCase()===D.model.toLowerCase()),D.view&&D.view.styles&&E.model.set("labelStyle",`font-family: ${D.view.styles["font-family"]}`),S.add(E)}return S}(c,h)),y.buttonView.set({label:s("Font Family"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>',tooltip:!0}),y.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),y.bind("isEnabled").to(h),this.listenTo(y,"execute",_=>{r.execute(_.source.commandName,{value:_.source.commandParam}),r.editing.view.focus()}),y})}_getLocalizedOptions(){const r=this.editor,s=r.t;return Nc(r.config.get(Kr).options).map(c=>("Default"===c.title&&(c.title=s("Default")),c))}}class Dn extends ay{constructor(r){super(r,Ji)}}class Ri extends vt{static get pluginName(){return"FontColorEditing"}constructor(r){super(r),r.config.define(Ji,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),r.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:Ji,value:ly("color")}}),r.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:Ji,value:s=>s.getAttribute("color")}}),r.conversion.for("downcast").attributeToElement({model:Ji,view:mp("color")}),r.commands.add(Ji,new Dn(r)),r.model.schema.extend("$text",{allowAttributes:Ji}),r.model.schema.setAttributeProperties(Ji,{isFormatting:!0,copyOnEnter:!0})}}class bk extends vt{constructor(r,{commandName:s,icon:c,componentName:h,dropdownLabel:v}){super(r),this.commandName=s,this.componentName=h,this.icon=c,this.dropdownLabel=v,this.columns=r.config.get(`${this.componentName}.columns`),this.colorTableView=void 0}init(){const r=this.editor,s=r.locale,c=s.t,h=r.commands.get(this.commandName),y=function(A,S){const D=A.t,E={Black:D("Black"),"Dim grey":D("Dim grey"),Grey:D("Grey"),"Light grey":D("Light grey"),White:D("White"),Red:D("Red"),Orange:D("Orange"),Yellow:D("Yellow"),"Light green":D("Light green"),Green:D("Green"),Aquamarine:D("Aquamarine"),Turquoise:D("Turquoise"),"Light blue":D("Light blue"),Blue:D("Blue"),Purple:D("Purple")};return S.map(P=>{const z=E[P.label];return z&&z!=P.label&&(P.label=z),P})}(s,r.config.get(this.componentName).colors.map(A_).filter(S=>!!S)),_=r.config.get(`${this.componentName}.documentColors`);r.ui.componentFactory.add(this.componentName,A=>{const S=bn(A);return this.colorTableView=function({dropdownView:D,colors:E,columns:P,removeButtonLabel:z,documentColorsLabel:G,documentColorsCount:W}){const X=new fk(D.locale,{colors:E,columns:P,removeButtonLabel:z,documentColorsLabel:G,documentColorsCount:W});return D.colorTableView=X,D.panelView.children.add(X),X.delegate("execute").to(D,"execute"),X}({dropdownView:S,colors:y.map(D=>({label:D.label,color:D.model,options:{hasBorder:D.hasBorder}})),columns:this.columns,removeButtonLabel:c("Remove color"),documentColorsLabel:0!==_?c("Document colors"):void 0,documentColorsCount:void 0===_?this.columns:_}),this.colorTableView.bind("selectedColor").to(h,"value"),S.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),S.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),S.bind("isEnabled").to(h),S.on("execute",(D,E)=>{r.execute(this.commandName,E),r.editing.view.focus()}),S.on("change:isOpen",(D,E,P)=>{S.colorTableView.appendGrids(),P&&(0!==_&&this.colorTableView.updateDocumentColors(r.model,this.componentName),this.colorTableView.updateSelectedColors())}),Yr(S,()=>S.colorTableView.staticColorsGrid.items.find(D=>D.isOn)),S})}}class pa extends bk{constructor(r){super(r,{commandName:Ji,componentName:Ji,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>',dropdownLabel:(0,r.locale.t)("Font Color")})}static get pluginName(){return"FontColorUI"}}class wk extends ay{constructor(r){super(r,fa)}}class aT extends vt{static get pluginName(){return"FontBackgroundColorEditing"}constructor(r){super(r),r.config.define(fa,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),r.data.addStyleProcessorRules(s_),r.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:fa,value:ly("background-color")}}),r.conversion.for("downcast").attributeToElement({model:fa,view:mp("background-color")}),r.commands.add(fa,new wk(r)),r.model.schema.extend("$text",{allowAttributes:fa}),r.model.schema.setAttributeProperties(fa,{isFormatting:!0,copyOnEnter:!0})}}class sT extends bk{constructor(r){super(r,{commandName:fa,componentName:fa,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>',dropdownLabel:(0,r.locale.t)("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class lT extends hn{constructor(){super();const r=new window.FileReader;this._reader=r,this._data=void 0,this.set("loaded",0),r.onprogress=s=>{this.loaded=s.loaded}}get error(){return this._reader.error}get data(){return this._data}read(r){const s=this._reader;return this.total=r.size,new Promise((c,h)=>{s.onload=()=>{const v=s.result;this._data=v,c(v)},s.onerror=()=>{h("error")},s.onabort=()=>{h("aborted")},this._reader.readAsDataURL(r)})}abort(){this._reader.abort()}}class Ni extends vt{static get pluginName(){return"FileRepository"}static get requires(){return[Im]}init(){this.loaders=new nr,this.loaders.on("change",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(r,s)=>s?r/s*100:0)}getLoader(r){return this._loadersMap.get(r)||null}createLoader(r){if(!this.createUploadAdapter)return it("filerepository-no-upload-adapter"),null;const s=new _k(Promise.resolve(r),this.createUploadAdapter);return this.loaders.add(s),this._loadersMap.set(r,s),r instanceof Promise&&s.file.then(c=>{this._loadersMap.set(c,s)}).catch(()=>{}),s.on("change:uploaded",()=>{let c=0;for(const h of this.loaders)c+=h.uploaded;this.uploaded=c}),s.on("change:uploadTotal",()=>{let c=0;for(const h of this.loaders)h.uploadTotal&&(c+=h.uploadTotal);this.uploadTotal=c}),s}destroyLoader(r){const s=r instanceof _k?r:this.getLoader(r);s._destroy(),this.loaders.remove(s),this._loadersMap.forEach((c,h)=>{c===s&&this._loadersMap.delete(h)})}_updatePendingAction(){const r=this.editor.plugins.get(Im);if(this.loaders.length){if(!this._pendingAction){const s=this.editor.t,c=h=>`${s("Upload in progress")} ${parseInt(h)}%.`;this._pendingAction=r.add(c(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",c)}}else r.remove(this._pendingAction),this._pendingAction=null}}class _k extends hn{constructor(r,s){super(),this.id=ot(),this._filePromiseWrapper=this._createFilePromiseWrapper(r),this._adapter=s(this),this._reader=new lT,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(c,h)=>h?c/h*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(r=>this._filePromiseWrapper?r:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new U("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(r=>this._reader.read(r)).then(r=>{if("reading"!==this.status)throw this.status;return this.status="idle",r}).catch(r=>{throw"aborted"===r?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:r)})}upload(){if("idle"!=this.status)throw new U("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(r=>(this.uploadResponse=r,this.status="idle",r)).catch(r=>{throw"aborted"===this.status?"aborted":(this.status="error",r)})}abort(){const r=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==r?this._reader.abort():"uploading"==r&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(r){const s={};return s.promise=new Promise((c,h)=>{s.rejecter=h,s.isFulfilled=!1,r.then(v=>{s.isFulfilled=!0,c(v)}).catch(v=>{s.isFulfilled=!0,h(v)})}),s}}class cT extends he{constructor(r){super(r),this.buttonView=new xe(r),this._fileInputView=new dy(r),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class dy extends he{constructor(r){super(r),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const s=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:s.to("acceptedType"),multiple:s.to("allowMultipleFiles")},on:{change:s.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const hy="abcdefghijklmnopqrstuvwxyz0123456789";class uT{constructor(r,s,c){this.loader=r,this.url=s,this.t=c}upload(){return this.loader.file.then(r=>new Promise((s,c)=>{this._initRequest(),this._initListeners(s,c,r),this._sendRequest(r)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const r=this.xhr=new XMLHttpRequest;r.open("POST",this.url,!0),r.responseType="json"}_initListeners(r,s,c){const h=this.xhr,v=this.loader,y=(0,this.t)("Cannot upload file:")+` ${c.name}.`;h.addEventListener("error",()=>s(y)),h.addEventListener("abort",()=>s()),h.addEventListener("load",()=>{const _=h.response;if(!_||!_.uploaded)return s(_&&_.error&&_.error.message?_.error.message:y);r({default:_.url})}),h.upload&&h.upload.addEventListener("progress",_=>{_.lengthComputable&&(v.uploadTotal=_.total,v.uploaded=_.loaded)})}_sendRequest(r){const s=new FormData;s.append("upload",r),s.append("ckCsrfToken",function(){let f=function(c){c=c.toLowerCase();const h=document.cookie.split(";");for(const v of h){const y=v.split("=");if(decodeURIComponent(y[0].trim().toLowerCase())===c)return decodeURIComponent(y[1])}return null}("ckCsrfToken");var s;return f&&40==f.length||(f=function(c){let h="";const v=new Uint8Array(40);window.crypto.getRandomValues(v);for(let y=0;y<v.length;y++){const _=hy.charAt(v[y]%hy.length);h+=Math.random()>.5?_.toUpperCase():_}return h}(),s=f,document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(s)+";path=/"),f}()),this.xhr.send(s)}}function ga(f,r,s,c){let h,v=null;"function"==typeof c?h=c:(v=f.commands.get(c),h=()=>{f.execute(c)}),f.model.document.on("change:data",(y,_)=>{if(v&&!v.isEnabled||!r.isEnabled)return;const A=xn(f.model.document.selection.getRanges());if(!A.isCollapsed||_.isUndo||!_.isLocal)return;const S=Array.from(f.model.document.differ.getChanges()),D=S[0];if(1!=S.length||"insert"!==D.type||"$text"!=D.name||1!=D.length)return;const E=D.position.parent;if(E.is("element","codeBlock")||E.is("element","listItem")&&"function"!=typeof c&&!["numberedList","bulletedList","todoList"].includes(c)||v&&!0===v.value)return;const P=E.getChild(0),z=f.model.createRangeOn(P);if(!z.containsRange(A)&&!A.end.isEqual(z.end))return;const G=s.exec(P.data.substr(0,A.end.offset));G&&f.model.enqueueChange(W=>{const $=W.createPositionAt(E,0),X=W.createPositionAt(E,G[0].length),et=new Zi($,X);if(!1!==h({match:G})){W.remove(et);const ct=f.model.document.selection.getFirstRange(),mt=W.createRangeIn(E);!E.isEmpty||mt.isEqual(ct)||mt.containsRange(ct,!0)||W.remove(E)}et.detach(),f.model.enqueueChange(()=>{f.plugins.get("Delete").requestUndoOnBackspace()})})})}function cl(f,r,s,c){let h,v;s instanceof RegExp?h=s:v=s,v=v||(y=>{let _;const A=[],S=[];for(;null!==(_=h.exec(y))&&!(_&&_.length<4);){let{index:D,1:E,2:P,3:z}=_;D+=_[0].length-(E+P+z).length;const $=[D+E.length+P.length,D+E.length+P.length+z.length];A.push([D,D+E.length]),A.push($),S.push([D+E.length,D+E.length+P.length])}return{remove:A,format:S}}),f.model.document.on("change:data",(y,_)=>{if(_.isUndo||!_.isLocal||!r.isEnabled)return;const A=f.model,S=A.document.selection;if(!S.isCollapsed)return;const D=Array.from(A.document.differ.getChanges()),E=D[0];if(1!=D.length||"insert"!==E.type||"$text"!=E.name||1!=E.length)return;const P=S.focus,z=P.parent,{text:G,range:W}=function(ct,mt){let Ot=ct.start;return{text:Array.from(ct.getItems()).reduce((Wt,se)=>!se.is("$text")&&!se.is("$textProxy")||se.getAttribute("code")?(Ot=mt.createPositionAfter(se),""):Wt+se.data,""),range:mt.createRange(Ot,ct.end)}}(A.createRange(A.createPositionAt(z,0),P),A),$=v(G),X=Ak(W.start,$.format,A),et=Ak(W.start,$.remove,A);X.length&&et.length&&A.enqueueChange(ct=>{if(!1!==c(ct,X)){for(const mt of et.reverse())ct.remove(mt);A.enqueueChange(()=>{f.plugins.get("Delete").requestUndoOnBackspace()})}})})}function Ak(f,r,s){return r.filter(c=>void 0!==c[0]&&void 0!==c[1]).map(c=>s.createRange(f.getShiftedBy(c[0]),f.getShiftedBy(c[1])))}function yp(f,r){return(s,c)=>{if(!f.commands.get(r).isEnabled)return!1;const h=f.model.schema.getValidRanges(c,r);for(const v of h)s.setAttribute(r,!0,v);s.removeSelectionAttribute(r)}}class ul extends ae{constructor(r,s){super(r),this.attributeKey=s}refresh(){const r=this.editor.model,s=r.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=r.schema.checkAttributeInSelection(s.selection,this.attributeKey)}execute(r={}){const s=this.editor.model,c=s.document.selection,h=void 0===r.forceValue?!this.value:r.forceValue;s.change(v=>{if(c.isCollapsed)h?v.setSelectionAttribute(this.attributeKey,!0):v.removeSelectionAttribute(this.attributeKey);else{const y=s.schema.getValidRanges(c.getRanges(),this.attributeKey);for(const _ of y)h?v.setAttribute(this.attributeKey,h,_):v.removeAttribute(this.attributeKey,_)}})}_getValueFromFirstAllowedNode(){const r=this.editor.model,s=r.schema,c=r.document.selection;if(c.isCollapsed)return c.hasAttribute(this.attributeKey);for(const h of c.getRanges())for(const v of h.getItems())if(s.checkAttribute(v,this.attributeKey))return v.hasAttribute(this.attributeKey);return!1}}const rs="bold";class fy extends vt{static get pluginName(){return"BoldEditing"}init(){const r=this.editor;r.model.schema.extend("$text",{allowAttributes:rs}),r.model.schema.setAttributeProperties(rs,{isFormatting:!0,copyOnEnter:!0}),r.conversion.attributeToElement({model:rs,view:"strong",upcastAlso:["b",s=>{const c=s.getStyle("font-weight");return c?"bold"==c||Number(c)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),r.commands.add(rs,new ul(r,rs)),r.keystrokes.set("CTRL+B",rs)}}const Id="bold";class dT extends vt{static get pluginName(){return"BoldUI"}init(){const r=this.editor,s=r.t;r.ui.componentFactory.add(Id,c=>{const h=r.commands.get(Id),v=new xe(c);return v.set({label:s("Bold"),icon:Ve.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),v.bind("isOn","isEnabled").to(h,"value","isEnabled"),this.listenTo(v,"execute",()=>{r.execute(Id),r.editing.view.focus()}),v})}}const dl="italic";class hT extends vt{static get pluginName(){return"ItalicEditing"}init(){const r=this.editor;r.model.schema.extend("$text",{allowAttributes:dl}),r.model.schema.setAttributeProperties(dl,{isFormatting:!0,copyOnEnter:!0}),r.conversion.attributeToElement({model:dl,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),r.commands.add(dl,new ul(r,dl)),r.keystrokes.set("CTRL+I",dl)}}const py="italic";class Ck extends vt{static get pluginName(){return"ItalicUI"}init(){const r=this.editor,s=r.t;r.ui.componentFactory.add(py,c=>{const h=r.commands.get(py),v=new xe(c);return v.set({label:s("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),v.bind("isOn","isEnabled").to(h,"value","isEnabled"),this.listenTo(v,"execute",()=>{r.execute(py),r.editing.view.focus()}),v})}}const zc="strikethrough";class xk extends vt{static get pluginName(){return"StrikethroughEditing"}init(){const r=this.editor;r.model.schema.extend("$text",{allowAttributes:zc}),r.model.schema.setAttributeProperties(zc,{isFormatting:!0,copyOnEnter:!0}),r.conversion.attributeToElement({model:zc,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),r.commands.add(zc,new ul(r,zc)),r.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}const va="strikethrough";class hl extends vt{static get pluginName(){return"StrikethroughUI"}init(){const r=this.editor,s=r.t;r.ui.componentFactory.add(va,c=>{const h=r.commands.get(va),v=new xe(c);return v.set({label:s("Strikethrough"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),v.bind("isOn","isEnabled").to(h,"value","isEnabled"),this.listenTo(v,"execute",()=>{r.execute(va),r.editing.view.focus()}),v})}}const eo="underline";class Sk extends vt{static get pluginName(){return"UnderlineEditing"}init(){const r=this.editor;r.model.schema.extend("$text",{allowAttributes:eo}),r.model.schema.setAttributeProperties(eo,{isFormatting:!0,copyOnEnter:!0}),r.conversion.attributeToElement({model:eo,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),r.commands.add(eo,new ul(r,eo)),r.keystrokes.set("CTRL+U","underline")}}const bp="underline";class Tk extends vt{static get pluginName(){return"UnderlineUI"}init(){const r=this.editor,s=r.t;r.ui.componentFactory.add(bp,c=>{const h=r.commands.get(bp),v=new xe(c);return v.set({label:s("Underline"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),v.bind("isOn","isEnabled").to(h,"value","isEnabled"),this.listenTo(v,"execute",()=>{r.execute(bp),r.editing.view.focus()}),v})}}class Dk extends ae{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(r={}){const s=this.editor.model,c=s.schema,v=Array.from(s.document.selection.getSelectedBlocks()),y=void 0===r.forceValue?!this.value:r.forceValue;s.change(_=>{if(y){const A=v.filter(S=>wp(S)||vy(c,S));this._applyQuote(_,A)}else this._removeQuote(_,v.filter(wp))})}_getValue(){const r=xn(this.editor.model.document.selection.getSelectedBlocks());return!(!r||!wp(r))}_checkEnabled(){if(this.value)return!0;const s=this.editor.model.schema,c=xn(this.editor.model.document.selection.getSelectedBlocks());return!!c&&vy(s,c)}_removeQuote(r,s){gy(r,s).reverse().forEach(c=>{if(c.start.isAtStart&&c.end.isAtEnd)return void r.unwrap(c.start.parent);if(c.start.isAtStart){const v=r.createPositionBefore(c.start.parent);return void r.move(c,v)}c.end.isAtEnd||r.split(c.end);const h=r.createPositionAfter(c.end.parent);r.move(c,h)})}_applyQuote(r,s){const c=[];gy(r,s).reverse().forEach(h=>{let v=wp(h.start);v||(v=r.createElement("blockQuote"),r.wrap(h,v)),c.push(v)}),c.reverse().reduce((h,v)=>h.nextSibling==v?(r.merge(r.createPositionAfter(h)),h):v)}}function wp(f){return"blockQuote"==f.parent.name?f.parent:null}function gy(f,r){let s,c=0;const h=[];for(;c<r.length;){const v=r[c],y=r[c+1];s||(s=f.createPositionBefore(v)),y&&v.nextSibling==y||(h.push(f.createRange(s,f.createPositionAfter(v))),s=null),c++}return h}function vy(f,r){const s=f.checkChild(r.parent,"blockQuote"),c=f.checkChild(["$root","blockQuote"],r);return s&&c}class fT extends vt{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Sc,ua]}init(){const r=this.editor,s=r.model.schema;r.commands.add("blockQuote",new Dk(r)),s.register("blockQuote",{inheritAllFrom:"$container"}),r.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),r.model.document.registerPostFixer(y=>{const _=r.model.document.differ.getChanges();for(const A of _)if("insert"==A.type){const S=A.position.nodeAfter;if(!S)continue;if(S.is("element","blockQuote")&&S.isEmpty)return y.remove(S),!0;if(S.is("element","blockQuote")&&!s.checkChild(A.position,S))return y.unwrap(S),!0;if(S.is("element")){const D=y.createRangeIn(S);for(const E of D.getItems())if(E.is("element","blockQuote")&&!s.checkChild(y.createPositionBefore(E),E))return y.unwrap(E),!0}}else if("remove"==A.type){const S=A.position.parent;if(S.is("element","blockQuote")&&S.isEmpty)return y.remove(S),!0}return!1});const c=this.editor.editing.view.document,h=r.model.document.selection,v=r.commands.get("blockQuote");this.listenTo(c,"enter",(y,_)=>{!h.isCollapsed||!v.value||h.getLastPosition().parent.isEmpty&&(r.execute("blockQuote"),r.editing.view.scrollToTheSelection(),_.preventDefault(),y.stop())},{context:"blockquote"}),this.listenTo(c,"delete",(y,_)=>{if("backward"!=_.direction||!h.isCollapsed||!v.value)return;const A=h.getLastPosition().parent;A.isEmpty&&!A.previousSibling&&(r.execute("blockQuote"),r.editing.view.scrollToTheSelection(),_.preventDefault(),y.stop())},{context:"blockquote"})}}var my=St(636);Ut()(my.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class pT extends vt{static get pluginName(){return"BlockQuoteUI"}init(){const r=this.editor,s=r.t;r.ui.componentFactory.add("blockQuote",c=>{const h=r.commands.get("blockQuote"),v=new xe(c);return v.set({label:s("Block quote"),icon:Ve.quote,tooltip:!0,isToggleable:!0}),v.bind("isOn","isEnabled").to(h,"value","isEnabled"),this.listenTo(v,"execute",()=>{r.execute("blockQuote"),r.editing.view.focus()}),v})}}class Mk extends vt{static get pluginName(){return"CKBoxUI"}afterInit(){const r=this.editor;if(!r.commands.get("ckbox"))return;const s=r.t;r.ui.componentFactory.add("ckbox",c=>{const h=r.commands.get("ckbox"),v=new xe(c);return v.set({label:s("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),v.bind("isOn","isEnabled").to(h,"value","isEnabled"),v.on("execute",()=>{r.execute("ckbox")}),v})}}function _p({token:f,id:r,origin:s,width:c,extension:h}){const v=fl(f),y=function(A){const D=Math.floor(Math.max(10*A/100,80)),E=[Math.min(A,4e3)];let P=E[0];for(;P-D>=D;)P-=D,E.unshift(P);return E}(c),_="bmp"===(A=h)||"tiff"===A||"jpg"===A?"jpeg":A;var A;return{imageFallbackUrl:gT({environmentId:v,id:r,origin:s,width:c,extension:_}),imageSources:[{srcset:y.map(A=>`${gT({environmentId:v,id:r,origin:s,width:A,extension:"webp"})} ${A}w`).join(","),sizes:`(max-width: ${c}px) 100vw, ${c}px`,type:"image/webp"}]}}function fl(f){const[,r]=f.value.split(".");return JSON.parse(atob(r)).aud}function gT({environmentId:f,id:r,origin:s,width:c,extension:h}){return new URL(`${f}/assets/${r}/images/${c}.${h}`,s).toString()}class vT extends ae{constructor(r){super(r),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return null!==this._wrapper}_checkEnabled(){const r=this.editor.commands.get("insertImage"),s=this.editor.commands.get("link");return!(!r.isEnabled&&!s.isEnabled)}_prepareOptions(){const r=this.editor.config.get("ckbox");return{theme:r.theme,language:r.language,tokenUrl:r.tokenUrl,serviceOrigin:r.serviceOrigin,assetsOrigin:r.assetsOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:s=>this.fire("ckbox:choose",s)}}}_initListeners(){const r=this.editor,s=r.model,c=!r.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=oc(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(h,v)=>{if(!this.isEnabled)return;const y=r.commands.get("insertImage"),_=r.commands.get("link"),A=r.plugins.get("CKBoxEditing"),S=function({assets:D,origin:E,token:P,isImageAllowed:z,isLinkAllowed:G}){return D.map(W=>({id:W.data.id,type:wy(W)?"image":"link",attributes:by(W,P,E)})).filter(W=>"image"===W.type?z:G)}({assets:v,origin:r.config.get("ckbox.assetsOrigin"),token:A.getToken(),isImageAllowed:y.isEnabled,isLinkAllowed:_.isEnabled});0!==S.length&&s.change(D=>{for(const E of S)this._insertAsset(E,E===S[S.length-1],D),c&&(setTimeout(()=>this._chosenAssets.delete(E),1e3),this._chosenAssets.add(E))})}),this.listenTo(r,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(r,s,c){const h=this.editor.model.document.selection;c.removeSelectionAttribute("linkHref"),"image"===r.type?this._insertImage(r):this._insertLink(r,c),s||c.setSelection(h.getLastPosition())}_insertImage(r){const s=this.editor,{imageFallbackUrl:c,imageSources:h,imageTextAlternative:v}=r.attributes;s.execute("insertImage",{source:{src:c,sources:h,alt:v}})}_insertLink(r,s){const c=this.editor,h=c.model,v=h.document.selection,{linkName:y,linkHref:_}=r.attributes;if(v.isCollapsed){const A=fr(v.getAttributes()),S=s.createText(y,A),D=h.insertContent(S);s.setSelection(D)}c.execute("link",_)}}function by(f,r,s){if(wy(f)){const{imageFallbackUrl:c,imageSources:h}=_p({token:r,origin:s,id:f.data.id,width:f.data.metadata.width,extension:f.data.extension});return{imageFallbackUrl:c,imageSources:h,imageTextAlternative:f.data.metadata.description||""}}return{linkName:f.data.name,linkHref:Ed(f,r,s)}}function wy(f){const r=f.data.metadata;return!!r&&r.width&&r.height}function Ed(f,r,s){const c=fl(r),h=new URL(`${c}/assets/${f.data.id}/file`,s);return h.searchParams.set("download","true"),h.toString()}class mT extends vt{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Ni,kp]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){var r=this;return Wn(function*(){const s=r.editor,c=!!s.config.get("ckbox"),h=!!window.CKBox;if(!c&&!h)return;const v=s.plugins.get(Ni),y=s.plugins.get(kp);v.createUploadAdapter=S=>new Ik(S,y.getToken(),s);const _=!s.config.get("ckbox.ignoreDataId"),A=s.plugins.get("ImageUploadEditing");_&&A.on("uploadComplete",(S,{imageElement:D,data:E})=>{s.model.change(P=>{P.setAttribute("ckboxImageId",E.ckboxImageId,D)})})})()}}class Ik{constructor(r,s,c){this.loader=r,this.token=s,this.editor=c,this.controller=new AbortController,this.serviceOrigin=c.config.get("ckbox.serviceOrigin"),this.assetsOrigin=c.config.get("ckbox.assetsOrigin")}getAvailableCategories(r=0){var s=this;return Wn(function*(){const c=new URL("categories",s.serviceOrigin);return c.searchParams.set("limit",50..toString()),c.searchParams.set("offset",r.toString()),s._sendHttpRequest({url:c}).then(function(){var h=Wn(function*(v){if(v.totalCount-(r+50)>0){const y=yield s.getAvailableCategories(r+50);return[...v.items,...y]}return v.items});return function(v){return h.apply(this,arguments)}}()).catch(()=>{s.controller.signal.throwIfAborted(),li("ckbox-fetch-category-http-error")})})()}getCategoryIdForFile(r){var s=this;return Wn(function*(){const c=Ek(r.name),h=yield s.getAvailableCategories();if(!h)return null;const v=s.editor.config.get("ckbox.defaultUploadCategories");if(v){const _=Object.keys(v).find(A=>v[A].includes(c));if(_){const A=h.find(S=>S.id===_||S.name===_);return A?A.id:null}}const y=h.find(_=>_.extensions.includes(c));return y?y.id:null})()}upload(){var r=this;return Wn(function*(){const s=r.editor.t,c=s("Cannot determine a category for the uploaded file."),h=yield r.loader.file,v=yield r.getCategoryIdForFile(h);if(!v)return Promise.reject(c);const y=new URL("assets",r.serviceOrigin),_=new FormData;_.append("categoryId",v),_.append("file",h);const A={method:"POST",url:y,data:_,onUploadProgress:S=>{S.lengthComputable&&(r.loader.uploadTotal=S.total,r.loader.uploaded=S.loaded)}};return r._sendHttpRequest(A).then(function(){var S=Wn(function*(D){const E=yield r._getImageWidth(),P=Ek(h.name),z=_p({token:r.token,id:D.id,origin:r.assetsOrigin,width:E,extension:P});return{ckboxImageId:D.id,default:z.imageFallbackUrl,sources:z.imageSources}});return function(D){return S.apply(this,arguments)}}()).catch(()=>{const S=s("Cannot upload file:")+` ${h.name}.`;return Promise.reject(S)})})()}abort(){this.controller.abort()}_sendHttpRequest(r){const{url:s,data:c,onUploadProgress:h}=r,v=r.method||"GET",y=this.controller.signal,_=new XMLHttpRequest;_.open(v,s.toString(),!0),_.setRequestHeader("Authorization",this.token.value),_.setRequestHeader("CKBox-Version","CKEditor 5"),_.responseType="json";const A=()=>{_.abort()};return new Promise((S,D)=>{y.addEventListener("abort",A),_.addEventListener("loadstart",()=>{y.addEventListener("abort",A)}),_.addEventListener("loadend",()=>{y.removeEventListener("abort",A)}),_.addEventListener("error",()=>{D()}),_.addEventListener("abort",()=>{D()}),_.addEventListener("load",Wn(function*(){const E=_.response;return!E||E.statusCode>=400?D(E&&E.message):S(E)})),h&&_.upload.addEventListener("progress",E=>{h(E)}),_.send(c)})}_getImageWidth(){return new Promise(r=>{const s=new Image;s.onload=()=>{URL.revokeObjectURL(s.src),r(s.width)},s.src=this.loader.data})}}function Ek(f){return f.match(/\.(?<ext>[^.]+)$/).groups.ext}class kp extends vt{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",mT]}init(){var r=this;return Wn(function*(){const s=r.editor,c=!!s.config.get("ckbox"),h=!!window.CKBox;if(!c&&!h)return;r._initConfig();const v=s.plugins.get("CloudServicesCore"),y=s.config.get("ckbox.tokenUrl"),_=s.config.get("cloudServices.tokenUrl");r._token=y===_?s.plugins.get("CloudServices").token:yield v.createToken(y).init(),s.config.get("ckbox.ignoreDataId")||(r._initSchema(),r._initConversion(),r._initFixers()),h&&s.commands.add("ckbox",new vT(s))})()}getToken(){return this._token}_initConfig(){const r=this.editor;if(r.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",assetsOrigin:"https://ckbox.cloud",defaultUploadCategories:null,ignoreDataId:!1,language:r.locale.uiLanguage,theme:"default",tokenUrl:r.config.get("cloudServices.tokenUrl")}),!r.config.get("ckbox.tokenUrl"))throw new U("ckbox-plugin-missing-token-url",this);r.plugins.has("ImageBlockEditing")||r.plugins.has("ImageInlineEditing")||li("ckbox-plugin-image-feature-missing",r)}_initSchema(){const r=this.editor.model.schema;r.extend("$text",{allowAttributes:"ckboxLinkId"}),r.isRegistered("imageBlock")&&r.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),r.isRegistered("imageInline")&&r.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),r.addAttributeCheck((s,c)=>{if(!s.last.getAttribute("linkHref")&&"ckboxLinkId"===c)return!1})}_initConversion(){const r=this.editor;r.conversion.for("downcast").add(s=>{s.on("attribute:ckboxLinkId:imageBlock",(c,h,v)=>{const{writer:y,mapper:_,consumable:A}=v;if(!A.consume(h.item,c.name))return;const S=[..._.toViewElement(h.item).getChildren()].find(D=>"a"===D.name);S&&(h.item.hasAttribute("ckboxLinkId")?y.setAttribute("data-ckbox-resource-id",h.item.getAttribute("ckboxLinkId"),S):y.removeAttribute("data-ckbox-resource-id",S))},{priority:"low"}),s.on("attribute:ckboxLinkId",(c,h,v)=>{const{writer:y,mapper:_,consumable:A}=v;if(A.consume(h.item,c.name)){if(h.attributeOldValue){const S=Ap(y,h.attributeOldValue);y.unwrap(_.toViewRange(h.range),S)}if(h.attributeNewValue){const S=Ap(y,h.attributeNewValue);h.item.is("selection")?y.wrap(y.document.selection.getFirstRange(),S):y.wrap(_.toViewRange(h.range),S)}}},{priority:"low"})}),r.conversion.for("upcast").add(s=>{s.on("element:a",(c,h,v)=>{const{writer:y,consumable:_}=v;if(!h.viewItem.getAttribute("href")||!_.consume(h.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const A=h.viewItem.getAttribute("data-ckbox-resource-id");if(A)if(h.modelRange)for(let S of h.modelRange.getItems())S.is("$textProxy")&&(S=S.textNode),LE(S)&&y.setAttribute("ckboxLinkId",A,S);else y.setAttribute("ckboxLinkId",A,h.modelCursor.nodeBefore||h.modelCursor.parent)},{priority:"low"})}),r.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),r.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:s=>s.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const r=this.editor,s=r.model,c=s.document.selection;var h;s.document.registerPostFixer((h=r,v=>{let y=!1;const _=h.model,A=h.commands.get("ckbox");if(!A)return y;for(const S of _.document.differ.getChanges()){if("insert"!==S.type&&"attribute"!==S.type)continue;const D="insert"===S.type?new lt(S.position,S.position.getShiftedBy(S.length)):S.range,E="attribute"===S.type&&"linkHref"===S.attributeKey&&null===S.attributeNewValue;for(const P of D.getItems()){if(E&&P.hasAttribute("ckboxLinkId")){v.removeAttribute("ckboxLinkId",P),y=!0;continue}const z=yT(P,A._chosenAssets);for(const G of z){const W="image"===G.type?"ckboxImageId":"ckboxLinkId";G.id!==P.getAttribute(W)&&(v.setAttribute(W,G.id,P),y=!0)}}}return y})),s.document.registerPostFixer(function(h){return v=>{!h.hasAttribute("linkHref")&&h.hasAttribute("ckboxLinkId")&&v.removeSelectionAttribute("ckboxLinkId")}}(c))}}function yT(f,r){const s=f.is("element","imageInline")||f.is("element","imageBlock"),c=f.hasAttribute("linkHref");return[...r].filter(h=>"image"===h.type&&s?h.attributes.imageFallbackUrl===f.getAttribute("src"):"link"===h.type&&c?h.attributes.linkHref===f.getAttribute("linkHref"):void 0)}function Ap(f,r){const s=f.createAttributeElement("a",{"data-ckbox-resource-id":r},{priority:5});return f.setCustomProperty("link",!0,s),s}function LE(f){return!!f.is("$text")||!(!f.is("element","imageInline")&&!f.is("element","imageBlock"))}class bT extends vt{static get pluginName(){return"CKFinderUI"}init(){const r=this.editor,c=r.t;r.ui.componentFactory.add("ckfinder",h=>{const v=r.commands.get("ckfinder"),y=new xe(h);return y.set({label:c("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),y.bind("isEnabled").to(v),y.on("execute",()=>{r.execute("ckfinder"),r.editing.view.focus()}),y})}}class PE extends ae{constructor(r){super(r),this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const r=this.editor.commands.get("insertImage"),s=this.editor.commands.get("link");this.isEnabled=r.isEnabled||s.isEnabled}execute(){const r=this.editor,s=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=s&&"modal"!=s)throw new U("ckfinder-unknown-openermethod",r);const c=this.editor.config.get("ckfinder.options")||{};c.chooseFiles=!0;const h=c.onInit;c.language||(c.language=r.locale.uiLanguage),c.onInit=v=>{h&&h(v),v.on("files:choose",y=>{const _=y.data.files.toArray(),A=_.filter(E=>!E.isImage()),S=_.filter(E=>E.isImage());for(const E of A)r.execute("link",E.getUrl());const D=[];for(const E of S){const P=E.getUrl();D.push(P||v.request("file:getProxyUrl",{file:E}))}D.length&&_y(r,D)}),v.on("file:choose:resizedImage",y=>{const _=y.data.resizedUrl;if(_)_y(r,[_]);else{const A=r.plugins.get("Notification"),S=r.locale.t;A.showWarning(S("Could not obtain resized image URL."),{title:S("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[s](c)}}function _y(f,r){if(f.commands.get("insertImage").isEnabled)f.execute("insertImage",{source:r});else{const s=f.plugins.get("Notification"),c=f.locale.t;s.showWarning(c("Could not insert image at the current position."),{title:c("Inserting image failed"),namespace:"ckfinder"})}}class RE extends vt{static get pluginName(){return"CKFinderEditing"}static get requires(){return[Fm,"LinkEditing"]}init(){const r=this.editor;if(!r.plugins.has("ImageBlockEditing")&&!r.plugins.has("ImageInlineEditing"))throw new U("ckfinder-missing-image-plugin",r);r.commands.add("ckfinder",new PE(r))}}class NE extends vt{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Ni]}init(){const r=this.editor,s=r.plugins.get("CloudServices"),c=s.token,h=s.uploadUrl;c&&(this._uploadGateway=r.plugins.get("CloudServicesCore").createUploadGateway(c,h),r.plugins.get(Ni).createUploadAdapter=v=>new Me(this._uploadGateway,v))}}class Me{constructor(r,s){this.uploadGateway=r,this.loader=s}upload(){return this.loader.file.then(r=>(this.fileUploader=this.uploadGateway.upload(r),this.fileUploader.on("progress",(s,c)=>{this.loader.uploadTotal=c.total,this.loader.uploaded=c.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class is extends ae{refresh(){const r=this.editor.model,s=xn(r.document.selection.getSelectedBlocks());this.value=!!s&&s.is("element","paragraph"),this.isEnabled=!!s&&Lk(s,r.schema)}execute(r={}){const s=this.editor.model,c=s.document;s.change(h=>{const v=(r.selection||c.selection).getSelectedBlocks();for(const y of v)!y.is("element","paragraph")&&Lk(y,s.schema)&&h.rename(y,"paragraph")})}}function Lk(f,r){return r.checkChild(f.parent,"paragraph")&&!r.isObject(f)}class Pk extends ae{execute(r){const s=this.editor.model,c=r.attributes;let h=r.position;s.change(v=>{const y=v.createElement("paragraph");if(c&&s.schema.setAllowedAttributes(y,c,v),!s.schema.checkChild(h.parent,y)){const _=s.schema.findAllowedParent(h,y);if(!_)return;h=v.split(h,_).position}s.insertContent(y,h),v.setSelection(y,"in")})}}class Oc extends vt{static get pluginName(){return"Paragraph"}init(){const r=this.editor,s=r.model;r.commands.add("paragraph",new is(r)),r.commands.add("insertParagraph",new Pk(r)),s.schema.register("paragraph",{inheritAllFrom:"$block"}),r.conversion.elementToElement({model:"paragraph",view:"p"}),r.conversion.for("upcast").elementToElement({model:(c,{writer:h})=>Oc.paragraphLikeElements.has(c.name)?c.isEmpty?null:h.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}Oc.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class wT extends ae{constructor(r,s){super(r),this.modelElements=s}refresh(){const r=xn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!r&&this.modelElements.includes(r.name)&&r.name,this.isEnabled=!!r&&this.modelElements.some(s=>ky(r,s,this.editor.model.schema))}execute(r){const s=this.editor.model,c=s.document,h=r.value;s.change(v=>{const y=Array.from(c.selection.getSelectedBlocks()).filter(_=>ky(_,h,s.schema));for(const _ of y)_.is("element",h)||v.rename(_,h)})}}function ky(f,r,s){return s.checkChild(f.parent,r)&&!s.isObject(f)}const Ay="paragraph";class _T extends vt{static get pluginName(){return"HeadingEditing"}constructor(r){super(r),r.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Oc]}init(){const r=this.editor,s=r.config.get("heading.options"),c=[];for(const h of s)h.model!==Ay&&(r.model.schema.register(h.model,{inheritAllFrom:"$block"}),r.conversion.elementToElement(h),c.push(h.model));this._addDefaultH1Conversion(r),r.commands.add("heading",new wT(r,c))}afterInit(){const r=this.editor,s=r.commands.get("enter"),c=r.config.get("heading.options");s&&this.listenTo(s,"afterExecute",(h,v)=>{const y=r.model.document.selection.getFirstPosition().parent;c.some(_=>y.is("element",_.model))&&!y.is("element",Ay)&&0===y.childCount&&v.writer.rename(y,Ay)})}_addDefaultH1Conversion(r){r.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:dt.get("low")+1})}}var Rk=St(3230);Ut()(Rk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class AT extends vt{static get pluginName(){return"HeadingUI"}init(){const r=this.editor,s=r.t,c=function(y){const _=y.t,A={Paragraph:_("Paragraph"),"Heading 1":_("Heading 1"),"Heading 2":_("Heading 2"),"Heading 3":_("Heading 3"),"Heading 4":_("Heading 4"),"Heading 5":_("Heading 5"),"Heading 6":_("Heading 6")};return y.config.get("heading.options").map(S=>{const D=A[S.title];return D&&D!=S.title&&(S.title=D),S})}(r),h=s("Choose heading"),v=s("Heading");r.ui.componentFactory.add("heading",y=>{const _={},A=new nr,S=r.commands.get("heading"),D=r.commands.get("paragraph"),E=[S];for(const z of c){const G={type:"button",model:new Cc({label:z.title,class:z.class,withText:!0})};"paragraph"===z.model?(G.model.bind("isOn").to(D,"value"),G.model.set("commandName","paragraph"),E.push(D)):(G.model.bind("isOn").to(S,"value",W=>W===z.model),G.model.set({commandName:"heading",commandValue:z.model})),A.add(G),_[z.model]=z.title}const P=bn(y);return Do(P,A),P.buttonView.set({isOn:!1,withText:!0,tooltip:v}),P.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),P.bind("isEnabled").toMany(E,"isEnabled",(...z)=>z.some(G=>G)),P.buttonView.bind("label").to(S,"value",D,"value",(z,G)=>{const W=z||G&&"paragraph";return _[W]?_[W]:h}),this.listenTo(P,"execute",z=>{r.execute(z.source.commandName,z.source.commandValue?{value:z.source.commandValue}:void 0),r.editing.view.focus()}),P})}}class Ld extends vt{static get requires(){return[ip]}static get pluginName(){return"WidgetToolbarRepository"}init(){const r=this.editor;if(r.plugins.has("BalloonToolbar")){const s=r.plugins.get("BalloonToolbar");this.listenTo(s,"show",c=>{(function(h){const v=h.getSelectedElement();return!(!v||!tn(v))})(r.editing.view.document.selection)&&c.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(r.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(r.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const r of this._toolbarDefinitions.values())r.view.destroy()}register(r,{ariaLabel:s,items:c,getRelatedElement:h,balloonClassName:v="ck-toolbar-container"}){if(!c.length)return void it("widget-toolbar-no-items",{toolbarId:r});const y=this.editor,_=y.t,A=new ca(y.locale);if(A.ariaLabel=s||_("Widget toolbar"),this._toolbarDefinitions.has(r))throw new U("widget-toolbar-duplicated",this,{toolbarId:r});A.fillFromConfig(c,y.ui.componentFactory);const S={view:A,getRelatedElement:h,balloonClassName:v};y.ui.addToolbar(A,{isContextual:!0,beforeFocus:()=>{const D=h(y.editing.view.document.selection);D&&this._showToolbar(S,D)},afterBlur:()=>{this._hideToolbar(S)}}),this._toolbarDefinitions.set(r,S)}_updateToolbarsVisibility(){let r=0,s=null,c=null;for(const h of this._toolbarDefinitions.values()){const v=h.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&v)if(this.editor.ui.focusTracker.isFocused){const y=v.getAncestors().length;y>r&&(r=y,s=v,c=h)}else this._isToolbarVisible(h)&&this._hideToolbar(h);else this._isToolbarInBalloon(h)&&this._hideToolbar(h)}c&&this._showToolbar(c,s)}_hideToolbar(r){this._balloon.remove(r.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(r,s){this._isToolbarVisible(r)?Nk(this.editor,s):this._isToolbarInBalloon(r)||(this._balloon.add({view:r.view,position:Bk(this.editor,s),balloonClassName:r.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const c of this._toolbarDefinitions.values())if(this._isToolbarVisible(c)){const h=c.getRelatedElement(this.editor.editing.view.document.selection);Nk(this.editor,h)}}))}_isToolbarVisible(r){return this._balloon.visibleView===r.view}_isToolbarInBalloon(r){return this._balloon.hasView(r.view)}}function Nk(f,r){const s=f.plugins.get("ContextualBalloon"),c=Bk(f,r);s.updatePosition(c)}function Bk(f,r){const c=Tr.defaultPositions;return{target:f.editing.view.domConverter.mapViewToDom(r),positions:[c.northArrowSouth,c.northArrowSouthWest,c.northArrowSouthEast,c.southArrowNorth,c.southArrowNorthWest,c.southArrowNorthEast,c.viewportStickyNorth]}}class zk extends hn{constructor(r){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=r,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(r,s,c){const h=new Ue(s);this.activeHandlePosition=function(y){const _=["top-left","top-right","bottom-right","bottom-left"];for(const A of _)if(y.classList.contains(CT(A)))return A}(r),this._referenceCoordinates=function(y,_){const A=new Ue(y),S=_.split("-"),D={x:"right"==S[1]?A.right:A.left,y:"bottom"==S[0]?A.bottom:A.top};return D.x+=y.ownerDocument.defaultView.scrollX,D.y+=y.ownerDocument.defaultView.scrollY,D}(s,function(y){const _=y.split("-"),A={top:"bottom",bottom:"top",left:"right",right:"left"};return`${A[_[0]]}-${A[_[1]]}`}(this.activeHandlePosition)),this._originalWidth=h.width,this._originalHeight=h.height,this._aspectRatio=h.width/h.height;const v=c.style.width;this._originalWidthPercents=v&&v.match(/^\d+(\.\d*)?%$/)?parseFloat(v):function(y,_){const A=y.parentElement,S=parseFloat(A.ownerDocument.defaultView.getComputedStyle(A).width);return _.width/S*100}(c,h)}update(r){this.proposedWidth=r.width,this.proposedHeight=r.height,this.proposedWidthPercents=r.widthPercents,this.proposedHandleHostWidth=r.handleHostWidth,this.proposedHandleHostHeight=r.handleHostHeight}}function CT(f){return`ck-widget__resizer__handle-${f}`}class xT extends he{constructor(){super();const r=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",r.to("_viewPosition",s=>s?`ck-orientation-${s}`:"")],style:{display:r.if("_isVisible","none",s=>!s)}},children:[{text:r.to("_label")}]})}_bindToState(r,s){this.bind("_isVisible").to(s,"proposedWidth",s,"proposedHeight",(c,h)=>null!==c&&null!==h),this.bind("_label").to(s,"proposedHandleHostWidth",s,"proposedHandleHostHeight",s,"proposedWidthPercents",(c,h,v)=>"px"===r.unit?`${c}\xd7${h}`:`${v}%`),this.bind("_viewPosition").to(s,"activeHandlePosition",s,"proposedHandleHostWidth",s,"proposedHandleHostHeight",(c,h,v)=>h<50||v<50?"above-center":c)}_dismiss(){this.unbind(),this._isVisible=!1}}class Ok extends hn{constructor(r){super(),this._options=r,this._viewResizerWrapper=null,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(s,c)=>s&&c),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",s=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),s.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(r=>{r.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(r=>{r.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const r=this,s=this._options.viewElement;this._options.editor.editing.view.change(c=>{const h=c.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(v){const y=this.toDomElement(v);return r._appendHandles(y),r._appendSizeUI(y),y});c.insert(c.createPositionAt(s,"end"),h),c.addClass("ck-widget_with-resizer",s),this._viewResizerWrapper=h,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(r){this._state=new zk(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(r,this._getHandleHost(),this._getResizeHost())}updateSize(r){const s=this._proposeNewSize(r);this._options.editor.editing.view.change(A=>{const S=this._options.unit||"%";A.setStyle("width",("%"===S?s.widthPercents:s.width)+S,this._options.viewElement)});const c=this._getHandleHost(),h=new Ue(c),v=Math.round(h.width),y=Math.round(h.height),_=new Ue(c);s.width=Math.round(_.width),s.height=Math.round(_.height),this.redraw(h),this.state.update({...s,handleHostWidth:v,handleHostHeight:y})}commit(){const r=this._options.unit||"%",s=("%"===r?this.state.proposedWidthPercents:this.state.proposedWidth)+r;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(s)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(r){const s=this._domResizerWrapper;if(!((c=s)&&c.ownerDocument&&c.ownerDocument.contains(c)))return;var c;const h=s.parentElement,v=this._getHandleHost(),y=this._viewResizerWrapper,_=[y.getStyle("width"),y.getStyle("height"),y.getStyle("left"),y.getStyle("top")];let A;if(h.isSameNode(v)){const S=r||new Ue(v);A=[S.width+"px",S.height+"px",void 0,void 0]}else A=[v.offsetWidth+"px",v.offsetHeight+"px",v.offsetLeft+"px",v.offsetTop+"px"];"same"!==Ke(_,A)&&this._options.editor.editing.view.change(S=>{S.setStyle({width:A[0],height:A[1],left:A[2],top:A[3]},y)})}containsHandle(r){return this._domResizerWrapper.contains(r)}static isResizeHandle(r){return r.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(r=>{r.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(r){const s=this.state,c_x=(h=r).pageX,c_y=h.pageY;var h;const v=!this._options.isCentered||this._options.isCentered(this),y={x:s._referenceCoordinates.x-(c_x+s.originalWidth),y:c_y-s.originalHeight-s._referenceCoordinates.y};v&&s.activeHandlePosition.endsWith("-right")&&(y.x=c_x-(s._referenceCoordinates.x+s.originalWidth)),v&&(y.x*=2);let _=Math.abs(s.originalWidth+y.x),A=Math.abs(s.originalHeight+y.y);return"width"==(_/s.aspectRatio>A?"width":"height")?A=_/s.aspectRatio:_=A*s.aspectRatio,{width:Math.round(_),height:Math.round(A),widthPercents:Math.min(Math.round(s.originalWidthPercents/s.originalWidth*_*100)/100,100)}}_getResizeHost(){return this._options.getResizeHost(this._domResizerWrapper.parentElement)}_getHandleHost(){return this._options.getHandleHost(this._domResizerWrapper.parentElement)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(r){const s=["top-left","top-right","bottom-right","bottom-left"];for(const h of s)r.appendChild(new Xt({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(c=h,`ck-widget__resizer__handle-${c}`)}}).render());var c}_appendSizeUI(r){this._sizeView=new xT,this._sizeView.render(),r.appendChild(this._sizeView.element)}}var Cp=St(2263);Ut()(Cp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Sp extends vt{static get pluginName(){return"WidgetResize"}init(){const r=this.editor.editing,s=Yt.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),this._resizers=new Map,r.view.addObserver($a),this._observer=new Rs,this.listenTo(r.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(s,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(s,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=Q_(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[h,v]of this._resizers)h.isAttached()||(this._resizers.delete(h),v.destroy())},{priority:"lowest"}),this._observer.listenTo(Yt.window,"resize",this._redrawSelectedResizerThrottled);const c=this.editor.editing.view.document.selection;c.on("change",()=>{const h=c.getSelectedElement(),v=this.getResizerByViewElement(h)||null;v?this.select(v):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const r of this._resizers.values())r.destroy();this._redrawSelectedResizerThrottled.cancel()}select(r){this.deselect(),this.selectedResizer=r,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(r){const s=new Ok(r),c=this.editor.plugins;if(s.attach(),c.has("WidgetToolbarRepository")){const v=c.get("WidgetToolbarRepository");s.on("begin",()=>{v.forceDisabled("resize")},{priority:"lowest"}),s.on("cancel",()=>{v.clearForceDisabled("resize")},{priority:"highest"}),s.on("commit",()=>{v.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(r.viewElement,s);const h=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(h)==s&&this.select(s),s}getResizerByViewElement(r){return this._resizers.get(r)}_getResizerByHandle(r){for(const s of this._resizers.values())if(s.containsHandle(r))return s}_mouseDownListener(r,s){const c=s.domTarget;Ok.isResizeHandle(c)&&(this._activeResizer=this._getResizerByHandle(c)||null,this._activeResizer&&(this._activeResizer.begin(c),r.stop(),s.preventDefault()))}_mouseMoveListener(r,s){this._activeResizer&&this._activeResizer.updateSize(s)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}class ST extends ae{refresh(){const r=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!r,this.value=!(!this.isEnabled||!r.hasAttribute("alt"))&&r.getAttribute("alt")}execute(r){const s=this.editor,c=s.plugins.get("ImageUtils"),h=s.model,v=c.getClosestSelectedImageElement(h.document.selection);h.change(y=>{y.setAttribute("alt",r.newValue,v)})}}function Cy(f){return f.createContainerElement("figure",{class:"image"},[f.createEmptyElement("img"),f.createSlot()])}function xy(f,r){const s=f.plugins.get("ImageUtils"),c=f.plugins.has("ImageInlineEditing")&&f.plugins.has("ImageBlockEditing");return v=>s.isInlineImageView(v)?c&&(v.findAncestor(s.isBlockImageView)?"imageBlock":"imageInline")!==r?null:function(v){const y={name:!0};return v.hasAttribute("src")&&(y.attributes=["src"]),y}(v):null}function Tp(f,r){const s=xn(r.getSelectedBlocks());return!s||f.isObject(s)||s.isEmpty&&"listItem"!=s.name?"imageBlock":"imageInline"}class Xr extends vt{static get pluginName(){return"ImageUtils"}isImage(r){return this.isInlineImage(r)||this.isBlockImage(r)}isInlineImageView(r){return!!r&&r.is("element","img")}isBlockImageView(r){return!!r&&r.is("element","figure")&&r.hasClass("image")}insertImage(r={},s=null,c=null){const h=this.editor,v=h.model,y=v.document.selection;c=Vc(h,s||y,c),r={...Object.fromEntries(y.getAttributes()),...r};for(const _ in r)v.schema.checkAttribute(c,_)||delete r[_];return v.change(_=>{const A=_.createElement(c,r);return v.insertObject(A,s,null,{setSelection:"on",findOptimalPosition:!s&&"imageInline"!=c}),A.parent?A:null})}getClosestSelectedImageWidget(r){const s=r.getFirstPosition();if(!s)return null;const c=r.getSelectedElement();if(c&&this.isImageWidget(c))return c;let h=s.parent;for(;h;){if(h.is("element")&&this.isImageWidget(h))return h;h=h.parent}return null}getClosestSelectedImageElement(r){const s=r.getSelectedElement();return this.isImage(s)?s:r.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const r=this.editor.model.document.selection;return function(s,c){if("imageBlock"==Vc(s,c)){const h=function(v,y){const _=nl(v,y).start.parent;return _.isEmpty&&!_.is("element","$root")?_.parent:_}(c,s.model);if(s.model.schema.checkChild(h,"imageBlock"))return!0}else if(s.model.schema.checkChild(c.focus,"imageInline"))return!0;return!1}(this.editor,r)&&function(s){return[...s.focus.getAncestors()].every(c=>!c.is("element","imageBlock"))}(r)}toImageWidget(r,s,c){return s.setCustomProperty("image",!0,r),Ad(r,s,{label:()=>{const h=this.findViewImgElement(r).getAttribute("alt");return h?`${h} ${c}`:c}})}isImageWidget(r){return!!r.getCustomProperty("image")&&tn(r)}isBlockImage(r){return!!r&&r.is("element","imageBlock")}isInlineImage(r){return!!r&&r.is("element","imageInline")}findViewImgElement(r){if(this.isInlineImageView(r))return r;const s=this.editor.editing.view;for(const{item:c}of s.createRangeIn(r))if(this.isInlineImageView(c))return c}}function Vc(f,r,s){const c=f.model.schema,h=f.config.get("image.insert.type");return f.plugins.has("ImageBlockEditing")?f.plugins.has("ImageInlineEditing")?s||("inline"===h?"imageInline":"block"===h?"imageBlock":r.is("selection")?Tp(c,r):c.checkChild(r,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class Fc extends vt{static get requires(){return[Xr]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new ST(this.editor))}}var Vk=St(6831);Ut()(Vk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Hk=St(1590);Ut()(Hk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class jk extends he{constructor(r){super(r);const s=this.locale.t;this.focusTracker=new Zn,this.keystrokes=new gr,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(s("Save"),Ve.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),Ve.cancel,"ck-button-cancel","cancel"),this._focusables=new To,this._focusCycler=new Xa({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]}),Qi(this)}render(){super.render(),this.keystrokes.listenTo(this.element),bc({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(r=>{this._focusables.add(r),this.focusTracker.add(r.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(r,s,c,h){const v=new xe(this.locale);return v.set({label:r,icon:s,tooltip:!0}),v.extendTemplate({attributes:{class:c}}),h&&v.delegate("execute").to(this,h),v}_createLabeledInputView(){const r=this.locale.t,s=new np(this.locale,wd);return s.label=r("Text alternative"),s}}function Ty(f){const r=f.editing.view,s=Tr.defaultPositions,c=f.plugins.get("ImageUtils");return{target:r.domConverter.mapViewToDom(c.getClosestSelectedImageWidget(r.document.selection)),positions:[s.northArrowSouth,s.northArrowSouthWest,s.northArrowSouthEast,s.southArrowNorth,s.southArrowNorthWest,s.southArrowNorthEast,s.viewportStickyNorth]}}class Dp extends vt{static get requires(){return[ip]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const r=this.editor,s=r.t;r.ui.componentFactory.add("imageTextAlternative",c=>{const h=r.commands.get("imageTextAlternative"),v=new xe(c);return v.set({label:s("Change image text alternative"),icon:Ve.lowVision,tooltip:!0}),v.bind("isEnabled").to(h,"isEnabled"),v.bind("isOn").to(h,"value",y=>!!y),this.listenTo(v,"execute",()=>{this._showForm()}),v})}_createForm(){const r=this.editor,s=r.editing.view.document,c=r.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new jk(r.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{r.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(h,v)=>{this._hideForm(!0),v()}),this.listenTo(r.ui,"update",()=>{c.getClosestSelectedImageWidget(s.selection)?this._isVisible&&function(h){const v=h.plugins.get("ContextualBalloon");if(h.plugins.get("ImageUtils").getClosestSelectedImageWidget(h.editing.view.document.selection)){const y=Ty(h);v.updatePosition(y)}}(r):this._hideForm(!0)}),Gf({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const r=this.editor,s=r.commands.get("imageTextAlternative"),c=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:Ty(r)}),c.fieldView.value=c.fieldView.element.value=s.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(r){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),r&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class Dy extends vt{static get requires(){return[Fc,Dp]}static get pluginName(){return"ImageTextAlternative"}}function My(f,r){return c=>{c.on(`attribute:srcset:${r}`,s)};function s(c,h,v){if(!v.consumable.consume(h.item,c.name))return;const y=v.writer,_=v.mapper.toViewElement(h.item),A=f.findViewImgElement(_);if(null===h.attributeNewValue){const S=h.attributeOldValue;S.data&&(y.removeAttribute("srcset",A),y.removeAttribute("sizes",A),S.width&&y.removeAttribute("width",A))}else{const S=h.attributeNewValue;S.data&&(y.setAttribute("srcset",S.data,A),y.setAttribute("sizes","100vw",A),S.width&&y.setAttribute("width",S.width,A))}}}function Pd(f,r,s){return h=>{h.on(`attribute:${s}:${r}`,c)};function c(h,v,y){if(!y.consumable.consume(v.item,h.name))return;const _=y.writer,A=y.mapper.toViewElement(v.item),S=f.findViewImgElement(A);_.setAttribute(v.attributeKey,v.attributeNewValue||"",S)}}class Gk extends Gr{observe(r){this.listenTo(r,"load",(s,c)=>{const h=c.target;this.checkShouldIgnoreEventFromTarget(h)||"IMG"==h.tagName&&this._fireEvents(c)},{useCapture:!0})}_fireEvents(r){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",r))}}class TT extends ae{constructor(r){super(r);const s=r.config.get("image.insert.type");r.plugins.has("ImageBlockEditing")||"block"===s&&it("image-block-plugin-required"),r.plugins.has("ImageInlineEditing")||"inline"===s&&it("image-inline-plugin-required")}refresh(){this.isEnabled=this.editor.plugins.get("ImageUtils").isImageAllowed()}execute(r){const s=Ge(r.source),c=this.editor.model.document.selection,h=this.editor.plugins.get("ImageUtils"),v=Object.fromEntries(c.getAttributes());s.forEach((y,_)=>{const A=c.getSelectedElement();if("string"==typeof y&&(y={src:y}),_&&A&&h.isImage(A)){const S=this.editor.model.createPositionAfter(A);h.insertImage({...y,...v},S)}else h.insertImage({...y,...v})})}}class Mn extends vt{static get requires(){return[Xr]}static get pluginName(){return"ImageEditing"}init(){const r=this.editor,s=r.conversion;r.editing.view.addObserver(Gk),s.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:h=>{const v={data:h.getAttribute("srcset")};return h.hasAttribute("width")&&(v.width=h.getAttribute("width")),v}}});const c=new TT(r);r.commands.add("insertImage",c),r.commands.add("imageInsert",c)}}class Mp extends ae{constructor(r,s){super(r),this._modelElementName=s}refresh(){const r=this.editor.plugins.get("ImageUtils"),s=r.getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled="imageBlock"===this._modelElementName?r.isInlineImage(s):r.isBlockImage(s)}execute(){const s=this.editor.model,c=this.editor.plugins.get("ImageUtils"),h=c.getClosestSelectedImageElement(s.document.selection),v=Object.fromEntries(h.getAttributes());return v.src||v.uploadId?s.change(y=>{const _=Array.from(s.markers).filter(D=>D.getRange().containsItem(h)),A=c.insertImage(v,s.createSelection(h,"on"),this._modelElementName);if(!A)return null;const S=y.createRangeOn(A);for(const D of _){const E=D.getRange(),P="$graveyard"!=E.root.rootName?E.getJoined(S,!0):S;y.updateMarker(D,{range:P})}return{oldElement:h,newElement:A}}):null}}class Iy extends vt{static get requires(){return[Mn,Xr,qr]}static get pluginName(){return"ImageBlockEditing"}init(){const r=this.editor;r.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),r.plugins.has("ImageInlineEditing")&&(r.commands.add("imageTypeBlock",new Mp(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const r=this.editor,s=r.t,c=r.conversion,h=r.plugins.get("ImageUtils");c.for("dataDowncast").elementToStructure({model:"imageBlock",view:(v,{writer:y})=>Cy(y)}),c.for("editingDowncast").elementToStructure({model:"imageBlock",view:(v,{writer:y})=>h.toImageWidget(Cy(y),y,s("image widget"))}),c.for("downcast").add(Pd(h,"imageBlock","src")).add(Pd(h,"imageBlock","alt")).add(My(h,"imageBlock")),c.for("upcast").elementToElement({view:xy(r,"imageBlock"),model:(v,{writer:y})=>y.createElement("imageBlock",v.hasAttribute("src")?{src:v.getAttribute("src")}:null)}).add(function(v){return _=>{_.on("element:figure",y)};function y(_,A,S){if(!S.consumable.test(A.viewItem,{name:!0,classes:"image"}))return;const D=v.findViewImgElement(A.viewItem);if(!D||!S.consumable.test(D,{name:!0}))return;S.consumable.consume(A.viewItem,{name:!0,classes:"image"});const E=xn(S.convertItem(D,A.modelCursor).modelRange.getItems());E?(S.convertChildren(A.viewItem,E),S.updateConversionResult(E,A)):S.consumable.revert(A.viewItem,{name:!0,classes:"image"})}}(h))}_setupClipboardIntegration(){const r=this.editor,s=r.model,c=r.editing.view,h=r.plugins.get("ImageUtils");this.listenTo(r.plugins.get("ClipboardPipeline"),"inputTransformation",(v,y)=>{const _=Array.from(y.content.getChildren());let A;if(!_.every(h.isInlineImageView))return;A=y.targetRanges?r.editing.mapper.toModelRange(y.targetRanges[0]):s.document.selection.getFirstRange();const S=s.createSelection(A);if("imageBlock"===Tp(s.schema,S)){const D=new fc(c.document),E=_.map(P=>D.createElement("figure",{class:"image"},P));y.content=D.createDocumentFragment(E)}})}}var Ey=St(9048);Ut()(Ey.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class MT extends vt{static get requires(){return[Iy,ha,Dy]}static get pluginName(){return"ImageBlock"}}class Uk extends vt{static get requires(){return[Mn,Xr,qr]}static get pluginName(){return"ImageInlineEditing"}init(){const r=this.editor,s=r.model.schema;s.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),s.addChildCheck((c,h)=>{if(c.endsWith("caption")&&"imageInline"===h.name)return!1}),this._setupConversion(),r.plugins.has("ImageBlockEditing")&&(r.commands.add("imageTypeInline",new Mp(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const r=this.editor,s=r.t,c=r.conversion,h=r.plugins.get("ImageUtils");c.for("dataDowncast").elementToElement({model:"imageInline",view:(v,{writer:y})=>y.createEmptyElement("img")}),c.for("editingDowncast").elementToStructure({model:"imageInline",view:(v,{writer:y})=>{return h.toImageWidget((_=y).createContainerElement("span",{class:"image-inline"},_.createEmptyElement("img")),y,s("image widget"));var _}}),c.for("downcast").add(Pd(h,"imageInline","src")).add(Pd(h,"imageInline","alt")).add(My(h,"imageInline")),c.for("upcast").elementToElement({view:xy(r,"imageInline"),model:(v,{writer:y})=>y.createElement("imageInline",v.hasAttribute("src")?{src:v.getAttribute("src")}:null)})}_setupClipboardIntegration(){const r=this.editor,s=r.model,c=r.editing.view,h=r.plugins.get("ImageUtils");this.listenTo(r.plugins.get("ClipboardPipeline"),"inputTransformation",(v,y)=>{const _=Array.from(y.content.getChildren());let A;if(!_.every(h.isBlockImageView))return;A=y.targetRanges?r.editing.mapper.toModelRange(y.targetRanges[0]):s.document.selection.getFirstRange();const S=s.createSelection(A);if("imageInline"===Tp(s.schema,S)){const D=new fc(c.document),E=_.map(P=>1===P.childCount?(Array.from(P.getAttributes()).forEach(z=>D.setAttribute(...z,h.findViewImgElement(P))),P.getChild(0)):P);y.content=D.createDocumentFragment(E)}})}}class IT extends vt{static get requires(){return[Uk,ha,Dy]}static get pluginName(){return"ImageInline"}}class Ly extends ae{refresh(){const r=this.editor,s=r.plugins.get("ImageCaptionUtils");if(!r.plugins.has(Iy))return this.isEnabled=!1,void(this.value=!1);const c=r.model.document.selection,h=c.getSelectedElement();if(!h){const v=s.getCaptionFromModelSelection(c);return this.isEnabled=!!v,void(this.value=!!v)}this.isEnabled=this.editor.plugins.get("ImageUtils").isImage(h),this.value=!!this.isEnabled&&!!s.getCaptionFromImageModelElement(h)}execute(r={}){const{focusCaptionOnShow:s}=r;this.editor.model.change(c=>{this.value?this._hideImageCaption(c):this._showImageCaption(c,s)})}_showImageCaption(r,s){const c=this.editor.model.document.selection,h=this.editor.plugins.get("ImageCaptionEditing");let v=c.getSelectedElement();const y=h._getSavedCaption(v);this.editor.plugins.get("ImageUtils").isInlineImage(v)&&(this.editor.execute("imageTypeBlock"),v=c.getSelectedElement());const _=y||r.createElement("caption");r.append(_,v),s&&r.setSelection(_,"in")}_hideImageCaption(r){const s=this.editor,c=s.model.document.selection,h=s.plugins.get("ImageCaptionEditing"),v=s.plugins.get("ImageCaptionUtils");let y,_=c.getSelectedElement();_?y=v.getCaptionFromImageModelElement(_):(y=v.getCaptionFromModelSelection(c),_=y.parent),h._saveCaption(_,y),r.setSelection(_,"on"),r.remove(y)}}class Wk extends vt{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Xr]}getCaptionFromImageModelElement(r){for(const s of r.getChildren())if(s&&s.is("element","caption"))return s;return null}getCaptionFromModelSelection(r){const s=this.editor.plugins.get("ImageUtils"),c=r.getFirstPosition().findAncestor("caption");return c&&s.isBlockImage(c.parent)?c:null}matchImageCaptionViewElement(r){const s=this.editor.plugins.get("ImageUtils");return"figcaption"==r.name&&s.isBlockImageView(r.parent)?{name:!0}:null}}class ET extends vt{static get requires(){return[Xr,Wk]}static get pluginName(){return"ImageCaptionEditing"}constructor(r){super(r),this._savedCaptionsMap=new WeakMap}init(){const r=this.editor,s=r.model.schema;s.isRegistered("caption")?s.extend("caption",{allowIn:"imageBlock"}):s.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),r.commands.add("toggleImageCaption",new Ly(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const r=this.editor,s=r.editing.view,c=r.plugins.get("ImageUtils"),h=r.plugins.get("ImageCaptionUtils"),v=r.t;r.conversion.for("upcast").elementToElement({view:y=>h.matchImageCaptionViewElement(y),model:"caption"}),r.conversion.for("dataDowncast").elementToElement({model:"caption",view:(y,{writer:_})=>c.isBlockImage(y.parent)?_.createContainerElement("figcaption"):null}),r.conversion.for("editingDowncast").elementToElement({model:"caption",view:(y,{writer:_})=>{if(!c.isBlockImage(y.parent))return null;const A=_.createEditableElement("figcaption");_.setCustomProperty("imageCaption",!0,A),Nf({view:s,element:A,text:v("Enter image caption"),keepOnFocus:!0});const S=y.parent.getAttribute("alt");return Ic(A,_,{label:S?v("Caption for image: %0",[S]):v("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const r=this.editor,s=r.plugins.get("ImageUtils"),c=r.plugins.get("ImageCaptionUtils"),h=r.commands.get("imageTypeInline"),v=r.commands.get("imageTypeBlock"),y=_=>{if(!_.return)return;const{oldElement:A,newElement:S}=_.return;if(!A)return;if(s.isBlockImage(A)){const E=c.getCaptionFromImageModelElement(A);if(E)return void this._saveCaption(S,E)}const D=this._getSavedCaption(A);D&&this._saveCaption(S,D)};h&&this.listenTo(h,"execute",y,{priority:"low"}),v&&this.listenTo(v,"execute",y,{priority:"low"})}_getSavedCaption(r){const s=this._savedCaptionsMap.get(r);return s?qe.fromJSON(s):null}_saveCaption(r,s){this._savedCaptionsMap.set(r,s.toJSON())}_registerCaptionReconversion(){const r=this.editor,s=r.model,c=r.plugins.get("ImageUtils"),h=r.plugins.get("ImageCaptionUtils");s.document.on("change:data",()=>{const v=s.document.differ.getChanges();for(const y of v){if("alt"!==y.attributeKey)continue;const _=y.range.start.nodeAfter;if(c.isBlockImage(_)){const A=h.getCaptionFromImageModelElement(_);if(!A)return;r.editing.reconvertItem(A)}}})}}class Yk extends vt{static get requires(){return[Wk]}static get pluginName(){return"ImageCaptionUI"}init(){const r=this.editor,s=r.editing.view,c=r.plugins.get("ImageCaptionUtils"),h=r.t;r.ui.componentFactory.add("toggleImageCaption",v=>{const y=r.commands.get("toggleImageCaption"),_=new xe(v);return _.set({icon:Ve.caption,tooltip:!0,isToggleable:!0}),_.bind("isOn","isEnabled").to(y,"value","isEnabled"),_.bind("label").to(y,"value",A=>h(A?"Toggle caption off":"Toggle caption on")),this.listenTo(_,"execute",()=>{r.execute("toggleImageCaption",{focusCaptionOnShow:!0});const A=c.getCaptionFromModelSelection(r.model.document.selection);if(A){const S=r.editing.mapper.toViewElement(A);s.scrollToTheSelection(),s.change(D=>{D.addClass("image__caption_highlighted",S)})}r.editing.view.focus()}),_})}}var qk=St(8662);Ut()(qk.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class $k extends ae{refresh(){const r=this.editor,s=r.plugins.get("ImageUtils").getClosestSelectedImageElement(r.model.document.selection);this.isEnabled=!!s,this.value=s&&s.hasAttribute("width")?{width:s.getAttribute("width"),height:null}:null}execute(r){const s=this.editor,c=s.model,h=s.plugins.get("ImageUtils").getClosestSelectedImageElement(c.document.selection);this.value={width:r.width,height:null},h&&c.change(v=>{v.setAttribute("width",r.width,h)})}}class Ip extends vt{static get requires(){return[Xr]}static get pluginName(){return"ImageResizeEditing"}constructor(r){super(r),r.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const r=this.editor,s=new $k(r);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),r.commands.add("resizeImage",s),r.commands.add("imageResize",s)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:"width"}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:"width"})}_registerConverters(r){const s=this.editor;s.conversion.for("downcast").add(c=>c.on(`attribute:width:${r}`,(h,v,y)=>{if(!y.consumable.consume(v.item,h.name))return;const _=y.writer,A=y.mapper.toViewElement(v.item);null!==v.attributeNewValue?(_.setStyle("width",v.attributeNewValue,A),_.addClass("image_resized",A)):(_.removeStyle("width",A),_.removeClass("image_resized",A))})),s.conversion.for("upcast").attributeToAttribute({view:{name:"imageBlock"===r?"figure":"img",styles:{width:/.+/}},model:{key:"width",value:c=>c.getStyle("width")}})}}const Ep={small:Ve.objectSizeSmall,medium:Ve.objectSizeMedium,large:Ve.objectSizeLarge,original:Ve.objectSizeFull};class LT extends vt{static get requires(){return[Ip]}static get pluginName(){return"ImageResizeButtons"}constructor(r){super(r),this._resizeUnit=r.config.get("image.resizeUnit")}init(){const r=this.editor,s=r.config.get("image.resizeOptions"),c=r.commands.get("resizeImage");this.bind("isEnabled").to(c);for(const h of s)this._registerImageResizeButton(h);this._registerImageResizeDropdown(s)}_registerImageResizeButton(r){const s=this.editor,{name:c,value:h,icon:v}=r,y=h?h+this._resizeUnit:null;s.ui.componentFactory.add(c,_=>{const A=new xe(_),S=s.commands.get("resizeImage"),D=this._getOptionLabelValue(r,!0);if(!Ep[v])throw new U("imageresizebuttons-missing-icon",s,r);return A.set({label:D,icon:Ep[v],tooltip:D,isToggleable:!0}),A.bind("isEnabled").to(this),A.bind("isOn").to(S,"value",ma(y)),this.listenTo(A,"execute",()=>{s.execute("resizeImage",{width:y})}),A})}_registerImageResizeDropdown(r){const s=this.editor,c=s.t,h=r.find(y=>!y.value),v=y=>{const _=s.commands.get("resizeImage"),A=bn(y,Zf),S=A.buttonView;return S.set({tooltip:c("Resize image"),commandValue:h.value,icon:Ep.medium,isToggleable:!0,label:this._getOptionLabelValue(h),withText:!0,class:"ck-resize-image-button"}),S.bind("label").to(_,"value",D=>D&&D.width?D.width:this._getOptionLabelValue(h)),A.bind("isOn").to(_),A.bind("isEnabled").to(this),Do(A,this._getResizeDropdownListItemDefinitions(r,_)),A.listView.ariaLabel=c("Image resize list"),this.listenTo(A,"execute",D=>{s.execute(D.source.commandName,{width:D.source.commandValue}),s.editing.view.focus()}),A};s.ui.componentFactory.add("resizeImage",v),s.ui.componentFactory.add("imageResize",v)}_getOptionLabelValue(r,s){const c=this.editor.t;return r.label?r.label:s?r.value?c("Resize image to %0",r.value+this._resizeUnit):c("Resize image to the original size"):r.value?r.value+this._resizeUnit:c("Original")}_getResizeDropdownListItemDefinitions(r,s){const c=new nr;return r.map(h=>{const v=h.value?h.value+this._resizeUnit:null,y={type:"button",model:new Cc({commandName:"resizeImage",commandValue:v,label:this._getOptionLabelValue(h),withText:!0,icon:null})};y.model.bind("isOn").to(s,"value",ma(v)),c.add(y)}),c}}function ma(f){return r=>null===f&&r===f||r&&r.width===f}const Lp=/(image|image-inline)/,Hc="image_resized";class Pp extends vt{static get requires(){return[Sp]}static get pluginName(){return"ImageResizeHandles"}init(){const r=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(r),this._setupResizerCreator()}_setupResizerCreator(){const r=this.editor,s=r.editing.view;s.addObserver(Gk),this.listenTo(s.document,"imageLoaded",(c,h)=>{if(!h.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const v=r.editing.view.domConverter,y=v.domToView(h.target).findAncestor({classes:Lp});let _=this.editor.plugins.get(Sp).getResizerByViewElement(y);if(_)return void _.redraw();const A=r.editing.mapper,S=A.toModelElement(y);_=r.plugins.get(Sp).attachTo({unit:r.config.get("image.resizeUnit"),modelElement:S,viewElement:y,editor:r,getHandleHost:D=>D.querySelector("img"),getResizeHost:()=>v.mapViewToDom(A.toViewElement(S.parent)),isCentered(){const D=S.getAttribute("imageStyle");return!D||"block"==D||"alignCenter"==D},onCommit(D){s.change(E=>{E.removeClass(Hc,y)}),r.execute("resizeImage",{width:D})}}),_.on("updateSize",()=>{y.hasClass(Hc)||s.change(D=>{D.addClass(Hc,y)})}),_.bind("isEnabled").to(this)})}}var Py=St(1043);Ut()(Py.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class RT extends ae{constructor(r,s){super(r),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(s.map(c=>{if(c.isDefault)for(const h of c.modelElements)this._defaultStyles[h]=c.name;return[c.name,c]}))}refresh(){const r=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!r,this.value=!!this.isEnabled&&(r.hasAttribute("imageStyle")?r.getAttribute("imageStyle"):this._defaultStyles[r.name])}execute(r={}){const s=this.editor,c=s.model,h=s.plugins.get("ImageUtils");c.change(v=>{const y=r.value;let _=h.getClosestSelectedImageElement(c.document.selection);y&&this.shouldConvertImageType(y,_)&&(this.editor.execute(h.isBlockImage(_)?"imageTypeInline":"imageTypeBlock"),_=h.getClosestSelectedImageElement(c.document.selection)),!y||this._styles.get(y).isDefault?v.removeAttribute("imageStyle",_):v.setAttribute("imageStyle",y,_)})}shouldConvertImageType(r,s){return!this._styles.get(r).modelElements.includes(s.name)}}const{objectFullWidth:NT,objectInline:Kk,objectLeft:Ry,objectRight:Ny,objectCenter:Rd,objectBlockLeft:en,objectBlockRight:Rp}=Ve,nn={get inline(){return{name:"inline",title:"In line",icon:Kk,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:Ry,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:en,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Rd,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Ny,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:Rp,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Rd,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Ny,modelElements:["imageBlock"],className:"image-style-side"}}},pl={full:NT,left:en,right:Rp,center:Rd,inlineLeft:Ry,inlineRight:Ny,inline:Kk},gl=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function Xk(f){it("image-style-configuration-definition-invalid",f)}const Np={normalizeStyles:function(f){return(f.configuredStyles.options||[]).map(r=>function(s){return"string"==typeof(s="string"==typeof s?nn[s]?{...nn[s]}:{name:s}:function(c,h){const v={...h};for(const y in c)Object.prototype.hasOwnProperty.call(h,y)||(v[y]=c[y]);return v}(nn[s.name],s)).icon&&(s.icon=pl[s.icon]||s.icon),s}(r)).filter(r=>function(s,{isBlockPluginLoaded:c,isInlinePluginLoaded:h}){const{modelElements:v,name:y}=s;if(!(v&&v.length&&y))return Xk({style:s}),!1;{const _=[c?"imageBlock":null,h?"imageInline":null];if(!v.some(A=>_.includes(A)))return it("image-style-missing-dependency",{style:s,missingPlugins:v.map(A=>"imageBlock"===A?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(r,f))},getDefaultStylesConfiguration:function(f,r){return f&&r?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:f?{options:["block","side"]}:r?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(f){return f.has("ImageBlockEditing")&&f.has("ImageInlineEditing")?[...gl]:[]},warnInvalidStyle:Xk,DEFAULT_OPTIONS:nn,DEFAULT_ICONS:pl,DEFAULT_DROPDOWN_DEFINITIONS:gl};function Qk(f,r){for(const s of r)if(s.name===f)return s}class By extends vt{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Xr]}init(){const{normalizeStyles:r,getDefaultStylesConfiguration:s}=Np,c=this.editor,h=c.plugins.has("ImageBlockEditing"),v=c.plugins.has("ImageInlineEditing");c.config.define("image.styles",s(h,v)),this.normalizedStyles=r({configuredStyles:c.config.get("image.styles"),isBlockPluginLoaded:h,isInlinePluginLoaded:v}),this._setupConversion(h,v),this._setupPostFixer(),c.commands.add("imageStyle",new RT(c,this.normalizedStyles))}_setupConversion(r,s){const c=this.editor,h=c.model.schema,v=(y=this.normalizedStyles,(A,S,D)=>{if(!D.consumable.consume(S.item,A.name))return;const E=Qk(S.attributeNewValue,y),P=Qk(S.attributeOldValue,y),z=D.mapper.toViewElement(S.item),G=D.writer;P&&G.removeClass(P.className,z),E&&G.addClass(E.className,z)});var y;const _=function(A){const S={imageInline:A.filter(D=>!D.isDefault&&D.modelElements.includes("imageInline")),imageBlock:A.filter(D=>!D.isDefault&&D.modelElements.includes("imageBlock"))};return(D,E,P)=>{if(!E.modelRange)return;const z=E.viewItem,G=xn(E.modelRange.getItems());if(G&&P.schema.checkAttribute(G,"imageStyle"))for(const W of S[G.name])P.consumable.consume(z,{classes:W.className})&&P.writer.setAttribute("imageStyle",W.name,G)}}(this.normalizedStyles);c.editing.downcastDispatcher.on("attribute:imageStyle",v),c.data.downcastDispatcher.on("attribute:imageStyle",v),r&&(h.extend("imageBlock",{allowAttributes:"imageStyle"}),c.data.upcastDispatcher.on("element:figure",_,{priority:"low"})),s&&(h.extend("imageInline",{allowAttributes:"imageStyle"}),c.data.upcastDispatcher.on("element:img",_,{priority:"low"}))}_setupPostFixer(){const r=this.editor,s=r.model.document,c=r.plugins.get(Xr),h=new Map(this.normalizedStyles.map(v=>[v.name,v]));s.registerPostFixer(v=>{let y=!1;for(const _ of s.differ.getChanges())if("insert"==_.type||"attribute"==_.type&&"imageStyle"==_.attributeKey){let A="insert"==_.type?_.position.nodeAfter:_.range.start.nodeAfter;if(A&&A.is("element","paragraph")&&A.childCount>0&&(A=A.getChild(0)),!c.isImage(A))continue;const S=A.getAttribute("imageStyle");if(!S)continue;const D=h.get(S);D&&D.modelElements.includes(A.name)||(v.removeAttribute("imageStyle",A),y=!0)}return y})}}var Bp=St(4622);Ut()(Bp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Op extends vt{static get requires(){return[By]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const r=this.editor.t;return{"Wrap text":r("Wrap text"),"Break text":r("Break text"),"In line":r("In line"),"Full size image":r("Full size image"),"Side image":r("Side image"),"Left aligned image":r("Left aligned image"),"Centered image":r("Centered image"),"Right aligned image":r("Right aligned image")}}init(){const r=this.editor.plugins,s=this.editor.config.get("image.toolbar")||[],c=jc(r.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const v of c)this._createButton(v);const h=jc([...s.filter(Pe),...Np.getDefaultDropdownDefinitions(r)],this.localizedDefaultStylesTitles);for(const v of h)this._createDropdown(v,c)}_createDropdown(r,s){const c=this.editor.ui.componentFactory;c.add(r.name,h=>{let v;const{defaultItem:y,items:_,title:A}=r,S=_.filter(z=>s.find(({name:G})=>zy(G)===z)).map(z=>{const G=c.create(z);return z===y&&(v=G),G});_.length!==S.length&&Np.warnInvalidStyle({dropdown:r});const D=bn(h,wc),E=D.buttonView,P=E.arrowView;return bd(D,S,{enableActiveItemFocusOnDropdownOpen:!0}),E.set({label:Vp(A,v.label),class:null,tooltip:!0}),P.unbind("label"),P.set({label:A}),E.bind("icon").toMany(S,"isOn",(...z)=>{const G=z.findIndex($o);return G<0?v.icon:S[G].icon}),E.bind("label").toMany(S,"isOn",(...z)=>{const G=z.findIndex($o);return Vp(A,G<0?v.label:S[G].label)}),E.bind("isOn").toMany(S,"isOn",(...z)=>z.some($o)),E.bind("class").toMany(S,"isOn",(...z)=>z.some($o)?"ck-splitbutton_flatten":null),E.on("execute",()=>{S.some(({isOn:z})=>z)?D.isOpen=!D.isOpen:v.fire("execute")}),D.bind("isEnabled").toMany(S,"isEnabled",(...z)=>z.some($o)),this.listenTo(D,"execute",()=>{this.editor.editing.view.focus()}),D})}_createButton(r){const s=r.name;this.editor.ui.componentFactory.add(zy(s),c=>{const h=this.editor.commands.get("imageStyle"),v=new xe(c);return v.set({label:r.title,icon:r.icon,tooltip:!0,isToggleable:!0}),v.bind("isEnabled").to(h,"isEnabled"),v.bind("isOn").to(h,"value",y=>y===s),v.on("execute",this._executeCommand.bind(this,s)),v})}_executeCommand(r){this.editor.execute("imageStyle",{value:r}),this.editor.editing.view.focus()}}function jc(f,r){for(const s of f)r[s.title]&&(s.title=r[s.title]);return f}function zy(f){return`imageStyle:${f}`}function Vp(f,r){return(f?f+": ":"")+r}function Oy(f){const r=f.map(s=>s.replace("+","\\+"));return new RegExp(`^image\\/(${r.join("|")})$`)}function Jk(f){return new Promise((r,s)=>{const c=f.getAttribute("src");fetch(c).then(h=>h.blob()).then(h=>{const v=t1(h,c),y=v.replace("image/",""),_=new File([h],`image.${y}`,{type:v});r(_)}).catch(h=>{return h&&"TypeError"===h.name?(v=c,(y=v,new Promise((_,A)=>{const S=Yt.document.createElement("img");S.addEventListener("load",()=>{const D=Yt.document.createElement("canvas");D.width=S.width,D.height=S.height,D.getContext("2d").drawImage(S,0,0),D.toBlob(E=>E?_(E):A())}),S.addEventListener("error",()=>A()),S.src=y})).then(y=>{const _=t1(y,v),A=_.replace("image/","");return new File([y],`image.${A}`,{type:_})})).then(r).catch(s):s(h);var v,y})})}function t1(f,r){return f.type?f.type:r.match(/data:(image\/\w+);base64/)?r.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class BT extends vt{static get pluginName(){return"ImageUploadUI"}init(){const r=this.editor,s=r.t,c=h=>{const v=new cT(h),y=r.commands.get("uploadImage"),_=r.config.get("image.upload.types"),A=Oy(_);return v.set({acceptedType:_.map(S=>`image/${S}`).join(","),allowMultipleFiles:!0}),v.buttonView.set({label:s("Insert image"),icon:Ve.image,tooltip:!0}),v.buttonView.bind("isEnabled").to(y),v.on("done",(S,D)=>{const E=Array.from(D).filter(P=>A.test(P.type));E.length&&(r.execute("uploadImage",{file:E}),r.editing.view.focus())}),v};r.ui.componentFactory.add("uploadImage",c),r.ui.componentFactory.add("imageUpload",c)}}var e1=St(5870);Ut()(e1.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Vy=St(9899);Ut()(Vy.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Fy=St(9825);Ut()(Fy.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class OT extends vt{static get pluginName(){return"ImageUploadProgress"}constructor(r){super(r),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const r=this.editor;r.plugins.has("ImageBlockEditing")&&r.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",(...s)=>this.uploadStatusChange(...s)),r.plugins.has("ImageInlineEditing")&&r.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",(...s)=>this.uploadStatusChange(...s))}uploadStatusChange(r,s,c){const h=this.editor,v=s.item,y=v.getAttribute("uploadId");if(!c.consumable.consume(s.item,r.name))return;const _=h.plugins.get("ImageUtils"),A=h.plugins.get(Ni),S=y?s.attributeNewValue:null,D=this.placeholder,E=h.editing.mapper.toViewElement(v),P=c.writer;if("reading"==S)return Fp(E,P),void i1(_,D,E,P);if("uploading"==S){const z=A.loaders.get(y);return Fp(E,P),void(z?(Hy(E,P),function(G,W,$,X){const et=function(ct){const mt=ct.createUIElement("div",{class:"ck-progress-bar"});return ct.setCustomProperty("progressBar",!0,mt),mt}(W);W.insert(W.createPositionAt(G,"end"),et),$.on("change:uploadedPercent",(ct,mt,Ot)=>{X.change(Wt=>{Wt.setStyle("width",Ot+"%",et)})})}(E,P,z,h.editing.view),function(G,W,$,X){if(X.data){const et=G.findViewImgElement(W);$.setAttribute("src",X.data,et)}}(_,E,P,z)):i1(_,D,E,P))}"complete"==S&&A.loaders.get(y)&&function(z,G,W){const $=G.createUIElement("div",{class:"ck-image-upload-complete-icon"});G.insert(G.createPositionAt(z,"end"),$),setTimeout(()=>{W.change(X=>X.remove(X.createRangeOn($)))},3e3)}(E,P,h.editing.view),o1(E,P,"progressBar"),Hy(E,P),P.removeClass("ck-appear",E)}}function Fp(f,r){f.hasClass("ck-appear")||r.addClass("ck-appear",f)}function i1(f,r,s,c){s.hasClass("ck-image-upload-placeholder")||c.addClass("ck-image-upload-placeholder",s);const h=f.findViewImgElement(s);h.getAttribute("src")!==r&&c.setAttribute("src",r,h),no(s,"placeholder")||c.insert(c.createPositionAfter(h),function(v){const y=v.createUIElement("div",{class:"ck-upload-placeholder-loader"});return v.setCustomProperty("placeholder",!0,y),y}(c))}function Hy(f,r){f.hasClass("ck-image-upload-placeholder")&&r.removeClass("ck-image-upload-placeholder",f),o1(f,r,"placeholder")}function no(f,r){for(const s of f.getChildren())if(s.getCustomProperty(r))return s}function o1(f,r,s){const c=no(f,s);c&&r.remove(r.createRangeOn(c))}class a1 extends ae{refresh(){const r=this.editor,s=r.plugins.get("ImageUtils"),c=r.model.document.selection.getSelectedElement();this.isEnabled=s.isImageAllowed()||s.isImage(c)}execute(r){const s=Ge(r.file),c=this.editor.model.document.selection,h=this.editor.plugins.get("ImageUtils"),v=Object.fromEntries(c.getAttributes());s.forEach((y,_)=>{const A=c.getSelectedElement();if(_&&A&&h.isImage(A)){const S=this.editor.model.createPositionAfter(A);this._uploadImage(y,v,S)}else this._uploadImage(y,v)})}_uploadImage(r,s,c){const h=this.editor,v=h.plugins.get(Ni).createLoader(r),y=h.plugins.get("ImageUtils");v&&y.insertImage({...s,uploadId:v.id},c)}}class jy extends vt{static get requires(){return[Ni,Fm,qr,Xr]}static get pluginName(){return"ImageUploadEditing"}constructor(r){super(r),r.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const r=this.editor,s=r.model.document,c=r.conversion,h=r.plugins.get(Ni),v=r.plugins.get("ImageUtils"),y=Oy(r.config.get("image.upload.types")),_=new a1(r);r.commands.add("uploadImage",_),r.commands.add("imageUpload",_),c.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(r.editing.view.document,"clipboardInput",(A,S)=>{if(D=S.dataTransfer,Array.from(D.types).includes("text/html")&&""!==D.getData("text/html"))return;var D;const E=Array.from(S.dataTransfer.files).filter(P=>!!P&&y.test(P.type));E.length&&(A.stop(),r.model.change(P=>{S.targetRanges&&P.setSelection(S.targetRanges.map(z=>r.editing.mapper.toModelRange(z))),r.model.enqueueChange(()=>{r.execute("uploadImage",{file:E})})}))}),this.listenTo(r.plugins.get("ClipboardPipeline"),"inputTransformation",(A,S)=>{const D=Array.from(r.editing.view.createRangeIn(S.content)).filter(P=>{return!(!v.isInlineImageView(G=P.item)||!G.getAttribute("src"))&&(G.getAttribute("src").match(/^data:image\/\w+;base64,/g)||G.getAttribute("src").match(/^blob:/g))&&!P.item.getAttribute("uploadProcessed");var G}).map(P=>({promise:Jk(P.item),imageElement:P.item}));if(!D.length)return;const E=new fc(r.editing.view.document);for(const P of D){E.setAttribute("uploadProcessed",!0,P.imageElement);const z=h.createLoader(P.promise);z&&(E.setAttribute("src","",P.imageElement),E.setAttribute("uploadId",z.id,P.imageElement))}}),r.editing.view.document.on("dragover",(A,S)=>{S.preventDefault()}),s.on("change",()=>{const A=s.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),S=new Set;for(const D of A)if("insert"==D.type&&"$text"!=D.name){const E=D.position.nodeAfter,P="$graveyard"==D.position.root.rootName;for(const z of s1(r,E)){const G=z.getAttribute("uploadId");if(!G)continue;const W=h.loaders.get(G);W&&(P?S.has(G)||W.abort():(S.add(G),this._uploadImageElements.set(G,z),"idle"==W.status&&this._readAndUpload(W)))}}}),this.on("uploadComplete",(A,{imageElement:S,data:D})=>{const E=D.urls?D.urls:D;this.editor.model.change(P=>{P.setAttribute("src",E.default,S),this._parseAndSetSrcsetAttributeOnImage(E,S,P)})},{priority:"low"})}afterInit(){const r=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&r.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&r.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(r){const s=this.editor,c=s.model,h=s.locale.t,v=s.plugins.get(Ni),y=s.plugins.get(Fm),_=s.plugins.get("ImageUtils"),A=this._uploadImageElements;return c.enqueueChange({isUndoable:!1},D=>{D.setAttribute("uploadStatus","reading",A.get(r.id))}),r.read().then(()=>{const D=r.upload(),E=A.get(r.id);if(me.isSafari){const P=s.editing.mapper.toViewElement(E),z=_.findViewImgElement(P);s.editing.view.once("render",()=>{if(!z.parent)return;const G=s.editing.view.domConverter.mapViewToDom(z.parent);if(!G)return;const W=G.style.display;G.style.display="none",G._ckHack=G.offsetHeight,G.style.display=W})}return c.enqueueChange({isUndoable:!1},P=>{P.setAttribute("uploadStatus","uploading",E)}),D}).then(D=>{c.enqueueChange({isUndoable:!1},E=>{const P=A.get(r.id);E.setAttribute("uploadStatus","complete",P),this.fire("uploadComplete",{data:D,imageElement:P})}),S()}).catch(D=>{if("error"!==r.status&&"aborted"!==r.status)throw D;"error"==r.status&&D&&y.showWarning(D,{title:h("Upload failed"),namespace:"upload"}),c.enqueueChange({isUndoable:!1},E=>{E.remove(A.get(r.id))}),S()});function S(){c.enqueueChange({isUndoable:!1},D=>{const E=A.get(r.id);D.removeAttribute("uploadId",E),D.removeAttribute("uploadStatus",E),A.delete(r.id)}),v.destroyLoader(r)}}_parseAndSetSrcsetAttributeOnImage(r,s,c){let h=0;const v=Object.keys(r).filter(y=>{const _=parseInt(y,10);if(!isNaN(_))return h=Math.max(h,_),!0}).map(y=>`${r[y]} ${y}w`).join(", ");""!=v&&c.setAttribute("srcset",{data:v,width:h},s)}}function s1(f,r){const s=f.plugins.get("ImageUtils");return Array.from(f.model.createRangeOn(r)).filter(c=>s.isImage(c.item)).map(c=>c.item)}class Gy extends vt{static get pluginName(){return"IndentEditing"}init(){const r=this.editor;r.commands.add("indent",new Ah(r)),r.commands.add("outdent",new Ah(r))}}const os='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',vl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class VT extends vt{static get pluginName(){return"IndentUI"}init(){const r=this.editor,s=r.locale,c=r.t,h="ltr"==s.uiLanguageDirection?os:vl,v="ltr"==s.uiLanguageDirection?vl:os;this._defineButton("indent",c("Increase indent"),h),this._defineButton("outdent",c("Decrease indent"),v)}_defineButton(r,s,c){const h=this.editor;h.ui.componentFactory.add(r,v=>{const y=h.commands.get(r),_=new xe(v);return _.set({label:s,icon:c,tooltip:!0}),_.bind("isOn","isEnabled").to(y,"value","isEnabled"),this.listenTo(_,"execute",()=>{h.execute(r),h.editing.view.focus()}),_})}}class Un extends ae{constructor(r,s){super(r),this._indentBehavior=s}refresh(){const r=this.editor.model,s=xn(r.document.selection.getSelectedBlocks());this.isEnabled=!(!s||!r.schema.checkAttribute(s,"blockIndent"))&&this._indentBehavior.checkEnabled(s.getAttribute("blockIndent"))}execute(){const r=this.editor.model,s=function(c){const v=c.schema;return Array.from(c.document.selection.getSelectedBlocks()).filter(y=>v.checkAttribute(y,"blockIndent"))}(r);r.change(c=>{for(const h of s){const v=h.getAttribute("blockIndent"),y=this._indentBehavior.getNextIndent(v);y?c.setAttribute("blockIndent",y,h):c.removeAttribute("blockIndent",h)}})}}class Uy{constructor(r){this.isForward="forward"===r.direction,this.offset=r.offset,this.unit=r.unit}checkEnabled(r){const s=parseFloat(r||0);return this.isForward||s>0}getNextIndent(r){const s=parseFloat(r||0);if(r&&!r.endsWith(this.unit))return this.isForward?this.offset+this.unit:void 0;const c=s+(this.isForward?this.offset:-this.offset);return c>0?c+this.unit:void 0}}class Gc{constructor(r){this.isForward="forward"===r.direction,this.classes=r.classes}checkEnabled(r){const s=this.classes.indexOf(r);return this.isForward?s<this.classes.length-1:s>=0}getNextIndent(r){const s=this.classes.indexOf(r);return this.classes[s+(this.isForward?1:-1)]}}const Nd=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class Lo{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(r){Array.isArray(r)?r.forEach(s=>this._definitions.add(s)):this._definitions.add(r)}getDispatcher(){return r=>{r.on("attribute:linkHref",(s,c,h)=>{if(!h.consumable.test(c.item,"attribute:linkHref")||!c.item.is("selection")&&!h.schema.isInline(c.item))return;const v=h.writer,y=v.document.selection;for(const _ of this._definitions){const A=v.createAttributeElement("a",_.attributes,{priority:5});_.classes&&v.addClass(_.classes,A);for(const S in _.styles)v.setStyle(S,_.styles[S],A);v.setCustomProperty("link",!0,A),_.callback(c.attributeNewValue)?c.item.is("selection")?v.wrap(y.getFirstRange(),A):v.wrap(h.mapper.toViewRange(c.range),A):v.unwrap(h.mapper.toViewRange(c.range),A)}},{priority:"high"})}}getDispatcherForLinkedImage(){return r=>{r.on("attribute:linkHref:imageBlock",(s,c,{writer:h,mapper:v})=>{const y=v.toViewElement(c.item),_=Array.from(y.getChildren()).find(A=>"a"===A.name);for(const A of this._definitions){const S=fr(A.attributes);if(A.callback(c.attributeNewValue)){for(const[D,E]of S)"class"===D?h.addClass(E,_):h.setAttribute(D,E,_);A.classes&&h.addClass(A.classes,_);for(const D in A.styles)h.setStyle(D,A.styles[D],_)}else{for(const[D,E]of S)"class"===D?h.removeClass(E,_):h.removeAttribute(D,_);A.classes&&h.removeClass(A.classes,_);for(const D in A.styles)h.removeStyle(D,_)}}})}}}var FT=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const Bd=function(f){return FT.test(f)};var Wy="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Hp="\\ud83c[\\udffb-\\udfff]",Mr="[^\\ud800-\\udfff]",l1="(?:\\ud83c[\\udde6-\\uddff]){2}",Yy="[\\ud800-\\udbff][\\udc00-\\udfff]",zd="(?:"+Wy+"|"+Hp+")?",c1="[\\ufe0e\\ufe0f]?",u1=c1+zd+"(?:\\u200d(?:"+[Mr,l1,Yy].join("|")+")"+c1+zd+")*",GT="(?:"+[Mr+Wy+"?",Wy,l1,Yy,"[\\ud800-\\udfff]"].join("|")+")",d1=RegExp(Hp+"(?="+Hp+")|"+GT+u1,"g");const h1=function(r){r=mv(r);var s=Bd(r)?function(f){return Bd(f)?function(f){return f.match(d1)||[]}(f):function(f){return f.split("")}(f)}(r):void 0,c=s?s[0]:r.charAt(0),h=s?function(f,r,s){var c=f.length;return wv(f,1,s=void 0===s?c:s)}(s).join(""):r.slice(1);return c.toUpperCase()+h},Jr=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,WT=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,YT=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,f1=/^((\w+:(\/{2,})?)|(\W))/i,zn="Ctrl+K";function Ir(f,{writer:r}){const s=r.createAttributeElement("a",{href:f},{priority:5});return r.setCustomProperty("link",!0,s),s}function p1(f){return function(r){return r.replace(Jr,"").match(WT)}(f=String(f))?f:"#"}function jp(f,r){return!!f&&r.checkAttribute(f.name,"linkHref")}function qy(f,r){const s=YT.test(f)?"mailto:":r,h=!!s&&!Od(f);return f&&h?s+f:f}function Od(f){return f1.test(f)}function g1(f){window.open(f,"_blank","noopener")}class v1 extends ae{constructor(r){super(r),this.manualDecorators=new nr,this.automaticDecorators=new Lo}restoreManualDecoratorStates(){for(const r of this.manualDecorators)r.value=this._getDecoratorStateFromModel(r.id)}refresh(){const r=this.editor.model,s=r.document.selection,c=s.getSelectedElement()||xn(s.getSelectedBlocks());jp(c,r.schema)?(this.value=c.getAttribute("linkHref"),this.isEnabled=r.schema.checkAttribute(c,"linkHref")):(this.value=s.getAttribute("linkHref"),this.isEnabled=r.schema.checkAttributeInSelection(s,"linkHref"));for(const h of this.manualDecorators)h.value=this._getDecoratorStateFromModel(h.id)}execute(r,s={}){const c=this.editor.model,h=c.document.selection,v=[],y=[];for(const _ in s)s[_]?v.push(_):y.push(_);c.change(_=>{if(h.isCollapsed){const A=h.getFirstPosition();if(h.hasAttribute("linkHref")){const S=Pc(A,"linkHref",h.getAttribute("linkHref"),c);_.setAttribute("linkHref",r,S),v.forEach(D=>{_.setAttribute(D,!0,S)}),y.forEach(D=>{_.removeAttribute(D,S)}),_.setSelection(_.createPositionAfter(S.end.nodeBefore))}else if(""!==r){const S=fr(h.getAttributes());S.set("linkHref",r),v.forEach(E=>{S.set(E,!0)});const{end:D}=c.insertContent(_.createText(r,S),A);_.setSelection(D)}["linkHref",...v,...y].forEach(S=>{_.removeSelectionAttribute(S)})}else{const A=c.schema.getValidRanges(h.getRanges(),"linkHref"),S=[];for(const E of h.getSelectedBlocks())c.schema.checkAttribute(E,"linkHref")&&S.push(_.createRangeOn(E));const D=S.slice();for(const E of A)this._isRangeToUpdate(E,S)&&D.push(E);for(const E of D)_.setAttribute("linkHref",r,E),v.forEach(P=>{_.setAttribute(P,!0,E)}),y.forEach(P=>{_.removeAttribute(P,E)})}})}_getDecoratorStateFromModel(r){const s=this.editor.model,c=s.document.selection,h=c.getSelectedElement();return jp(h,s.schema)?h.getAttribute(r):c.getAttribute(r)}_isRangeToUpdate(r,s){for(const c of s)if(c.containsRange(r))return!1;return!0}}class Zy extends ae{refresh(){const r=this.editor.model,s=r.document.selection,c=s.getSelectedElement();this.isEnabled=jp(c,r.schema)?r.schema.checkAttribute(c,"linkHref"):r.schema.checkAttributeInSelection(s,"linkHref")}execute(){const s=this.editor.model,c=s.document.selection,h=this.editor.commands.get("link");s.change(v=>{const y=c.isCollapsed?[Pc(c.getFirstPosition(),"linkHref",c.getAttribute("linkHref"),s)]:s.schema.getValidRanges(c.getRanges(),"linkHref");for(const _ of y)if(v.removeAttribute("linkHref",_),h)for(const A of h.manualDecorators)v.removeAttribute(A.id,_)})}}class m1{constructor({id:r,label:s,attributes:c,classes:h,styles:v,defaultValue:y}){this.id=r,this.set("value"),this.defaultValue=y,this.label=s,this.attributes=c,this.classes=h,this.styles=v}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}qn(m1,Cu);var Gp=St(399);Ut()(Gp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const $y="automatic",ZT=/^(https?:)?\/\//;class Vd extends vt{static get pluginName(){return"LinkEditing"}static get requires(){return[Qm,rk,qr]}constructor(r){super(r),r.config.define("link",{addTargetToExternalLinks:!1})}init(){const r=this.editor;r.model.schema.extend("$text",{allowAttributes:"linkHref"}),r.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Ir}),r.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(c,h)=>Ir(p1(c),h)}),r.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:c=>c.getAttribute("href")}}),r.commands.add("link",new v1(r)),r.commands.add("unlink",new Zy(r));const s=function(c,h){const v={"Open in a new tab":c("Open in a new tab"),Downloadable:c("Downloadable")};return h.forEach(y=>(y.label&&v[y.label]&&(y.label=v[y.label]),y)),h}(r.t,function(c){const h=[];if(c)for(const[v,y]of Object.entries(c)){const _=Object.assign({},y,{id:`link${h1(v)}`});h.push(_)}return h}(r.config.get("link.decorators")));this._enableAutomaticDecorators(s.filter(c=>c.mode===$y)),this._enableManualDecorators(s.filter(c=>"manual"===c.mode)),r.plugins.get(Qm).registerAttribute("linkHref"),function(c,h,v,y){const _=c.editing.view,A=new Set;_.document.registerPostFixer(S=>{const D=c.model.document.selection;let E=!1;if(D.hasAttribute(h)){const P=Pc(D.getFirstPosition(),h,D.getAttribute(h),c.model),z=c.editing.mapper.toViewRange(P);for(const G of z.getItems())G.is("element","a")&&!G.hasClass(y)&&(S.addClass(y,G),A.add(G),E=!0)}return E}),c.conversion.for("editingDowncast").add(S=>{function D(){_.change(E=>{for(const P of A.values())E.removeClass(y,P),A.delete(P)})}S.on("insert",D,{priority:"highest"}),S.on("remove",D,{priority:"highest"}),S.on("attribute",D,{priority:"highest"}),S.on("selection",D,{priority:"highest"})})}(r,"linkHref",0,"ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}_enableAutomaticDecorators(r){const s=this.editor,c=s.commands.get("link").automaticDecorators;s.config.get("link.addTargetToExternalLinks")&&c.add({id:"linkIsExternal",mode:$y,callback:h=>ZT.test(h),attributes:{target:"_blank",rel:"noopener noreferrer"}}),c.add(r),c.length&&s.conversion.for("downcast").add(c.getDispatcher())}_enableManualDecorators(r){if(!r.length)return;const s=this.editor,c=s.commands.get("link").manualDecorators;r.forEach(h=>{s.model.schema.extend("$text",{allowAttributes:h.id}),h=new m1(h),c.add(h),s.conversion.for("downcast").attributeToElement({model:h.id,view:(v,{writer:y,schema:_},{item:A})=>{if((A.is("selection")||_.isInline(A))&&v){const S=y.createAttributeElement("a",h.attributes,{priority:5});h.classes&&y.addClass(h.classes,S);for(const D in h.styles)y.setStyle(D,h.styles[D],S);return y.setCustomProperty("link",!0,S),S}}}),s.conversion.for("upcast").elementToAttribute({view:{name:"a",...h._createPattern()},model:{key:h.id}})})}_enableLinkOpen(){const r=this.editor,s=r.editing.view.document;this.listenTo(s,"click",(c,h)=>{if(!(me.isMac?h.domEvent.metaKey:h.domEvent.ctrlKey))return;let v=h.domTarget;if("a"!=v.tagName.toLowerCase()&&(v=v.closest("a")),!v)return;const y=v.getAttribute("href");y&&(c.stop(),h.preventDefault(),g1(y))},{context:"$capture"}),this.listenTo(s,"keydown",(c,h)=>{const v=r.commands.get("link").value;v&&h.keyCode===Ce.enter&&h.altKey&&(c.stop(),g1(v))})}_enableInsertContentSelectionAttributesFixer(){const r=this.editor.model,s=r.document.selection;this.listenTo(r,"insertContent",()=>{const c=s.anchor.nodeBefore,h=s.anchor.nodeAfter;s.hasAttribute("linkHref")&&c&&c.hasAttribute("linkHref")&&(h&&h.hasAttribute("linkHref")||r.change(v=>{Ky(v,ya(r.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const r=this.editor,s=r.model;r.editing.view.addObserver($a);let c=!1;this.listenTo(r.editing.view.document,"mousedown",()=>{c=!0}),this.listenTo(r.editing.view.document,"selectionChange",()=>{if(!c)return;c=!1;const h=s.document.selection;if(!h.isCollapsed||!h.hasAttribute("linkHref"))return;const v=h.getFirstPosition(),y=Pc(v,"linkHref",h.getAttribute("linkHref"),s);(v.isTouching(y.start)||v.isTouching(y.end))&&s.change(_=>{Ky(_,ya(s.schema))})})}_enableTypingOverLink(){const r=this.editor;let c,h;this.listenTo(r.editing.view.document,"delete",()=>{h=!0},{priority:"high"}),this.listenTo(r.model,"deleteContent",()=>{const v=r.model.document.selection;v.isCollapsed||(h?h=!1:Xy(r)&&function(y){const _=y.document.selection,A=_.getFirstPosition(),S=_.getLastPosition(),D=A.nodeAfter;return!!(D&&D.is("$text")&&D.hasAttribute("linkHref"))&&(D===(S.textNode||S.nodeBefore)||Pc(A,"linkHref",D.getAttribute("linkHref"),y).containsRange(y.createRange(A,S),!0))}(r.model)&&(c=v.getAttributes()))},{priority:"high"}),this.listenTo(r.model,"insertContent",(v,[y])=>{h=!1,Xy(r)&&c&&(r.model.change(_=>{for(const[A,S]of c)_.setAttribute(A,S,y)}),c=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const r=this.editor,s=r.model,c=s.document.selection;let v=!1,y=!1;this.listenTo(r.editing.view.document,"delete",(_,A)=>{y="backward"===A.direction},{priority:"high"}),this.listenTo(s,"deleteContent",()=>{v=!1;const _=c.getFirstPosition(),A=c.getAttribute("linkHref");if(!A)return;const S=Pc(_,"linkHref",A,s);v=S.containsPosition(_)||S.end.isEqual(_)},{priority:"high"}),this.listenTo(s,"deleteContent",()=>{y&&(y=!1,v||r.model.enqueueChange(_=>{Ky(_,ya(s.schema))}))},{priority:"low"})}}function Ky(f,r){f.removeSelectionAttribute("linkHref");for(const s of r)f.removeSelectionAttribute(s)}function Xy(f){return f.model.change(r=>r.batch).isTyping}function ya(f){return f.getDefinition("$text").allowAttributes.filter(r=>r.startsWith("link"))}var as=St(4827);Ut()(as.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Wp extends he{constructor(r,s){super(r);const c=r.t;this.focusTracker=new Zn,this.keystrokes=new gr,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(c("Save"),Ve.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(c("Cancel"),Ve.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(s),this.children=this._createFormChildren(s.manualDecorators),this._focusables=new To,this._focusCycler=new Xa({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const h=["ck","ck-link-form","ck-responsive-form"];s.manualDecorators.length&&h.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:h,tabindex:"-1"},children:this.children}),Qi(this)}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((r,s)=>(r[s.name]=s.isOn,r),{})}render(){super.render(),bc({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(r=>{this._focusables.add(r),this.focusTracker.add(r.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const r=this.locale.t,s=new np(this.locale,wd);return s.label=r("Link URL"),s}_createButton(r,s,c,h){const v=new xe(this.locale);return v.set({label:r,icon:s,tooltip:!0}),v.extendTemplate({attributes:{class:c}}),h&&v.delegate("execute").to(this,h),v}_createManualDecoratorSwitches(r){const s=this.createCollection();for(const c of r.manualDecorators){const h=new vi(this.locale);h.set({name:c.id,label:c.label,withText:!0}),h.bind("isOn").toMany([c,r],"value",(v,y)=>void 0===y&&void 0===v?c.defaultValue:v),h.on("execute",()=>{c.set("value",!h.isOn)}),s.add(h)}return s}_createFormChildren(r){const s=this.createCollection();if(s.add(this.urlInputView),r.length){const c=new he;c.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(h=>({tag:"li",children:[h],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),s.add(c)}return s.add(this.saveButtonView),s.add(this.cancelButtonView),s}}var y1=St(9465);Ut()(y1.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class $T extends he{constructor(r){super(r);const s=r.t;this.focusTracker=new Zn,this.keystrokes=new gr,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(s("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(s("Edit link"),Ve.pencil,"edit"),this.set("href"),this._focusables=new To,this._focusCycler=new Xa({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(r=>{this._focusables.add(r),this.focusTracker.add(r.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(r,s,c){const h=new xe(this.locale);return h.set({label:r,icon:s,tooltip:!0}),h.delegate("execute").to(this,c),h}_createPreviewButton(){const r=new xe(this.locale),s=this.bindTemplate,c=this.t;return r.set({withText:!0,tooltip:c("Open link in new tab")}),r.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:s.to("href",h=>h&&p1(h)),target:"_blank",rel:"noopener noreferrer"}}),r.bind("label").to(this,"href",h=>h||c("This link has no URL")),r.bind("isEnabled").to(this,"href",h=>!!h),r.template.tag="a",r.template.eventListeners={},r}}const Po="link-ui";class KT extends vt{static get requires(){return[ip]}static get pluginName(){return"LinkUI"}init(){const r=this.editor;r.editing.view.addObserver(Za),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=r.plugins.get(ip),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),r.conversion.for("editingDowncast").markerToHighlight({model:Po,view:{classes:["ck-fake-link-selection"]}}),r.conversion.for("editingDowncast").markerToElement({model:Po,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const r=this.editor,s=new $T(r.locale),c=r.commands.get("link"),h=r.commands.get("unlink");return s.bind("href").to(c,"value"),s.editButtonView.bind("isEnabled").to(c),s.unlinkButtonView.bind("isEnabled").to(h),this.listenTo(s,"edit",()=>{this._addFormView()}),this.listenTo(s,"unlink",()=>{r.execute("unlink"),this._hideUI()}),s.keystrokes.set("Esc",(v,y)=>{this._hideUI(),y()}),s.keystrokes.set(zn,(v,y)=>{this._addFormView(),y()}),s}_createFormView(){const r=this.editor,s=r.commands.get("link"),c=r.config.get("link.defaultProtocol"),h=new Wp(r.locale,s);return h.urlInputView.fieldView.bind("value").to(s,"value"),h.urlInputView.bind("isReadOnly").to(s,"isEnabled",v=>!v),h.saveButtonView.bind("isEnabled").to(s),this.listenTo(h,"submit",()=>{const{value:v}=h.urlInputView.fieldView.element,y=qy(v,c);r.execute("link",y,h.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(h,"cancel",()=>{this._closeFormView()}),h.keystrokes.set("Esc",(v,y)=>{this._closeFormView(),y()}),h}_createToolbarLinkButton(){const r=this.editor,s=r.commands.get("link"),c=r.t;r.keystrokes.set(zn,(h,v)=>{v(),s.isEnabled&&this._showUI(!0)}),r.ui.componentFactory.add("link",h=>{const v=new xe(h);return v.isEnabled=!0,v.label=c("Link"),v.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',v.keystroke=zn,v.tooltip=!0,v.isToggleable=!0,v.bind("isEnabled").to(s,"isEnabled"),v.bind("isOn").to(s,"value",y=>!!y),this.listenTo(v,"execute",()=>this._showUI(!0)),v})}_enableUserBalloonInteractions(){this.listenTo(this.editor.editing.view.document,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(s,c)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),c())},{priority:"high"}),this.editor.keystrokes.set("Esc",(s,c)=>{this._isUIVisible&&(this._hideUI(),c())}),Gf({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const r=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=r.value||""}_closeFormView(){const r=this.editor.commands.get("link");r.restoreManualDecoratorStates(),void 0!==r.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(r=!1){this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),r&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),r&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const r=this.editor;this.stopListening(r.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),r.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const r=this.editor,s=r.editing.view.document;let c=this._getSelectedLinkElement(),h=y();const v=()=>{const _=this._getSelectedLinkElement(),A=y();c&&!_||!c&&A!==h?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),c=_,h=A};function y(){return s.selection.focus.getAncestors().reverse().find(_=>_.is("element"))}this.listenTo(r.ui,"update",v),this.listenTo(this._balloon,"change:visibleView",v)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const r=this.editor.editing.view,c=r.document;let h=null;if(this.editor.model.markers.has(Po)){const v=Array.from(this.editor.editing.mapper.markerNameToElements(Po)),y=r.createRange(r.createPositionBefore(v[0]),r.createPositionAfter(v[v.length-1]));h=r.domConverter.viewRangeToDom(y)}else h=()=>{const v=this._getSelectedLinkElement();return v?r.domConverter.mapViewToDom(v):r.domConverter.viewRangeToDom(c.selection.getFirstRange())};return{target:h}}_getSelectedLinkElement(){const r=this.editor.editing.view,s=r.document.selection,c=s.getSelectedElement();if(s.isCollapsed||c&&tn(c))return Uc(s.getFirstPosition());{const h=s.getFirstRange().getTrimmed(),v=Uc(h.start),y=Uc(h.end);return v&&v==y&&r.createRangeIn(v).getTrimmed().isEqual(h)?v:null}}_showFakeVisualSelection(){const r=this.editor.model;r.change(s=>{const c=r.document.selection.getFirstRange();if(r.markers.has(Po))s.updateMarker(Po,{range:c});else if(c.start.isAtEnd){const h=c.start.getLastMatchingPosition(({item:v})=>!r.schema.isContent(v),{boundaries:c});s.addMarker(Po,{usingOperation:!1,affectsData:!1,range:s.createRange(h,c.end)})}else s.addMarker(Po,{usingOperation:!1,affectsData:!1,range:c})})}_hideFakeVisualSelection(){const r=this.editor.model;r.markers.has(Po)&&r.change(s=>{s.removeMarker(Po)})}}function Uc(f){return f.getAncestors().find(r=>{return(s=r).is("attributeElement")&&!!s.getCustomProperty("link");var s})}const qp=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class Qy extends vt{static get requires(){return[ua]}static get pluginName(){return"AutoLink"}init(){const r=this.editor.model.document.selection;r.on("change:range",()=>{this.isEnabled=!r.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const r=this.editor,s=new ok(r.model,c=>{if(!((v=c).length>4&&" "===v[v.length-1]&&" "!==v[v.length-2]))return;var v;const h=b1(c.substr(0,c.length-1));return h?{url:h}:void 0});s.on("matched:data",(c,h)=>{const{batch:v,range:y,url:_}=h;if(!v.isTyping)return;const A=y.end.getShiftedBy(-1),S=A.getShiftedBy(-_.length),D=r.model.createRange(S,A);this._applyAutoLink(_,D)}),s.bind("isEnabled").to(this)}_enableEnterHandling(){const r=this.editor,s=r.model,c=r.commands.get("enter");c&&c.on("execute",()=>{const h=s.document.selection.getFirstPosition();if(!h.parent.previousSibling)return;const v=s.createRangeIn(h.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(v)})}_enableShiftEnterHandling(){const r=this.editor,s=r.model,c=r.commands.get("shiftEnter");c&&c.on("execute",()=>{const h=s.document.selection.getFirstPosition(),v=s.createRange(s.createPositionAt(h.parent,0),h.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(v)})}_checkAndApplyAutoLinkOnRange(r){const s=this.editor.model,{text:c,range:h}=al(r,s),v=b1(c);if(v){const y=s.createRange(h.end.getShiftedBy(-v.length),h.end);this._applyAutoLink(v,y)}}_applyAutoLink(r,s){const c=this.editor.model,h=qy(r,this.editor.config.get("link.defaultProtocol"));var y;this.isEnabled&&(y=c).schema.checkAttributeInSelection(y.createSelection(s),"linkHref")&&Od(h)&&!function(v){const y=v.start.nodeAfter;return y&&y.hasAttribute("linkHref")}(s)&&this._persistAutoLink(h,s)}_persistAutoLink(r,s){const c=this.editor.model,h=this.editor.plugins.get("Delete");c.enqueueChange(v=>{v.setAttribute("linkHref",r,s),c.enqueueChange(()=>{h.requestUndoOnBackspace()})})}}function b1(f){const r=qp.exec(f);return r?r[2]:null}class w1 extends ae{constructor(r,s){super(r),this.type=s}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(r={}){const s=this.editor.model,h=Array.from(s.document.selection.getSelectedBlocks()).filter(y=>Bi(y,s.schema)),v=void 0!==r.forceValue?!r.forceValue:this.value;s.change(y=>{if(v){let _=h[h.length-1].nextSibling,A=Number.POSITIVE_INFINITY,S=[];for(;_&&"listItem"==_.name&&0!==_.getAttribute("listIndent");){const D=_.getAttribute("listIndent");D<A&&(A=D),S.push({element:_,listIndent:D-A}),_=_.nextSibling}S=S.reverse();for(const D of S)y.setAttribute("listIndent",D.listIndent,D.element)}if(!v){let _=Number.POSITIVE_INFINITY;for(const A of h)A.is("element","listItem")&&A.getAttribute("listIndent")<_&&(_=A.getAttribute("listIndent"));_=0===_?1:_,_1(h,!0,_),_1(h,!1,_)}for(const _ of h.reverse())v&&"listItem"==_.name?y.rename(_,"paragraph"):v||"listItem"==_.name?v||"listItem"!=_.name||_.getAttribute("listType")==this.type||y.setAttribute("listType",this.type,_):(y.setAttributes({listType:this.type,listIndent:0},_),y.rename(_,"listItem"));this.fire("_executeCleanup",h)})}_getValue(){const r=xn(this.editor.model.document.selection.getSelectedBlocks());return!!r&&r.is("element","listItem")&&r.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const s=this.editor.model.schema,c=xn(this.editor.model.document.selection.getSelectedBlocks());return!!c&&Bi(c,s)}}function _1(f,r,s){const c=r?f[0]:f[f.length-1];if(c.is("element","listItem")){let h=c[r?"previousSibling":"nextSibling"],v=c.getAttribute("listIndent");for(;h&&h.is("element","listItem")&&h.getAttribute("listIndent")>=s;)v>h.getAttribute("listIndent")&&(v=h.getAttribute("listIndent")),h.getAttribute("listIndent")==v&&f[r?"unshift":"push"](h),h=h[r?"previousSibling":"nextSibling"]}}function Bi(f,r){return r.checkChild(f.parent,"listItem")&&!r.isObject(f)}class Zp extends ae{constructor(r,s){super(r),this._indentBy="forward"==s?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const r=this.editor.model;let c=Array.from(r.document.selection.getSelectedBlocks());r.change(h=>{const v=c[c.length-1];let y=v.nextSibling;for(;y&&"listItem"==y.name&&y.getAttribute("listIndent")>v.getAttribute("listIndent");)c.push(y),y=y.nextSibling;this._indentBy<0&&(c=c.reverse());for(const _ of c){const A=_.getAttribute("listIndent")+this._indentBy;A<0?h.rename(_,"paragraph"):h.setAttribute("listIndent",A,_)}this.fire("_executeCleanup",c)})}_checkEnabled(){const r=xn(this.editor.model.document.selection.getSelectedBlocks());if(!r||!r.is("element","listItem"))return!1;if(this._indentBy>0){const s=r.getAttribute("listIndent"),c=r.getAttribute("listType");let h=r.previousSibling;for(;h&&h.is("element","listItem")&&h.getAttribute("listIndent")>=s;){if(h.getAttribute("listIndent")==s)return h.getAttribute("listType")==c;h=h.previousSibling}return!1}return!0}}function Jy(f,r,s,c){const h=r.parent,v=s.mapper,y=s.writer;let _=v.toViewPosition(c.createPositionBefore(f));const A=ml(f.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:f.getAttribute("listIndent")}),S=f.previousSibling;if(A&&A.getAttribute("listIndent")==f.getAttribute("listIndent")){const D=v.toViewElement(A);_=y.breakContainer(y.createPositionAfter(D))}else if(S&&"listItem"==S.name){_=v.toViewPosition(c.createPositionAt(S,"end"));const D=v.findMappedViewAncestor(_),E=function(P){for(const z of P.getChildren())if("ul"==z.name||"ol"==z.name)return z;return null}(D);_=E?y.createPositionBefore(E):y.createPositionAt(D,"end")}else _=v.toViewPosition(c.createPositionBefore(f));if(_=bi(_),y.insert(_,h),S&&"listItem"==S.name){const D=v.toViewElement(S),E=y.createRange(y.createPositionAt(D,0),_).getWalker({ignoreElementEnd:!0});for(const P of E)if(P.item.is("element","li")){const z=y.breakContainer(y.createPositionBefore(P.item)),G=P.item.parent,W=y.createPositionAt(r,"end");yi(y,W.nodeBefore,W.nodeAfter),y.move(y.createRangeOn(G),W),E.position=z}}else{const D=h.nextSibling;if(D&&(D.is("element","ul")||D.is("element","ol"))){let E=null;for(const P of D.getChildren()){const z=v.toModelElement(P);if(!(z&&z.getAttribute("listIndent")>f.getAttribute("listIndent")))break;E=P}E&&(y.breakContainer(y.createPositionAfter(E)),y.move(y.createRangeOn(E.parent),y.createPositionAt(r,"end")))}}yi(y,h,h.nextSibling),yi(y,h.previousSibling,h)}function yi(f,r,s){return!r||!s||"ul"!=r.name&&"ol"!=r.name||r.name!=s.name||r.getAttribute("class")!==s.getAttribute("class")?null:f.mergeContainers(f.createPositionAfter(r))}function bi(f){return f.getLastMatchingPosition(r=>r.item.is("uiElement"))}function ml(f,r){const s=!!r.sameIndent,c=!!r.smallerIndent,h=r.listIndent;let v=f;for(;v&&"listItem"==v.name;){const y=v.getAttribute("listIndent");if(s&&h==y||c&&h>y)return v;v="forward"===r.direction?v.nextSibling:v.previousSibling}return null}function yl(f,r,s,c){f.ui.componentFactory.add(r,h=>{const v=f.commands.get(r),y=new xe(h);return y.set({label:s,icon:c,tooltip:!0,isToggleable:!0}),y.bind("isOn","isEnabled").to(v,"value","isEnabled"),y.on("execute",()=>{f.execute(r),f.editing.view.focus()}),y})}function t0(f,r){const s=[],c=f.parent,h={ignoreElementEnd:!1,startPosition:f,shallow:!0,direction:r},v=c.getAttribute("listIndent"),y=[...new _o(h)].filter(_=>_.item.is("element")).map(_=>_.item);for(const _ of y){if(!_.is("element","listItem")||_.getAttribute("listIndent")<v)break;if(!(_.getAttribute("listIndent")>v)){if(_.getAttribute("listType")!==c.getAttribute("listType")||_.getAttribute("listStyle")!==c.getAttribute("listStyle")||_.getAttribute("listReversed")!==c.getAttribute("listReversed")||_.getAttribute("listStart")!==c.getAttribute("listStart"))break;"backward"===r?s.unshift(_):s.push(_)}}return s}function Wc(f){let r=[...f.document.selection.getSelectedBlocks()].filter(s=>s.is("element","listItem")).map(s=>{const c=f.change(h=>h.createPositionAt(s,0));return[...t0(c,"backward"),...t0(c,"forward")]}).flat();return r=[...new Set(r)],r}const bl=["disc","circle","square"],io=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function Kp(){const f=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||f?0:ji.call(this)}function e0(f){return(r,s,c)=>{const h=c.consumable;if(!h.test(s.item,"insert")||!h.test(s.item,"attribute:listType")||!h.test(s.item,"attribute:listIndent"))return;h.consume(s.item,"insert"),h.consume(s.item,"attribute:listType"),h.consume(s.item,"attribute:listIndent");const v=s.item;Jy(v,function(f,r){const s=r.mapper,c=r.writer,h="numbered"==f.getAttribute("listType")?"ol":"ul",v=function(_){const A=_.createContainerElement("li");return A.getFillerOffset=Kp,A}(c),y=c.createContainerElement(h,null);return c.insert(c.createPositionAt(y,0),v),s.bindElements(f,v),v}(v,c),c,f)}}function XT(f,r,s){if(!s.consumable.test(r.item,f.name))return;const c=s.mapper.toViewElement(r.item),h=s.writer;h.breakContainer(h.createPositionBefore(c)),h.breakContainer(h.createPositionAfter(c)),h.rename("numbered"==r.attributeNewValue?"ol":"ul",c.parent)}function Fd(f,r,s){s.consumable.consume(r.item,f.name);const c=s.mapper.toViewElement(r.item).parent,h=s.writer;yi(h,c,c.nextSibling),yi(h,c.previousSibling,c)}function n0(f,r,s){if(s.consumable.test(r.item,f.name)&&"listItem"!=r.item.name){let c=s.mapper.toViewPosition(r.range.start);const h=s.writer,v=[];for(;("ul"==c.parent.name||"ol"==c.parent.name)&&(c=h.breakContainer(c),"li"==c.parent.name);){const y=c,_=h.createPositionAt(c.parent,"end");if(!y.isEqual(_)){const A=h.remove(h.createRange(y,_));v.push(A)}c=h.createPositionAfter(c.parent)}if(v.length>0){for(let y=0;y<v.length;y++){const _=c.nodeBefore;if(c=h.insert(c,v[y]).end,y>0){const A=yi(h,_,_.nextSibling);A&&A.parent==_&&c.offset--}}yi(h,c.nodeBefore,c.nodeAfter)}}}function QT(f,r,s){const c=s.mapper.toViewPosition(r.position);yi(s.writer,c.nodeBefore,c.nodeAfter)}function Hd(f,r,s){if(s.consumable.consume(r.viewItem,{name:!0})){const c=s.writer,h=c.createElement("listItem"),v=function(A){let S=0,D=A.parent;for(;D;){if(D.is("element","li"))S++;else{const E=D.previousSibling;E&&E.is("element","li")&&S++}D=D.parent}return S}(r.viewItem);if(c.setAttribute("listIndent",v,h),c.setAttribute("listType",r.viewItem.parent&&"ol"==r.viewItem.parent.name?"numbered":"bulleted",h),!s.safeInsert(h,r.modelCursor))return;const _=function(A,S,D){const{writer:E,schema:P}=D;let z=E.createPositionAfter(A);for(const G of S)if("ul"==G.name||"ol"==G.name)z=D.convertItem(G,z).modelCursor;else{const W=D.convertItem(G,E.createPositionAt(A,"end")),$=W.modelRange.start.nodeAfter;$&&$.is("element")&&!P.checkChild(A,$.name)&&(A=W.modelCursor.parent.is("element","listItem")?W.modelCursor.parent:qc(W.modelCursor),z=E.createPositionAfter(A))}return z}(h,r.viewItem.getChildren(),s);r.modelRange=c.createRange(r.modelCursor,_),s.updateConversionResult(h,r)}}function Yc(f,r,s){if(s.consumable.test(r.viewItem,{name:!0})){const c=Array.from(r.viewItem.getChildren());for(const h of c)!h.is("element","li")&&!wi(h)&&h._remove()}}function k1(f,r,s){if(s.consumable.test(r.viewItem,{name:!0})){if(0===r.viewItem.childCount)return;const c=[...r.viewItem.getChildren()];let h=!1;for(const v of c)h&&!wi(v)&&v._remove(),wi(v)&&(h=!0)}}function Xp(f){return(r,s)=>{if(s.isPhantom)return;const c=s.modelPosition.nodeBefore;if(c&&c.is("element","listItem")){const h=s.mapper.toViewElement(c),v=h.getAncestors().find(wi),y=f.createPositionAt(h,0).getWalker();for(const _ of y){if("elementStart"==_.type&&_.item.is("element","li")){s.viewPosition=_.previousPosition;break}if("elementEnd"==_.type&&_.item==v){s.viewPosition=_.nextPosition;break}}}}}function JT(f,[r,s,c]){let h,v=r.is("documentFragment")?r.getChild(0):r;if(h=s?this.createSelection(s,c):this.document.selection,v&&v.is("element","listItem")){const y=h.getFirstPosition();let _=null;if(y.parent.is("element","listItem")?_=y.parent:y.nodeBefore&&y.nodeBefore.is("element","listItem")&&(_=y.nodeBefore),_){const A=_.getAttribute("listIndent");if(A>0)for(;v&&v.is("element","listItem");)v._setAttribute("listIndent",v.getAttribute("listIndent")+A),v=v.nextSibling}}}function qc(f){const r=new _o({startPosition:f});let s;do{s=r.next()}while(!s.value.item.is("element","listItem"));return s.value.item}function r0(f,r,s,c,h,v){const y=ml(r.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:f,foo:"b"}),_=h.mapper,A=h.writer,S=y?y.getAttribute("listIndent"):null;let D;if(y)if(S==f){const E=_.toViewElement(y).parent;D=A.createPositionAfter(E)}else{const E=v.createPositionAt(y,"end");D=_.toViewPosition(E)}else D=s;D=bi(D);for(const E of[...c.getChildren()])wi(E)&&(D=A.move(A.createRangeOn(E),D).end,yi(A,E,E.nextSibling),yi(A,E.previousSibling,E))}function wi(f){return f.is("element","ol")||f.is("element","ul")}class i0 extends vt{static get pluginName(){return"ListEditing"}static get requires(){return[Sc,ua]}init(){const r=this.editor;r.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const s=r.data,c=r.editing;var h;r.model.document.registerPostFixer(y=>function(_,A){const S=_.document.differ.getChanges(),D=new Map;let E=!1;for(const W of S)if("insert"==W.type&&"listItem"==W.name)P(W.position);else if("insert"==W.type&&"listItem"!=W.name){if("$text"!=W.name){const $=W.position.nodeAfter;$.hasAttribute("listIndent")&&(A.removeAttribute("listIndent",$),E=!0),$.hasAttribute("listType")&&(A.removeAttribute("listType",$),E=!0),$.hasAttribute("listStyle")&&(A.removeAttribute("listStyle",$),E=!0),$.hasAttribute("listReversed")&&(A.removeAttribute("listReversed",$),E=!0),$.hasAttribute("listStart")&&(A.removeAttribute("listStart",$),E=!0);for(const X of Array.from(_.createRangeIn($)).filter(et=>et.item.is("element","listItem")))P(X.previousPosition)}P(W.position.getShiftedBy(W.length))}else"remove"==W.type&&"listItem"==W.name?P(W.position):("attribute"==W.type&&"listIndent"==W.attributeKey||"attribute"==W.type&&"listType"==W.attributeKey)&&P(W.range.start);for(const W of D.values())z(W),G(W);return E;function P(W){const $=W.nodeBefore;if($&&$.is("element","listItem")){let X=$;if(D.has(X))return;for(let et=X.previousSibling;et&&et.is("element","listItem");et=X.previousSibling)if(X=et,D.has(X))return;D.set($,X)}else{const X=W.nodeAfter;X&&X.is("element","listItem")&&D.set(X,X)}}function z(W){let $=0,X=null;for(;W&&W.is("element","listItem");){const et=W.getAttribute("listIndent");if(et>$){let ct;null===X?(X=et-$,ct=$):(X>et&&(X=et),ct=et-X),A.setAttribute("listIndent",ct,W),E=!0}else X=null,$=W.getAttribute("listIndent")+1;W=W.nextSibling}}function G(W){let $=[],X=null;for(;W&&W.is("element","listItem");){const et=W.getAttribute("listIndent");if(X&&X.getAttribute("listIndent")>et&&($=$.slice(0,et+1)),0!=et)if($[et]){const ct=$[et];W.getAttribute("listType")!=ct&&(A.setAttribute("listType",ct,W),E=!0)}else $[et]=W.getAttribute("listType");X=W,W=W.nextSibling}}}(r.model,y)),c.mapper.registerViewToModelLength("li",o0),s.mapper.registerViewToModelLength("li",o0),c.mapper.on("modelToViewPosition",Xp(c.view)),c.mapper.on("viewToModelPosition",(h=r.model,(y,_)=>{const A=_.viewPosition,S=A.parent,D=_.mapper;if("ul"==S.name||"ol"==S.name){if(A.isAtEnd){const E=D.toModelElement(A.nodeBefore),P=D.getModelLength(A.nodeBefore);_.modelPosition=h.createPositionBefore(E).getShiftedBy(P)}else{const E=D.toModelElement(A.nodeAfter);_.modelPosition=h.createPositionBefore(E)}y.stop()}else if("li"==S.name&&A.nodeBefore&&("ul"==A.nodeBefore.name||"ol"==A.nodeBefore.name)){const E=D.toModelElement(S);let P=1,z=A.nodeBefore;for(;z&&wi(z);)P+=D.getModelLength(z),z=z.previousSibling;_.modelPosition=h.createPositionBefore(E).getShiftedBy(P),y.stop()}})),s.mapper.on("modelToViewPosition",Xp(c.view)),r.conversion.for("editingDowncast").add(y=>{var _;y.on("insert",n0,{priority:"high"}),y.on("insert:listItem",e0(r.model)),y.on("attribute:listType:listItem",XT,{priority:"high"}),y.on("attribute:listType:listItem",Fd,{priority:"low"}),y.on("attribute:listIndent:listItem",(_=r.model,(A,S,D)=>{if(!D.consumable.consume(S.item,"attribute:listIndent"))return;const E=D.mapper.toViewElement(S.item),P=D.writer;P.breakContainer(P.createPositionBefore(E)),P.breakContainer(P.createPositionAfter(E));const z=E.parent,G=z.previousSibling,W=P.createRangeOn(z);P.remove(W),G&&G.nextSibling&&yi(P,G,G.nextSibling),r0(S.attributeOldValue+1,S.range.start,W.start,E,D,_),Jy(S.item,E,D,_);for(const $ of S.item.getChildren())D.consumable.consume($,"insert")})),y.on("remove:listItem",function(_){return(A,S,D)=>{const E=D.mapper.toViewPosition(S.position).getLastMatchingPosition(X=>!X.item.is("element","li")).nodeAfter,P=D.writer;P.breakContainer(P.createPositionBefore(E)),P.breakContainer(P.createPositionAfter(E));const z=E.parent,G=z.previousSibling,W=P.createRangeOn(z),$=P.remove(W);G&&G.nextSibling&&yi(P,G,G.nextSibling),r0(D.mapper.toModelElement(E).getAttribute("listIndent")+1,S.position,W.start,E,D,_);for(const X of P.createRangeIn($).getItems())D.mapper.unbindViewElement(X);A.stop()}}(r.model)),y.on("remove",QT,{priority:"low"})}),r.conversion.for("dataDowncast").add(y=>{y.on("insert",n0,{priority:"high"}),y.on("insert:listItem",e0(r.model))}),r.conversion.for("upcast").add(y=>{y.on("element:ul",Yc,{priority:"high"}),y.on("element:ol",Yc,{priority:"high"}),y.on("element:li",k1,{priority:"high"}),y.on("element:li",Hd)}),r.model.on("insertContent",JT,{priority:"high"}),r.commands.add("numberedList",new w1(r,"numbered")),r.commands.add("bulletedList",new w1(r,"bulleted")),r.commands.add("indentList",new Zp(r,"forward")),r.commands.add("outdentList",new Zp(r,"backward"));const v=c.view.document;this.listenTo(v,"enter",(y,_)=>{const A=this.editor.model.document,S=A.selection.getLastPosition().parent;A.selection.isCollapsed&&"listItem"==S.name&&S.isEmpty&&(this.editor.execute("outdentList"),_.preventDefault(),y.stop())},{context:"li"}),this.listenTo(v,"delete",(y,_)=>{if("backward"!==_.direction)return;const A=this.editor.model.document.selection;if(!A.isCollapsed)return;const S=A.getFirstPosition();if(!S.isAtStart)return;const D=S.parent;"listItem"===D.name&&(D.previousSibling&&"listItem"===D.previousSibling.name||(this.editor.execute("outdentList"),_.preventDefault(),y.stop()))},{context:"li"}),this.listenTo(r.editing.view.document,"tab",(y,_)=>{const A=_.shiftKey?"outdentList":"indentList";this.editor.commands.get(A).isEnabled&&(r.execute(A),_.stopPropagation(),_.preventDefault(),y.stop())},{context:"li"})}afterInit(){const r=this.editor.commands,s=r.get("indent"),c=r.get("outdent");s&&s.registerChildCommand(r.get("indentList")),c&&c.registerChildCommand(r.get("outdentList"))}}function o0(f){let r=1;for(const s of f.getChildren())if("ul"==s.name||"ol"==s.name)for(const c of s.getChildren())r+=o0(c);return r}const Qp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',a0='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class A1 extends vt{static get pluginName(){return"ListUI"}init(){const r=this.editor.t;yl(this.editor,"numberedList",r("Numbered List"),Qp),yl(this.editor,"bulletedList",r("Bulleted List"),a0)}}class t2 extends ae{constructor(r,s){super(r),this._defaultType=s}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(r={}){this._tryToConvertItemsToList(r);const s=this.editor.model,c=Wc(s);c.length&&s.change(h=>{for(const v of c)h.setAttribute("listStyle",r.type||this._defaultType,v)})}_getValue(){const r=this.editor.model.document.selection.getFirstPosition().parent;return r&&r.is("element","listItem")?r.getAttribute("listStyle"):null}_checkEnabled(){const r=this.editor,s=r.commands.get("numberedList"),c=r.commands.get("bulletedList");return s.isEnabled||c.isEnabled}_tryToConvertItemsToList(r){if(!r.type)return;const s=bl.includes(c=r.type)?"bulleted":io.includes(c)?"numbered":null;var c;if(!s)return;const h=this.editor,v=s+"List";h.commands.get(v).value||h.execute(v)}}class e2 extends ae{refresh(){const r=this._getValue();this.value=r,this.isEnabled=null!=r}execute(r={}){const s=this.editor.model,c=Wc(s).filter(h=>"numbered"==h.getAttribute("listType"));s.change(h=>{for(const v of c)h.setAttribute("listReversed",!!r.reversed,v)})}_getValue(){const r=this.editor.model.document.selection.getFirstPosition().parent;return r&&r.is("element","listItem")&&"numbered"==r.getAttribute("listType")?r.getAttribute("listReversed"):null}}class n2 extends ae{refresh(){const r=this._getValue();this.value=r,this.isEnabled=null!=r}execute(r={}){const s=this.editor.model,c=Wc(s).filter(h=>"numbered"==h.getAttribute("listType"));s.change(h=>{for(const v of c)h.setAttribute("listStart",r.startIndex||1,v)})}_getValue(){const r=this.editor.model.document.selection.getFirstPosition().parent;return r&&r.is("element","listItem")&&"numbered"==r.getAttribute("listType")?r.getAttribute("listStart"):null}}const Be="default";class Jp extends vt{static get requires(){return[i0]}static get pluginName(){return"ListPropertiesEditing"}constructor(r){super(r),r.config.define("list",{properties:{styles:!0,startIndex:!1,reversed:!1}})}init(){const r=this.editor,s=r.model,c=function(v){const y=[];return v.styles&&y.push({attributeName:"listStyle",defaultValue:Be,addCommand(_){_.commands.add("listStyle",new t2(_,Be))},appliesToListItem:()=>!0,setAttributeOnDowncast(_,A,S){A&&A!==Be?_.setStyle("list-style-type",A,S):_.removeStyle("list-style-type",S)},getAttributeOnUpcast:_=>_.getStyle("list-style-type")||Be}),v.reversed&&y.push({attributeName:"listReversed",defaultValue:!1,addCommand(_){_.commands.add("listReversed",new e2(_))},appliesToListItem:_=>"numbered"==_.getAttribute("listType"),setAttributeOnDowncast(_,A,S){A?_.setAttribute("reversed","reversed",S):_.removeAttribute("reversed",S)},getAttributeOnUpcast:_=>_.hasAttribute("reversed")}),v.startIndex&&y.push({attributeName:"listStart",defaultValue:1,addCommand(_){_.commands.add("listStart",new n2(_))},appliesToListItem:_=>"numbered"==_.getAttribute("listType"),setAttributeOnDowncast(_,A,S){1!=A?_.setAttribute("start",A,S):_.removeAttribute("start",S)},getAttributeOnUpcast:_=>_.getAttribute("start")||1}),y}(r.config.get("list.properties"));s.schema.extend("listItem",{allowAttributes:c.map(v=>v.attributeName)});for(const v of c)v.addCommand(r);var h,v,y;this.listenTo(r.commands.get("indentList"),"_executeCleanup",(v=r,y=c,(_,A)=>{const S=A[0],D=S.getAttribute("listIndent"),E=A.filter(z=>z.getAttribute("listIndent")===D);let P=null;S.previousSibling.getAttribute("listIndent")+1!==D&&(P=ml(S.previousSibling,{sameIndent:!0,direction:"backward",listIndent:D})),v.model.change(z=>{for(const G of E)for(const W of y)if(W.appliesToListItem(G)){const $=null==P?W.defaultValue:P.getAttribute(W.attributeName);z.setAttribute(W.attributeName,$,G)}})})),this.listenTo(r.commands.get("outdentList"),"_executeCleanup",function(v,y){return(_,A)=>{if(!(A=A.reverse().filter(P=>P.is("element","listItem"))).length)return;const S=A[0].getAttribute("listIndent"),D=A[0].getAttribute("listType");let E=A[0].previousSibling;if(E.is("element","listItem"))for(;E.getAttribute("listIndent")!==S;)E=E.previousSibling;else E=null;E||(E=A[A.length-1].nextSibling),E&&E.is("element","listItem")&&E.getAttribute("listType")===D&&v.model.change(P=>{const z=A.filter(G=>G.getAttribute("listIndent")===S);for(const G of z)for(const W of y)if(W.appliesToListItem(G)){const $=W.attributeName,X=E.getAttribute($);P.setAttribute($,X,G)}})}}(r,c)),this.listenTo(r.commands.get("bulletedList"),"_executeCleanup",tg(r)),this.listenTo(r.commands.get("numberedList"),"_executeCleanup",tg(r)),s.document.registerPostFixer(function(v,y){return _=>{let A=!1;const S=wl(v.model.document.differ.getChanges()).filter(E=>"todo"!==E.getAttribute("listType"));if(!S.length)return A;let D=S[S.length-1].nextSibling;if((!D||!D.is("element","listItem"))&&(D=S[0].previousSibling,D)){const E=S[0].getAttribute("listIndent");for(;D.is("element","listItem")&&D.getAttribute("listIndent")!==E&&(D=D.previousSibling,D););}for(const E of y){const P=E.attributeName;for(const z of S)if(E.appliesToListItem(z))if(z.hasAttribute(P)){const G=z.previousSibling;x1(G,z,E.attributeName)&&(_.setAttribute(P,G.getAttribute(P),z),A=!0)}else C1(D,z,E)?_.setAttribute(P,D.getAttribute(P),z):_.setAttribute(P,E.defaultValue,z),A=!0;else _.removeAttribute(P,z)}return A}}(r,c)),r.conversion.for("upcast").add((h=c,v=>{v.on("element:li",(y,_,A)=>{const S=_.viewItem.parent,D=_.modelRange.start.nodeAfter||_.modelRange.end.nodeBefore;for(const E of h)if(E.appliesToListItem(D)){const P=E.getAttributeOnUpcast(S);A.writer.setAttribute(E.attributeName,P,D)}},{priority:"low"})})),r.conversion.for("downcast").add(function(v){return _=>{for(const A of v)_.on(`attribute:${A.attributeName}:listItem`,(S,D,E)=>{const P=E.writer,z=D.item,G=ml(z.previousSibling,{sameIndent:!0,listIndent:z.getAttribute("listIndent"),direction:"backward"}),W=E.mapper.toViewElement(z);y(z,G)||P.breakContainer(P.createPositionBefore(W)),A.setAttributeOnDowncast(P,D.attributeNewValue,W.parent)},{priority:"low"})};function y(_,A){return A&&_.getAttribute("listType")===A.getAttribute("listType")&&_.getAttribute("listIndent")===A.getAttribute("listIndent")&&_.getAttribute("listStyle")===A.getAttribute("listStyle")&&_.getAttribute("listReversed")===A.getAttribute("listReversed")&&_.getAttribute("listStart")===A.getAttribute("listStart")}}(c)),this._mergeListAttributesWhileMergingLists(c)}afterInit(){const r=this.editor;r.commands.get("todoList")&&r.model.document.registerPostFixer(function(s){return c=>{const h=wl(s.model.document.differ.getChanges()).filter(v=>"todo"===v.getAttribute("listType")&&(v.hasAttribute("listStyle")||v.hasAttribute("listReversed")||v.hasAttribute("listStart")));if(!h.length)return!1;for(const v of h)c.removeAttribute("listStyle",v),c.removeAttribute("listReversed",v),c.removeAttribute("listStart",v);return!0}}(r))}_mergeListAttributesWhileMergingLists(r){const s=this.editor.model;let c;this.listenTo(s,"deleteContent",(h,[v])=>{const y=v.getFirstPosition(),_=v.getLastPosition();if(y.parent===_.parent||!y.parent.is("element","listItem"))return;const A=_.parent.nextSibling;if(!A||!A.is("element","listItem"))return;const S=ml(y.parent,{sameIndent:!0,listIndent:A.getAttribute("listIndent")});S&&S.getAttribute("listType")===A.getAttribute("listType")&&(c=S)},{priority:"high"}),this.listenTo(s,"deleteContent",()=>{c&&(s.change(h=>{const v=ml(c.nextSibling,{sameIndent:!0,listIndent:c.getAttribute("listIndent"),direction:"forward"});if(!v)return void(c=null);const y=[v,...t0(h.createPositionAt(v,0),"forward")];for(const _ of y)for(const A of r)if(A.appliesToListItem(_)){const S=A.attributeName,D=c.getAttribute(S);h.setAttribute(S,D,_)}}),c=null)},{priority:"low"})}}function C1(f,r,s){if(!f)return!1;const c=f.getAttribute(s.attributeName);return!!c&&c!=s.defaultValue&&f.getAttribute("listType")===r.getAttribute("listType")}function x1(f,r,s){if(!f||!f.is("element","listItem")||r.getAttribute("listType")!==f.getAttribute("listType"))return!1;const c=f.getAttribute("listIndent");if(c<1||c!==r.getAttribute("listIndent"))return!1;const h=f.getAttribute(s);return!(!h||h===r.getAttribute(s))}function tg(f){return(r,s)=>{s=s.filter(c=>c.is("element","listItem")),f.model.change(c=>{for(const h of s)c.removeAttribute("listStyle",h)})}}function wl(f){const r=[];for(const s of f){const c=jd(s);c&&c.is("element","listItem")&&r.push(c)}return r}function jd(f){return"attribute"===f.type?f.range.start.nodeAfter:"insert"===f.type?f.position.nodeAfter:null}var s0=St(3195);Ut()(s0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class r2 extends he{constructor(r,s){super(r);const c=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid"),s&&this.children.addMany(s),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",c.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:c.if("isCollapsed","hidden"),"aria-labelledby":c.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}_createButtonView(){const r=new xe(this.locale),s=r.bindTemplate;return r.set({withText:!0,icon:qf}),r.extendTemplate({attributes:{"aria-expanded":s.to("isOn",c=>String(c))}}),r.bind("label").to(this),r.bind("isOn").to(this,"isCollapsed",c=>!c),r.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),r}}var l0=St(7133);Ut()(l0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class i2 extends he{constructor(r,{enabledProperties:s,styleButtonViews:c,styleGridAriaLabel:h}){super(r);const v=["ck","ck-list-properties"];this.children=this.createCollection(),this.stylesView=null,this.additionalPropertiesCollapsibleView=null,this.startIndexFieldView=null,this.reversedSwitchButtonView=null,this.focusTracker=new Zn,this.keystrokes=new gr,this.focusables=new To,this.focusCycler=new Xa({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),s.styles?(this.stylesView=this._createStylesView(c,h),this.children.add(this.stylesView)):v.push("ck-list-properties_without-styles"),(s.startIndex||s.reversed)&&(this._addNumberedListPropertyViews(s,c),v.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:v},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const r of this.stylesView.children)this.stylesView.focusTracker.add(r.element);__({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>Yt.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element),this.listenTo(this.startIndexFieldView.element,"selectstart",(s,c)=>{c.stopPropagation()},{priority:"high"});const r=s=>s.stopPropagation();this.keystrokes.set("arrowright",r),this.keystrokes.set("arrowleft",r),this.keystrokes.set("arrowup",r),this.keystrokes.set("arrowdown",r)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(r,s){const c=new he(this.locale);return c.children=c.createCollection(this.locale),c.children.addMany(r),c.setTemplate({tag:"div",attributes:{"aria-label":s,class:["ck","ck-list-styles-list"]},children:c.children}),c.children.delegate("execute").to(this),c.focus=function(){this.children.first.focus()},c.focusTracker=new Zn,c.keystrokes=new gr,c.render(),c.keystrokes.listenTo(c.element),c}_addNumberedListPropertyViews(r){const s=this.locale.t,c=[];r.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),c.push(this.startIndexFieldView)),r.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),c.push(this.reversedSwitchButtonView)),r.styles?(this.additionalPropertiesCollapsibleView=new r2(this.locale,c),this.additionalPropertiesCollapsibleView.set({label:s("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(c,"isEnabled",(...h)=>h.some(v=>v)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(h,v,y)=>{y||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(c)}_createStartIndexField(){const r=this.locale.t,s=new np(this.locale,Vm);return s.set({label:r("Start at"),class:"ck-numbered-list-properties__start-index"}),s.fieldView.set({min:1,step:1,value:1,inputMode:"numeric"}),s.fieldView.on("input",()=>{const c=s.fieldView.element,h=c.valueAsNumber;Number.isNaN(h)||(c.checkValidity()?this.fire("listStart",{startIndex:h}):s.errorText=r("Start index must be greater than 0."))}),s}_createReversedSwitchButton(){const r=this.locale.t,s=new vi(this.locale);return s.set({withText:!0,label:r("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),s.delegate("execute").to(this,"listReversed"),s}}var Zc=St(4553);Ut()(Zc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class a2 extends vt{static get pluginName(){return"ListPropertiesUI"}init(){const r=this.editor,s=r.locale.t,c=r.config.get("list.properties");c.styles&&r.ui.componentFactory.add("bulletedList",Gd({editor:r,parentCommandName:"bulletedList",buttonLabel:s("Bulleted List"),buttonIcon:a0,styleGridAriaLabel:s("Bulleted list styles toolbar"),styleDefinitions:[{label:s("Toggle the disc list style"),tooltip:s("Disc"),type:"disc",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>'},{label:s("Toggle the circle list style"),tooltip:s("Circle"),type:"circle",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>'},{label:s("Toggle the square list style"),tooltip:s("Square"),type:"square",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>'}]})),(c.styles||c.startIndex||c.reversed)&&r.ui.componentFactory.add("numberedList",Gd({editor:r,parentCommandName:"numberedList",buttonLabel:s("Numbered List"),buttonIcon:Qp,styleGridAriaLabel:s("Numbered list styles toolbar"),styleDefinitions:[{label:s("Toggle the decimal list style"),tooltip:s("Decimal"),type:"decimal",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>'},{label:s("Toggle the decimal with leading zero list style"),tooltip:s("Decimal with leading zero"),type:"decimal-leading-zero",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>'},{label:s("Toggle the lower\u2013roman list style"),tooltip:s("Lower\u2013roman"),type:"lower-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:s("Toggle the upper\u2013roman list style"),tooltip:s("Upper-roman"),type:"upper-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:s("Toggle the lower\u2013latin list style"),tooltip:s("Lower-latin"),type:"lower-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>'},{label:s("Toggle the upper\u2013latin list style"),tooltip:s("Upper-latin"),type:"upper-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>'}]}))}}function Gd({editor:f,parentCommandName:r,buttonLabel:s,buttonIcon:c,styleGridAriaLabel:h,styleDefinitions:v}){const y=f.commands.get(r);return _=>{const A=bn(_,wc),S=A.buttonView;A.bind("isEnabled").to(y),A.class="ck-list-styles-dropdown",S.on("execute",()=>{f.execute(r),f.editing.view.focus()}),S.set({label:s,icon:c,tooltip:!0,isToggleable:!0}),S.bind("isOn").to(y,"value",E=>!!E);const D=function({editor:E,dropdownView:P,parentCommandName:z,styleDefinitions:G,styleGridAriaLabel:W}){const $=E.locale,X=E.config.get("list.properties");let et;if("numberedList"!=z&&(X.startIndex=!1,X.reversed=!1),X.styles){const mt=E.commands.get("listStyle"),Ot=function({editor:se,listStyleCommand:un,parentCommandName:In}){const ii=se.locale,Nr=se.commands.get(In);return({label:oi,type:ai,icon:lo,tooltip:ds})=>{const Sl=new xe(ii);return Sl.set({label:oi,icon:lo,tooltip:ds}),un.on("change:value",()=>{Sl.isOn=un.value===ai}),Sl.on("execute",()=>{Nr.value?se.execute("listStyle",un.value!==ai?{type:ai}:{type:un._defaultType}):se.model.change(()=>{se.execute("listStyle",{type:ai})})}),Sl}}({editor:E,parentCommandName:z,listStyleCommand:mt});et=G.filter("function"==typeof mt.isStyleTypeSupported?se=>mt.isStyleTypeSupported(se.type):()=>!0).map(Ot)}const ct=new i2($,{styleGridAriaLabel:W,enabledProperties:X,styleButtonViews:et});if(X.styles&&Yr(P,()=>ct.stylesView.children.find(mt=>mt.isOn)),X.startIndex){const mt=E.commands.get("listStart");ct.startIndexFieldView.bind("isEnabled").to(mt),ct.startIndexFieldView.fieldView.bind("value").to(mt),ct.on("listStart",(Ot,Wt)=>E.execute("listStart",Wt))}if(X.reversed){const mt=E.commands.get("listReversed");ct.reversedSwitchButtonView.bind("isEnabled").to(mt),ct.reversedSwitchButtonView.bind("isOn").to(mt,"value"),ct.on("listReversed",()=>{E.execute("listReversed",{reversed:!mt.value})})}return ct.delegate("execute").to(P),ct}({editor:f,dropdownView:A,parentCommandName:r,styleGridAriaLabel:h,styleDefinitions:v});return A.panelView.children.add(D),A.on("execute",()=>{f.editing.view.focus()}),A}}let $c={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const l2=/[&<>"']/,c2=/[&<>"']/g,u2=/[<>"']|&(?!#?\w+;)/,d2=/[<>"']|&(?!#?\w+;)/g,h2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},D1=f=>h2[f];function Qn(f,r){if(r){if(l2.test(f))return f.replace(c2,D1)}else if(u2.test(f))return f.replace(d2,D1);return f}const M1=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function I1(f){return f.replace(M1,(r,s)=>"colon"===(s=s.toLowerCase())?":":"#"===s.charAt(0)?"x"===s.charAt(1)?String.fromCharCode(parseInt(s.substring(2),16)):String.fromCharCode(+s.substring(1)):"")}const f2=/(^|[^\[])\^/g;function Oe(f,r){f=f.source||f,r=r||"";const s={replace:(c,h)=>(h=(h=h.source||h).replace(f2,"$1"),f=f.replace(c,h),s),getRegex:()=>new RegExp(f,r)};return s}const E1=/[^\w:]/g,eg=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function c0(f,r,s){if(f){let c;try{c=decodeURIComponent(I1(s)).replace(E1,"").toLowerCase()}catch{return null}if(0===c.indexOf("javascript:")||0===c.indexOf("vbscript:")||0===c.indexOf("data:"))return null}r&&!eg.test(s)&&(s=function(c,h){Ud[" "+c]||(Ud[" "+c]=L1.test(c)?c+"/":Yd(c,"/",!0));const v=-1===(c=Ud[" "+c]).indexOf(":");return"//"===h.substring(0,2)?v?h:c.replace(p2,"$1")+h:"/"===h.charAt(0)?v?h:c.replace(Er,"$1")+h:c+h}(r,s));try{s=encodeURI(s).replace(/%25/g,"%")}catch{return null}return s}const Ud={},L1=/^[^:]+:\/*[^/]*$/,p2=/^([^:]+:)[\s\S]*$/,Er=/^([^:]+:\/*[^/]*)[\s\S]*$/,Wd={exec:function(){}};function ti(f){let r,s,c=1;for(;c<arguments.length;c++)for(s in r=arguments[c],r)Object.prototype.hasOwnProperty.call(r,s)&&(f[s]=r[s]);return f}function u0(f,r){const s=f.replace(/\|/g,(h,v,y)=>{let _=!1,A=v;for(;--A>=0&&"\\"===y[A];)_=!_;return _?"|":" |"}).split(/ \|/);let c=0;if(s[0].trim()||s.shift(),s.length>0&&!s[s.length-1].trim()&&s.pop(),s.length>r)s.splice(r);else for(;s.length<r;)s.push("");for(;c<s.length;c++)s[c]=s[c].trim().replace(/\\\|/g,"|");return s}function Yd(f,r,s){const c=f.length;if(0===c)return"";let h=0;for(;h<c;){const v=f.charAt(c-h-1);if(v!==r||s){if(v===r||!s)break;h++}else h++}return f.substr(0,c-h)}function P1(f){f&&f.sanitize&&!f.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function R1(f,r){if(r<1)return"";let s="";for(;r>1;)1&r&&(s+=f),r>>=1,f+=f;return s+f}function ng(f,r,s,c){const h=r.href,v=r.title?Qn(r.title):null,y=f[1].replace(/\\([\[\]])/g,"$1");if("!"!==f[0].charAt(0)){c.state.inLink=!0;const _={type:"link",raw:s,href:h,title:v,text:y,tokens:c.inlineTokens(y,[])};return c.state.inLink=!1,_}return{type:"image",raw:s,href:h,title:v,text:Qn(y)}}class rg{constructor(r){this.options=r||$c}space(r){const s=this.rules.block.newline.exec(r);if(s&&s[0].length>0)return{type:"space",raw:s[0]}}code(r){const s=this.rules.block.code.exec(r);if(s){const c=s[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:s[0],codeBlockStyle:"indented",text:this.options.pedantic?c:Yd(c,"\n")}}}fences(r){const s=this.rules.block.fences.exec(r);if(s){const c=s[0],h=function(v,y){const _=v.match(/^(\s+)(?:```)/);if(null===_)return y;const A=_[1];return y.split("\n").map(S=>{const D=S.match(/^\s+/);if(null===D)return S;const[E]=D;return E.length>=A.length?S.slice(A.length):S}).join("\n")}(c,s[3]||"");return{type:"code",raw:c,lang:s[2]?s[2].trim():s[2],text:h}}}heading(r){const s=this.rules.block.heading.exec(r);if(s){let c=s[2].trim();if(/#$/.test(c)){const v=Yd(c,"#");this.options.pedantic?c=v.trim():v&&!/ $/.test(v)||(c=v.trim())}const h={type:"heading",raw:s[0],depth:s[1].length,text:c,tokens:[]};return this.lexer.inline(h.text,h.tokens),h}}hr(r){const s=this.rules.block.hr.exec(r);if(s)return{type:"hr",raw:s[0]}}blockquote(r){const s=this.rules.block.blockquote.exec(r);if(s){const c=s[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:s[0],tokens:this.lexer.blockTokens(c,[]),text:c}}}list(r){let s=this.rules.block.list.exec(r);if(s){let c,h,v,y,_,A,S,D,E,P,z,G,W=s[1].trim();const $=W.length>1,X={type:"list",raw:"",ordered:$,start:$?+W.slice(0,-1):"",loose:!1,items:[]};W=$?`\\d{1,9}\\${W.slice(-1)}`:`\\${W}`,this.options.pedantic&&(W=$?W:"[*+-]");const et=new RegExp(`^( {0,3}${W})((?: [^\\n]*)?(?:\\n|$))`);for(;r&&(G=!1,s=et.exec(r))&&!this.rules.block.hr.test(r);){if(c=s[0],r=r.substring(c.length),D=s[2].split("\n",1)[0],E=r.split("\n",1)[0],this.options.pedantic?(y=2,z=D.trimLeft()):(y=s[2].search(/[^ ]/),y=y>4?1:y,z=D.slice(y),y+=s[1].length),A=!1,!D&&/^ *$/.test(E)&&(c+=E+"\n",r=r.substring(E.length+1),G=!0),!G){const mt=new RegExp(`^ {0,${Math.min(3,y-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;r&&(P=r.split("\n",1)[0],D=P,this.options.pedantic&&(D=D.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!mt.test(D));){if(D.search(/[^ ]/)>=y||!D.trim())z+="\n"+D.slice(y);else{if(A)break;z+="\n"+D}A||D.trim()||(A=!0),c+=P+"\n",r=r.substring(P.length+1)}}X.loose||(S?X.loose=!0:/\n *\n *$/.test(c)&&(S=!0)),this.options.gfm&&(h=/^\[[ xX]\] /.exec(z),h&&(v="[ ] "!==h[0],z=z.replace(/^\[[ xX]\] +/,""))),X.items.push({type:"list_item",raw:c,task:!!h,checked:v,loose:!1,text:z}),X.raw+=c}X.items[X.items.length-1].raw=c.trimRight(),X.items[X.items.length-1].text=z.trimRight(),X.raw=X.raw.trimRight();const ct=X.items.length;for(_=0;_<ct;_++){this.lexer.state.top=!1,X.items[_].tokens=this.lexer.blockTokens(X.items[_].text,[]);const mt=X.items[_].tokens.filter(Wt=>"space"===Wt.type),Ot=mt.every(Wt=>{const se=Wt.raw.split("");let un=0;for(const In of se)if("\n"===In&&(un+=1),un>1)return!0;return!1});!X.loose&&mt.length&&Ot&&(X.loose=!0,X.items[_].loose=!0)}return X}}html(r){const s=this.rules.block.html.exec(r);if(s){const c={type:"html",raw:s[0],pre:!this.options.sanitizer&&("pre"===s[1]||"script"===s[1]||"style"===s[1]),text:s[0]};return this.options.sanitize&&(c.type="paragraph",c.text=this.options.sanitizer?this.options.sanitizer(s[0]):Qn(s[0]),c.tokens=[],this.lexer.inline(c.text,c.tokens)),c}}def(r){const s=this.rules.block.def.exec(r);if(s)return s[3]&&(s[3]=s[3].substring(1,s[3].length-1)),{type:"def",tag:s[1].toLowerCase().replace(/\s+/g," "),raw:s[0],href:s[2],title:s[3]}}table(r){const s=this.rules.block.table.exec(r);if(s){const c={type:"table",header:u0(s[1]).map(h=>({text:h})),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:s[3]&&s[3].trim()?s[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(c.header.length===c.align.length){c.raw=s[0];let h,v,y,_,A=c.align.length;for(h=0;h<A;h++)c.align[h]=/^ *-+: *$/.test(c.align[h])?"right":/^ *:-+: *$/.test(c.align[h])?"center":/^ *:-+ *$/.test(c.align[h])?"left":null;for(A=c.rows.length,h=0;h<A;h++)c.rows[h]=u0(c.rows[h],c.header.length).map(S=>({text:S}));for(A=c.header.length,v=0;v<A;v++)c.header[v].tokens=[],this.lexer.inlineTokens(c.header[v].text,c.header[v].tokens);for(A=c.rows.length,v=0;v<A;v++)for(_=c.rows[v],y=0;y<_.length;y++)_[y].tokens=[],this.lexer.inlineTokens(_[y].text,_[y].tokens);return c}}}lheading(r){const s=this.rules.block.lheading.exec(r);if(s){const c={type:"heading",raw:s[0],depth:"="===s[2].charAt(0)?1:2,text:s[1],tokens:[]};return this.lexer.inline(c.text,c.tokens),c}}paragraph(r){const s=this.rules.block.paragraph.exec(r);if(s){const c={type:"paragraph",raw:s[0],text:"\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1],tokens:[]};return this.lexer.inline(c.text,c.tokens),c}}text(r){const s=this.rules.block.text.exec(r);if(s){const c={type:"text",raw:s[0],text:s[0],tokens:[]};return this.lexer.inline(c.text,c.tokens),c}}escape(r){const s=this.rules.inline.escape.exec(r);if(s)return{type:"escape",raw:s[0],text:Qn(s[1])}}tag(r){const s=this.rules.inline.tag.exec(r);if(s)return!this.lexer.state.inLink&&/^<a /i.test(s[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(s[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(s[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(s[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:s[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):Qn(s[0]):s[0]}}link(r){const s=this.rules.inline.link.exec(r);if(s){const c=s[2].trim();if(!this.options.pedantic&&/^</.test(c)){if(!/>$/.test(c))return;const y=Yd(c.slice(0,-1),"\\");if((c.length-y.length)%2==0)return}else{const y=function(_,A){if(-1===_.indexOf(A[1]))return-1;const S=_.length;let D=0,E=0;for(;E<S;E++)if("\\"===_[E])E++;else if(_[E]===A[0])D++;else if(_[E]===A[1]&&(D--,D<0))return E;return-1}(s[2],"()");if(y>-1){const _=(0===s[0].indexOf("!")?5:4)+s[1].length+y;s[2]=s[2].substring(0,y),s[0]=s[0].substring(0,_).trim(),s[3]=""}}let h=s[2],v="";if(this.options.pedantic){const y=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(h);y&&(h=y[1],v=y[3])}else v=s[3]?s[3].slice(1,-1):"";return h=h.trim(),/^</.test(h)&&(h=this.options.pedantic&&!/>$/.test(c)?h.slice(1):h.slice(1,-1)),ng(s,{href:h&&h.replace(this.rules.inline._escapes,"$1"),title:v&&v.replace(this.rules.inline._escapes,"$1")},s[0],this.lexer)}}reflink(r,s){let c;if((c=this.rules.inline.reflink.exec(r))||(c=this.rules.inline.nolink.exec(r))){let h=(c[2]||c[1]).replace(/\s+/g," ");if(h=s[h.toLowerCase()],!h||!h.href){const v=c[0].charAt(0);return{type:"text",raw:v,text:v}}return ng(c,h,c[0],this.lexer)}}emStrong(r,s,c=""){let h=this.rules.inline.emStrong.lDelim.exec(r);if(!h||h[3]&&c.match(/[\p{L}\p{N}]/u))return;const v=h[1]||h[2]||"";if(!v||v&&(""===c||this.rules.inline.punctuation.exec(c))){const y=h[0].length-1;let _,A,S=y,D=0;const E="*"===h[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(E.lastIndex=0,s=s.slice(-1*r.length+y);null!=(h=E.exec(s));){if(_=h[1]||h[2]||h[3]||h[4]||h[5]||h[6],!_)continue;if(A=_.length,h[3]||h[4]){S+=A;continue}if((h[5]||h[6])&&y%3&&!((y+A)%3)){D+=A;continue}if(S-=A,S>0)continue;if(A=Math.min(A,A+S+D),Math.min(y,A)%2){const z=r.slice(1,y+h.index+A);return{type:"em",raw:r.slice(0,y+h.index+A+1),text:z,tokens:this.lexer.inlineTokens(z,[])}}const P=r.slice(2,y+h.index+A-1);return{type:"strong",raw:r.slice(0,y+h.index+A+1),text:P,tokens:this.lexer.inlineTokens(P,[])}}}}codespan(r){const s=this.rules.inline.code.exec(r);if(s){let c=s[2].replace(/\n/g," ");const h=/[^ ]/.test(c),v=/^ /.test(c)&&/ $/.test(c);return h&&v&&(c=c.substring(1,c.length-1)),c=Qn(c,!0),{type:"codespan",raw:s[0],text:c}}}br(r){const s=this.rules.inline.br.exec(r);if(s)return{type:"br",raw:s[0]}}del(r){const s=this.rules.inline.del.exec(r);if(s)return{type:"del",raw:s[0],text:s[2],tokens:this.lexer.inlineTokens(s[2],[])}}autolink(r,s){const c=this.rules.inline.autolink.exec(r);if(c){let h,v;return"@"===c[2]?(h=Qn(this.options.mangle?s(c[1]):c[1]),v="mailto:"+h):(h=Qn(c[1]),v=h),{type:"link",raw:c[0],text:h,href:v,tokens:[{type:"text",raw:h,text:h}]}}}url(r,s){let c;if(c=this.rules.inline.url.exec(r)){let h,v;if("@"===c[2])h=Qn(this.options.mangle?s(c[0]):c[0]),v="mailto:"+h;else{let y;do{y=c[0],c[0]=this.rules.inline._backpedal.exec(c[0])[0]}while(y!==c[0]);h=Qn(c[0]),v="www."===c[1]?"http://"+h:h}return{type:"link",raw:c[0],text:h,href:v,tokens:[{type:"text",raw:h,text:h}]}}}inlineText(r,s){const c=this.rules.inline.text.exec(r);if(c){let h;return h=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(c[0]):Qn(c[0]):c[0]:Qn(this.options.smartypants?s(c[0]):c[0]),{type:"text",raw:c[0],text:h}}}}const ee={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Wd,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};ee.def=Oe(ee.def).replace("label",ee._label).replace("title",ee._title).getRegex(),ee.bullet=/(?:[*+-]|\d{1,9}[.)])/,ee.listItemStart=Oe(/^( *)(bull) */).replace("bull",ee.bullet).getRegex(),ee.list=Oe(ee.list).replace(/bull/g,ee.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ee.def.source+")").getRegex(),ee._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ee._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ee.html=Oe(ee.html,"i").replace("comment",ee._comment).replace("tag",ee._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ee.paragraph=Oe(ee._paragraph).replace("hr",ee.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ee._tag).getRegex(),ee.blockquote=Oe(ee.blockquote).replace("paragraph",ee.paragraph).getRegex(),ee.normal=ti({},ee),ee.gfm=ti({},ee.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ee.gfm.table=Oe(ee.gfm.table).replace("hr",ee.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ee._tag).getRegex(),ee.gfm.paragraph=Oe(ee._paragraph).replace("hr",ee.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ee.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ee._tag).getRegex(),ee.pedantic=ti({},ee.normal,{html:Oe("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",ee._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Wd,paragraph:Oe(ee.normal._paragraph).replace("hr",ee.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",ee.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const zt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Wd,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Wd,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function d0(f){return f.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Kc(f){let r,s,c="";const h=f.length;for(r=0;r<h;r++)s=f.charCodeAt(r),Math.random()>.5&&(s="x"+s.toString(16)),c+="&#"+s+";";return c}zt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",zt.punctuation=Oe(zt.punctuation).replace(/punctuation/g,zt._punctuation).getRegex(),zt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,zt.escapedEmSt=/\\\*|\\_/g,zt._comment=Oe(ee._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),zt.emStrong.lDelim=Oe(zt.emStrong.lDelim).replace(/punct/g,zt._punctuation).getRegex(),zt.emStrong.rDelimAst=Oe(zt.emStrong.rDelimAst,"g").replace(/punct/g,zt._punctuation).getRegex(),zt.emStrong.rDelimUnd=Oe(zt.emStrong.rDelimUnd,"g").replace(/punct/g,zt._punctuation).getRegex(),zt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,zt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,zt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,zt.autolink=Oe(zt.autolink).replace("scheme",zt._scheme).replace("email",zt._email).getRegex(),zt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,zt.tag=Oe(zt.tag).replace("comment",zt._comment).replace("attribute",zt._attribute).getRegex(),zt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,zt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,zt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,zt.link=Oe(zt.link).replace("label",zt._label).replace("href",zt._href).replace("title",zt._title).getRegex(),zt.reflink=Oe(zt.reflink).replace("label",zt._label).replace("ref",ee._label).getRegex(),zt.nolink=Oe(zt.nolink).replace("ref",ee._label).getRegex(),zt.reflinkSearch=Oe(zt.reflinkSearch,"g").replace("reflink",zt.reflink).replace("nolink",zt.nolink).getRegex(),zt.normal=ti({},zt),zt.pedantic=ti({},zt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Oe(/^!?\[(label)\]\((.*?)\)/).replace("label",zt._label).getRegex(),reflink:Oe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",zt._label).getRegex()}),zt.gfm=ti({},zt.normal,{escape:Oe(zt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),zt.gfm.url=Oe(zt.gfm.url,"i").replace("email",zt.gfm._extended_email).getRegex(),zt.breaks=ti({},zt.gfm,{br:Oe(zt.br).replace("{2,}","*").getRegex(),text:Oe(zt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Ro{constructor(r){this.tokens=[],this.tokens.links=Object.create(null),this.options=r||$c,this.options.tokenizer=this.options.tokenizer||new rg,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const s={block:ee.normal,inline:zt.normal};this.options.pedantic?(s.block=ee.pedantic,s.inline=zt.pedantic):this.options.gfm&&(s.block=ee.gfm,s.inline=this.options.breaks?zt.breaks:zt.gfm),this.tokenizer.rules=s}static get rules(){return{block:ee,inline:zt}}static lex(r,s){return new Ro(s).lex(r)}static lexInline(r,s){return new Ro(s).inlineTokens(r)}lex(r){let s;for(r=r.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(r,this.tokens);s=this.inlineQueue.shift();)this.inlineTokens(s.src,s.tokens);return this.tokens}blockTokens(r,s=[]){let c,h,v,y;for(this.options.pedantic&&(r=r.replace(/^ +$/gm,""));r;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(_=>!!(c=_.call({lexer:this},r,s))&&(r=r.substring(c.raw.length),s.push(c),!0))))if(c=this.tokenizer.space(r))r=r.substring(c.raw.length),1===c.raw.length&&s.length>0?s[s.length-1].raw+="\n":s.push(c);else if(c=this.tokenizer.code(r))r=r.substring(c.raw.length),h=s[s.length-1],!h||"paragraph"!==h.type&&"text"!==h.type?s.push(c):(h.raw+="\n"+c.raw,h.text+="\n"+c.text,this.inlineQueue[this.inlineQueue.length-1].src=h.text);else if(c=this.tokenizer.fences(r))r=r.substring(c.raw.length),s.push(c);else if(c=this.tokenizer.heading(r))r=r.substring(c.raw.length),s.push(c);else if(c=this.tokenizer.hr(r))r=r.substring(c.raw.length),s.push(c);else if(c=this.tokenizer.blockquote(r))r=r.substring(c.raw.length),s.push(c);else if(c=this.tokenizer.list(r))r=r.substring(c.raw.length),s.push(c);else if(c=this.tokenizer.html(r))r=r.substring(c.raw.length),s.push(c);else if(c=this.tokenizer.def(r))r=r.substring(c.raw.length),h=s[s.length-1],!h||"paragraph"!==h.type&&"text"!==h.type?this.tokens.links[c.tag]||(this.tokens.links[c.tag]={href:c.href,title:c.title}):(h.raw+="\n"+c.raw,h.text+="\n"+c.raw,this.inlineQueue[this.inlineQueue.length-1].src=h.text);else if(c=this.tokenizer.table(r))r=r.substring(c.raw.length),s.push(c);else if(c=this.tokenizer.lheading(r))r=r.substring(c.raw.length),s.push(c);else{if(v=r,this.options.extensions&&this.options.extensions.startBlock){let _=1/0;const A=r.slice(1);let S;this.options.extensions.startBlock.forEach(function(D){S=D.call({lexer:this},A),"number"==typeof S&&S>=0&&(_=Math.min(_,S))}),_<1/0&&_>=0&&(v=r.substring(0,_+1))}if(this.state.top&&(c=this.tokenizer.paragraph(v)))h=s[s.length-1],y&&"paragraph"===h.type?(h.raw+="\n"+c.raw,h.text+="\n"+c.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=h.text):s.push(c),y=v.length!==r.length,r=r.substring(c.raw.length);else if(c=this.tokenizer.text(r))r=r.substring(c.raw.length),h=s[s.length-1],h&&"text"===h.type?(h.raw+="\n"+c.raw,h.text+="\n"+c.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=h.text):s.push(c);else if(r){const _="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(_);break}throw new Error(_)}}return this.state.top=!0,s}inline(r,s){this.inlineQueue.push({src:r,tokens:s})}inlineTokens(r,s=[]){let c,h,v,y,_,A,S=r;if(this.tokens.links){const D=Object.keys(this.tokens.links);if(D.length>0)for(;null!=(y=this.tokenizer.rules.inline.reflinkSearch.exec(S));)D.includes(y[0].slice(y[0].lastIndexOf("[")+1,-1))&&(S=S.slice(0,y.index)+"["+R1("a",y[0].length-2)+"]"+S.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(y=this.tokenizer.rules.inline.blockSkip.exec(S));)S=S.slice(0,y.index)+"["+R1("a",y[0].length-2)+"]"+S.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(y=this.tokenizer.rules.inline.escapedEmSt.exec(S));)S=S.slice(0,y.index)+"++"+S.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;r;)if(_||(A=""),_=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(D=>!!(c=D.call({lexer:this},r,s))&&(r=r.substring(c.raw.length),s.push(c),!0))))if(c=this.tokenizer.escape(r))r=r.substring(c.raw.length),s.push(c);else if(c=this.tokenizer.tag(r))r=r.substring(c.raw.length),h=s[s.length-1],h&&"text"===c.type&&"text"===h.type?(h.raw+=c.raw,h.text+=c.text):s.push(c);else if(c=this.tokenizer.link(r))r=r.substring(c.raw.length),s.push(c);else if(c=this.tokenizer.reflink(r,this.tokens.links))r=r.substring(c.raw.length),h=s[s.length-1],h&&"text"===c.type&&"text"===h.type?(h.raw+=c.raw,h.text+=c.text):s.push(c);else if(c=this.tokenizer.emStrong(r,S,A))r=r.substring(c.raw.length),s.push(c);else if(c=this.tokenizer.codespan(r))r=r.substring(c.raw.length),s.push(c);else if(c=this.tokenizer.br(r))r=r.substring(c.raw.length),s.push(c);else if(c=this.tokenizer.del(r))r=r.substring(c.raw.length),s.push(c);else if(c=this.tokenizer.autolink(r,Kc))r=r.substring(c.raw.length),s.push(c);else if(this.state.inLink||!(c=this.tokenizer.url(r,Kc))){if(v=r,this.options.extensions&&this.options.extensions.startInline){let D=1/0;const E=r.slice(1);let P;this.options.extensions.startInline.forEach(function(z){P=z.call({lexer:this},E),"number"==typeof P&&P>=0&&(D=Math.min(D,P))}),D<1/0&&D>=0&&(v=r.substring(0,D+1))}if(c=this.tokenizer.inlineText(v,d0))r=r.substring(c.raw.length),"_"!==c.raw.slice(-1)&&(A=c.raw.slice(-1)),_=!0,h=s[s.length-1],h&&"text"===h.type?(h.raw+=c.raw,h.text+=c.text):s.push(c);else if(r){const D="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(D);break}throw new Error(D)}}else r=r.substring(c.raw.length),s.push(c);return s}}class ig{constructor(r){this.options=r||$c}code(r,s,c){const h=(s||"").match(/\S*/)[0];if(this.options.highlight){const v=this.options.highlight(r,h);null!=v&&v!==r&&(c=!0,r=v)}return r=r.replace(/\n$/,"")+"\n",h?'<pre><code class="'+this.options.langPrefix+Qn(h,!0)+'">'+(c?r:Qn(r,!0))+"</code></pre>\n":"<pre><code>"+(c?r:Qn(r,!0))+"</code></pre>\n"}blockquote(r){return"<blockquote>\n"+r+"</blockquote>\n"}html(r){return r}heading(r,s,c,h){return this.options.headerIds?"<h"+s+' id="'+this.options.headerPrefix+h.slug(c)+'">'+r+"</h"+s+">\n":"<h"+s+">"+r+"</h"+s+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(r,s,c){const h=s?"ol":"ul";return"<"+h+(s&&1!==c?' start="'+c+'"':"")+">\n"+r+"</"+h+">\n"}listitem(r){return"<li>"+r+"</li>\n"}checkbox(r){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(r){return"<p>"+r+"</p>\n"}table(r,s){return s&&(s="<tbody>"+s+"</tbody>"),"<table>\n<thead>\n"+r+"</thead>\n"+s+"</table>\n"}tablerow(r){return"<tr>\n"+r+"</tr>\n"}tablecell(r,s){const c=s.header?"th":"td";return(s.align?"<"+c+' align="'+s.align+'">':"<"+c+">")+r+"</"+c+">\n"}strong(r){return"<strong>"+r+"</strong>"}em(r){return"<em>"+r+"</em>"}codespan(r){return"<code>"+r+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(r){return"<del>"+r+"</del>"}link(r,s,c){if(null===(r=c0(this.options.sanitize,this.options.baseUrl,r)))return c;let h='<a href="'+Qn(r)+'"';return s&&(h+=' title="'+s+'"'),h+=">"+c+"</a>",h}image(r,s,c){if(null===(r=c0(this.options.sanitize,this.options.baseUrl,r)))return c;let h='<img src="'+r+'" alt="'+c+'"';return s&&(h+=' title="'+s+'"'),h+=this.options.xhtml?"/>":">",h}text(r){return r}}class _l{strong(r){return r}em(r){return r}codespan(r){return r}del(r){return r}html(r){return r}text(r){return r}link(r,s,c){return""+c}image(r,s,c){return""+c}br(){return""}}class N1{constructor(){this.seen={}}serialize(r){return r.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(r,s){let c=r,h=0;if(this.seen.hasOwnProperty(c)){h=this.seen[r];do{h++,c=r+"-"+h}while(this.seen.hasOwnProperty(c))}return s||(this.seen[r]=h,this.seen[c]=0),c}slug(r,s={}){const c=this.serialize(r);return this.getNextSafeSlug(c,s.dryrun)}}class Lr{constructor(r){this.options=r||$c,this.options.renderer=this.options.renderer||new ig,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new _l,this.slugger=new N1}static parse(r,s){return new Lr(s).parse(r)}static parseInline(r,s){return new Lr(s).parseInline(r)}parse(r,s=!0){let c,h,v,y,_,A,S,D,E,P,z,G,W,$,X,et,ct,mt,Ot,Wt="";const se=r.length;for(c=0;c<se;c++)if(P=r[c],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[P.type]&&(Ot=this.options.extensions.renderers[P.type].call({parser:this},P),!1!==Ot||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(P.type)))Wt+=Ot||"";else switch(P.type){case"space":continue;case"hr":Wt+=this.renderer.hr();continue;case"heading":Wt+=this.renderer.heading(this.parseInline(P.tokens),P.depth,I1(this.parseInline(P.tokens,this.textRenderer)),this.slugger);continue;case"code":Wt+=this.renderer.code(P.text,P.lang,P.escaped);continue;case"table":for(D="",S="",y=P.header.length,h=0;h<y;h++)S+=this.renderer.tablecell(this.parseInline(P.header[h].tokens),{header:!0,align:P.align[h]});for(D+=this.renderer.tablerow(S),E="",y=P.rows.length,h=0;h<y;h++){for(A=P.rows[h],S="",_=A.length,v=0;v<_;v++)S+=this.renderer.tablecell(this.parseInline(A[v].tokens),{header:!1,align:P.align[v]});E+=this.renderer.tablerow(S)}Wt+=this.renderer.table(D,E);continue;case"blockquote":E=this.parse(P.tokens),Wt+=this.renderer.blockquote(E);continue;case"list":for(z=P.ordered,G=P.start,W=P.loose,y=P.items.length,E="",h=0;h<y;h++)X=P.items[h],et=X.checked,ct=X.task,$="",X.task&&(mt=this.renderer.checkbox(et),W?X.tokens.length>0&&"paragraph"===X.tokens[0].type?(X.tokens[0].text=mt+" "+X.tokens[0].text,X.tokens[0].tokens&&X.tokens[0].tokens.length>0&&"text"===X.tokens[0].tokens[0].type&&(X.tokens[0].tokens[0].text=mt+" "+X.tokens[0].tokens[0].text)):X.tokens.unshift({type:"text",text:mt}):$+=mt),$+=this.parse(X.tokens,W),E+=this.renderer.listitem($,ct,et);Wt+=this.renderer.list(E,z,G);continue;case"html":Wt+=this.renderer.html(P.text);continue;case"paragraph":Wt+=this.renderer.paragraph(this.parseInline(P.tokens));continue;case"text":for(E=P.tokens?this.parseInline(P.tokens):P.text;c+1<se&&"text"===r[c+1].type;)P=r[++c],E+="\n"+(P.tokens?this.parseInline(P.tokens):P.text);Wt+=s?this.renderer.paragraph(E):E;continue;default:{const un='Token with "'+P.type+'" type was not found.';if(this.options.silent)return void console.error(un);throw new Error(un)}}return Wt}parseInline(r,s){s=s||this.renderer;let c,h,v,y="";const _=r.length;for(c=0;c<_;c++)if(h=r[c],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(v=this.options.extensions.renderers[h.type].call({parser:this},h),!1!==v||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(h.type)))y+=v||"";else switch(h.type){case"escape":case"text":y+=s.text(h.text);break;case"html":y+=s.html(h.text);break;case"link":y+=s.link(h.href,h.title,this.parseInline(h.tokens,s));break;case"image":y+=s.image(h.href,h.title,h.text);break;case"strong":y+=s.strong(this.parseInline(h.tokens,s));break;case"em":y+=s.em(this.parseInline(h.tokens,s));break;case"codespan":y+=s.codespan(h.text);break;case"br":y+=s.br();break;case"del":y+=s.del(this.parseInline(h.tokens,s));break;default:{const A='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(A);throw new Error(A)}}return y}}function ie(f,r,s){if(null==f)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof f)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(f)+", string expected");if("function"==typeof r&&(s=r,r=null),P1(r=ti({},ie.defaults,r||{})),s){const c=r.highlight;let h;try{h=Ro.lex(f,r)}catch(_){return s(_)}const v=function(_){let A;if(!_)try{r.walkTokens&&ie.walkTokens(h,r.walkTokens),A=Lr.parse(h,r)}catch(S){_=S}return r.highlight=c,_?s(_):s(null,A)};if(!c||c.length<3||(delete r.highlight,!h.length))return v();let y=0;return ie.walkTokens(h,function(_){"code"===_.type&&(y++,setTimeout(()=>{c(_.text,_.lang,function(A,S){if(A)return v(A);null!=S&&S!==_.text&&(_.text=S,_.escaped=!0),y--,0===y&&v()})},0))}),void(0===y&&v())}try{const c=Ro.lex(f,r);return r.walkTokens&&ie.walkTokens(c,r.walkTokens),Lr.parse(c,r)}catch(c){if(c.message+="\nPlease report this to https://github.com/markedjs/marked.",r.silent)return"<p>An error occurred:</p><pre>"+Qn(c.message+"",!0)+"</pre>";throw c}}function h0(f,r){return Array(r+1).join(f)}ie.options=ie.setOptions=function(f){return ti(ie.defaults,f),$c=ie.defaults,ie},ie.getDefaults=function(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},ie.defaults=$c,ie.use=function(...f){const r=ti({},...f),s=ie.defaults.extensions||{renderers:{},childTokens:{}};let c;f.forEach(h=>{if(h.extensions&&(c=!0,h.extensions.forEach(v=>{if(!v.name)throw new Error("extension name required");if(v.renderer){const y=s.renderers?s.renderers[v.name]:null;s.renderers[v.name]=y?function(..._){let A=v.renderer.apply(this,_);return!1===A&&(A=y.apply(this,_)),A}:v.renderer}if(v.tokenizer){if(!v.level||"block"!==v.level&&"inline"!==v.level)throw new Error("extension level must be 'block' or 'inline'");s[v.level]?s[v.level].unshift(v.tokenizer):s[v.level]=[v.tokenizer],v.start&&("block"===v.level?s.startBlock?s.startBlock.push(v.start):s.startBlock=[v.start]:"inline"===v.level&&(s.startInline?s.startInline.push(v.start):s.startInline=[v.start]))}v.childTokens&&(s.childTokens[v.name]=v.childTokens)})),h.renderer){const v=ie.defaults.renderer||new ig;for(const y in h.renderer){const _=v[y];v[y]=(...A)=>{let S=h.renderer[y].apply(v,A);return!1===S&&(S=_.apply(v,A)),S}}r.renderer=v}if(h.tokenizer){const v=ie.defaults.tokenizer||new rg;for(const y in h.tokenizer){const _=v[y];v[y]=(...A)=>{let S=h.tokenizer[y].apply(v,A);return!1===S&&(S=_.apply(v,A)),S}}r.tokenizer=v}if(h.walkTokens){const v=ie.defaults.walkTokens;r.walkTokens=function(y){h.walkTokens.call(this,y),v&&v.call(this,y)}}c&&(r.extensions=s),ie.setOptions(r)})},ie.walkTokens=function(f,r){for(const s of f)switch(r.call(ie,s),s.type){case"table":for(const c of s.header)ie.walkTokens(c.tokens,r);for(const c of s.rows)for(const h of c)ie.walkTokens(h.tokens,r);break;case"list":ie.walkTokens(s.items,r);break;default:ie.defaults.extensions&&ie.defaults.extensions.childTokens&&ie.defaults.extensions.childTokens[s.type]?ie.defaults.extensions.childTokens[s.type].forEach(function(c){ie.walkTokens(s[c],r)}):s.tokens&&ie.walkTokens(s.tokens,r)}},ie.parseInline=function(f,r){if(null==f)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof f)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(f)+", string expected");P1(r=ti({},ie.defaults,r||{}));try{const s=Ro.lexInline(f,r);return r.walkTokens&&ie.walkTokens(s,r.walkTokens),Lr.parseInline(s,r)}catch(s){if(s.message+="\nPlease report this to https://github.com/markedjs/marked.",r.silent)return"<p>An error occurred:</p><pre>"+Qn(s.message+"",!0)+"</pre>";throw s}},ie.Parser=Lr,ie.parser=Lr.parse,ie.Renderer=ig,ie.TextRenderer=_l,ie.Lexer=Ro,ie.lexer=Ro.lex,ie.Tokenizer=rg,ie.Slugger=N1,ie.parse=ie,ie.use({tokenizer:{autolink:()=>null,url:()=>null},renderer:{checkbox(...f){return Object.getPrototypeOf(this).checkbox.call(this,...f).trimRight()},code(...f){return Object.getPrototypeOf(this).code.call(this,...f).replace("\n</code>","</code>")}}});var g2=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function f0(f){return-1!==g2.indexOf(f.nodeName.toLowerCase())}var B1=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function z1(f){return-1!==B1.indexOf(f.nodeName.toLowerCase())}var v2=B1.join(),yr={};function O1(f){for(var r in this.options=f,this._keep=[],this._remove=[],this.blankRule={replacement:f.blankReplacement},this.keepReplacement=f.keepReplacement,this.defaultRule={replacement:f.defaultReplacement},this.array=[],f.rules)this.array.push(f.rules[r])}function p0(f,r,s){for(var c=0;c<f.length;c++){var h=f[c];if(og(h,r,s))return h}}function og(f,r,s){var c=f.filter;if("string"==typeof c){if(c===r.nodeName.toLowerCase())return!0}else if(Array.isArray(c)){if(c.indexOf(r.nodeName.toLowerCase())>-1)return!0}else{if("function"!=typeof c)throw new TypeError("`filter` needs to be a string, array, or function");if(c.call(f,r,s))return!0}}function g0(f){var r=f.nextSibling||f.parentNode;return f.parentNode.removeChild(f),r}function V1(f,r,s){return f&&f.parentNode===r||s(r)?r.nextSibling||r.parentNode:r.firstChild||r.nextSibling||r.parentNode}yr.paragraph={filter:"p",replacement:function(f){return"\n\n"+f+"\n\n"}},yr.lineBreak={filter:"br",replacement:function(f,r,s){return s.br+"\n"}},yr.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(f,r,s){var c=Number(r.nodeName.charAt(1));return"setext"===s.headingStyle&&c<3?"\n\n"+f+"\n"+h0(1===c?"=":"-",f.length)+"\n\n":"\n\n"+h0("#",c)+" "+f+"\n\n"}},yr.blockquote={filter:"blockquote",replacement:function(f){return"\n\n"+(f=(f=f.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},yr.list={filter:["ul","ol"],replacement:function(f,r){var s=r.parentNode;return"LI"===s.nodeName&&s.lastElementChild===r?"\n"+f:"\n\n"+f+"\n\n"}},yr.listItem={filter:"li",replacement:function(f,r,s){f=f.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var c=s.bulletListMarker+"   ",h=r.parentNode;if("OL"===h.nodeName){var v=h.getAttribute("start"),y=Array.prototype.indexOf.call(h.children,r);c=(v?Number(v)+y:y+1)+".  "}return c+f+(r.nextSibling&&!/\n$/.test(f)?"\n":"")}},yr.indentedCodeBlock={filter:function(f,r){return"indented"===r.codeBlockStyle&&"PRE"===f.nodeName&&f.firstChild&&"CODE"===f.firstChild.nodeName},replacement:function(f,r,s){return"\n\n    "+r.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},yr.fencedCodeBlock={filter:function(f,r){return"fenced"===r.codeBlockStyle&&"PRE"===f.nodeName&&f.firstChild&&"CODE"===f.firstChild.nodeName},replacement:function(f,r,s){for(var c,h=((r.firstChild.className||"").match(/language-(\S+)/)||[null,""])[1],v=r.firstChild.textContent,y=s.fence.charAt(0),_=3,A=new RegExp("^"+y+"{3,}","gm");c=A.exec(v);)c[0].length>=_&&(_=c[0].length+1);var S=h0(y,_);return"\n\n"+S+h+"\n"+v.replace(/\n$/,"")+"\n"+S+"\n\n"}},yr.horizontalRule={filter:"hr",replacement:function(f,r,s){return"\n\n"+s.hr+"\n\n"}},yr.inlineLink={filter:function(f,r){return"inlined"===r.linkStyle&&"A"===f.nodeName&&f.getAttribute("href")},replacement:function(f,r){return"["+f+"]("+r.getAttribute("href")+(r.title?' "'+r.title+'"':"")+")"}},yr.referenceLink={filter:function(f,r){return"referenced"===r.linkStyle&&"A"===f.nodeName&&f.getAttribute("href")},replacement:function(f,r,s){var c,h,v=r.getAttribute("href"),y=r.title?' "'+r.title+'"':"";switch(s.linkReferenceStyle){case"collapsed":c="["+f+"][]",h="["+f+"]: "+v+y;break;case"shortcut":c="["+f+"]",h="["+f+"]: "+v+y;break;default:var _=this.references.length+1;c="["+f+"]["+_+"]",h="["+_+"]: "+v+y}return this.references.push(h),c},references:[],append:function(f){var r="";return this.references.length&&(r="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),r}},yr.emphasis={filter:["em","i"],replacement:function(f,r,s){return f.trim()?s.emDelimiter+f+s.emDelimiter:""}},yr.strong={filter:["strong","b"],replacement:function(f,r,s){return f.trim()?s.strongDelimiter+f+s.strongDelimiter:""}},yr.code={filter:function(f){return"CODE"===f.nodeName&&!("PRE"===f.parentNode.nodeName&&!f.previousSibling&&!f.nextSibling)},replacement:function(f){if(!f.trim())return"";var r="`",s="",c="",h=f.match(/`+/gm);if(h)for(/^`/.test(f)&&(s=" "),/`$/.test(f)&&(c=" ");-1!==h.indexOf(r);)r+="`";return r+s+f+c+r}},yr.image={filter:"img",replacement:function(f,r){var s=r.alt||"",c=r.getAttribute("src")||"",h=r.title||"";return c?"!["+s+"]("+c+(h?' "'+h+'"':"")+")":""}},O1.prototype={add:function(f,r){this.array.unshift(r)},keep:function(f){this._keep.unshift({filter:f,replacement:this.keepReplacement})},remove:function(f){this._remove.unshift({filter:f,replacement:function(){return""}})},forNode:function(f){return f.isBlank?this.blankRule:(r=p0(this.array,f,this.options))||(r=p0(this._keep,f,this.options))||(r=p0(this._remove,f,this.options))?r:this.defaultRule;var r},forEach:function(f){for(var r=0;r<this.array.length;r++)f(this.array[r],r)}};var Xc,wn="undefined"!=typeof window?window:{},Qc=function(){var f=wn.DOMParser,r=!1;try{(new f).parseFromString("","text/html")&&(r=!0)}catch{}return r}()?wn.DOMParser:function(){var f=function(){},r=St(1576).JSDOM;return f.prototype.parseFromString=function(s){return new r(s).window.document},f}();function kl(f){var r;return function(s){var c=s.element,h=s.isBlock,v=s.isVoid,y=s.isPre||function(z){return"PRE"===z.nodeName};if(c.firstChild&&!y(c)){for(var _=null,A=!1,S=null,D=V1(S,c,y);D!==c;){if(3===D.nodeType||4===D.nodeType){var E=D.data.replace(/[ \r\n\t]+/g," ");if(_&&!/ $/.test(_.data)||A||" "!==E[0]||(E=E.substr(1)),!E){D=g0(D);continue}D.data=E,_=D}else{if(1!==D.nodeType){D=g0(D);continue}h(D)||"BR"===D.nodeName?(_&&(_.data=_.data.replace(/ $/,"")),_=null,A=!1):v(D)&&(_=null,A=!0)}var P=V1(S,D,y);S=D,D=P}_&&(_.data=_.data.replace(/ $/,""),_.data||g0(_))}}({element:r="string"==typeof f?(Xc=Xc||new Qc).parseFromString('<x-turndown id="turndown-root">'+f+"</x-turndown>","text/html").getElementById("turndown-root"):f.cloneNode(!0),isBlock:f0,isVoid:z1}),r}function m2(f){return f.isBlock=f0(f),f.isCode="code"===f.nodeName.toLowerCase()||f.parentNode.isCode,f.isBlank=function(r){return-1===["A","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"].indexOf(r.nodeName)&&/^\s*$/i.test(r.textContent)&&!z1(r)&&!function(s){return s.querySelector&&s.querySelector(v2)}(r)}(f),f.flankingWhitespace=function(r){var s="",c="";if(!r.isBlock){var h=/^\s/.test(r.textContent),v=/\s$/.test(r.textContent),y=r.isBlank&&h&&v;h&&!F1("left",r)&&(s=" "),y||!v||F1("right",r)||(c=" ")}return{leading:s,trailing:c}}(f),f}function F1(f,r){var s,c,h;return"left"===f?(s=r.previousSibling,c=/ $/):(s=r.nextSibling,c=/^ /),s&&(3===s.nodeType?h=c.test(s.nodeValue):1!==s.nodeType||f0(s)||(h=c.test(s.textContent))),h}var v0=Array.prototype.reduce,H1=/^\n*/,qd=/\n*$/,Jc=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function ag(f){if(!(this instanceof ag))return new ag(f);var r={rules:yr,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(s,c){return c.isBlock?"\n\n":""},keepReplacement:function(s,c){return c.isBlock?"\n\n"+c.outerHTML+"\n\n":c.outerHTML},defaultReplacement:function(s,c){return c.isBlock?"\n\n"+s+"\n\n":s}};this.options=function(s){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var v in h)h.hasOwnProperty(v)&&(s[v]=h[v])}return s}({},r,f),this.rules=new O1(this.options)}function sg(f){var r=this;return v0.call(f.childNodes,function(s,c){var h="";return 3===(c=new m2(c)).nodeType?h=c.isCode?c.nodeValue:r.escape(c.nodeValue):1===c.nodeType&&(h=lg.call(r,c)),m0(s,h)},"")}function y2(f){var r=this;return this.rules.forEach(function(s){"function"==typeof s.append&&(f=m0(f,s.append(r.options)))}),f.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function lg(f){var r=this.rules.forNode(f),s=sg.call(this,f),c=f.flankingWhitespace;return(c.leading||c.trailing)&&(s=s.trim()),c.leading+r.replacement(s,f,this.options)+c.trailing}function m0(f,r){var s,c,h,v=(s=r,(h=(c=[f.match(qd)[0],s.match(H1)[0]].sort())[c.length-1]).length<2?h:"\n\n");return(f=f.replace(qd,""))+v+r.replace(H1,"")}ag.prototype={turndown:function(f){if(!function(s){return null!=s&&("string"==typeof s||s.nodeType&&(1===s.nodeType||9===s.nodeType||11===s.nodeType))}(f))throw new TypeError(f+" is not a string, or an element/document/fragment node.");if(""===f)return"";var r=sg.call(this,new kl(f));return y2.call(this,r)},use:function(f){if(Array.isArray(f))for(var r=0;r<f.length;r++)this.use(f[r]);else{if("function"!=typeof f)throw new TypeError("plugin must be a Function or an Array of Functions");f(this)}return this},addRule:function(f,r){return this.rules.add(f,r),this},keep:function(f){return this.rules.keep(f),this},remove:function(f){return this.rules.remove(f),this},escape:function(f){return Jc.reduce(function(r,s){return r.replace(s[0],s[1])},f)}};const tu=ag;var y0=/highlight-(?:text|source)-([a-z0-9]+)/;function j1(f){f.addRule("highlightedCodeBlock",{filter:function(r){var s=r.firstChild;return"DIV"===r.nodeName&&y0.test(r.className)&&s&&"PRE"===s.nodeName},replacement:function(r,s,c){var h=((s.className||"").match(y0)||[null,""])[1];return"\n\n"+c.fence+h+"\n"+s.firstChild.textContent+"\n"+c.fence+"\n\n"}})}function b0(f){f.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(r){return"~"+r+"~"}})}var b2=Array.prototype.indexOf,w2=Array.prototype.every,eu={};function cg(f){var r,s,c=f.parentNode;return"THEAD"===c.nodeName||c.firstChild===f&&("TABLE"===c.nodeName||(s=(r=c).previousSibling,"TBODY"===r.nodeName&&(!s||"THEAD"===s.nodeName&&/^\s*$/i.test(s.textContent))))&&w2.call(f.childNodes,function(h){return"TH"===h.nodeName})}function w0(f,r){var s=" ";return 0===b2.call(r.parentNode.childNodes,r)&&(s="| "),s+f+" |"}function G1(f){for(var r in f.keep(function(s){return"TABLE"===s.nodeName&&!cg(s.rows[0])}),eu)f.addRule(r,eu[r])}function U1(f){f.addRule("taskListItems",{filter:function(r){return"checkbox"===r.type&&"LI"===r.parentNode.nodeName},replacement:function(r,s){return(s.checked?"[x]":"[ ]")+" "}})}eu.tableCell={filter:["th","td"],replacement:function(f,r){return w0(f,r)}},eu.tableRow={filter:"tr",replacement:function(f,r){var s="",c={left:":--",right:"--:",center:":-:"};if(cg(r))for(var h=0;h<r.childNodes.length;h++){var v="---",y=(r.childNodes[h].getAttribute("align")||"").toLowerCase();y&&(v=c[y]||v),s+=w0(v,r.childNodes[h])}return"\n"+f+(s?"\n"+s:"")}},eu.table={filter:function(f){return"TABLE"===f.nodeName&&cg(f.rows[0])},replacement:function(f){return"\n\n"+(f=f.replace("\n\n","\n"))+"\n\n"}},eu.tableSection={filter:["thead","tbody","tfoot"],replacement:function(f){return f}};const _2=tu.prototype.escape;function _0(f){return(f=_2(f)).replace(/</g,"\\<")}tu.prototype.escape=function(f){let r="",s=0;for(const c of function*(h){for(const v of h.matchAll(k2)){const y=v[0],_=W1(y);yield Object.assign([y.substring(0,_)],{index:v.index})}}(f)){const h=c.index;h>s&&(r+=_0(f.substring(s,h)));const v=c[0];r+=v,s=h+v.length}return s<f.length&&(r+=_0(f.substring(s,f.length))),r};const k0=new tu({codeBlockStyle:"fenced",hr:"---",headingStyle:"atx"});k0.use([function(f){f.use([j1,b0,G1,U1])},function(f){f.addRule("taskListItems",{filter:r=>"checkbox"===r.type&&("LI"===r.parentNode.nodeName||"LI"===r.parentNode.parentNode.nodeName),replacement:(r,s)=>(s.checked?"[x]":"[ ]")+" "})}]);const k2=new RegExp(/\b(?:(?:https?|ftp):\/\/|www\.)/.source+/(?![-_])(?:[-_a-z0-9\u00a1-\uffff]{1,63}\.)+(?:[a-z\u00a1-\uffff]{2,63})/.source+/(?:[^\s<>]*)/.source,"gi");function W1(f){let r=f.length;for(;r>0;){const s=f[r-1];if("?!.,:*_~'\"".includes(s))r--;else{if(")"!=s)break;{let c=0;for(let h=0;h<r;h++)"("==f[h]?c++:")"==f[h]&&c--;if(!(c<0))break;r--}}}return r}class Y1{constructor(r){this._htmlDP=new $w(r)}keepHtml(r){k0.keep([r])}toView(r){const s=ie.parse(r,{gfm:!0,breaks:!0,tables:!0,xhtml:!0,headerIds:!1});return this._htmlDP.toView(s)}toData(r){return function(s){return k0.turndown(s)}(this._htmlDP.toData(r))}registerRawContentMatcher(r){this._htmlDP.registerRawContentMatcher(r)}useFillerType(){}}function A0(f,r){return c=>{c.on("attribute:url:media",s)};function s(c,h,v){if(!v.consumable.consume(h.item,c.name))return;const y=h.attributeNewValue,_=v.writer,A=v.mapper.toViewElement(h.item),S=[...A.getChildren()].find(E=>E.getCustomProperty("media-content"));_.remove(S);const D=f.getMediaViewElement(_,y,r);_.insert(_.createPositionAt(A,0),D)}}function C0(f,r,s,c){return f.createContainerElement("figure",{class:"media"},[r.getMediaViewElement(f,s,c),f.createSlot()])}function q1(f){const r=f.getSelectedElement();return r&&r.is("element","media")?r:null}function Pr(f,r,s,c){f.change(h=>{const v=h.createElement("media",{url:r});f.insertObject(v,s,null,{setSelection:"on",findOptimalPosition:c})})}class Zd extends ae{refresh(){const r=this.editor.model,s=r.document.selection,c=q1(s);this.value=c?c.getAttribute("url"):null,this.isEnabled=function(h){const v=h.getSelectedElement();return!!v&&"media"===v.name}(s)||function(h,v){let y=nl(h,v).start.parent;return y.isEmpty&&!v.schema.isLimit(y)&&(y=y.parent),v.schema.checkChild(y,"media")}(s,r)}execute(r){const s=this.editor.model,c=s.document.selection,h=q1(c);h?s.change(v=>{v.setAttribute("url",r,h)}):Pr(s,r,c,!0)}}class Z1{constructor(r,s){const c=s.providers,h=s.extraProviders||[],v=new Set(s.removeProviders),y=c.concat(h).filter(_=>{const A=_.name;return A?!v.has(A):(it("media-embed-no-provider-name",{provider:_}),!1)});this.locale=r,this.providerDefinitions=y}hasMedia(r){return!!this._getMedia(r)}getMediaViewElement(r,s,c){return this._getMedia(s).getViewElement(r,c)}_getMedia(r){if(!r)return new ss(this.locale);r=r.trim();for(const s of this.providerDefinitions){const c=s.html,h=Ge(s.url);for(const v of h){const y=this._getUrlMatches(r,v);if(y)return new ss(this.locale,r,y,c)}}return null}_getUrlMatches(r,s){let c=r.match(s);if(c)return c;let h=r.replace(/^https?:\/\//,"");return c=h.match(s),c||(h=h.replace(/^www\./,""),c=h.match(s),c||null)}}class ss{constructor(r,s,c,h){this.url=this._getValidUrl(s),this._locale=r,this._match=c,this._previewRenderer=h}getViewElement(r,s){const c={};let h;if(s.renderForEditingView||s.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(c["data-oembed-url"]=this.url),s.renderForEditingView&&(c.class="ck-media__wrapper");const v=this._getPreviewHtml(s);h=r.createRawElement("div",c,(y,_)=>{_.setContentOf(y,v)})}else this.url&&(c.url=this.url),h=r.createEmptyElement(s.elementName,c);return r.setCustomProperty("media-content",!0,h),h}_getPreviewHtml(r){return this._previewRenderer?this._previewRenderer(this._match):this.url&&r.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const r=new Uf,s=this._locale.t;return r.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',r.viewBox="0 0 64 42",new Xt({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[r]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":s("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(r){return r?r.match(/^https?/)?r:"https://"+r:null}}var $1=St(952);Ut()($1.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class $d extends vt{static get pluginName(){return"MediaEmbedEditing"}constructor(r){super(r),r.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:s=>{const h=s[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${s[1]}${h?`?start=${h}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new Z1(r.locale,r.config.get("mediaEmbed"))}init(){const r=this.editor,s=r.model.schema,c=r.t,h=r.conversion,v=r.config.get("mediaEmbed.previewsInData"),y=r.config.get("mediaEmbed.elementName"),_=this.registry;r.commands.add("mediaEmbed",new Zd(r)),s.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),h.for("dataDowncast").elementToStructure({model:"media",view:(A,{writer:S})=>{const D=A.getAttribute("url");return C0(S,_,D,{elementName:y,renderMediaPreview:D&&v})}}),h.for("dataDowncast").add(A0(_,{elementName:y,renderMediaPreview:v})),h.for("editingDowncast").elementToStructure({model:"media",view:(A,{writer:S})=>{const D=A.getAttribute("url");return E=C0(S,_,D,{elementName:y,renderForEditingView:!0}),P=S,z=c("media widget"),P.setCustomProperty("media",!0,E),Ad(E,P,{label:z});var E,P,z}}),h.for("editingDowncast").add(A0(_,{elementName:y,renderForEditingView:!0})),h.for("upcast").elementToElement({view:A=>["oembed",y].includes(A.name)&&A.getAttribute("url")?{name:!0}:null,model:(A,{writer:S})=>{const D=A.getAttribute("url");if(_.hasMedia(D))return S.createElement("media",{url:D})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(A,{writer:S})=>{const D=A.getAttribute("data-oembed-url");if(_.hasMedia(D))return S.createElement("media",{url:D})}}).add(A=>{A.on("element:figure",function(S,D,E){if(!E.consumable.consume(D.viewItem,{name:!0,classes:"media"}))return;const{modelRange:P,modelCursor:z}=E.convertChildren(D.viewItem,D.modelCursor);D.modelRange=P,D.modelCursor=z,xn(P.getItems())||E.consumable.revert(D.viewItem,{name:!0,classes:"media"})})})}}const K1=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class nu extends vt{static get requires(){return[fp,ua,ry]}static get pluginName(){return"AutoMediaEmbed"}constructor(r){super(r),this._timeoutId=null,this._positionToInsert=null}init(){const r=this.editor,s=r.model.document;this.listenTo(r.plugins.get("ClipboardPipeline"),"inputTransformation",()=>{const c=s.selection.getFirstRange(),h=$n.fromPosition(c.start);h.stickiness="toPrevious";const v=$n.fromPosition(c.end);v.stickiness="toNext",s.once("change:data",()=>{this._embedMediaBetweenPositions(h,v),h.detach(),v.detach()},{priority:"high"})}),r.commands.get("undo").on("execute",()=>{this._timeoutId&&(Yt.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(r,s){const c=this.editor,h=c.plugins.get($d).registry,v=new Zi(r,s),y=v.getWalker({ignoreElementEnd:!0});let _="";for(const A of y)A.item.is("$textProxy")&&(_+=A.item.data);_=_.trim(),_.match(K1)&&h.hasMedia(_)&&c.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=$n.fromPosition(r),this._timeoutId=Yt.window.setTimeout(()=>{c.model.change(A=>{let S;this._timeoutId=null,A.remove(v),v.detach(),"$graveyard"!==this._positionToInsert.root.rootName&&(S=this._positionToInsert),Pr(c.model,_,S,!1),this._positionToInsert.detach(),this._positionToInsert=null}),c.plugins.get("Delete").requestUndoOnBackspace()},100)):v.detach()}}var S0=St(3525);Ut()(S0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class A2 extends he{constructor(r,s){super(s);const c=s.t;this.focusTracker=new Zn,this.keystrokes=new gr,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(c("Save"),Ve.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",h=>!!h),this.cancelButtonView=this._createButton(c("Cancel"),Ve.cancel,"ck-button-cancel","cancel"),this._focusables=new To,this._focusCycler=new Xa({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=r,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]}),Qi(this)}render(){super.render(),bc({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(s=>{this._focusables.add(s),this.focusTracker.add(s.element)}),this.keystrokes.listenTo(this.element);const r=s=>s.stopPropagation();this.keystrokes.set("arrowright",r),this.keystrokes.set("arrowleft",r),this.keystrokes.set("arrowup",r),this.keystrokes.set("arrowdown",r),this.listenTo(this.urlInputView.element,"selectstart",(s,c)=>{c.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(r){this.urlInputView.fieldView.element.value=r.trim()}isValid(){this.resetFormStatus();for(const r of this._validators){const s=r(this);if(s)return this.urlInputView.errorText=s,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const r=this.locale.t,s=new np(this.locale,wd),c=s.fieldView;return this._urlInputViewInfoDefault=r("Paste the media URL in the input."),this._urlInputViewInfoTip=r("Tip: Paste the URL into the content to embed faster."),s.label=r("Media URL"),s.infoText=this._urlInputViewInfoDefault,c.on("input",()=>{s.infoText=c.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=c.element.value.trim()}),s}_createButton(r,s,c,h){const v=new xe(this.locale);return v.set({label:r,icon:s,tooltip:!0}),v.extendTemplate({attributes:{class:c}}),h&&v.delegate("execute").to(this,h),v}}class C2 extends vt{static get requires(){return[$d]}static get pluginName(){return"MediaEmbedUI"}init(){const r=this.editor,s=r.commands.get("mediaEmbed"),c=r.plugins.get($d).registry;r.ui.componentFactory.add("mediaEmbed",h=>{const v=bn(h),y=new A2((_=r.t,A=c,[S=>{if(!S.url.length)return _("The URL must not be empty.")},S=>{if(!A.hasMedia(S.url))return _("This media URL is not supported.")}]),r.locale);var _,A;return this._setUpDropdown(v,y,s,r),this._setUpForm(v,y,s),v})}_setUpDropdown(r,s,c){const h=this.editor,v=h.t,y=r.buttonView;r.bind("isEnabled").to(c),r.panelView.children.add(s),y.set({label:v("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0}),y.on("open",()=>{s.disableCssTransitions(),s.url=c.value||"",s.urlInputView.fieldView.select(),s.enableCssTransitions()},{priority:"low"}),r.on("submit",()=>{s.isValid()&&(h.execute("mediaEmbed",s.url),h.editing.view.focus())}),r.on("change:isOpen",()=>s.resetFormStatus()),r.on("cancel",()=>{h.editing.view.focus()})}_setUpForm(r,s,c){s.delegate("submit","cancel").to(r),s.urlInputView.bind("value").to(c,"value"),s.urlInputView.bind("isReadOnly").to(c,"isEnabled",h=>!h)}}var T0=St(5777);Ut()(T0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Q1=Va("px");class oo extends Ac{constructor(r,s){super(r);const c=this.bindTemplate;this.set("top",0),this.set("height",0),this._options=s,this.extendTemplate({attributes:{class:["ck-minimap__iframe"],style:{top:c.to("top",h=>Q1(h)),height:c.to("height",h=>Q1(h))}}})}render(){return super.render().then(()=>{this._prepareDocument()})}setHeight(r){this.height=r}setTopOffset(r){this.top=r}_prepareDocument(){const r=this.element.contentWindow.document,s=r.adoptNode(this._options.domRootClone),c=this._options.useSimplePreview?"\n\t\t\t.ck.ck-editor__editable_inline img {\n\t\t\t\tfilter: contrast( 0 );\n\t\t\t}\n\n\t\t\tp, li, a, figcaption, span {\n\t\t\t\tbackground: hsl(0, 0%, 80%) !important;\n\t\t\t\tcolor: hsl(0, 0%, 80%) !important;\n\t\t\t}\n\n\t\t\th1, h2, h3, h4 {\n\t\t\t\tbackground: hsl(0, 0%, 60%) !important;\n\t\t\t\tcolor: hsl(0, 0%, 60%) !important;\n\t\t\t}\n\t\t":"",h=`<!DOCTYPE html><html lang="en">\n\t\t\t<head>\n\t\t\t\t<meta charset="utf-8">\n\t\t\t\t<meta name="viewport" content="width=device-width, initial-scale=1">\n\t\t\t\t${this._options.pageStyles.map(v=>"string"==typeof v?`<style>${v}</style>`:`<link rel="stylesheet" type="text/css" href="${v.href}">`).join("\n")}\n\t\t\t\t<style>\n\t\t\t\t\thtml, body {\n\t\t\t\t\t\tmargin: 0 !important;\n\t\t\t\t\t\tpadding: 0 !important;\n\t\t\t\t\t}\n\n\t\t\t\t\thtml {\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t}\n\n\t\t\t\t\tbody {\n\t\t\t\t\t\ttransform: scale( ${this._options.scaleRatio} );\n\t\t\t\t\t\ttransform-origin: 0 0;\n\t\t\t\t\t\toverflow: visible;\n\t\t\t\t\t}\n\n\t\t\t\t\t.ck.ck-editor__editable_inline {\n\t\t\t\t\t\tmargin: 0 !important;\n\t\t\t\t\t\tborder-color: transparent !important;\n\t\t\t\t\t\toutline-color: transparent !important;\n\t\t\t\t\t\tbox-shadow: none !important;\n\t\t\t\t\t}\n\n\t\t\t\t\t.ck.ck-content {\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t}\n\n\t\t\t\t\t${c}\n\t\t\t\t</style>\n\t\t\t</head>\n\t\t\t<body class="${this._options.extraClasses||""}"></body>\n\t\t</html>`;r.open(),r.write(h),r.close(),r.body.appendChild(s)}}const D0=Va("px");class S2 extends he{constructor(r){super(r);const s=this.bindTemplate;this.set("height",0),this.set("top",0),this.set("scrollProgress",0),this.set("_isDragging",!1),this.setTemplate({tag:"div",attributes:{class:["ck","ck-minimap__position-tracker",s.if("_isDragging","ck-minimap__position-tracker_dragging")],style:{top:s.to("top",c=>D0(c)),height:s.to("height",c=>D0(c))},"data-progress":s.to("scrollProgress")},on:{mousedown:s.to(()=>{this._isDragging=!0})}})}render(){super.render(),this.listenTo(Yt.document,"mousemove",(r,s)=>{this._isDragging&&this.fire("drag",s.movementY)},{useCapture:!0}),this.listenTo(Yt.document,"mouseup",()=>{this._isDragging=!1},{useCapture:!0})}setHeight(r){this.height=r}setTopOffset(r){this.top=r}setScrollProgress(r){this.scrollProgress=r}}class T2 extends he{constructor({locale:r,scaleRatio:s,pageStyles:c,extraClasses:h,useSimplePreview:v,domRootClone:y}){super(r);const _=this.bindTemplate;this._positionTrackerView=new S2(r),this._positionTrackerView.delegate("drag").to(this),this._scaleRatio=s,this._minimapIframeView=new oo(r,{useSimplePreview:v,pageStyles:c,extraClasses:h,scaleRatio:s,domRootClone:y}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-minimap"]},children:[this._positionTrackerView],on:{click:_.to(this._handleMinimapClick.bind(this)),wheel:_.to(this._handleMinimapMouseWheel.bind(this))}})}destroy(){this._minimapIframeView.destroy(),super.destroy()}get height(){return new Ue(this.element).height}get scrollHeight(){return Math.max(0,Math.min(this.height,this._minimapIframeView.height)-this._positionTrackerView.height)}render(){super.render(),this._minimapIframeView.render(),this.element.appendChild(this._minimapIframeView.element)}setContentHeight(r){this._minimapIframeView.setHeight(r*this._scaleRatio)}setScrollProgress(r){const s=this._minimapIframeView,c=this._positionTrackerView;s.height<this.height?(s.setTopOffset(0),c.setTopOffset((s.height-c.height)*r)):(s.setTopOffset(-(s.height-this.height)*r),c.setTopOffset((this.height-c.height)*r)),c.setScrollProgress(Math.round(100*r))}setPositionTrackerHeight(r){this._positionTrackerView.setHeight(r*this._scaleRatio)}_handleMinimapClick(r){const s=this._positionTrackerView;if(r.target===s.element)return;const c=new Ue(s.element);this.fire("click",(r.clientY-c.top-c.height/2)/this._minimapIframeView.height)}_handleMinimapMouseWheel(r){this.fire("drag",r.deltaY*this._scaleRatio)}}function BE(f,r){const s=f.editing.view.document,c=s.getRoot(r),h=new Yu(s),v=new Nv(h,s.selection),y=f.editing.view.getDomRoot().cloneNode();return h.bindElements(y,c),v.markToSync("children",c),v.markToSync("attributes",c),c.on("change:children",(_,A)=>v.markToSync("children",A)),c.on("change:attributes",(_,A)=>v.markToSync("attributes",A)),c.on("change:text",(_,A)=>v.markToSync("text",A)),v.render(),f.editing.view.on("render",()=>v.render()),f.on("destroy",()=>{h.unbindDomElement(y)}),y}function M0(f){return new Ue(f===Yt.document.body?Yt.window:f)}function J1(f){return f===Yt.document.body?Yt.window:f}var tA=St(2722);Ut()(tA.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class M2 extends ae{refresh(){const r=this.editor.model;this.isEnabled=function(h,v,y){const _=function(A,S){const D=nl(A,S).start.parent;return D.isEmpty&&!D.is("element","$root")?D.parent:D}(h,y);return v.checkChild(_,"pageBreak")}(r.document.selection,r.schema,r)}execute(){const r=this.editor.model;r.change(s=>{const c=s.createElement("pageBreak");r.insertObject(c,null,null,{setSelection:"after"})})}}var eA=St(6448);Ut()(eA.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class nA extends vt{static get pluginName(){return"PageBreakEditing"}init(){const r=this.editor,c=r.t,h=r.conversion;r.model.schema.register("pageBreak",{inheritAllFrom:"$blockObject"}),h.for("dataDowncast").elementToStructure({model:"pageBreak",view:(v,{writer:y})=>y.createContainerElement("div",{class:"page-break",style:"page-break-after: always"},y.createContainerElement("span",{style:"display: none"}))}),h.for("editingDowncast").elementToStructure({model:"pageBreak",view:(v,{writer:y})=>{const _=c("Page break"),A=y.createContainerElement("div"),S=y.createRawElement("span",{class:"page-break__label"},function(D){D.innerText=c("Page break")});return y.addClass("page-break",A),y.insert(y.createPositionAt(A,0),S),P=_,(E=y).setCustomProperty("pageBreak",!0,D=A),Ad(D,E,{label:P});var D,E,P}}),h.for("upcast").elementToElement({view:v=>{const y="always"==v.getStyle("page-break-before"),_="always"==v.getStyle("page-break-after");if(y||_){if(1==v.childCount){const A=v.getChild(0);if(!A.is("element","span")||"none"!=A.getStyle("display"))return}else if(v.childCount>1)return;return{name:!0}}},model:"pageBreak",converterPriority:"high"}),r.commands.add("pageBreak",new M2(r))}}class E2 extends vt{static get pluginName(){return"PageBreakUI"}init(){const r=this.editor,s=r.t;r.ui.componentFactory.add("pageBreak",c=>{const h=r.commands.get("pageBreak"),v=new xe(c);return v.set({label:s("Page break"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.598.687h1.5v5h-1.5zm14.5 0h1.5v5h-1.5z"/><path d="M19.598 4.187v1.5h-16v-1.5zm-16 14.569h1.5v-5h-1.5zm14.5 0h1.5v-5h-1.5z"/><path d="M19.598 15.256v-1.5h-16v1.5zM5.081 9h6v2h-6zm8 0h6v2h-6zm-9.483 1L0 12.5v-5z"/></svg>',tooltip:!0}),v.bind("isEnabled").to(h,"isEnabled"),this.listenTo(v,"execute",()=>{r.execute("pageBreak"),r.editing.view.focus()}),v})}}function ug(f,r,s,{blockElements:c,inlineObjectElements:h}){let v=s.createPositionAt(f,"forward"==r?"after":"before");return v=v.getLastMatchingPosition(({item:y})=>y.is("element")&&!c.includes(y.name)&&!h.includes(y.name),{direction:r}),"forward"==r?v.nodeAfter:v.nodeBefore}function I0(f,r){return!!f&&f.is("element")&&r.includes(f.name)}function dg(f){if(f.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(f){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return f;default:return null}}function rA(f,r,s){const c=r.parent,h=s.createElement(f.type),v=c.getChildIndex(r)+1;return s.insertChild(v,h,c),f.style&&s.setStyle("list-style-type",f.style,h),f.startIndex&&f.startIndex>1&&s.setAttribute("start",f.startIndex,h),h}function P2(f){const r={},s=f.getStyle("mso-list");if(s){const c=s.match(/(^|\s{1,100})l(\d+)/i),h=s.match(/\s{0,100}lfo(\d+)/i),v=s.match(/\s{0,100}level(\d+)/i);c&&h&&v&&(r.id=c[2],r.order=h[1],r.indent=v[1])}return r}const R2=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class iA{constructor(r){this.document=r}isActive(r){return R2.test(r)}execute(r){const s=new fc(this.document),{body:c}=r._parsedData;(function(h,v){for(const y of h.getChildren())if(y.is("element","b")&&"normal"===y.getStyle("font-weight")){const _=h.getChildIndex(y);v.remove(y),v.insertChild(_,y.getChildren(),h)}})(c,s),function(h,v){for(const y of v.createRangeIn(h)){const _=y.item;if(_.is("element","li")){const A=_.getChild(0);A&&A.is("element","p")&&v.unwrapElement(A)}}}(c,s),function(h,v){const y=new sf(v.document.stylesProcessor),_=new Yu(y,{renderingMode:"data"}),A=_.blockElements,S=_.inlineObjectElements,D=[];for(const E of v.createRangeIn(h)){const P=E.item;if(P.is("element","br")){const z=ug(P,"forward",v,{blockElements:A,inlineObjectElements:S}),G=ug(P,"backward",v,{blockElements:A,inlineObjectElements:S}),W=I0(z,A);(I0(G,A)||W)&&D.push(P)}}for(const E of D)E.hasClass("Apple-interchange-newline")?v.remove(E):v.replace(E,v.createElement("p"))}(c,s),r.content=c}}function br(f){return btoa(f.match(/\w{2}/g).map(r=>String.fromCharCode(parseInt(r,16))).join(""))}const ei=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,E0=/xmlns:o="urn:schemas-microsoft-com/i;class oA{constructor(r){this.document=r}isActive(r){return ei.test(r)||E0.test(r)}execute(r){const{body:s,stylesString:c}=r._parsedData;(function(f,r){if(!f.childCount)return;const s=new fc(f.document),c=function(y,_){const A=_.createRangeIn(y),S=new Ti({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),D=[];for(const E of A)if("elementStart"===E.type&&S.match(E.item)){const P=P2(E.item);D.push({element:E.item,id:P.id,order:P.order,indent:P.indent})}return D}(f,s);if(!c.length)return;let h=null,v=1;c.forEach((y,_)=>{const A=function(G,W){if(!G)return!0;if(G.id!==W.id)return W.indent-G.indent!=1;const $=W.element.previousSibling;return!$||!((X=$).is("element","ol")||X.is("element","ul"));var X}(c[_-1],y),D=(P=y,(E=A?null:c[_-1])?P.indent-E.indent:P.indent-1);var E,P;if(A&&(h=null,v=1),!h||0!==D){const G=function(W,$){const et=/mso-level-number-format:([^;]{0,100});/gi,ct=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,mt=new RegExp(`@list l${W.id}:level${W.indent}\\s*({[^}]*)`,"gi").exec($);let Ot="decimal",Wt="ol",se=null;if(mt&&mt[1]){const un=et.exec(mt[1]);if(un&&un[1]&&(Ot=un[1].trim(),Wt="bullet"!==Ot&&"image"!==Ot?"ol":"ul"),"bullet"===Ot){const In=function(ii){const Nr=function(ai){if(ai.getChild(0).is("$text"))return null;for(const lo of ai.getChildren()){if(!lo.is("element","span"))continue;const ds=lo.getChild(0);return ds.is("$text")?ds:ds.getChild(0)}}(ii);if(!Nr)return null;const oi=Nr._data;return"o"===oi?"circle":"\xb7"===oi?"disc":"\xa7"===oi?"square":null}(W.element);In&&(Ot=In)}else{const In=ct.exec(mt[1]);In&&In[1]&&(se=parseInt(In[1]))}}return{type:Wt,startIndex:se,style:dg(Ot)}}(y,r);if(h)if(y.indent>v){const W=h.getChild(h.childCount-1),$=W.getChild(W.childCount-1);h=rA(G,$,s),v+=1}else y.indent<v&&(h=function($,X){const et=$.getAncestors({parentFirst:!0});let ct=null,mt=0;for(const Ot of et)if("ul"!==Ot.name&&"ol"!==Ot.name||mt++,mt===X){ct=Ot;break}return ct}(h,v-y.indent),v=parseInt(y.indent));else h=rA(G,y.element,s);y.indent<=v&&(h.is("element",G.type)||(h=s.rename(G.type,h)))}const z=(function($,X){const et=new Ti({name:"span",styles:{"mso-list":"Ignore"}}),ct=X.createRangeIn($);for(const mt of ct)"elementStart"===mt.type&&et.match(mt.item)&&X.remove(mt.item)}(G=y.element,W=s),W.rename("li",G));var G,W;s.appendChild(z,h)})})(s,c),function(f,r){if(!f.childCount)return;const s=new fc;(function(v,y,_){const A=_.createRangeIn(y),S=new Ti({name:"img"}),D=[];for(const E of A)if(S.match(E.item)){const P=E.item,z=P.getAttribute("v:shapes")?P.getAttribute("v:shapes").split(" "):[];z.length&&z.every(G=>v.indexOf(G)>-1)?D.push(P):P.getAttribute("src")||D.push(P)}for(const E of D)_.remove(E)})(function(v,y){const _=y.createRangeIn(v),A=new Ti({name:/v:(.+)/}),S=[];for(const D of _){if("elementStart"!=D.type)continue;const E=D.item,P=E.previousSibling&&E.previousSibling.name||null;A.match(E)&&E.getAttribute("o:gfxdata")&&"v:shapetype"!==P&&S.push(D.item.getAttribute("id"))}return S}(f,s),f,s),function(v,y){const _=y.createRangeIn(v),A=new Ti({name:/v:(.+)/}),S=[];for(const D of _)"elementStart"==D.type&&A.match(D.item)&&S.push(D.item);for(const D of S)y.remove(D)}(f,s);const h=function(v,y){const _=y.createRangeIn(v),A=new Ti({name:"img"}),S=[];for(const D of _)A.match(D.item)&&D.item.getAttribute("src").startsWith("file://")&&S.push(D.item);return S}(f,s);h.length&&function(v,y,_){if(v.length===y.length)for(let A=0;A<v.length;A++){const S=`data:${y[A].type};base64,${br(y[A].hex)}`;_.setAttribute("src",S,v[A])}}(h,function(v){if(!v)return[];const y=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,_=new RegExp("(?:("+y.source+"))([\\da-fA-F\\s]+)\\}","g"),A=v.match(_),S=[];if(A)for(const D of A){let E=!1;D.includes("\\pngblip")?E="image/png":D.includes("\\jpegblip")&&(E="image/jpeg"),E&&S.push({hex:D.replace(y,"").replace(/[^\da-fA-F]/g,""),type:E})}return S}(r),s)}(s,r.dataTransfer.getData("text/rtf")),r.content=s}}function hg(f){return f.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(r,s)=>1===s.length?" ":Array(s.length+1).join("\xa0 ").substr(0,s.length))}function _n(f,r,s,c,h=1){r>h?c.setAttribute(f,r,s):c.removeAttribute(f,s)}function Al(f,r,s={}){const c=f.createElement("tableCell",s);return f.insertElement("paragraph",c),f.insert(c,r),c}function fg(f,r){const c=parseInt(r.parent.parent.getAttribute("headingColumns")||0),{column:h}=f.getCellLocation(r);return!!c&&h<c}function L0(f){return r=>{r.on(`element:${f}`,(s,c,h)=>{if(c.modelRange&&c.viewItem.isEmpty){const y=h.writer.createPositionAt(c.modelRange.start.nodeAfter,0);h.writer.insertElement("paragraph",y)}},{priority:"low"})}}function lA(f){let r=0,s=0;const c=Array.from(f.getChildren()).filter(h=>"th"===h.name||"td"===h.name);for(;s<c.length&&"th"===c[s].name;)r+=parseInt(c[s].getAttribute("colspan")||1),s++;return r}class Fe{constructor(r,s={}){this._table=r,this._startRow=void 0!==s.row?s.row:s.startRow||0,this._endRow=void 0!==s.row?s.row:s.endRow,this._startColumn=void 0!==s.column?s.column:s.startColumn||0,this._endColumn=void 0!==s.column?s.column:s.endColumn,this._includeAllSlots=!!s.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const r=this._table.getChild(this._rowIndex);if(!r||this._isOverEndRow())return{done:!0};if(!r.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let s=null;const c=this._getSpanned();if(c)this._includeAllSlots&&!this._shouldSkipSlot()&&(s=this._formatOutValue(c.cell,c.row,c.column));else{const h=r.getChild(this._cellIndex);if(!h)return this._advanceToNextRow();const v=parseInt(h.getAttribute("colspan")||1),y=parseInt(h.getAttribute("rowspan")||1);(v>1||y>1)&&this._recordSpans(h,y,v),this._shouldSkipSlot()||(s=this._formatOutValue(h)),this._nextCellAtColumn=this._column+v}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,s||this.next()}skipRow(r){this._skipRows.add(r)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(r,s=this._row,c=this._column){return{done:!1,value:new ru(this,r,s,c)}}_shouldSkipSlot(){return this._skipRows.has(this._row)||this._row<this._startRow||this._column<this._startColumn||void 0!==this._endColumn&&this._column>this._endColumn}_getSpanned(){const r=this._spannedCells.get(this._row);return r&&r.get(this._column)||null}_recordSpans(r,s,c){const h={cell:r,row:this._row,column:this._column};for(let v=this._row;v<this._row+s;v++)for(let y=this._column;y<this._column+c;y++)v==this._row&&y==this._column||this._markSpannedCell(v,y,h)}_markSpannedCell(r,s,c){this._spannedCells.has(r)||this._spannedCells.set(r,new Map),this._spannedCells.get(r).set(s,c)}}class ru{constructor(r,s,c,h){this.cell=s,this.row=r._row,this.column=r._column,this.cellAnchorRow=c,this.cellAnchorColumn=h,this._cellIndex=r._cellIndex,this._rowIndex=r._rowIndex,this._table=r._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||1)}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||1)}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function pg(f,r={}){return(s,{writer:c})=>{const h=s.getAttribute("headingRows")||0,v=[];h>0&&v.push(c.createContainerElement("thead",null,c.createSlot(_=>_.is("element","tableRow")&&_.index<h))),h<f.getRows(s)&&v.push(c.createContainerElement("tbody",null,c.createSlot(_=>_.is("element","tableRow")&&_.index>=h)));const y=c.createContainerElement("figure",{class:"table"},[c.createContainerElement("table",null,v),c.createSlot(_=>!_.is("element","tableRow"))]);return r.asWidget?((A=c).setCustomProperty("table",!0,_=y),Ad(_,A,{hasSelectionHandle:!0})):y;var _,A}}function Kd(f={}){return(r,{writer:s})=>{const c=r.parent,h=c.parent,v=h.getChildIndex(c),y=new Fe(h,{row:v}),_=h.getAttribute("headingRows")||0,A=h.getAttribute("headingColumns")||0;for(const S of y)if(S.cell==r){const D=S.row<_||S.column<A?"th":"td";return f.asWidget?Ic(s.createEditableElement(D),s):s.createContainerElement(D)}}}function ba(f={}){return(r,{writer:s,consumable:c,mapper:h})=>{if(r.parent.is("element","tableCell")&&gg(r))return f.asWidget?s.createContainerElement("span",{class:"ck-table-bogus-paragraph"}):(c.consume(r,"insert"),void h.bindElements(r,h.toViewElement(r.parent)))}}function gg(f){return 1==f.parent.childCount&&![...f.getAttributeKeys()].length}class P0 extends ae{refresh(){const r=this.editor.model;this.isEnabled=function(h,v){const y=h.getFirstPosition().parent;return v.checkChild(y===y.root?y:y.parent,"table")}(r.document.selection,r.schema)}execute(r={}){const s=this.editor.model,c=this.editor.plugins.get("TableUtils"),h=this.editor.config.get("table"),v=h.defaultHeadings.rows,y=h.defaultHeadings.columns;void 0===r.headingRows&&v&&(r.headingRows=v),void 0===r.headingColumns&&y&&(r.headingColumns=y),s.change(_=>{const A=c.createTable(_,r);s.insertObject(A,null,null,{findOptimalPosition:"auto"}),_.setSelection(_.createPositionAt(A.getNodeByPath([0,0,0]),0))})}}class vg extends ae{constructor(r,s={}){super(r),this.order=s.order||"below"}refresh(){const r=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(r).length;this.isEnabled=s}execute(){const r=this.editor,s=r.model.document.selection,c=r.plugins.get("TableUtils"),h="above"===this.order,v=c.getSelectionAffectedTableCells(s),y=c.getRowIndexes(v),_=h?y.first:y.last,A=v[0].findAncestor("table");c.insertRows(A,{at:h?_:_+1,copyStructureFromAbove:!h})}}class iu extends ae{constructor(r,s={}){super(r),this.order=s.order||"right"}refresh(){const r=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(r).length;this.isEnabled=s}execute(){const r=this.editor,s=r.model.document.selection,c=r.plugins.get("TableUtils"),h="left"===this.order,v=c.getSelectionAffectedTableCells(s),y=c.getColumnIndexes(v),_=h?y.first:y.last,A=v[0].findAncestor("table");c.insertColumns(A,{columns:1,at:h?_:_+1})}}class ou extends ae{constructor(r,s={}){super(r),this.direction=s.direction||"horizontally"}refresh(){const r=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=1===r.length}execute(){const r=this.editor.plugins.get("TableUtils"),s=r.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];"horizontally"===this.direction?r.splitCellHorizontally(s,2):r.splitCellVertically(s,2)}}function R0(f,r,s){const{startRow:c,startColumn:h,endRow:v,endColumn:y}=r,_=s.createElement("table"),A=v-c+1;for(let D=0;D<A;D++)s.insertElement("tableRow",_,"end");const S=[...new Fe(f,{startRow:c,endRow:v,startColumn:h,endColumn:y,includeAllSlots:!0})];for(const{row:D,column:E,cell:P,isAnchor:z,cellAnchorRow:G,cellAnchorColumn:W}of S){const X=_.getChild(D-c);if(z){const et=s.cloneElement(P);s.append(et,X),z0(et,D,E,v,y,s)}else(G<c||W<h)&&Al(s,s.createPositionAt(X,"end"))}return function(D,E,P,z,G){const W=parseInt(E.getAttribute("headingRows")||0);W>0&&_n("headingRows",W-P,D,G,0);const $=parseInt(E.getAttribute("headingColumns")||0);$>0&&_n("headingColumns",$-z,D,G,0)}(_,f,c,h,s),_}function N0(f,r,s=0){const c=[],h=new Fe(f,{startRow:s,endRow:r-1});for(const v of h){const{row:y,cellHeight:_}=v,A=y+_-1;y<r&&r<=A&&c.push(v)}return c}function mg(f,r,s){const c=f.parent,h=c.parent,v=c.index,y=r-v,_={},A=parseInt(f.getAttribute("rowspan"))-y;A>1&&(_.rowspan=A);const S=parseInt(f.getAttribute("colspan")||1);S>1&&(_.colspan=S);const D=v+y,E=[...new Fe(h,{startRow:v,endRow:D,includeAllSlots:!0})];let P,z=null;for(const G of E){const{row:W,column:$,cell:X}=G;X===f&&void 0===P&&(P=$),void 0!==P&&P===$&&W===D&&(z=Al(s,G.getPositionBefore(),_))}return _n("rowspan",y,f,s),z}function B0(f,r){const s=[],c=new Fe(f);for(const h of c){const{column:v,cellWidth:y}=h,_=v+y-1;v<r&&r<=_&&s.push(h)}return s}function Xd(f,r,s,c){const h=s-r,v={},y=parseInt(f.getAttribute("colspan"))-h;y>1&&(v.colspan=y);const _=parseInt(f.getAttribute("rowspan")||1);_>1&&(v.rowspan=_);const A=Al(c,c.createPositionAfter(f),v);return _n("colspan",h,f,c),A}function z0(f,r,s,c,h,v){const y=parseInt(f.getAttribute("colspan")||1),_=parseInt(f.getAttribute("rowspan")||1);s+y-1>h&&_n("colspan",h-s+1,f,v,1),r+_-1>c&&_n("rowspan",c-r+1,f,v,1)}function yg(f,r){const s=r.getColumns(f),c=new Array(s).fill(0);for(const{column:v}of new Fe(f))c[v]++;const h=c.reduce((v,y,_)=>y?v:[...v,_],[]);return h.length>0&&(r.removeColumns(f,{at:h[h.length-1]}),!0)}function ni(f,r){const s=[],c=r.getRows(f);for(let h=0;h<c;h++)f.getChild(h).isEmpty&&s.push(h);return s.length>0&&(r.removeRows(f,{at:s[s.length-1]}),!0)}function bg(f,r){yg(f,r)||ni(f,r)}function Qd(f,r){const s=Array.from(new Fe(f,{startColumn:r.firstColumn,endColumn:r.lastColumn,row:r.lastRow}));return s.every(({cellHeight:h})=>1===h)?r.lastRow:r.lastRow+(s[0].cellHeight-1)}function wg(f,r){const s=Array.from(new Fe(f,{startRow:r.firstRow,endRow:r.lastRow,column:r.lastColumn}));return s.every(({cellWidth:h})=>1===h)?r.lastColumn:r.lastColumn+(s[0].cellWidth-1)}class _g extends ae{constructor(r,s){super(r),this.direction=s.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const r=this._getMergeableCell();this.value=r,this.isEnabled=!!r}execute(){const r=this.editor.model,s=r.document,c=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(s.selection)[0],h=this.value,v=this.direction;r.change(y=>{const _="right"==v||"down"==v,A=_?c:h,S=_?h:c,D=S.parent;var W,$,X;$=A,X=y,ri(W=S)||(ri($)&&X.remove(X.createRangeIn($)),X.move(X.createRangeIn(W),X.createPositionAt($,"end"))),X.remove(W);const E=this.isHorizontal?"colspan":"rowspan",P=parseInt(c.getAttribute(E)||1),z=parseInt(h.getAttribute(E)||1);y.setAttribute(E,P+z,A),y.setSelection(y.createRangeIn(A));const G=this.editor.plugins.get("TableUtils");bg(D.findAncestor("table"),G)})}_getMergeableCell(){const r=this.editor.model.document,s=this.editor.plugins.get("TableUtils"),c=s.getTableCellsContainingSelection(r.selection)[0];if(!c)return;const h=this.isHorizontal?function(_,A,S){const E="right"==A?_.nextSibling:_.previousSibling,P=(_.parent.parent.getAttribute("headingColumns")||0)>0;if(!E)return;const z="right"==A?_:E,G="right"==A?E:_,{column:W}=S.getCellLocation(z),{column:$}=S.getCellLocation(G),X=parseInt(z.getAttribute("colspan")||1),et=fg(S,z),ct=fg(S,G);return P&&et!=ct?void 0:W+X===$?E:void 0}(c,this.direction,s):function(_,A,S){const D=_.parent,E=D.parent,P=E.getChildIndex(D);if("down"==A&&P===S.getRows(E)-1||"up"==A&&0===P)return;const z=parseInt(_.getAttribute("rowspan")||1),G=E.getAttribute("headingRows")||0;if(G&&("down"==A&&P+z===G||"up"==A&&P===G))return;const X=parseInt(_.getAttribute("rowspan")||1),et="down"==A?P+X:P,ct=[...new Fe(E,{endRow:et})],mt=ct.find(Wt=>Wt.cell===_).column,Ot=ct.find(({row:Wt,cellHeight:se,column:un})=>un===mt&&("down"==A?Wt===et:et===Wt+se));return Ot&&Ot.cell}(c,this.direction,s);if(!h)return;const v=this.isHorizontal?"rowspan":"colspan",y=parseInt(c.getAttribute(v)||1);return parseInt(h.getAttribute(v)||1)===y?h:void 0}}function ri(f){return 1==f.childCount&&f.getChild(0).is("element","paragraph")&&f.getChild(0).isEmpty}class kg extends ae{refresh(){const r=this.editor.plugins.get("TableUtils"),s=r.getSelectionAffectedTableCells(this.editor.model.document.selection),c=s[0];if(c){const h=c.findAncestor("table"),v=this.editor.plugins.get("TableUtils").getRows(h)-1,y=r.getRowIndexes(s);this.isEnabled=!(0===y.first&&y.last===v)}else this.isEnabled=!1}execute(){const r=this.editor.model,s=this.editor.plugins.get("TableUtils"),c=s.getSelectionAffectedTableCells(r.document.selection),h=s.getRowIndexes(c),v=c[0],y=v.findAncestor("table"),_=s.getCellLocation(v).column;r.change(A=>{s.removeRows(y,{at:h.first,rows:h.last-h.first+1});const D=function(E,P,z,G){const W=E.getChild(Math.min(P,G-1));let $=W.getChild(0),X=0;for(const et of W.getChildren()){if(X>z)return $;$=et,X+=parseInt(et.getAttribute("colspan")||1)}return $}(y,h.first,_,s.getRows(y));A.setSelection(A.createPositionAt(D,0))})}}class Jd extends ae{refresh(){const r=this.editor.plugins.get("TableUtils"),s=r.getSelectionAffectedTableCells(this.editor.model.document.selection),c=s[0];if(c){const h=c.findAncestor("table"),v=r.getColumns(h),{first:y,last:_}=r.getColumnIndexes(s);this.isEnabled=_-y<v-1}else this.isEnabled=!1}execute(){const r=this.editor.plugins.get("TableUtils"),[s,c]=function(A,S){const D=S.getSelectionAffectedTableCells(A),E=D[0],P=D.pop(),z=[E,P];return E.isBefore(P)?z:z.reverse()}(this.editor.model.document.selection,r),h=s.parent.parent,v=[...new Fe(h)],y={first:v.find(A=>A.cell===s).column,last:v.find(A=>A.cell===c).column},_=(A=v,S=s,D=c,E=y,parseInt(D.getAttribute("colspan")||1)>1?D:S.previousSibling||D.nextSibling?D.nextSibling||S.previousSibling:E.first?A.reverse().find(({column:P})=>P<E.first).cell:A.reverse().find(({column:P})=>P>E.last).cell);var A,S,D,E;this.editor.model.change(A=>{const S=y.last-y.first+1;this.editor.plugins.get("TableUtils").removeColumns(h,{at:y.first,columns:S}),A.setSelection(A.createPositionAt(_,0))})}}class O0 extends ae{refresh(){const c=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection),h=c.length>0;this.isEnabled=h,this.value=h&&c.every(v=>this._isInHeading(v,v.parent.parent))}execute(r={}){if(r.forceValue===this.value)return;const s=this.editor.plugins.get("TableUtils"),c=this.editor.model,h=s.getSelectionAffectedTableCells(c.document.selection),v=h[0].findAncestor("table"),{first:y,last:_}=s.getRowIndexes(h),A=this.value?y:_+1,S=v.getAttribute("headingRows")||0;c.change(D=>{if(A){const E=N0(v,A,A>S?S:0);for(const{cell:P}of E)mg(P,A,D)}_n("headingRows",A,v,D,0)})}_isInHeading(r,s){const c=parseInt(s.getAttribute("headingRows")||0);return!!c&&r.parent.index<c}}class V0 extends ae{refresh(){const r=this.editor.model,s=this.editor.plugins.get("TableUtils"),c=s.getSelectionAffectedTableCells(r.document.selection),h=c.length>0;this.isEnabled=h,this.value=h&&c.every(v=>fg(s,v))}execute(r={}){if(r.forceValue===this.value)return;const s=this.editor.plugins.get("TableUtils"),c=this.editor.model,h=s.getSelectionAffectedTableCells(c.document.selection),v=h[0].findAncestor("table"),{first:y,last:_}=s.getColumnIndexes(h),A=this.value?y:_+1;c.change(S=>{if(A){const D=B0(v,A);for(const{cell:E,column:P}of D)Xd(E,P,A,S)}_n("headingColumns",A,v,S,0)})}}class On extends vt{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(r){const s=r.parent,c=s.parent,h=c.getChildIndex(s),v=new Fe(c,{row:h});for(const{cell:y,row:_,column:A}of v)if(y===r)return{row:_,column:A}}createTable(r,s){const c=r.createElement("table"),h=parseInt(s.rows)||2,v=parseInt(s.columns)||2;return Ag(r,c,0,h,v),s.headingRows&&_n("headingRows",Math.min(s.headingRows,h),c,r,0),s.headingColumns&&_n("headingColumns",Math.min(s.headingColumns,v),c,r,0),c}insertRows(r,s={}){const c=this.editor.model,h=s.at||0,v=s.rows||1,y=void 0!==s.copyStructureFromAbove,_=s.copyStructureFromAbove?h-1:h,A=this.getRows(r),S=this.getColumns(r);if(h>A)throw new U("tableutils-insertrows-insert-out-of-range",this,{options:s});c.change(D=>{const E=r.getAttribute("headingRows")||0;if(E>h&&_n("headingRows",E+v,r,D,0),!y&&(0===h||h===A))return void Ag(D,r,h,v,S);const P=y?Math.max(h,_):h,z=new Fe(r,{endRow:P}),G=new Array(S).fill(1);for(const{row:W,column:$,cellHeight:X,cellWidth:et,cell:ct}of z){const mt=W+X-1,Ot=W<=_&&_<=mt;W<h&&h<=mt?(D.setAttribute("rowspan",X+v,ct),G[$]=-et):y&&Ot&&(G[$]=et)}for(let W=0;W<v;W++){const $=D.createElement("tableRow");D.insert($,r,h);for(let X=0;X<G.length;X++){const et=G[X],ct=D.createPositionAt($,"end");et>0&&Al(D,ct,et>1?{colspan:et}:null),X+=Math.abs(et)-1}}})}insertColumns(r,s={}){const h=s.at||0,v=s.columns||1;this.editor.model.change(y=>{const _=r.getAttribute("headingColumns");h<_&&y.setAttribute("headingColumns",_+v,r);const A=this.getColumns(r);if(0===h||A===h){for(const D of r.getChildren())D.is("element","tableRow")&&ls(v,y,y.createPositionAt(D,h?"end":0));return}const S=new Fe(r,{column:h,includeAllSlots:!0});for(const D of S){const{row:E,cell:P,cellAnchorColumn:z,cellAnchorRow:G,cellWidth:W,cellHeight:$}=D;if(z<h){y.setAttribute("colspan",W+v,P);const X=G+$-1;for(let et=E;et<=X;et++)S.skipRow(et)}else ls(v,y,D.getPositionBefore())}})}removeRows(r,s){const c=this.editor.model,h=s.rows||1,v=this.getRows(r),y=s.at,_=y+h-1;if(_>v-1)throw new U("tableutils-removerows-row-index-out-of-range",this,{table:r,options:s});c.change(A=>{const{cellsToMove:S,cellsToTrim:D}=function(E,P,z){const G=new Map,W=[];for(const{row:$,column:X,cellHeight:et,cell:ct}of new Fe(E,{endRow:z})){const mt=$+et-1;if($>=P&&$<=z&&mt>z&&G.set(X,{cell:ct,rowspan:et-(z-$+1)}),$<P&&mt>=P){let Ot;Ot=mt>=z?z-P+1:mt-P+1,W.push({cell:ct,rowspan:et-Ot})}}return{cellsToMove:G,cellsToTrim:W}}(r,y,_);S.size&&function(E,P,z,G){const W=[...new Fe(E,{includeAllSlots:!0,row:P})],$=E.getChild(P);let X;for(const{column:et,cell:ct,isAnchor:mt}of W)if(z.has(et)){const{cell:Ot,rowspan:Wt}=z.get(et),se=X?G.createPositionAfter(X):G.createPositionAt($,0);G.move(G.createRangeOn(Ot),se),_n("rowspan",Wt,Ot,G),X=Ot}else mt&&(X=ct)}(r,_+1,S,A);for(let E=_;E>=y;E--)A.remove(r.getChild(E));for(const{rowspan:E,cell:P}of D)_n("rowspan",E,P,A);(function(E,P,z,G){const W=E.getAttribute("headingRows")||0;P<W&&_n("headingRows",z<W?W-(z-P+1):P,E,G,0)})(r,y,_,A),yg(r,this)||ni(r,this)})}removeColumns(r,s){const h=s.at,y=s.at+(s.columns||1)-1;this.editor.model.change(_=>{!function(A,S,D){const E=A.getAttribute("headingColumns")||0;if(E&&S.first<E){const P=Math.min(E-1,S.last)-S.first+1;D.setAttribute("headingColumns",E-P,A)}}(r,{first:h,last:y},_);for(let A=y;A>=h;A--)for(const{cell:S,column:D,cellWidth:E}of[...new Fe(r)])D<=A&&E>1&&D+E>A?_n("colspan",E-1,S,_):D===A&&_.remove(S);ni(r,this)||yg(r,this)})}splitCellVertically(r,s=2){const c=this.editor.model,h=r.parent.parent,v=parseInt(r.getAttribute("rowspan")||1),y=parseInt(r.getAttribute("colspan")||1);c.change(_=>{if(y>1){const{newCellsSpan:A,updatedSpan:S}=cs(y,s);_n("colspan",S,r,_);const D={};A>1&&(D.colspan=A),v>1&&(D.rowspan=v),ls(y>s?s-1:y-1,_,_.createPositionAfter(r),D)}if(y<s){const A=s-y,S=[...new Fe(h)],{column:D}=S.find(({cell:G})=>G===r),E=S.filter(({cell:G,cellWidth:W,column:$})=>G!==r&&$===D||$<D&&$+W>D);for(const{cell:G,cellWidth:W}of E)_.setAttribute("colspan",W+A,G);const P={};v>1&&(P.rowspan=v),ls(A,_,_.createPositionAfter(r),P);const z=h.getAttribute("headingColumns")||0;z>D&&_n("headingColumns",z+A,h,_)}})}splitCellHorizontally(r,s=2){const c=this.editor.model,h=r.parent,v=h.parent,y=v.getChildIndex(h),_=parseInt(r.getAttribute("rowspan")||1),A=parseInt(r.getAttribute("colspan")||1);c.change(S=>{if(_>1){const D=[...new Fe(v,{startRow:y,endRow:y+_-1,includeAllSlots:!0})],{newCellsSpan:E,updatedSpan:P}=cs(_,s);_n("rowspan",P,r,S);const{column:z}=D.find(({cell:W})=>W===r),G={};E>1&&(G.rowspan=E),A>1&&(G.colspan=A);for(const W of D){const{column:$,row:X}=W,et=$===z,ct=(X+y+P)%E==0;X>=y+P&&et&&ct&&ls(1,S,W.getPositionBefore(),G)}}if(_<s){const D=s-_,E=[...new Fe(v,{startRow:0,endRow:y})];for(const{cell:G,cellHeight:W,row:$}of E)G!==r&&$+W>y&&S.setAttribute("rowspan",W+D,G);const P={};A>1&&(P.colspan=A),Ag(S,v,y+1,D,1,P);const z=v.getAttribute("headingRows")||0;z>y&&_n("headingRows",z+D,v,S)}})}getColumns(r){return[...r.getChild(0).getChildren()].reduce((s,c)=>s+parseInt(c.getAttribute("colspan")||1),0)}getRows(r){return Array.from(r.getChildren()).reduce((s,c)=>c.is("element","tableRow")?s+1:s,0)}createTableWalker(r,s={}){return new Fe(r,s)}getSelectedTableCells(r){const s=[];for(const c of this.sortRanges(r.getRanges())){const h=c.getContainedElement();h&&h.is("element","tableCell")&&s.push(h)}return s}getTableCellsContainingSelection(r){const s=[];for(const c of r.getRanges()){const h=c.start.findAncestor("tableCell");h&&s.push(h)}return s}getSelectionAffectedTableCells(r){const s=this.getSelectedTableCells(r);return s.length?s:this.getTableCellsContainingSelection(r)}getRowIndexes(r){const s=r.map(c=>c.parent.index);return this._getFirstLastIndexesObject(s)}getColumnIndexes(r){const s=r[0].findAncestor("table"),c=[...new Fe(s)].filter(h=>r.includes(h.cell)).map(h=>h.column);return this._getFirstLastIndexesObject(c)}isSelectionRectangular(r){if(r.length<2||!this._areCellInTheSameTableSection(r))return!1;const s=new Set,c=new Set;let h=0;for(const y of r){const{row:_,column:A}=this.getCellLocation(y),S=parseInt(y.getAttribute("rowspan")||1),D=parseInt(y.getAttribute("colspan")||1);s.add(_),c.add(A),S>1&&s.add(_+S-1),D>1&&c.add(A+D-1),h+=S*D}return function(y,_){const A=Array.from(y.values()),S=Array.from(_.values());return(Math.max(...A)-Math.min(...A)+1)*(Math.max(...S)-Math.min(...S)+1)}(s,c)==h}sortRanges(r){return Array.from(r).sort(Cg)}_getFirstLastIndexesObject(r){const s=r.sort((c,h)=>c-h);return{first:s[0],last:s[s.length-1]}}_areCellInTheSameTableSection(r){const s=r[0].findAncestor("table"),c=this.getRowIndexes(r),h=parseInt(s.getAttribute("headingRows")||0);if(!this._areIndexesInSameSection(c,h))return!1;const v=parseInt(s.getAttribute("headingColumns")||0),y=this.getColumnIndexes(r);return this._areIndexesInSameSection(y,v)}_areIndexesInSameSection({first:r,last:s},c){return r<c==s<c}}function Ag(f,r,s,c,h,v={}){for(let y=0;y<c;y++){const _=f.createElement("tableRow");f.insert(_,r,s),ls(h,f,f.createPositionAt(_,"end"),v)}}function ls(f,r,s,c={}){for(let h=0;h<f;h++)Al(r,s,c)}function cs(f,r){if(f<r)return{newCellsSpan:1,updatedSpan:1};const s=Math.floor(f/r);return{newCellsSpan:s,updatedSpan:f-s*r+s}}function Cg(f,r){return f.start.isBefore(r.start)?-1:1}class B2 extends ae{refresh(){const r=this.editor.plugins.get(On),s=r.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=r.isSelectionRectangular(s,this.editor.plugins.get(On))}execute(){const r=this.editor.model,s=this.editor.plugins.get(On);r.change(c=>{const h=s.getSelectedTableCells(r.document.selection),v=h.shift(),{mergeWidth:y,mergeHeight:_}=function(A,S,D){let E=0,P=0;for(const W of S){const{row:$,column:X}=D.getCellLocation(W);E=cA(W,X,E,"colspan"),P=cA(W,$,P,"rowspan")}const{row:z,column:G}=D.getCellLocation(A);return{mergeWidth:E-G,mergeHeight:P-z}}(v,h,s);_n("colspan",y,v,c),_n("rowspan",_,v,c);for(const A of h)z2(A,v,c);bg(v.findAncestor("table"),s),c.setSelection(v,"in")})}}function z2(f,r,s){xg(f)||(xg(r)&&s.remove(s.createRangeIn(r)),s.move(s.createRangeIn(f),s.createPositionAt(r,"end"))),s.remove(f)}function xg(f){return 1==f.childCount&&f.getChild(0).is("element","paragraph")&&f.getChild(0).isEmpty}function cA(f,r,s,c){const h=parseInt(f.getAttribute(c)||1);return Math.max(s,r+h)}class zE extends ae{constructor(r){super(r),this.affectsData=!1}refresh(){const r=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=r.length>0}execute(){const r=this.editor.model,s=this.editor.plugins.get("TableUtils"),c=s.getSelectionAffectedTableCells(r.document.selection),h=s.getRowIndexes(c),v=c[0].findAncestor("table"),y=[];for(let _=h.first;_<=h.last;_++)for(const A of v.getChild(_).getChildren())y.push(r.createRangeOn(A));r.change(_=>{_.setSelection(y)})}}class OE extends ae{constructor(r){super(r),this.affectsData=!1}refresh(){const r=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=r.length>0}execute(){const r=this.editor.plugins.get("TableUtils"),s=this.editor.model,c=r.getSelectionAffectedTableCells(s.document.selection),h=c[0],v=c.pop(),y=h.findAncestor("table"),_=r.getCellLocation(h),A=r.getCellLocation(v),S=Math.min(_.column,A.column),D=Math.max(_.column,A.column),E=[];for(const P of new Fe(y,{startColumn:S,endColumn:D}))E.push(s.createRangeOn(P.cell));s.change(P=>{P.setSelection(E)})}}function FE(f,r){let s=!1;const c=function(h){const v=parseInt(h.getAttribute("headingRows")||0),y=Array.from(h.getChildren()).reduce((A,S)=>S.is("element","tableRow")?A+1:A,0),_=[];for(const{row:A,cell:S,cellHeight:D}of new Fe(h)){if(D<2)continue;const E=A<v?v:y;A+D>E&&_.push({cell:S,rowspan:E-A})}return _}(f);if(c.length){s=!0;for(const h of c)_n("rowspan",h.rowspan,h.cell,r,1)}return s}function uA(f,r){let s=!1;const c=function(_){const A=new Array(_.childCount).fill(0);for(const{rowIndex:S}of new Fe(_,{includeAllSlots:!0}))A[S]++;return A}(f),h=[];for(const[_,A]of c.entries())!A&&f.getChild(_).is("element","tableRow")&&h.push(_);if(h.length){s=!0;for(const _ of h.reverse())r.remove(f.getChild(_)),c.splice(_,1)}const v=c.filter((_,A)=>f.getChild(A).is("element","tableRow")),y=v[0];if(!v.every(_=>_===y)){const _=v.reduce((A,S)=>S>A?S:A,0);for(const[A,S]of v.entries()){const D=_-S;if(D){for(let E=0;E<D;E++)Al(r,r.createPositionAt(f.getChild(A),"end"));s=!0}}}return s}function HE(f){const s=f.attributeKey;return"attribute"===f.type&&("headingRows"===s||"colspan"===s||"rowspan"===s)}function hA(f,r){let s=!1;for(const c of f.getChildren())c.is("element","tableRow")&&(s=F0(c,r)||s);return s}function F0(f,r){let s=!1;for(const c of f.getChildren())s=H0(c,r)||s;return s}function H0(f,r){if(0==f.childCount)return r.insertElement("paragraph",f),!0;const s=Array.from(f.getChildren()).filter(c=>c.is("$text"));for(const c of s)r.wrap(r.createRangeOn(c),"paragraph");return!!s.length}function O2(f){return!(!f.position||!f.position.parent.is("element","tableCell"))&&("insert"==f.type&&"$text"==f.name||"remove"==f.type)}function j0(f,r){if(!f.is("element","paragraph"))return!1;const s=r.toViewElement(f);return!!s&&gg(f)!==s.is("element","span")}var ao=St(4777);Ut()(ao.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class jE extends vt{static get pluginName(){return"TableEditing"}static get requires(){return[On]}init(){const r=this.editor,s=r.model,c=s.schema,h=r.conversion,v=r.plugins.get(On);c.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),c.register("tableRow",{allowIn:"table",isLimit:!0}),c.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),h.for("upcast").add(y=>{y.on("element:figure",(_,A,S)=>{if(!S.consumable.test(A.viewItem,{name:!0,classes:"table"}))return;const D=function(P){for(const z of P.getChildren())if(z.is("element","table"))return z}(A.viewItem);if(!D||!S.consumable.test(D,{name:!0}))return;S.consumable.consume(A.viewItem,{name:!0,classes:"table"});const E=xn(S.convertItem(D,A.modelCursor).modelRange.getItems());E?(S.convertChildren(A.viewItem,S.writer.createPositionAt(E,"end")),S.updateConversionResult(E,A)):S.consumable.revert(A.viewItem,{name:!0,classes:"table"})})}),h.for("upcast").add(f=>{f.on("element:table",(r,s,c)=>{const h=s.viewItem;if(!c.consumable.test(h,{name:!0}))return;const{rows:v,headingRows:y,headingColumns:_}=function(D){const E={headingRows:0,headingColumns:0},P=[],z=[];let G;for(const W of Array.from(D.getChildren()))if("tbody"===W.name||"thead"===W.name||"tfoot"===W.name){"thead"!==W.name||G||(G=W);const $=Array.from(W.getChildren()).filter(X=>X.is("element","tr"));for(const X of $)if("thead"===X.parent.name&&X.parent===G)E.headingRows++,P.push(X);else{z.push(X);const et=lA(X);et>E.headingColumns&&(E.headingColumns=et)}}return E.rows=[...P,...z],E}(h),A={};_&&(A.headingColumns=_),y&&(A.headingRows=y);const S=c.writer.createElement("table",A);if(c.safeInsert(S,s.modelCursor)){if(c.consumable.consume(h,{name:!0}),v.forEach(D=>c.convertItem(D,c.writer.createPositionAt(S,"end"))),c.convertChildren(h,c.writer.createPositionAt(S,"end")),S.isEmpty){const D=c.writer.createElement("tableRow");c.writer.insert(D,c.writer.createPositionAt(S,"end")),Al(c.writer,c.writer.createPositionAt(D,"end"))}c.updateConversionResult(S,s)}})}),h.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:pg(v,{asWidget:!0})}),h.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:pg(v)}),h.for("upcast").elementToElement({model:"tableRow",view:"tr"}),h.for("upcast").add(y=>{y.on("element:tr",(_,A)=>{A.viewItem.isEmpty&&0==A.modelCursor.index&&_.stop()},{priority:"high"})}),h.for("downcast").elementToElement({model:"tableRow",view:(y,{writer:_})=>y.isEmpty?_.createEmptyElement("tr"):_.createContainerElement("tr")}),h.for("upcast").elementToElement({model:"tableCell",view:"td"}),h.for("upcast").elementToElement({model:"tableCell",view:"th"}),h.for("upcast").add(L0("td")),h.for("upcast").add(L0("th")),h.for("editingDowncast").elementToElement({model:"tableCell",view:Kd({asWidget:!0})}),h.for("dataDowncast").elementToElement({model:"tableCell",view:Kd()}),h.for("editingDowncast").elementToElement({model:"paragraph",view:ba({asWidget:!0}),converterPriority:"high"}),h.for("dataDowncast").elementToElement({model:"paragraph",view:ba(),converterPriority:"high"}),h.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),h.for("upcast").attributeToAttribute({model:{key:"colspan",value:fA("colspan")},view:"colspan"}),h.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),h.for("upcast").attributeToAttribute({model:{key:"rowspan",value:fA("rowspan")},view:"rowspan"}),r.data.mapper.on("modelToViewPosition",(y,_)=>{const A=_.modelPosition.parent,S=_.modelPosition.nodeBefore;if(!A.is("element","tableCell")||!S||!S.is("element","paragraph"))return;const D=_.mapper.toViewElement(S),E=_.mapper.toViewElement(A);D===E&&(_.viewPosition=_.mapper.findPositionIn(E,S.maxOffset))}),r.config.define("table.defaultHeadings.rows",0),r.config.define("table.defaultHeadings.columns",0),r.commands.add("insertTable",new P0(r)),r.commands.add("insertTableRowAbove",new vg(r,{order:"above"})),r.commands.add("insertTableRowBelow",new vg(r,{order:"below"})),r.commands.add("insertTableColumnLeft",new iu(r,{order:"left"})),r.commands.add("insertTableColumnRight",new iu(r,{order:"right"})),r.commands.add("removeTableRow",new kg(r)),r.commands.add("removeTableColumn",new Jd(r)),r.commands.add("splitTableCellVertically",new ou(r,{direction:"vertically"})),r.commands.add("splitTableCellHorizontally",new ou(r,{direction:"horizontally"})),r.commands.add("mergeTableCells",new B2(r)),r.commands.add("mergeTableCellRight",new _g(r,{direction:"right"})),r.commands.add("mergeTableCellLeft",new _g(r,{direction:"left"})),r.commands.add("mergeTableCellDown",new _g(r,{direction:"down"})),r.commands.add("mergeTableCellUp",new _g(r,{direction:"up"})),r.commands.add("setTableColumnHeader",new V0(r)),r.commands.add("setTableRowHeader",new O0(r)),r.commands.add("selectTableRow",new zE(r)),r.commands.add("selectTableColumn",new OE(r)),function(f){f.document.registerPostFixer(r=>function(s,c){const h=c.document.differ.getChanges();let v=!1;const y=new Set;for(const _ of h){let A;"table"==_.name&&"insert"==_.type&&(A=_.position.nodeAfter),"tableRow"!=_.name&&"tableCell"!=_.name||(A=_.position.findAncestor("table")),HE(_)&&(A=_.range.start.findAncestor("table")),A&&!y.has(A)&&(v=FE(A,s)||v,v=uA(A,s)||v,y.add(A))}return v}(r,f))}(s),function(f){f.document.registerPostFixer(r=>function(s,c){const h=c.document.differ.getChanges();let v=!1;for(const y of h)"insert"==y.type&&"table"==y.name&&(v=hA(y.position.nodeAfter,s)||v),"insert"==y.type&&"tableRow"==y.name&&(v=F0(y.position.nodeAfter,s)||v),"insert"==y.type&&"tableCell"==y.name&&(v=H0(y.position.nodeAfter,s)||v),O2(y)&&(v=H0(y.position.parent,s)||v);return v}(r,f))}(s),this.listenTo(s.document,"change:data",()=>{(function(y,_){const A=y.document.differ;for(const S of A.getChanges()){let D,E=!1;if("attribute"==S.type){const W=S.range.start.nodeAfter;if(!W||!W.is("element","table")||"headingRows"!=S.attributeKey&&"headingColumns"!=S.attributeKey)continue;D=W,E="headingRows"==S.attributeKey}else"tableRow"!=S.name&&"tableCell"!=S.name||(D=S.position.findAncestor("table"),E="tableRow"==S.name);if(!D)continue;const P=D.getAttribute("headingRows")||0,z=D.getAttribute("headingColumns")||0,G=new Fe(D);for(const W of G){const $=W.row<P||W.column<z?"th":"td",X=_.mapper.toViewElement(W.cell);X&&X.is("element")&&X.name!=$&&_.reconvertItem(E?W.cell.parent:W.cell)}}})(s,r.editing),function(y,_){const A=y.document.differ,S=new Set;for(const D of A.getChanges()){const E="attribute"==D.type?D.range.start.parent:D.position.parent;E.is("element","tableCell")&&S.add(E)}for(const D of S.values()){const E=Array.from(D.getChildren()).filter(P=>j0(P,_.mapper));for(const P of E)_.reconvertItem(P)}}(s,r.editing)})}}function fA(f){return r=>{const s=parseInt(r.getAttribute(f));return Number.isNaN(s)||s<=0?null:s}}var us=St(8085);Ut()(us.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class G0 extends he{constructor(r){super(r);const s=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new gr,this.focusTracker=new Zn,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(c,h)=>`${h} \xd7 ${c}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":s.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:s.to("label")}]}],on:{mousedown:s.to(c=>{c.preventDefault()}),click:s.to(()=>{this.fire("execute")})}}),this.on("boxover",(c,h)=>{const{row:v,column:y}=h.target.dataset;this.items.get(10*(parseInt(v,10)-1)+(parseInt(y,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(c,h,v)=>{if(!v)return;const{row:y,column:_}=v.dataset;this.set({rows:parseInt(y),columns:parseInt(_)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),__({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10});for(const r of this.items)this.focusTracker.add(r.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const r=this.rows,s=this.columns;this.items.map((c,h)=>{const v=Math.floor(h/10)<r&&h%10<s;c.set("isOn",v)})}_createGridButton(r,s,c,h){const v=new xe(r);return v.set({label:h,class:"ck-insert-table-dropdown-grid-box"}),v.extendTemplate({attributes:{"data-row":s,"data-column":c}}),v}_createGridCollection(){const r=[];for(let s=0;s<100;s++){const c=Math.floor(s/10),h=s%10;r.push(this._createGridButton(this.locale,c+1,h+1,`${c+1} \xd7 ${h+1}`))}return this.createCollection(r)}}class gA extends vt{static get pluginName(){return"TableUI"}init(){const r=this.editor,s=this.editor.t,c="ltr"===r.locale.contentLanguageDirection;r.ui.componentFactory.add("insertTable",h=>{const v=r.commands.get("insertTable"),y=bn(h);let _;return y.bind("isEnabled").to(v),y.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:s("Insert table"),tooltip:!0}),y.on("change:isOpen",()=>{_||(_=new G0(h),y.panelView.children.add(_),_.delegate("execute").to(y),y.on("execute",()=>{r.execute("insertTable",{rows:_.rows,columns:_.columns}),r.editing.view.focus()}))}),y}),r.ui.componentFactory.add("tableColumn",h=>{const v=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:s("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:c?"insertTableColumnLeft":"insertTableColumnRight",label:s("Insert column left")}},{type:"button",model:{commandName:c?"insertTableColumnRight":"insertTableColumnLeft",label:s("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:s("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:s("Select column")}}];return this._prepareDropdown(s("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',v,h)}),r.ui.componentFactory.add("tableRow",h=>{const v=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:s("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:s("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:s("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:s("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:s("Select row")}}];return this._prepareDropdown(s("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',v,h)}),r.ui.componentFactory.add("mergeTableCells",h=>{const v=[{type:"button",model:{commandName:"mergeTableCellUp",label:s("Merge cell up")}},{type:"button",model:{commandName:c?"mergeTableCellRight":"mergeTableCellLeft",label:s("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:s("Merge cell down")}},{type:"button",model:{commandName:c?"mergeTableCellLeft":"mergeTableCellRight",label:s("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:s("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:s("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(s("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',v,h)})}_prepareDropdown(r,s,c,h){const v=this.editor,y=bn(h),_=this._fillDropdownWithListOptions(y,c);return y.buttonView.set({label:r,icon:s,tooltip:!0}),y.bind("isEnabled").toMany(_,"isEnabled",(...A)=>A.some(S=>S)),this.listenTo(y,"execute",A=>{v.execute(A.source.commandName),A.source instanceof vi||v.editing.view.focus()}),y}_prepareMergeSplitButtonDropdown(r,s,c,h){const v=this.editor,y=bn(h,wc),_="mergeTableCells",A=v.commands.get(_),S=this._fillDropdownWithListOptions(y,c);return y.buttonView.set({label:r,icon:s,tooltip:!0,isEnabled:!0}),y.bind("isEnabled").toMany([A,...S],"isEnabled",(...D)=>D.some(E=>E)),this.listenTo(y.buttonView,"execute",()=>{v.execute(_),v.editing.view.focus()}),this.listenTo(y,"execute",D=>{v.execute(D.source.commandName),v.editing.view.focus()}),y}_fillDropdownWithListOptions(r,s){const c=this.editor,h=[],v=new nr;for(const y of s)GE(y,c,h,v);return Do(r,v),h}}function GE(f,r,s,c){const h=f.model=new Cc(f.model),{commandName:v,bindIsOn:y}=f.model;if("button"===f.type||"switchbutton"===f.type){const _=r.commands.get(v);s.push(_),h.set({commandName:v}),h.bind("isEnabled").to(_),y&&h.bind("isOn").to(_,"value")}h.set({withText:!0}),c.add(f)}var vA=St(5593);Ut()(vA.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Cl extends vt{static get pluginName(){return"TableSelection"}static get requires(){return[On,On]}init(){const r=this.editor,c=r.editing.view;this.listenTo(r.model,"deleteContent",(h,v)=>this._handleDeleteContent(h,v),{priority:"high"}),this.listenTo(c.document,"insertText",(h,v)=>this._handleInsertTextEvent(h,v),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const c=this.editor.plugins.get(On).getSelectedTableCells(this.editor.model.document.selection);return 0==c.length?null:c}getSelectionAsFragment(){const r=this.editor.plugins.get(On),s=this.getSelectedTableCells();return s?this.editor.model.change(c=>{const h=c.createDocumentFragment(),{first:v,last:y}=r.getColumnIndexes(s),{first:_,last:A}=r.getRowIndexes(s),S=s[0].findAncestor("table");let D=A,E=y;if(r.isSelectionRectangular(s)){const z={firstColumn:v,lastColumn:y,firstRow:_,lastRow:A};D=Qd(S,z),E=wg(S,z)}const P=R0(S,{startRow:_,startColumn:v,endRow:D,endColumn:E},c);return c.insert(P,h,0),h}):null}setCellSelection(r,s){const c=this._getCellsToSelect(r,s);this.editor.model.change(h=>{h.setSelection(c.cells.map(v=>h.createRangeOn(v)),{backward:c.backward})})}getFocusCell(){const r=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return r&&r.is("element","tableCell")?r:null}getAnchorCell(){const r=xn(this.editor.model.document.selection.getRanges()).getContainedElement();return r&&r.is("element","tableCell")?r:null}_defineSelectionConverter(){const r=this.editor,s=new Set;r.conversion.for("editingDowncast").add(c=>c.on("selection",(h,v,y)=>{const _=y.writer;!function(D){for(const E of s)D.removeClass("ck-editor__editable_selected",E);s.clear()}(_);const A=this.getSelectedTableCells();if(!A)return;for(const D of A){const E=y.mapper.toViewElement(D);_.addClass("ck-editor__editable_selected",E),s.add(E)}const S=y.mapper.toViewElement(A[A.length-1]);_.setSelection(S,0)},{priority:"lowest"}))}_enablePluginDisabling(){const r=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const s=this.getSelectedTableCells();if(!s)return;r.model.change(c=>{const h=c.createPositionAt(s[0],0),v=r.model.schema.getNearestSelectionRange(h);c.setSelection(v)})}})}_handleDeleteContent(r,s){const c=this.editor.plugins.get(On),[h,v]=s,y=this.editor.model,_=!v||"backward"==v.direction,A=c.getSelectedTableCells(h);A.length&&(r.stop(),y.change(S=>{const D=A[_?A.length-1:0];y.change(P=>{for(const z of A)y.deleteContent(P.createSelection(z,"in"))});const E=y.schema.getNearestSelectionRange(S.createPositionAt(D,0));h.is("documentSelection")?S.setSelection(E):h.setTo(E)}))}_handleInsertTextEvent(r,s){const c=this.editor,v=this.getSelectedTableCells(c.model.document.selection);if(!v)return;const y=c.editing.view,_=c.editing.mapper,A=v.map(S=>y.createRangeOn(_.toViewElement(S)));s.selection=y.createSelection(A)}_getCellsToSelect(r,s){const c=this.editor.plugins.get("TableUtils"),h=c.getCellLocation(r),v=c.getCellLocation(s),y=Math.min(h.row,v.row),_=Math.max(h.row,v.row),A=Math.min(h.column,v.column),S=Math.max(h.column,v.column),D=new Array(_-y+1).fill(null).map(()=>[]),E={startRow:y,endRow:_,startColumn:A,endColumn:S};for(const{row:G,cell:W}of new Fe(r.findAncestor("table"),E))D[G-y].push(W);const P=v.row<h.row,z=v.column<h.column;return P&&D.reverse(),z&&D.forEach(G=>G.reverse()),{cells:D.flat(),backward:P||z}}}class WE extends vt{static get pluginName(){return"TableClipboard"}static get requires(){return[Cl,On]}init(){const r=this.editor,s=r.editing.view.document;this.listenTo(s,"copy",(c,h)=>this._onCopyCut(c,h)),this.listenTo(s,"cut",(c,h)=>this._onCopyCut(c,h)),this.listenTo(r.model,"insertContent",(c,h)=>this._onInsertContent(c,...h),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(r,s){const c=this.editor.plugins.get(Cl);if(!c.getSelectedTableCells()||"cut"==r.name&&this.editor.isReadOnly)return;s.preventDefault(),r.stop();const v=this.editor.editing.view.document,y=this.editor.data.toView(c.getSelectionAsFragment());v.fire("clipboardOutput",{dataTransfer:s.dataTransfer,content:y,method:r.name})}_onInsertContent(r,s,c){if(c&&!c.is("documentSelection"))return;const h=this.editor.model,v=this.editor.plugins.get(On);let y=U0(s,h);if(!y)return;const _=v.getSelectionAffectedTableCells(h.document.selection);_.length?(r.stop(),h.change(A=>{const S={width:v.getColumns(y),height:v.getRows(y)},D=function($,X,et,ct){const mt=$[0].findAncestor("table"),Ot=ct.getColumnIndexes($),Wt=ct.getRowIndexes($),se={firstColumn:Ot.first,lastColumn:Ot.last,firstRow:Wt.first,lastRow:Wt.last},un=1===$.length;return un&&(se.lastRow+=X.height-1,se.lastColumn+=X.width-1,function(In,ii,Nr,oi){const ai=oi.getColumns(In),lo=oi.getRows(In);Nr>ai&&oi.insertColumns(In,{at:ai,columns:Nr-ai}),ii>lo&&oi.insertRows(In,{at:lo,rows:ii-lo})}(mt,se.lastRow+1,se.lastColumn+1,ct)),un||!ct.isSelectionRectangular($)?function(In,ii,Nr){const{firstRow:oi,lastRow:ai,firstColumn:lo,lastColumn:ds}=ii,Sl={first:oi,last:ai},wA={first:lo,last:ds};Qt(In,lo,Sl,Nr),Qt(In,ds+1,Sl,Nr),W0(In,oi,wA,Nr),W0(In,ai+1,wA,Nr,oi)}(mt,se,et):(se.lastRow=Qd(mt,se),se.lastColumn=wg(mt,se)),se}(_,S,A,v),P=D.lastColumn-D.firstColumn+1,z={startRow:0,startColumn:0,endRow:Math.min(D.lastRow-D.firstRow+1,S.height)-1,endColumn:Math.min(P,S.width)-1};y=R0(y,z,A);const G=_[0].findAncestor("table"),W=this._replaceSelectedCellsWithPasted(y,S,G,D,A);if(this.editor.plugins.get("TableSelection").isEnabled){const $=v.sortRanges(W.map(X=>A.createRangeOn(X)));A.setSelection($)}else A.setSelection(W[0],0)})):bg(y,v)}_replaceSelectedCellsWithPasted(r,s,c,h,v){const{width:y,height:_}=s,A=function($,X,et){const ct=new Array(et).fill(null).map(()=>new Array(X).fill(null));for(const{column:mt,row:Ot,cell:Wt}of new Fe($))ct[Ot][mt]=Wt;return ct}(r,y,_),S=[...new Fe(c,{startRow:h.firstRow,endRow:h.lastRow,startColumn:h.firstColumn,endColumn:h.lastColumn,includeAllSlots:!0})],D=[];let E;for(const $ of S){const{row:X,column:et}=$;et===h.firstColumn&&(E=$.getPositionBefore());const Ot=A[(X-h.firstRow)%_][(et-h.firstColumn)%y],Wt=Ot?v.cloneElement(Ot):null,se=this._replaceTableSlotCell($,Wt,E,v);se&&(z0(se,X,et,h.lastRow,h.lastColumn,v),D.push(se),E=v.createPositionAfter(se))}const P=parseInt(c.getAttribute("headingRows")||0),z=parseInt(c.getAttribute("headingColumns")||0),W=h.firstColumn<z&&z<=h.lastColumn;if(h.firstRow<P&&P<=h.lastRow){const $=W0(c,P,{first:h.firstColumn,last:h.lastColumn},v,h.firstRow);D.push(...$)}if(W){const $=Qt(c,z,{first:h.firstRow,last:h.lastRow},v);D.push(...$)}return D}_replaceTableSlotCell(r,s,c,h){const{cell:v,isAnchor:y}=r;return y&&h.remove(v),s?(h.insert(s,c),s):null}getTableIfOnlyTableInContent(r,s){return U0(r,s)}}function U0(f,r){if(!f.is("documentFragment")&&!f.is("element"))return null;if(f.is("element","table"))return f;if(1==f.childCount&&f.getChild(0).is("element","table"))return f.getChild(0);const s=r.createRangeIn(f);for(const c of s.getItems())if(c.is("element","table")){const h=r.createRange(s.start,r.createPositionBefore(c));if(r.hasContent(h,{ignoreWhitespaces:!0}))return null;const v=r.createRange(r.createPositionAfter(c),s.end);return r.hasContent(v,{ignoreWhitespaces:!0})?null:c}return null}function W0(f,r,s,c,h=0){if(!(r<1))return N0(f,r,h).filter(({column:v,cellWidth:y})=>au(v,y,s)).map(({cell:v})=>mg(v,r,c))}function Qt(f,r,s,c){if(!(r<1))return B0(f,r).filter(({row:h,cellHeight:v})=>au(h,v,s)).map(({cell:h,column:v})=>Xd(h,v,r,c))}function au(f,r,s){const c=f+r-1,{first:h,last:v}=s;return f>=h&&f<=v||f<h&&c>=h}class xl extends vt{static get pluginName(){return"TableKeyboard"}static get requires(){return[Cl,On]}init(){const r=this.editor.editing.view.document;this.listenTo(r,"arrowKey",(...s)=>this._onArrowKey(...s),{context:"table"}),this.listenTo(r,"tab",(...s)=>this._handleTabOnSelectedTable(...s),{context:"figure"}),this.listenTo(r,"tab",(...s)=>this._handleTab(...s),{context:["th","td"]})}_handleTabOnSelectedTable(r,s){const c=this.editor,h=c.model.document.selection.getSelectedElement();h&&h.is("element","table")&&(s.preventDefault(),s.stopPropagation(),r.stop(),c.model.change(v=>{v.setSelection(v.createRangeIn(h.getChild(0).getChild(0)))}))}_handleTab(r,s){const c=this.editor,h=this.editor.plugins.get(On),y=!s.shiftKey;let _=h.getTableCellsContainingSelection(c.model.document.selection)[0];if(_||(_=this.editor.plugins.get("TableSelection").getFocusCell()),!_)return;s.preventDefault(),s.stopPropagation(),r.stop();const A=_.parent,S=A.parent,D=S.getChildIndex(A),E=A.getChildIndex(_),P=0===E;if(!y&&P&&0===D)return void c.model.change($=>{$.setSelection($.createRangeOn(S))});const z=E===A.childCount-1,G=D===h.getRows(S)-1;if(y&&G&&z&&(c.execute("insertTableRowBelow"),D===h.getRows(S)-1))return void c.model.change($=>{$.setSelection($.createRangeOn(S))});let W;if(y&&z)W=S.getChild(D+1).getChild(0);else if(!y&&P){const $=S.getChild(D-1);W=$.getChild($.childCount-1)}else W=A.getChild(E+(y?1:-1));c.model.change($=>{$.setSelection($.createRangeIn(W))})}_onArrowKey(r,s){const h=Fr(s.keyCode,this.editor.locale.contentLanguageDirection);this._handleArrowKeys(h,s.shiftKey)&&(s.preventDefault(),s.stopPropagation(),r.stop())}_handleArrowKeys(r,s){const c=this.editor.plugins.get(On),h=this.editor.model,v=h.document.selection,y=["right","down"].includes(r),_=c.getSelectedTableCells(v);if(_.length){let S;return S=s?this.editor.plugins.get("TableSelection").getFocusCell():y?_[_.length-1]:_[0],this._navigateFromCellInDirection(S,r,s),!0}const A=v.focus.findAncestor("tableCell");if(!A)return!1;if(!v.isCollapsed)if(s){if(v.isBackward==y&&!v.containsEntireContent(A))return!1}else{const S=v.getSelectedElement();if(!S||!h.schema.isObject(S))return!1}return!!this._isSelectionAtCellEdge(v,A,y)&&(this._navigateFromCellInDirection(A,r,s),!0)}_isSelectionAtCellEdge(r,s,c){const h=this.editor.model,v=this.editor.model.schema,y=c?r.getLastPosition():r.getFirstPosition();if(!v.getLimitElement(y).is("element","tableCell"))return h.createPositionAt(s,c?"end":0).isTouching(y);const _=h.createSelection(y);return h.modifySelection(_,{direction:c?"forward":"backward"}),y.isEqual(_.focus)}_navigateFromCellInDirection(r,s,c=!1){const h=this.editor.model,v=r.findAncestor("table"),y=[...new Fe(v,{includeAllSlots:!0})],{row:_,column:A}=y[y.length-1],S=y.find(({cell:W})=>W==r);let{row:D,column:E}=S;switch(s){case"left":E--;break;case"up":D--;break;case"right":E+=S.cellWidth;break;case"down":D+=S.cellHeight}if(D<0||D>_||E<0&&D<=0||E>A&&D>=_)return void h.change(W=>{W.setSelection(W.createRangeOn(v))});E<0?(E=c?0:A,D--):E>A&&(E=c?A:0,D++);const P=y.find(W=>W.row==D&&W.column==E).cell,z=["right","down"].includes(s),G=this.editor.plugins.get("TableSelection");if(c&&G.isEnabled){const W=G.getAnchorCell()||r;G.setCellSelection(W,P)}else{const W=h.createPositionAt(P,z?0:"end");h.change($=>{$.setSelection(W)})}}}class F2 extends Na{constructor(r){super(r),this.domEventType=["mousemove","mouseleave"]}onDomEvent(r){this.fire(r.type,r)}}class H2 extends vt{static get pluginName(){return"TableMouse"}static get requires(){return[Cl,On]}init(){this.editor.editing.view.addObserver(F2),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const r=this.editor,s=r.plugins.get(On);let c=!1;const h=r.plugins.get(Cl);this.listenTo(r.editing.view.document,"mousedown",(v,y)=>{const _=r.model.document.selection;if(!this.isEnabled||!h.isEnabled||!y.domEvent.shiftKey)return;const A=h.getAnchorCell()||s.getTableCellsContainingSelection(_)[0];if(!A)return;const S=this._getModelTableCellFromDomEvent(y);S&&mA(A,S)&&(c=!0,h.setCellSelection(A,S),y.preventDefault())}),this.listenTo(r.editing.view.document,"mouseup",()=>{c=!1}),this.listenTo(r.editing.view.document,"selectionChange",v=>{c&&v.stop()},{priority:"highest"})}_enableMouseDragSelection(){const r=this.editor;let s,c,h=!1,v=!1;const y=r.plugins.get(Cl);this.listenTo(r.editing.view.document,"mousedown",(_,A)=>{this.isEnabled&&y.isEnabled&&(A.domEvent.shiftKey||A.domEvent.ctrlKey||A.domEvent.altKey||(s=this._getModelTableCellFromDomEvent(A)))}),this.listenTo(r.editing.view.document,"mousemove",(_,A)=>{if(!A.domEvent.buttons||!s)return;const S=this._getModelTableCellFromDomEvent(A);S&&mA(s,S)&&(c=S,h||c==s||(h=!0)),h&&(v=!0,y.setCellSelection(s,c),A.preventDefault())}),this.listenTo(r.editing.view.document,"mouseup",()=>{h=!1,v=!1,s=null,c=null}),this.listenTo(r.editing.view.document,"selectionChange",_=>{v&&_.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(r){const c=this.editor.editing.view.createPositionAt(r.target,0);return this.editor.editing.mapper.toModelPosition(c).parent.findAncestor("tableCell",{includeSelf:!0})}}function mA(f,r){return f.parent.parent==r.parent.parent}var th=St(4104);function so(f){const r=f.getSelectedElement();return r&&bA(r)?r:null}function j2(f){const r=f.getFirstPosition();if(!r)return null;let s=r.parent;for(;s;){if(s.is("element")&&bA(s))return s;s=s.parent}return null}function bA(f){return!!f.getCustomProperty("table")&&tn(f)}Ut()(th.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const _i={autoRefresh:!0};class an{constructor(r,s=_i){if(!r)throw new U("token-missing-token-url",this);s.initValue&&this._validateTokenValue(s.initValue),this.set("value",s.initValue),this._refresh="function"==typeof r?r:()=>{return c=r,new Promise((h,v)=>{const y=new XMLHttpRequest;y.open("GET",c),y.addEventListener("load",()=>{const _=y.status,A=y.response;return _<200||_>299?v(new U("token-cannot-download-new-token",null)):h(A)}),y.addEventListener("error",()=>v(new Error("Network Error"))),y.addEventListener("abort",()=>v(new Error("Abort"))),y.send()});var c},this._options=Object.assign({},_i,s)}init(){return new Promise((r,s)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),r(this)):this.refreshToken().then(r).catch(s)})}refreshToken(){return this._refresh().then(r=>{this._validateTokenValue(r),this.set("value",r),this._options.autoRefresh&&this._registerRefreshTokenTimeout()}).then(()=>this)}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(r){const s="string"==typeof r,c=!/^".*"$/.test(r),h=s&&3===r.split(".").length;if(!c||!h)throw new U("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const r=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},r)}_getTokenRefreshTimeoutTime(){try{const[,r]=this.value.split("."),{exp:s}=JSON.parse(atob(r));return s?Math.floor((1e3*s-Date.now())/2):36e5}catch{return 36e5}}static create(r,s=_i){return new an(r,s).init()}}qn(an,Cu);const No=an,zi=/^data:(\S*?);base64,/;class Y0{constructor(r,s,c){if(!r)throw new U("fileuploader-missing-file",null);if(!s)throw new U("fileuploader-missing-token",null);if(!c)throw new U("fileuploader-missing-api-address",null);this.file=function(h){if("string"!=typeof h)return!1;const v=h.match(zi);return!(!v||!v.length)}(r)?function(h,v=512){try{const y=h.match(zi)[1],_=atob(h.replace(zi,"")),A=[];for(let S=0;S<_.length;S+=v){const D=_.slice(S,S+v),E=new Array(D.length);for(let P=0;P<D.length;P++)E[P]=D.charCodeAt(P);A.push(new Uint8Array(E))}return new Blob(A,{type:y})}catch{throw new U("fileuploader-decoding-image-data-error",null)}}(r):r,this._token=s,this._apiAddress=c}onProgress(r){return this.on("progress",(s,c)=>r(c)),this}onError(r){return this.once("error",(s,c)=>r(c)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const r=new XMLHttpRequest;r.open("POST",this._apiAddress),r.setRequestHeader("Authorization",this._token.value),r.responseType="json",this.xhr=r}_attachXHRListeners(){const r=this,s=this.xhr;function c(h){return()=>r.fire("error",h)}s.addEventListener("error",c("Network Error")),s.addEventListener("abort",c("Abort")),s.upload&&s.upload.addEventListener("progress",h=>{h.lengthComputable&&this.fire("progress",{total:h.total,uploaded:h.loaded})}),s.addEventListener("load",()=>{const h=s.status,v=s.response;if(h<200||h>299)return this.fire("error",v.message||v.error)})}_sendRequest(){const r=new FormData,s=this.xhr;return r.append("file",this.file),new Promise((c,h)=>{s.addEventListener("load",()=>{const v=s.status,y=s.response;return v<200||v>299?h(y.message?new U("fileuploader-uploading-data-failed",this,{message:y.message}):y.error):c(y)}),s.addEventListener("error",()=>h(new Error("Network Error"))),s.addEventListener("abort",()=>h(new Error("Abort"))),s.send(r)})}}qn(Y0,_r);class Sg{constructor(r,s){if(!r)throw new U("uploadgateway-missing-token",null);if(!s)throw new U("uploadgateway-missing-api-address",null);this._token=r,this._apiAddress=s}upload(r){return new Y0(r,this._token,this._apiAddress)}}class Rr extends qh{static get pluginName(){return"CloudServicesCore"}createToken(r,s){return new No(r,s)}createUploadGateway(r,s){return new Sg(r,s)}}class Vn extends jm{}Vn.Plugin=vt,Vn.Command=ae,Vn.ButtonView=xe,Vn.InputTextView=zm,Vn.addListToDropdown=Do,Vn.createDropdown=bn,Vn.Model=Cc,Vn.Widget=ha,Vn.WidgetResize=Sp,Vn.isWidget=tn,Vn.toWidget=Ad,Vn.toWidgetEditable=Ic,Vn.viewToModelPositionOutsideModelElement=function(f,r){return(s,c)=>{const{mapper:h,viewPosition:v}=c,y=h.findMappedViewAncestor(v);if(!r(y))return;const _=h.toModelElement(y);c.modelPosition=f.createPositionAt(_,v.isAtStart?"before":"after")}},Vn.WidgetToolbarRepository=Ld,Vn.Collection=nr,Vn.Observer=Gr,Vn.builtinPlugins=[class extends vt{static get requires(){return[fp,Sc,Ec,YS,ik,ry]}static get pluginName(){return"Essentials"}},class extends vt{static get requires(){return[tT,dk]}static get pluginName(){return"Alignment"}},class extends vt{static get requires(){return[rT,oT]}static get pluginName(){return"FontSize"}normalizeSizeOptions(f){return ll(f)}},class extends vt{static get requires(){return[mr,Md]}static get pluginName(){return"FontFamily"}},class extends vt{static get requires(){return[Ri,pa]}static get pluginName(){return"FontColor"}},class extends vt{static get requires(){return[aT,sT]}static get pluginName(){return"FontBackgroundColor"}},class extends vt{static get requires(){return[Ni]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const f=this.editor.config.get("ckfinder.uploadUrl");f&&(this.editor.plugins.get(Ni).createUploadAdapter=r=>new uT(r,f,this.editor.t))}},class extends vt{static get requires(){return[ua]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const f=this.editor.commands;f.get("bulletedList")&&ga(this.editor,this,/^[*-]\s$/,"bulletedList"),f.get("numberedList")&&ga(this.editor,this,/^1[.|)]\s$/,"numberedList"),f.get("todoList")&&ga(this.editor,this,/^\[\s?\]\s$/,"todoList"),f.get("checkTodoList")&&ga(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const f=this.editor.commands;if(f.get("bold")){const r=yp(this.editor,"bold");cl(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,r),cl(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,r)}if(f.get("italic")){const r=yp(this.editor,"italic");cl(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,r),cl(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,r)}if(f.get("code")){const r=yp(this.editor,"code");cl(this.editor,this,/(`)([^`]+)(`)$/g,r)}if(f.get("strikethrough")){const r=yp(this.editor,"strikethrough");cl(this.editor,this,/(~~)([^~]+)(~~)$/g,r)}}_addHeadingAutoformats(){const f=this.editor.commands.get("heading");f&&f.modelElements.filter(r=>r.match(/^heading[1-6]$/)).forEach(r=>{const c=new RegExp(`^(#{${r[7]}})\\s$`);ga(this.editor,this,c,()=>{if(!f.isEnabled||f.value===r)return!1;this.editor.execute("heading",{value:r})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&ga(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const f=this.editor,r=f.model.document.selection;f.commands.get("codeBlock")&&ga(f,this,/^```$/,()=>{if(r.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&ga(this.editor,this,/^---$/,"horizontalLine")}},class extends vt{static get requires(){return[fy,dT]}static get pluginName(){return"Bold"}},class extends vt{static get requires(){return[hT,Ck]}static get pluginName(){return"Italic"}},class extends vt{static get requires(){return[xk,hl]}static get pluginName(){return"Strikethrough"}},class extends vt{static get requires(){return[Sk,Tk]}static get pluginName(){return"Underline"}},class extends vt{static get requires(){return[fT,pT]}static get pluginName(){return"BlockQuote"}},class extends vt{static get pluginName(){return"CKBox"}static get requires(){return[kp,Mk]}},class extends vt{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",RE,bT]}},class extends qh{static get pluginName(){return"CloudServices"}static get requires(){return[Rr]}init(){const f=this.context.config.get("cloudServices")||{};for(const r in f)this[r]=f[r];if(this._tokens=new Map,this.tokenUrl)return this.token=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl),this._tokens.set(this.tokenUrl,this.token),this.token.init();this.token=null}registerTokenUrl(f){if(this._tokens.has(f))return Promise.resolve(this.getTokenFor(f));const r=this.context.plugins.get("CloudServicesCore").createToken(f);return this._tokens.set(f,r),r.init()}getTokenFor(f){const r=this._tokens.get(f);if(!r)throw new U("cloudservices-token-not-registered",this);return r}destroy(){super.destroy();for(const f of this._tokens.values())f.destroy()}},class extends vt{static get requires(){return[NE,"ImageUpload"]}init(){const f=this.editor;f.plugins.has("ImageBlockEditing")||f.plugins.has("ImageInlineEditing")||it("easy-image-image-feature-missing",f)}static get pluginName(){return"EasyImage"}},class extends vt{static get requires(){return[_T,AT]}static get pluginName(){return"Heading"}},class extends vt{static get requires(){return[MT,IT]}static get pluginName(){return"Image"}},class extends vt{static get requires(){return[ET,Yk]}static get pluginName(){return"ImageCaption"}},class extends vt{static get requires(){return[Ip,Pp,LT]}static get pluginName(){return"ImageResize"}},class extends vt{static get requires(){return[By,Op]}static get pluginName(){return"ImageStyle"}},class extends vt{static get requires(){return[Ld,Xr]}static get pluginName(){return"ImageToolbar"}afterInit(){const f=this.editor,r=f.t,s=f.plugins.get(Ld),c=f.plugins.get("ImageUtils");var h;s.register("image",{ariaLabel:r("Image toolbar"),items:(h=f.config.get("image.toolbar")||[],h.map(v=>Pe(v)?v.name:v)),getRelatedElement:v=>c.getClosestSelectedImageWidget(v)})}},class extends vt{static get pluginName(){return"ImageUpload"}static get requires(){return[jy,BT,OT]}},class extends vt{static get pluginName(){return"Indent"}static get requires(){return[Gy,VT]}},class extends vt{constructor(f){super(f),f.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}init(){const f=this.editor,r=f.config.get("indentBlock"),s=!r.classes||!r.classes.length,c=Object.assign({direction:"forward"},r),h=Object.assign({direction:"backward"},r);s?(f.data.addStyleProcessorRules(cd),this._setupConversionUsingOffset(f.conversion),f.commands.add("indentBlock",new Un(f,new Uy(c))),f.commands.add("outdentBlock",new Un(f,new Uy(h)))):(this._setupConversionUsingClasses(r.classes),f.commands.add("indentBlock",new Un(f,new Gc(c))),f.commands.add("outdentBlock",new Un(f,new Gc(h))))}afterInit(){const f=this.editor,r=f.model.schema,s=f.commands.get("indent"),c=f.commands.get("outdent"),h=f.config.get("heading.options");(h&&h.map(v=>v.model)||Nd).forEach(v=>{r.isRegistered(v)&&r.extend(v,{allowAttributes:"blockIndent"})}),r.setAttributeProperties("blockIndent",{isFormatting:!0}),s.registerChildCommand(f.commands.get("indentBlock")),c.registerChildCommand(f.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const f=this.editor.conversion,r="rtl"===this.editor.locale.contentLanguageDirection?"margin-right":"margin-left";f.for("upcast").attributeToAttribute({view:{styles:{[r]:/[\s\S]+/}},model:{key:"blockIndent",value:s=>s.getStyle(r)}}),f.for("downcast").attributeToAttribute({model:"blockIndent",view:s=>({key:"style",value:{[r]:s}})})}_setupConversionUsingClasses(f){const r={model:{key:"blockIndent",values:[]},view:{}};for(const s of f)r.model.values.push(s),r.view[s]={key:"class",value:[s]};this.editor.conversion.attributeToAttribute(r)}},class extends vt{static get requires(){return[Vd,KT,Qy]}static get pluginName(){return"Link"}},class extends vt{static get requires(){return[i0,A1]}static get pluginName(){return"List"}},class extends vt{static get requires(){return[Jp,a2]}static get pluginName(){return"ListProperties"}},class extends vt{constructor(f){super(f),f.data.processor=new Y1(f.data.viewDocument)}static get pluginName(){return"Markdown"}},class extends vt{static get requires(){return[$d,C2,nu,ha]}static get pluginName(){return"MediaEmbed"}},class extends vt{static get pluginName(){return"Minimap"}init(){const f=this.editor;this._minimapView=null,this._scrollableRootAncestor=null,this.listenTo(f.ui,"ready",this._onUiReady.bind(this))}destroy(){this._minimapView.destroy(),this._minimapView.element.remove()}_onUiReady(){const f=this.editor,r=this._editingRootElement=f.ui.getEditableElement();this._scrollableRootAncestor=function(s){do{if(!(s=s.parentElement))return null;const c=Yt.window.getComputedStyle(s).overflowY;if("auto"===c||"scroll"===c)break}while("BODY"!=s.tagName);return s}(r),r.ownerDocument.body.contains(r)?(this._initializeMinimapView(),this.listenTo(f.editing.view,"render",()=>{this._syncMinimapToEditingRootScrollPosition()}),this._syncMinimapToEditingRootScrollPosition()):f.ui.once("update",this._onUiReady.bind(this))}_initializeMinimapView(){const f=this.editor,r=f.locale,s=f.config.get("minimap.useSimplePreview"),c=f.config.get("minimap.container"),h=this._scrollableRootAncestor,v=M0(this._editingRootElement).width,y=M0(c).width/v,_=this._minimapView=new T2({locale:r,scaleRatio:y,pageStyles:Array.from(Yt.document.styleSheets).map(A=>A.href&&!A.href.startsWith(Yt.window.location.origin)?{href:A.href}:Array.from(A.cssRules).filter(S=>!(S instanceof CSSMediaRule)).map(S=>S.cssText).join(" \n")),extraClasses:f.config.get("minimap.extraClasses"),useSimplePreview:s,domRootClone:BE(f)});_.render(),_.listenTo(Yt.document,"scroll",(A,S)=>{if(h===Yt.document.body){if(S.target!==Yt.document)return}else if(S.target!==h)return;this._syncMinimapToEditingRootScrollPosition()},{useCapture:!0,usePassive:!0}),_.listenTo(Yt.window,"resize",()=>{this._syncMinimapToEditingRootScrollPosition()}),_.on("drag",(A,S)=>{let D;D=0===_.scrollHeight?0:S/_.scrollHeight;const E=D*(h.scrollHeight-((P=h)===Yt.document.body?Yt.window.innerHeight:P.clientHeight));var P;J1(h).scrollBy(0,Math.round(E))}),_.on("click",(A,S)=>{const D=S*h.scrollHeight;J1(h).scrollBy(0,Math.round(D))}),c.appendChild(_.element)}_syncMinimapToEditingRootScrollPosition(){const f=this._editingRootElement,r=this._minimapView;r.setContentHeight(f.offsetHeight);const s=M0(f),c=M0(this._scrollableRootAncestor);let h;c.contains(s)||s.top>c.top?h=0:(h=(s.top-c.top)/(c.height-s.height),h=Math.max(0,Math.min(h,1))),r.setPositionTrackerHeight(c.getIntersection(s).height),r.setScrollProgress(h)}},class extends vt{static get requires(){return[nA,E2,ha]}static get pluginName(){return"PageBreak"}},Oc,class extends vt{static get pluginName(){return"PasteFromOffice"}static get requires(){return[qr]}init(){const f=this.editor,r=f.editing.view.document,s=[];s.push(new oA(r)),s.push(new iA(r)),f.plugins.get("ClipboardPipeline").on("inputTransformation",(c,h)=>{if(h._isTransformedWithPasteFromOffice||f.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const v=h.dataTransfer.getData("text/html"),y=s.find(_=>_.isActive(v));y&&(h._parsedData=function(f,r){const s=new DOMParser,c=hg(hg(function(A){const S="</body>",E=A.indexOf(S);if(E<0)return A;const P=A.indexOf("</html>",E+S.length);return A.substring(0,E+S.length)+(P>=0?A.substring(P):"")}(f=f.replace(/<!--\[if gte vml 1]>/g,"")))).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><"),h=s.parseFromString(c,"text/html");h.querySelectorAll("span[style*=spacerun]").forEach(S=>{const D=S.innerText.length||0;S.innerText=Array(D+1).join("\xa0 ").substr(0,D)});const v=h.body.innerHTML,y=function(A,S){const D=new sf(S),E=new Yu(D,{renderingMode:"data"}),P=A.createDocumentFragment(),z=A.body.childNodes;for(;z.length>0;)P.appendChild(z[0]);return E.domToView(P,{skipComments:!0})}(h,r),_=function(A){const S=[],D=[],E=Array.from(A.getElementsByTagName("style"));for(const P of E)P.sheet&&P.sheet.cssRules&&P.sheet.cssRules.length&&(S.push(P.sheet),D.push(P.innerHTML));return{styles:S,stylesString:D.join(" ")}}(h);return{body:y,bodyString:v,styles:_.styles,stylesString:_.stylesString}}(v,r.stylesProcessor),y.execute(h),h._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends vt{static get requires(){return[Mn,Xr]}static get pluginName(){return"PictureEditing"}afterInit(){const f=this.editor;f.plugins.has("ImageBlockEditing")&&f.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),f.plugins.has("ImageInlineEditing")&&f.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const f=this.editor,r=f.conversion,s=f.plugins.get("ImageUtils");r.for("upcast").add(function(c){const h=["srcset","media","type","sizes"];return y=>{y.on("element:picture",v)};function v(y,_,A){const S=_.viewItem;if(!A.consumable.test(S,{name:!0}))return;const D=new Map;for(const z of S.getChildren())if(z.is("element","source")){const G={};for(const W of h)z.hasAttribute(W)&&A.consumable.test(z,{attributes:W})&&(G[W]=z.getAttribute(W));Object.keys(G).length&&D.set(z,G)}const E=c.findViewImgElement(S);if(!E)return;let P=_.modelCursor.parent;if(!P.is("element","imageBlock")){const z=A.convertItem(E,_.modelCursor);_.modelRange=z.modelRange,_.modelCursor=z.modelCursor,P=xn(z.modelRange.getItems())}A.consumable.consume(S,{name:!0});for(const[z,G]of D)A.consumable.consume(z,{attributes:Object.keys(G)});D.size&&A.writer.setAttribute("sources",Array.from(D.values()),P),A.convertChildren(S,P)}}(s)),r.for("downcast").add(function(c){return v=>{v.on("attribute:sources:imageBlock",h),v.on("attribute:sources:imageInline",h)};function h(v,y,_){if(!_.consumable.consume(y.item,v.name))return;const A=_.writer,S=_.mapper.toViewElement(y.item),D=c.findViewImgElement(S);if(y.attributeNewValue&&y.attributeNewValue.length){const E=A.createContainerElement("picture",null,y.attributeNewValue.map(G=>A.createEmptyElement("source",G))),P=[];let z=D.parent;for(;z&&z.is("attributeElement");){const G=z.parent;A.unwrap(A.createRangeOn(D),z),P.unshift(z),z=G}A.insert(A.createPositionBefore(D),E),A.move(A.createRangeOn(D),A.createPositionAt(E,"end"));for(const G of P)A.wrap(A.createRangeOn(E),G)}else if(D.parent.is("element","picture")){const E=D.parent;A.move(A.createRangeOn(D),A.createPositionBefore(E)),A.remove(E)}}}(s))}_setupImageUploadEditingIntegration(){const f=this.editor;f.plugins.has("ImageUploadEditing")&&this.listenTo(f.plugins.get("ImageUploadEditing"),"uploadComplete",(r,{imageElement:s,data:c})=>{const h=c.sources;h&&f.model.change(v=>{v.setAttributes({sources:h},s)})})}},class extends vt{static get requires(){return[jE,gA,Cl,H2,xl,WE,ha]}static get pluginName(){return"Table"}},class extends vt{static get requires(){return[Ld]}static get pluginName(){return"TableToolbar"}afterInit(){const f=this.editor,r=f.t,s=f.plugins.get(Ld),c=f.config.get("table.contentToolbar"),h=f.config.get("table.tableToolbar");c&&s.register("tableContent",{ariaLabel:r("Table toolbar"),items:c,getRelatedElement:j2}),h&&s.register("table",{ariaLabel:r("Table toolbar"),items:h,getRelatedElement:so})}},class extends vt{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(f){super(f),f.config.define("typing",{transformations:{include:sk}})}init(){const f=this.editor.model.document.selection;f.on("change:range",()=>{this.isEnabled=!f.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const f=this.editor,r=f.model,s=f.plugins.get("Delete"),c=function(v){const _=v.remove||[],A=S=>!_.includes(S);return function(S){const D=new Set;for(const E of S)if("string"==typeof E&&Xn[E])for(const P of Xn[E])D.add(P);else D.add(E);return Array.from(D)}(v.include.concat(v.extra||[]).filter(A)).filter(A).map(S=>"string"==typeof S&&sl[S]?sl[S]:S).filter(S=>"object"==typeof S).map(S=>({from:ZS(S.from),to:lk(S.to)}))}(f.config.get("typing.transformations")),h=new ok(f.model,v=>{for(const y of c)if(y.from.test(v))return{normalizedTransformation:y}});h.on("matched:data",(v,y)=>{if(!y.batch.isTyping)return;const{from:_,to:A}=y.normalizedTransformation,S=_.exec(y.text),D=A(S.slice(1)),E=y.range;let P=S.index;r.enqueueChange(z=>{for(let G=1;G<S.length;G++){const W=S[G],$=D[G-1];if(null==$){P+=W.length;continue}const X=E.start.getShiftedBy(P),et=r.createRange(X,X.getShiftedBy(W.length)),ct=Jm(X);r.insertContent(z.createText($,ct),et),P+=$.length}r.enqueueChange(()=>{s.requestUndoOnBackspace()})})}),h.bind("isEnabled").to(this)}}],Vn.defaultConfig={toolbar:{items:["heading","|","fontfamily","fontsize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","|","numberedList","bulletedList","|","outdent","indent","|","link","blockquote","uploadImage","insertTable","mediaEmbed","|","undo","redo","|","pageBreak"]},image:{resizeUnit:"px",toolbar:["imageStyle:inline","imageStyle:wrapText","imageStyle:breakText","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},language:"en"}})(),ka.default})())()},465:()=>{!function(Fn){const Jn=Fn["zh-cn"]=Fn["zh-cn"]||{};Jn.dictionary=Object.assign(Jn.dictionary||{},{"%0 of %1":"\u7b2c %0 \u6b65\uff0c\u5171 %1 \u6b65","Align center":"\u5c45\u4e2d\u5bf9\u9f50","Align left":"\u5de6\u5bf9\u9f50","Align right":"\u53f3\u5bf9\u9f50",Aquamarine:"\u6d77\u84dd\u8272",Big:"\u5927",Black:"\u9ed1\u8272","Block quote":"\u5757\u5f15\u7528",Blue:"\u84dd\u8272",Bold:"\u52a0\u7c97","Break text":"\u6587\u5b57\u65ad\u884c","Bulleted List":"\u9879\u76ee\u7b26\u53f7\u5217\u8868","Bulleted list styles toolbar":"\u9879\u76ee\u7b26\u53f7\u5217\u8868\u6837\u5f0f\u5de5\u5177\u6761",Cancel:"\u53d6\u6d88","Cannot determine a category for the uploaded file.":"\u65e0\u6cd5\u786e\u5b9a\u4e0a\u4f20\u6587\u4ef6\u7684\u7c7b\u522b\u3002","Cannot upload file:":"\u65e0\u6cd5\u4e0a\u4f20\u7684\u6587\u4ef6\uff1a","Caption for image: %0":"\u56fe\u7247\u8bf4\u660e\uff1a%0","Caption for the image":"\u56fe\u7247\u8bf4\u660e\uff1a","Centered image":"\u56fe\u7247\u5c45\u4e2d","Change image text alternative":"\u66f4\u6539\u56fe\u7247\u66ff\u6362\u6587\u672c","Choose heading":"\u6807\u9898\u7c7b\u578b",Circle:"\u7a7a\u5fc3\u5706\u70b9",Column:"\u5217","Could not insert image at the current position.":"\u65e0\u6cd5\u5728\u5f53\u524d\u4f4d\u7f6e\u63d2\u5165\u56fe\u7247","Could not obtain resized image URL.":"\u65e0\u6cd5\u83b7\u53d6\u91cd\u8bbe\u5927\u5c0f\u7684\u56fe\u7247URL",Decimal:"\u963f\u62c9\u4f2f\u6570\u5b57","Decimal with leading zero":"\u524d\u5bfc\u96f6\u963f\u62c9\u4f2f\u6570\u5b57","Decrease indent":"\u51cf\u5c11\u7f29\u8fdb",Default:"\u9ed8\u8ba4","Delete column":"\u5220\u9664\u672c\u5217","Delete row":"\u5220\u9664\u672c\u884c","Dim grey":"\u6697\u7070\u8272",Disc:"\u5b9e\u5fc3\u5706\u70b9","Document colors":"\u6587\u6863\u4e2d\u7684\u989c\u8272",Downloadable:"\u53ef\u4e0b\u8f7d","Dropdown toolbar":"\u4e0b\u62c9\u5de5\u5177\u680f","Edit block":"\u7f16\u8f91\u6846","Edit link":"\u4fee\u6539\u94fe\u63a5","Editor block content toolbar":"\u7f16\u8f91\u5668\u5757\u5185\u5bb9\u5de5\u5177\u680f","Editor contextual toolbar":"\u7f16\u8f91\u5668\u4e0a\u4e0b\u6587\u5de5\u5177\u680f","Editor editing area: %0":"\u7f16\u8f91\u5668\u7f16\u8f91\u533a\u57df\uff1a%0","Editor toolbar":"\u7f16\u8f91\u5668\u5de5\u5177\u680f","Enter image caption":"\u8f93\u5165\u56fe\u7247\u6807\u9898","Font Background Color":"\u5b57\u4f53\u80cc\u666f\u8272","Font Color":"\u5b57\u4f53\u989c\u8272","Font Family":"\u5b57\u4f53","Font Size":"\u5b57\u4f53\u5927\u5c0f","Full size image":"\u5168\u5c3a\u5bf8\u56fe\u7247",Green:"\u7eff\u8272",Grey:"\u7070\u8272","Header column":"\u6807\u9898\u5217","Header row":"\u6807\u9898\u884c",Heading:"\u6807\u9898","Heading 1":"\u6807\u9898 1","Heading 2":"\u6807\u9898 2","Heading 3":"\u6807\u9898 3","Heading 4":"\u6807\u9898 4","Heading 5":"\u6807\u9898 5","Heading 6":"\u6807\u9898 6",Huge:"\u6781\u5927","Image resize list":"\u56fe\u7247\u5927\u5c0f\u5217\u8868","Image toolbar":"\u56fe\u7247\u5de5\u5177\u680f","image widget":"\u56fe\u7247\u7ec4\u4ef6","In line":"\u884c\u5185","Increase indent":"\u589e\u52a0\u7f29\u8fdb","Insert column left":"\u5de6\u4fa7\u63d2\u5165\u5217","Insert column right":"\u53f3\u4fa7\u63d2\u5165\u5217","Insert image":"\u63d2\u5165\u56fe\u50cf","Insert image or file":"\u63d2\u5165\u56fe\u7247\u6216\u6587\u4ef6","Insert media":"\u63d2\u5165\u5a92\u4f53","Insert paragraph after block":"\u5728\u540e\u9762\u63d2\u5165\u6bb5\u843d","Insert paragraph before block":"\u5728\u524d\u9762\u63d2\u5165\u6bb5\u843d","Insert row above":"\u5728\u4e0a\u9762\u63d2\u5165\u4e00\u884c","Insert row below":"\u5728\u4e0b\u9762\u63d2\u5165\u4e00\u884c","Insert table":"\u63d2\u5165\u8868\u683c","Inserting image failed":"\u63d2\u5165\u56fe\u7247\u5931\u8d25",Italic:"\u503e\u659c",Justify:"\u4e24\u7aef\u5bf9\u9f50","Left aligned image":"\u56fe\u7247\u5de6\u4fa7\u5bf9\u9f50","Light blue":"\u6d45\u84dd\u8272","Light green":"\u6d45\u7eff\u8272","Light grey":"\u6d45\u7070\u8272",Link:"\u8d85\u94fe\u63a5","Link URL":"\u94fe\u63a5\u7f51\u5740","List properties":"\u5217\u8868\u5c5e\u6027","Lower-latin":"\u5c0f\u5199\u62c9\u4e01\u5b57\u6bcd","Lower\u2013roman":"\u5c0f\u5199\u7f57\u9a6c\u6570\u5b57","Media URL":"\u5a92\u4f53URL","media widget":"\u5a92\u4f53\u5c0f\u90e8\u4ef6","Merge cell down":"\u5411\u4e0b\u5408\u5e76\u5355\u5143\u683c","Merge cell left":"\u5411\u5de6\u5408\u5e76\u5355\u5143\u683c","Merge cell right":"\u5411\u53f3\u5408\u5e76\u5355\u5143\u683c","Merge cell up":"\u5411\u4e0a\u5408\u5e76\u5355\u5143\u683c","Merge cells":"\u5408\u5e76\u5355\u5143\u683c",Next:"\u4e0b\u4e00\u6b65","Numbered List":"\u9879\u76ee\u7f16\u53f7\u5217\u8868","Numbered list styles toolbar":"\u9879\u76ee\u7f16\u53f7\u5217\u8868\u6837\u5f0f\u5de5\u5177\u6761","Open file manager":"\u6253\u5f00\u6587\u4ef6\u7ba1\u7406\u5668","Open in a new tab":"\u5728\u65b0\u6807\u7b7e\u9875\u4e2d\u6253\u5f00","Open link in new tab":"\u5728\u65b0\u6807\u7b7e\u9875\u4e2d\u6253\u5f00\u94fe\u63a5","Open media in new tab":"\u5728\u65b0\u6807\u7b7e\u9875\u6253\u5f00\u5a92\u4f53",Orange:"\u6a59\u8272",Original:"\u539f\u59cb\u5927\u5c0f","Page break":"\u5206\u9875\u7b26",Paragraph:"\u6bb5\u843d","Paste the media URL in the input.":"\u5728\u8f93\u5165\u4e2d\u7c98\u8d34\u5a92\u4f53URL",Previous:"\u4e0a\u4e00\u6b65",Purple:"\u7d2b\u8272",Red:"\u7ea2\u8272",Redo:"\u91cd\u505a","Remove color":"\u79fb\u9664\u989c\u8272","Resize image":"\u8c03\u6574\u56fe\u50cf\u5927\u5c0f","Resize image to %0":"\u8c03\u6574\u56fe\u50cf\u5927\u5c0f\u4e3a%0","Resize image to the original size":"\u8c03\u6574\u56fe\u50cf\u5927\u5c0f\u4e3a\u539f\u59cb\u5927\u5c0f","Reversed order":"\u987a\u5e8f\u53cd\u8f6c","Rich Text Editor":"\u5bcc\u6587\u672c\u7f16\u8f91\u5668","Rich Text Editor. Editing area: %0":"\u5bcc\u6587\u672c\u7f16\u8f91\u5668\u3002\u7f16\u8f91\u533a\u57df\uff1a%0","Right aligned image":"\u56fe\u7247\u53f3\u4fa7\u5bf9\u9f50",Row:"\u884c",Save:"\u4fdd\u5b58","Select all":"\u5168\u9009","Select column":"\u9009\u62e9\u5217","Select row":"\u9009\u62e9\u884c","Selecting resized image failed":"\u9009\u62e9\u91cd\u8bbe\u5927\u5c0f\u7684\u56fe\u7247\u5931\u8d25","Show more items":"\u663e\u793a\u66f4\u591a","Side image":"\u56fe\u7247\u4fa7\u8fb9\u663e\u793a",Small:"\u5c0f","Split cell horizontally":"\u6a2a\u5411\u62c6\u5206\u5355\u5143\u683c","Split cell vertically":"\u7eb5\u5411\u62c6\u5206\u5355\u5143\u683c",Square:"\u5b9e\u5fc3\u65b9\u5757","Start at":"\u8d77\u59cb\u7f16\u53f7","Start index must be greater than 0.":"\u8d77\u59cb\u7f16\u53f7\u5fc5\u987b\u5927\u4e8e0\u3002",Strikethrough:"\u5220\u9664\u7ebf","Table toolbar":"\u8868\u683c\u5de5\u5177\u680f","Text alignment":"\u5bf9\u9f50","Text alignment toolbar":"\u5bf9\u9f50\u5de5\u5177\u680f","Text alternative":"\u66ff\u6362\u6587\u672c","The URL must not be empty.":"URL\u4e0d\u53ef\u4ee5\u4e3a\u7a7a\u3002","This link has no URL":"\u6b64\u94fe\u63a5\u6ca1\u6709\u8bbe\u7f6e\u7f51\u5740","This media URL is not supported.":"\u4e0d\u652f\u6301\u6b64\u5a92\u4f53URL\u3002",Tiny:"\u6781\u5c0f","Tip: Paste the URL into the content to embed faster.":"\u63d0\u793a\uff1a\u5c06URL\u7c98\u8d34\u5230\u5185\u5bb9\u4e2d\u53ef\u66f4\u5feb\u5730\u5d4c\u5165","Toggle caption off":"\u5173\u95ed\u8868\u6807\u9898","Toggle caption on":"\u6253\u5f00\u8868\u6807\u9898","Toggle the circle list style":"\u5207\u6362\u7a7a\u5fc3\u539f\u70b9\u5217\u8868\u6837\u5f0f","Toggle the decimal list style":"\u5207\u6362\u963f\u62c9\u4f2f\u6570\u5b57\u5217\u8868\u6837\u5f0f","Toggle the decimal with leading zero list style":"\u5207\u6362\u524d\u5bfc\u96f6\u963f\u62c9\u4f2f\u6570\u5b57\u5217\u8868\u6837\u5f0f","Toggle the disc list style":"\u5207\u6362\u5b9e\u5fc3\u539f\u70b9\u5217\u8868\u6837\u5f0f","Toggle the lower\u2013latin list style":"\u5207\u6362\u5c0f\u5199\u62c9\u4e01\u5b57\u6bcd\u5217\u8868\u6837\u5f0f","Toggle the lower\u2013roman list style":"\u5207\u6362\u5c0f\u5199\u7f57\u9a6c\u6570\u5b57\u5217\u8868\u6837\u5f0f","Toggle the square list style":"\u5207\u6362\u5b9e\u5fc3\u65b9\u5757\u5217\u8868\u6837\u5f0f","Toggle the upper\u2013latin list style":"\u5207\u6362\u5927\u5199\u62c9\u4e01\u5b57\u6bcd\u5217\u8868\u6837\u5f0f","Toggle the upper\u2013roman list style":"\u5207\u6362\u5927\u5199\u7f57\u9a6c\u6570\u5b57\u5217\u8868\u6837\u5f0f",Turquoise:"\u9752\u8272",Underline:"\u4e0b\u5212\u7ebf",Undo:"\u64a4\u9500",Unlink:"\u53d6\u6d88\u8d85\u94fe\u63a5","Upload failed":"\u4e0a\u4f20\u5931\u8d25","Upload in progress":"\u6b63\u5728\u4e0a\u4f20","Upper-latin":"\u5927\u5199\u62c9\u4e01\u5b57\u6bcd","Upper-roman":"\u5927\u5199\u7f57\u9a6c\u6570\u5b57",White:"\u767d\u8272","Widget toolbar":"\u5c0f\u90e8\u4ef6\u5de5\u5177\u680f","Wrap text":"\u6587\u5b57\u73af\u7ed5",Yellow:"\u9ec4\u8272"}),Jn.getPluralForm=function(Hn){return 0}}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}))},789:(Fn,Jn,Hn)=>{"use strict";Hn.r(Jn),Hn.d(Jn,{DocEditorModule:()=>LK});var Wn={};Hn.r(Wn),Hn.d(Wn,{Arc:()=>Zy,BezierCurve:()=>Od,BoundingRect:()=>$t,Circle:()=>no,CompoundPath:()=>Gp,Ellipse:()=>jy,Group:()=>Vt,Image:()=>or,IncrementalDisplayable:()=>KT,Line:()=>zn,LinearGradient:()=>Vd,OrientedBoundingRect:()=>Yp,Path:()=>re,Point:()=>Zt,Polygon:()=>Qr,Polyline:()=>Jr,RadialGradient:()=>Xy,Rect:()=>Xt,Ring:()=>zd,Sector:()=>Mr,Text:()=>ge,applyTransform:()=>io,clipPointsByRect:()=>n0,clipRectByRect:()=>QT,createIcon:()=>Hd,extendPath:()=>_1,extendShape:()=>b1,getShapeClass:()=>Zp,getTransform:()=>bl,groupTransition:()=>Fd,initProps:()=>Je,isElementRemoved:()=>kc,lineLineIntersect:()=>k1,linePolygonIntersect:()=>Yc,makeImage:()=>Jy,makePath:()=>$p,mergePath:()=>bi,registerShape:()=>Bi,removeElement:()=>bn,removeElementWithFadeOut:()=>Do,resizePath:()=>ml,setTooltipConfig:()=>qc,subPixelOptimize:()=>Wc,subPixelOptimizeLine:()=>yl,subPixelOptimizeRect:()=>t0,transformDirection:()=>Kp,traverseElements:()=>wi,updateProps:()=>ke});var Ai=Hn(583),oe=Hn(525),St=Hn(945),ka=Hn(980),ht=Hn(551),ut=Hn(970),Y=Hn(969);class ot{}class dt{}class at{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const o=t.slice(0,i),a=o.toLowerCase(),l=t.slice(i+1).trim();this.maybeSetNormalizedName(o,a),this.headers.has(a)?this.headers.get(a).push(l):this.headers.set(a,[l])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const o=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(o,i),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof at?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new at;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof at?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...i),this.headers.set(t,o);break;case"d":const a=e.value;if(a){let l=this.headers.get(t);if(!l)return;l=l.filter(u=>-1===a.indexOf(u)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class U{encodeKey(e){return Ln(e)}encodeValue(e){return Ln(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const li=/%(\d[a-f0-9])/gi,zr={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Ln(n){return encodeURIComponent(n).replace(li,(e,t)=>{var i;return null!==(i=zr[t])&&void 0!==i?i:e})}function uo(n){return`${n}`}class wr{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new U,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const a=o.indexOf("="),[l,u]=-1==a?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,a)),e.decodeValue(o.slice(a+1))],d=t.get(l)||[];d.push(u),t.set(l,d)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const o=e[i];Array.isArray(o)?o.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new wr({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(uo(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const o=i.indexOf(uo(e.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class zl{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function _r(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Ft(n){return"undefined"!=typeof Blob&&n instanceof Blob}function we(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Re{constructor(e,t,i,o){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,a=o):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new at),this.context||(this.context=new zl),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const u=t.indexOf("?");this.urlWithParams=t+(-1===u?"?":u<t.length-1?"&":"")+l}}else this.params=new wr,this.urlWithParams=t}serializeBody(){return null===this.body?null:_r(this.body)||Ft(this.body)||we(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof wr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||we(this.body)?null:Ft(this.body)?this.body.type||null:_r(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof wr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,o=e.url||this.url,a=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,d=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,g=e.params||this.params;const m=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((b,w)=>b.set(w,e.setHeaders[w]),p)),e.setParams&&(g=Object.keys(e.setParams).reduce((b,w)=>b.set(w,e.setParams[w]),g)),new Re(i,o,l,{params:g,headers:p,context:m,reportProgress:d,responseType:a,withCredentials:u})}}var pe=(()=>((pe=pe||{})[pe.Sent=0]="Sent",pe[pe.UploadProgress=1]="UploadProgress",pe[pe.ResponseHeader=2]="ResponseHeader",pe[pe.DownloadProgress=3]="DownloadProgress",pe[pe.Response=4]="Response",pe[pe.User=5]="User",pe))();class sn{constructor(e,t=200,i="OK"){this.headers=e.headers||new at,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class rn extends sn{constructor(e={}){super(e),this.type=pe.ResponseHeader}clone(e={}){return new rn({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ci extends sn{constructor(e={}){super(e),this.type=pe.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ci({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Pe extends sn{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ho(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Aa=(()=>{class n{constructor(t){this.handler=t}request(t,i,o={}){let a;if(t instanceof Re)a=t;else{let d,p;d=o.headers instanceof at?o.headers:new at(o.headers),o.params&&(p=o.params instanceof wr?o.params:new wr({fromObject:o.params})),a=new Re(t,i,void 0!==o.body?o.body:null,{headers:d,context:o.context,params:p,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const l=(0,St.of)(a).pipe((0,ht.b)(d=>this.handler.handle(d)));if(t instanceof Re||"events"===o.observe)return l;const u=l.pipe((0,ut.h)(d=>d instanceof ci));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return u.pipe((0,Y.U)(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return u.pipe((0,Y.U)(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return u.pipe((0,Y.U)(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return u.pipe((0,Y.U)(d=>d.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new wr).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,o={}){return this.request("PATCH",t,ho(o,i))}post(t,i,o={}){return this.request("POST",t,ho(o,i))}put(t,i,o={}){return this.request("PUT",t,ho(o,i))}}return n.\u0275fac=function(t){return new(t||n)(oe.LFG(ot))},n.\u0275prov=oe.Yz7({token:n,factory:n.\u0275fac}),n})();class Au{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const ms=new oe.OlP("HTTP_INTERCEPTORS");let Ob=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe.Yz7({token:n,factory:n.\u0275fac}),n})();const vt=/^\)\]\}',?\n/;let ae=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ka.y(i=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((w,k)=>o.setRequestHeader(w,k.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const w=t.detectContentTypeHeader();null!==w&&o.setRequestHeader("Content-Type",w)}if(t.responseType){const w=t.responseType.toLowerCase();o.responseType="json"!==w?w:"text"}const a=t.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const w=1223===o.status?204:o.status,k=o.statusText||"OK",C=new at(o.getAllResponseHeaders()),x=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return l=new rn({headers:C,status:w,statusText:k,url:x}),l},d=()=>{let{headers:w,status:k,statusText:C,url:x}=u(),T=null;204!==k&&(T=void 0===o.response?o.responseText:o.response),0===k&&(k=T?200:0);let M=k>=200&&k<300;if("json"===t.responseType&&"string"==typeof T){const I=T;T=T.replace(vt,"");try{T=""!==T?JSON.parse(T):null}catch(L){T=I,M&&(M=!1,T={error:L,text:T})}}M?(i.next(new ci({body:T,headers:w,status:k,statusText:C,url:x||void 0})),i.complete()):i.error(new Pe({error:T,headers:w,status:k,statusText:C,url:x||void 0}))},p=w=>{const{url:k}=u(),C=new Pe({error:w,status:o.status||0,statusText:o.statusText||"Unknown Error",url:k||void 0});i.error(C)};let g=!1;const m=w=>{g||(i.next(u()),g=!0);let k={type:pe.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(k.total=w.total),"text"===t.responseType&&!!o.responseText&&(k.partialText=o.responseText),i.next(k)},b=w=>{let k={type:pe.UploadProgress,loaded:w.loaded};w.lengthComputable&&(k.total=w.total),i.next(k)};return o.addEventListener("load",d),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),t.reportProgress&&(o.addEventListener("progress",m),null!==a&&o.upload&&o.upload.addEventListener("progress",b)),o.send(a),i.next({type:pe.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",d),o.removeEventListener("timeout",p),t.reportProgress&&(o.removeEventListener("progress",m),null!==a&&o.upload&&o.upload.removeEventListener("progress",b)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(oe.LFG(Ai.JF))},n.\u0275prov=oe.Yz7({token:n,factory:n.\u0275fac}),n})();const kh=new oe.OlP("XSRF_COOKIE_NAME"),Ah=new oe.OlP("XSRF_HEADER_NAME");class Xg{}let VC=(()=>{class n{constructor(t,i,o){this.doc=t,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Ai.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(oe.LFG(Ai.K0),oe.LFG(oe.Lbi),oe.LFG(kh))},n.\u0275prov=oe.Yz7({token:n,factory:n.\u0275fac}),n})(),ui=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return i.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(oe.LFG(Xg),oe.LFG(Ah))},n.\u0275prov=oe.Yz7({token:n,factory:n.\u0275fac}),n})(),fo=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(ms,[]);this.chain=i.reduceRight((o,a)=>new Au(o,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(oe.LFG(dt),oe.LFG(oe.zs3))},n.\u0275prov=oe.Yz7({token:n,factory:n.\u0275fac}),n})(),HC=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:ui,useClass:Ob}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:kh,useValue:t.cookieName}:[],t.headerName?{provide:Ah,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=oe.oAB({type:n}),n.\u0275inj=oe.cJS({providers:[ui,{provide:ms,useExisting:ui,multi:!0},{provide:Xg,useClass:VC},{provide:kh,useValue:"XSRF-TOKEN"},{provide:Ah,useValue:"X-XSRF-TOKEN"}]}),n})(),xu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=oe.oAB({type:n}),n.\u0275inj=oe.cJS({providers:[Aa,{provide:ot,useClass:fo},ae,{provide:dt,useExisting:ae}],imports:[[HC.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var jC=Hn(90),Hb=Hn(726),je=Hn.n(Hb);Hn(465);class Qg extends je().Command{constructor(e){super(e)}execute(e){this.editor.model.change(t=>{this.editor.model.insertContent(t.createElement("echarts",e))})}refresh(){const e=this.editor.model,i=e.schema.findAllowedParent(e.document.selection.getFirstPosition(),"echarts");this.isEnabled=null!==i}}class Ci extends je().Plugin{static get requires(){return[je().Widget]}init(){this._defineSchema(),this._defineConverters(),this.editor.commands.add("insertChart",new Qg(this.editor))}_defineSchema(){this.editor.model.schema.register("echarts",{isObject:!0,allowWhere:"$block",allowAttributes:["id","width","height"]})}_defineConverters(){const e=this.editor,t=e.conversion,i=e.config.get("handleList").chartRenderer;t.for("upcast").elementToElement({view:{name:"section",classes:"chart"},model:(o,{writer:a})=>a.createElement("echarts",{id:o.getAttribute("data-id")})}),t.for("dataDowncast").elementToElement({model:"echarts",view:(o,{writer:a})=>a.createEmptyElement("section",{class:"chart","data-id":o.getAttribute("id"),width:o.getAttribute("width"),height:o.getAttribute("height")})}),t.for("editingDowncast").elementToElement({model:"echarts",view:(o,{writer:a})=>{const l=o.getAttribute("id"),u=o.getAttribute("width"),d=o.getAttribute("height"),p=a.createContainerElement("section",{class:"chart","data-id":l});a.setCustomProperty("isChart",!0,p);const g=a.createRawElement("div",{class:"chart-wrapper",style:`width: ${u}; height: ${d}`},function(m){i(l,m)});return a.insert(a.createPositionAt(p,0),g),je().toWidget(p,a,{label:"chart preview widget"})}})}}class UC extends je().Plugin{init(){const e=this.editor;e.ui.componentFactory.add("chart",()=>{const t=e.commands.get("insertChart"),i=new(je().ButtonView);return i.label="\u63d2\u5165\u56fe\u8868",i.tooltip=!0,i.withText=!0,i.bind("isOn","isEnabled").to(t,"value","isEnabled"),i.on("execute",()=>{e.execute("insertChart",{id:"test",width:"100%",height:"300px"})}),i})}}class jb extends je().Command{constructor(e){super(e)}execute(e){const t=this.editor.model,i=t.document.selection.getSelectedElement();t.change(o=>{e.width&&o.setAttribute("width",e.width,i),e.height&&o.setAttribute("height",e.height,i)}),this.refresh()}refresh(){const e=this.editor.model,i=e.schema.findAllowedParent(e.document.selection.getFirstPosition(),"echarts");this.isEnabled=null!==i}}class Gb extends je().Plugin{init(){const e=this.editor,t=["width","height"];for(let i in t){let o=this._modelToViewConverter(t[i]);e.editing.downcastDispatcher.on(`attribute:${t[i]}:echarts`,o),e.data.downcastDispatcher.on(`attribute:${t[i]}:echarts`,o)}e.commands.add("chartResize",new jb(e))}_modelToViewConverter(e){return(t,i,o)=>{if(!o.consumable.consume(i.item,t.name))return;const a=o.writer,l=o.mapper.toViewElement(i.item),u=[...l.getChildren()].find(p=>p.hasClass("chart-wrapper")),d=this.editor.config.get("handleList").chartResize;if(null!==i.attributeNewValue){const p=-1===i.attributeNewValue.indexOf("%")&&-1===i.attributeNewValue.indexOf("px")?"px":"";a.setStyle(e,i.attributeNewValue+p,l),d("test",e,i.attributeNewValue+p,u)}else a.removeStyle(e,l)}}}class WC extends je().Plugin{init(){this._createInput({name:"width",label:"Width"}),this._createInput({name:"height",label:"Height"})}_createInput(e){const t=this.editor;t.ui.componentFactory.add(`ChartResize:${e.name}`,o=>{t.commands.get("chartResize");const l=new(je().InputTextView)(o);l.set({placeholder:e.name}),l.extendTemplate({attributes:{class:["resize"]}});const d=this._handleDebounce(1e3,()=>{if(this._validateInput(l,e.name),l.hasError)return l;t.execute("chartResize",{[e.name]:l.element.value})});return l.on("input",()=>{d()}),l})}_validateInput(e,t){e.set("errorText",null),e.set("hasError",!1);const i=e.element.value.replace("%","").replace("px","");return isNaN(i)&&(e.set("errorText","Input must be numeric"),e.set("hasError",!0)),i<10&&(e.set("errorText",`Minimum ${t.name} size must be more than 10px`),e.set("hasError",!0)),e}_handleDebounce(e,t){let i=null;return()=>{i&&clearTimeout(i),i=setTimeout(()=>{t()},e)}}}class YC extends je().Plugin{static get requires(){return[je().WidgetToolbarRepository,jb,Gb,WC]}static get pluginName(){return"ChartResize"}afterInit(){this.editor.plugins.get(je().WidgetToolbarRepository).register("ChartResize",{items:["ChartResize:width","ChartResize:height"],getRelatedElement:Or})}}function Or(n){const e=n.getSelectedElement();return e&&function(n){return!!n&&n.getCustomProperty("isChart")&&je().isWidget(n)}(e)?e:null}class Su extends je().Plugin{static get requires(){return[Ci,UC,YC]}}class Ch extends je().Plugin{init(){this._defineSchema(),this._defineConverters()}_defineSchema(){this.editor.model.schema.extend("$text",{allowAttributes:["placeholder"]})}_defineConverters(){this.editor.conversion.for("downcast").attributeToElement({model:"placeholder",view:(t,{writer:i})=>i.createAttributeElement("span",{style:"color: red;"})})}}class ZC extends je().Plugin{init(){const e=this.editor;e.ui.componentFactory.add("placeholder",()=>{const t=new(je().ButtonView);return t.label="\u63d2\u5165\u53d8\u91cf",t.tooltip=!0,t.withText=!0,t.on("execute",()=>{e.model.change(o=>{e.model.insertContent(o.createText(" {{text}} ",{placeholder:""}))})}),t})}}class $C extends je().Plugin{static get requires(){return[Ch,ZC]}}class KC extends je().Plugin{init(){const e=this.editor;e.ui.componentFactory.add("save",t=>{const i=new(je().ButtonView)(t);return i.label="\u4fdd\u5b58",i.tooltip=!0,i.withText=!0,i.on("execute",()=>{const o=e.config.get("handleList").handleSave;"function"==typeof o&&o(e.data.get())}),i})}}class XC{constructor(e){this.loader=e}upload(){return this.loader.file.then(e=>new Promise((t,i)=>{this._initRequest(),this._initListeners(t,i,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST","/upload",!0),e.responseType="json"}_initListeners(e,t,i){const o=this.xhr,a=this.loader,l=`Couldn't upload file: ${i.name}.`;o.addEventListener("error",()=>t(l)),o.addEventListener("abort",()=>t()),o.addEventListener("load",()=>{const u=o.response;if(!u||u.error)return t(u&&u.error?u.error.message:l);e({default:u.url})}),o.upload&&o.upload.addEventListener("progress",u=>{u.lengthComputable&&(a.uploadTotal=u.total,a.uploaded=u.loaded)})}_sendRequest(e){const t=new FormData;t.append("file",e),this.xhr.send(t)}}function QC(n){n.plugins.get("FileRepository").createUploadAdapter=e=>new XC(e)}var Ca=function(n,e){return(Ca=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])})(n,e)};function tt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}Ca(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var ex=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},ys=new function(){this.browser=new ex,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(ys.wxa=!0,ys.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?ys.worker=!0:"undefined"==typeof navigator?(ys.node=!0,ys.svgSupported=!0):function(n,e){var t=e.browser,i=n.match(/Firefox\/([\d.]+)/),o=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),a=n.match(/Edge?\/([\d.]+)/),l=/micromessenger/i.test(n);i&&(t.firefox=!0,t.version=i[1]),o&&(t.ie=!0,t.version=o[1]),a&&(t.edge=!0,t.version=a[1],t.newEdge=+a[1].split(".")[0]>18),l&&(t.weChat=!0),e.svgSupported="undefined"!=typeof SVGRect,e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported="undefined"!=typeof document;var u=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in u||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in u)&&!("OTransition"in u),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}(navigator.userAgent,ys);const de=ys;var n,e,qb="sans-serif",Sa="12px "+qb,sx=function(n){var e={};if("undefined"==typeof JSON)return e;for(var t=0;t<n.length;t++){var i=String.fromCharCode(t+32),o=(n.charCodeAt(t)-20)/100;e[i]=o}return e}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),ur={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(t,i){if(!n){var o=ur.createCanvas();n=o&&o.getContext("2d")}if(n)return e!==i&&(e=n.font=i||Sa),n.measureText(t);t=t||"";var a=/(\d+)px/.exec(i=i||Sa),l=a&&+a[1]||12,u=0;if(i.indexOf("mono")>=0)u=l*t.length;else for(var d=0;d<t.length;d++){var p=sx[t[d]];u+=null==p?l:p*l}return{width:u}},loadImage:function(n,e,t){var i=new Image;return i.onload=e,i.onerror=t,i.src=n,i}},Zb=xi(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,e){return n["[object "+e+"]"]=!0,n},{}),bs=xi(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,e){return n["[object "+e+"Array]"]=!0,n},{}),po=Object.prototype.toString,Ih=Array.prototype,Eh=Ih.forEach,tv=Ih.filter,ev=Ih.slice,nv=Ih.map,ws=function(){}.constructor,Lh=ws?ws.prototype:null,Ph="__proto__",$b=2311;function Kb(){return $b++}function rv(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];"undefined"!=typeof console&&console.error.apply(console,n)}function Lt(n){if(null==n||"object"!=typeof n)return n;var e=n,t=po.call(n);if("[object Array]"===t){if(!Fl(n)){e=[];for(var i=0,o=n.length;i<o;i++)e[i]=Lt(n[i])}}else if(bs[t]){if(!Fl(n)){var a=n.constructor;if(a.from)e=a.from(n);else for(e=new a(n.length),i=0,o=n.length;i<o;i++)e[i]=n[i]}}else if(!Zb[t]&&!Fl(n)&&!_s(n))for(var l in e={},n)n.hasOwnProperty(l)&&l!==Ph&&(e[l]=Lt(n[l]));return e}function Pt(n,e,t){if(!Rt(e)||!Rt(n))return t?Lt(e):n;for(var i in e)if(e.hasOwnProperty(i)&&i!==Ph){var o=n[i],a=e[i];!Rt(a)||!Rt(o)||pt(a)||pt(o)||_s(a)||_s(o)||Xb(a)||Xb(o)||Fl(a)||Fl(o)?(t||!(i in n))&&(n[i]=Lt(e[i])):Pt(o,a,t)}return n}function iv(n,e){for(var t=n[0],i=1,o=n.length;i<o;i++)t=Pt(t,n[i],e);return t}function st(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==Ph&&(n[t]=e[t]);return n}function Et(n,e,t){for(var i=le(e),o=0;o<i.length;o++){var a=i[o];(t?null!=e[a]:null==n[a])&&(n[a]=e[a])}return n}function qt(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,i=n.length;t<i;t++)if(n[t]===e)return t}return-1}function fn(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(e),o=0;o<i.length;o++){var a=i[o];"constructor"!==a&&(t?null!=e[a]:null==n[a])&&(n[a]=e[a])}else Et(n,e,t)}function tr(n){return!(!n||"string"==typeof n)&&"number"==typeof n.length}function V(n,e,t){if(n&&e)if(n.forEach&&n.forEach===Eh)n.forEach(e,t);else if(n.length===+n.length)for(var i=0,o=n.length;i<o;i++)e.call(t,n[i],i,n);else for(var a in n)n.hasOwnProperty(a)&&e.call(t,n[a],a,n)}function gt(n,e,t){if(!n)return[];if(!e)return Nh(n);if(n.map&&n.map===nv)return n.map(e,t);for(var i=[],o=0,a=n.length;o<a;o++)i.push(e.call(t,n[o],o,n));return i}function xi(n,e,t,i){if(n&&e){for(var o=0,a=n.length;o<a;o++)t=e.call(i,t,n[o],o,n);return t}}function Le(n,e,t){if(!n)return[];if(!e)return Nh(n);if(n.filter&&n.filter===tv)return n.filter(e,t);for(var i=[],o=0,a=n.length;o<a;o++)e.call(t,n[o],o,n)&&i.push(n[o]);return i}function le(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}var Ct=Lh&&Mt(Lh.bind)?Lh.call.bind(Lh.bind):function(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return function(){return n.apply(e,t.concat(ev.call(arguments)))}};function Gt(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(ev.call(arguments)))}}function pt(n){return Array.isArray?Array.isArray(n):"[object Array]"===po.call(n)}function Mt(n){return"function"==typeof n}function At(n){return"string"==typeof n}function Mu(n){return"[object String]"===po.call(n)}function _e(n){return"number"==typeof n}function Rt(n){var e=typeof n;return"function"===e||!!n&&"object"===e}function Xb(n){return!!Zb[po.call(n)]}function dr(n){return!!bs[po.call(n)]}function _s(n){return"object"==typeof n&&"number"==typeof n.nodeType&&"object"==typeof n.ownerDocument}function Rh(n){return null!=n.colorStops}function Iu(n){return n!=n}function pn(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,i=n.length;t<i;t++)if(null!=n[t])return n[t]}function Kt(n,e){return n??e}function go(n,e,t){return n??e??t}function Nh(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return ev.apply(n,e)}function Bh(n){if("number"==typeof n)return[n,n,n,n];var e=n.length;return 2===e?[n[0],n[1],n[0],n[1]]:3===e?[n[0],n[1],n[2],n[1]]:n}function hr(n,e){if(!n)throw new Error(e)}function Si(n){return null==n?null:"function"==typeof n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var ov="__ec_primitive__";function zh(n){n[ov]=!0}function Fl(n){return n[ov]}var hx=function(){function n(){this.data={}}return n.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.keys=function(){return le(this.data)},n.prototype.forEach=function(e){var t=this.data;for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},n}(),av="function"==typeof Map,fx=function(){function n(e){var t=pt(e);this.data=av?new Map:new hx;var i=this;function o(a,l){t?i.set(a,l):i.set(l,a)}e instanceof n?e.each(o):e&&V(e,o)}return n.prototype.hasKey=function(e){return this.data.has(e)},n.prototype.get=function(e){return this.data.get(e)},n.prototype.set=function(e,t){return this.data.set(e,t),t},n.prototype.each=function(e,t){this.data.forEach(function(i,o){e.call(t,i,o)})},n.prototype.keys=function(){var e=this.data.keys();return av?Array.from(e):e},n.prototype.removeKey=function(e){this.data.delete(e)},n}();function Tt(n){return new fx(n)}function Eu(n,e){for(var t=new n.constructor(n.length+e.length),i=0;i<n.length;i++)t[i]=n[i];var o=n.length;for(i=0;i<e.length;i++)t[i+o]=e[i];return t}function Oh(n,e){var t;if(Object.create)t=Object.create(n);else{var i=function(){};i.prototype=n,t=new i}return e&&st(t,e),t}function lv(n){var e=n.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function xt(n,e){return n.hasOwnProperty(e)}function vn(){}var Hl=180/Math.PI;function Go(n,e){return null==n&&(n=0),null==e&&(e=0),[n,e]}function er(n,e){return n[0]=e[0],n[1]=e[1],n}function Fi(n){return[n[0],n[1]]}function Qb(n,e,t){return n[0]=e,n[1]=t,n}function cv(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function Vh(n,e,t,i){return n[0]=e[0]+t[0]*i,n[1]=e[1]+t[1]*i,n}function Ta(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function Fh(n){return Math.sqrt(function(n){return n[0]*n[0]+n[1]*n[1]}(n))}function Da(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function Gl(n,e){var t=Fh(e);return 0===t?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function uv(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var Hi=uv,ks=function(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])};function Hh(n,e,t,i){return n[0]=e[0]+i*(t[0]-e[0]),n[1]=e[1]+i*(t[1]-e[1]),n}function Yn(n,e,t){var i=e[0],o=e[1];return n[0]=t[0]*i+t[2]*o+t[4],n[1]=t[1]*i+t[3]*o+t[5],n}function Uo(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function Ma(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}var As=function(e,t){this.target=e,this.topTarget=t&&t.topTarget},gx=function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new As(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var i=e.offsetX,o=e.offsetY,a=i-this._x,l=o-this._y;this._x=i,this._y=o,t.drift(a,l,e),this.handler.dispatchToElement(new As(t,e),"drag",e.event);var u=this.handler.findHover(i,o,t).target,d=this._dropTarget;this._dropTarget=u,t!==u&&(d&&u!==d&&this.handler.dispatchToElement(new As(d,e),"dragleave",e.event),u&&u!==d&&this.handler.dispatchToElement(new As(u,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new As(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new As(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n}();const Jb=gx;var vx=function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,i,o){this._$handlers||(this._$handlers={});var a=this._$handlers;if("function"==typeof t&&(o=i,i=t,t=null),!i||!e)return this;var l=this._$eventProcessor;null!=t&&l&&l.normalizeQuery&&(t=l.normalizeQuery(t)),a[e]||(a[e]=[]);for(var u=0;u<a[e].length;u++)if(a[e][u].h===i)return this;var d={h:i,query:t,ctx:o||this,callAtLast:i.zrEventfulCallAtLast},p=a[e].length-1,g=a[e][p];return g&&g.callAtLast?a[e].splice(p,0,d):a[e].push(d),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var i=this._$handlers;if(!i)return this;if(!e)return this._$handlers={},this;if(t){if(i[e]){for(var o=[],a=0,l=i[e].length;a<l;a++)i[e][a].h!==t&&o.push(i[e][a]);i[e]=o}i[e]&&0===i[e].length&&delete i[e]}else delete i[e];return this},n.prototype.trigger=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var o=this._$handlers[e],a=this._$eventProcessor;if(o)for(var l=t.length,u=o.length,d=0;d<u;d++){var p=o[d];if(!a||!a.filter||null==p.query||a.filter(e,p.query))switch(l){case 0:p.h.call(p.ctx);break;case 1:p.h.call(p.ctx,t[0]);break;case 2:p.h.call(p.ctx,t[0],t[1]);break;default:p.h.apply(p.ctx,t)}}return a&&a.afterTrigger&&a.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var o=this._$handlers[e],a=this._$eventProcessor;if(o)for(var l=t.length,u=t[l-1],d=o.length,p=0;p<d;p++){var g=o[p];if(!a||!a.filter||null==g.query||a.filter(e,g.query))switch(l){case 0:g.h.call(u);break;case 1:g.h.call(u,t[0]);break;case 2:g.h.call(u,t[0],t[1]);break;default:g.h.apply(u,t.slice(1,l-1))}}return a&&a.afterTrigger&&a.afterTrigger(e),this},n}();const di=vx;var mx=Math.log(2);function jh(n,e,t,i,o,a){var l=i+"-"+o,u=n.length;if(a.hasOwnProperty(l))return a[l];if(1===e){var d=Math.round(Math.log((1<<u)-1&~o)/mx);return n[t][d]}for(var p=i|1<<t,g=t+1;i&1<<g;)g++;for(var m=0,b=0,w=0;b<u;b++){var k=1<<b;k&o||(m+=(w%2?-1:1)*n[t][b]*jh(n,e-1,g,p,o|k,a),w++)}return a[l]=m,m}function tw(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],i={},o=jh(t,8,0,0,0,i);if(0!==o){for(var a=[],l=0;l<8;l++)for(var u=0;u<8;u++)null==a[u]&&(a[u]=0),a[u]+=((l+u)%2?-1:1)*jh(t,7,0===l?1:0,1<<l,1<<u,i)/o*e[l];return function(d,p,g){var m=p*a[6]+g*a[7]+1;d[0]=(p*a[0]+g*a[1]+a[2])/m,d[1]=(p*a[3]+g*a[4]+a[5])/m}}}var ew="___zrEVENTSAVED",Gh=[];function Uh(n,e,t,i,o){if(e.getBoundingClientRect&&de.domSupported&&!$e(e)){var a=e[ew]||(e[ew]={}),l=function(n,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var i=["left","right"],o=["top","bottom"],a=0;a<4;a++){var l=document.createElement("div"),d=a%2,p=(a>>1)%2;l.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[d]+":0",o[p]+":0",i[1-d]+":auto",o[1-p]+":auto",""].join("!important;"),n.appendChild(l),t.push(l)}return t}(e,a),u=function(n,e,t){for(var i=t?"invTrans":"trans",o=e[i],a=e.srcCoords,l=[],u=[],d=!0,p=0;p<4;p++){var g=n[p].getBoundingClientRect(),m=2*p,b=g.left,w=g.top;l.push(b,w),d=d&&a&&b===a[m]&&w===a[m+1],u.push(n[p].offsetLeft,n[p].offsetTop)}return d&&o?o:(e.srcCoords=l,e[i]=t?tw(u,l):tw(l,u))}(l,a,o);if(u)return u(n,t,i),!0}return!1}function $e(n){return"CANVAS"===n.nodeName.toUpperCase()}var hv=/([&<>"'])/g,rw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function An(n){return null==n?"":(n+"").replace(hv,function(e,t){return rw[t]})}var iw=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Wh=[],_x=de.browser.firefox&&+de.browser.version.split(".")[0]<39;function kr(n,e,t,i){return t=t||{},i?nr(n,e,t):_x&&null!=e.layerX&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):null!=e.offsetX?(t.zrX=e.offsetX,t.zrY=e.offsetY):nr(n,e,t),t}function nr(n,e,t){if(de.domSupported&&n.getBoundingClientRect){var i=e.clientX,o=e.clientY;if($e(n)){var a=n.getBoundingClientRect();return t.zrX=i-a.left,void(t.zrY=o-a.top)}if(Uh(Wh,n,i,o))return t.zrX=Wh[0],void(t.zrY=Wh[1])}t.zrX=t.zrY=0}function Yh(n){return n||window.event}function Ge(n,e,t){if(null!=(e=Yh(e)).zrX)return e;var i=e.type;if(i&&i.indexOf("touch")>=0){var l="touchend"!==i?e.targetTouches[0]:e.changedTouches[0];l&&kr(n,l,e,t)}else{kr(n,e,e,t);var a=function(n){var e=n.wheelDelta;if(e)return e;var t=n.deltaX,i=n.deltaY;return null==t||null==i?e:3*Math.abs(0!==i?i:t)*(i>0?-1:i<0?1:t>0?-1:1)}(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var u=e.button;return null==e.which&&void 0!==u&&iw.test(e.type)&&(e.which=1&u?1:2&u?3:4&u?2:0),e}function Yt(n,e,t,i){n.addEventListener(e,t,i)}function kx(n,e,t,i){n.removeEventListener(e,t,i)}var Wo=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function pv(n){return 2===n.which||3===n.which}var Ax=function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,i){return this._doTrack(e,t,i),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,i){var o=e.touches;if(o){for(var a={points:[],touches:[],target:t,event:e},l=0,u=o.length;l<u;l++){var d=o[l],p=kr(i,d,{});a.points.push([p.zrX,p.zrY]),a.touches.push(d)}this._track.push(a)}},n.prototype._recognize=function(e){for(var t in Yo)if(Yo.hasOwnProperty(t)){var i=Yo[t](this._track,e);if(i)return i}},n}();function ow(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}var Yo={pinch:function(n,e){var t=n.length;if(t){var i=(n[t-1]||{}).points,o=(n[t-2]||{}).points||i;if(o&&o.length>1&&i&&i.length>1){var a=ow(i)/ow(o);!isFinite(a)&&(a=1),e.pinchScale=a;var l=function(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}(i);return e.pinchX=l[0],e.pinchY=l[1],{type:"pinch",target:n[0].target,event:e}}}}};function Lu(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function qo(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Te(n,e,t){var o=e[1]*t[0]+e[3]*t[1],a=e[0]*t[2]+e[2]*t[3],l=e[1]*t[2]+e[3]*t[3],u=e[0]*t[4]+e[2]*t[5]+e[4],d=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=e[0]*t[0]+e[2]*t[1],n[1]=o,n[2]=a,n[3]=l,n[4]=u,n[5]=d,n}function jn(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function fr(n,e,t){var i=e[0],o=e[2],a=e[4],l=e[1],u=e[3],d=e[5],p=Math.sin(t),g=Math.cos(t);return n[0]=i*g+l*p,n[1]=-i*p+l*g,n[2]=o*g+u*p,n[3]=-o*p+g*u,n[4]=g*a+p*d,n[5]=g*d-p*a,n}function Ti(n,e,t){var i=t[0],o=t[1];return n[0]=e[0]*i,n[1]=e[1]*o,n[2]=e[2]*i,n[3]=e[3]*o,n[4]=e[4]*i,n[5]=e[5]*o,n}function Cs(n,e){var t=e[0],i=e[2],o=e[4],a=e[1],l=e[3],u=e[5],d=t*l-a*i;return d?(n[0]=l*(d=1/d),n[1]=-a*d,n[2]=-i*d,n[3]=t*d,n[4]=(i*u-l*o)*d,n[5]=(a*o-t*u)*d,n):null}var Zh=function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,i=this.y;return this.x=e[0]*t+e[2]*i+e[4],this.y=e[1]*t+e[3]*i+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,i){e.x=t,e.y=i},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,i){e.x=t.x+i.x,e.y=t.y+i.y},n.sub=function(e,t,i){e.x=t.x-i.x,e.y=t.y-i.y},n.scale=function(e,t,i){e.x=t.x*i,e.y=t.y*i},n.scaleAndAdd=function(e,t,i,o){e.x=t.x+i.x*o,e.y=t.y+i.y*o},n.lerp=function(e,t,i,o){var a=1-o;e.x=a*t.x+o*i.x,e.y=a*t.y+o*i.y},n}();const Zt=Zh;var $h=Math.min,Kh=Math.max,Zo=new Zt,xs=new Zt,Ss=new Zt,Ts=new Zt,Pu=new Zt,Ru=new Zt,Cx=function(){function n(e,t,i,o){i<0&&(e+=i,i=-i),o<0&&(t+=o,o=-o),this.x=e,this.y=t,this.width=i,this.height=o}return n.prototype.union=function(e){var t=$h(e.x,this.x),i=$h(e.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?Kh(e.x+e.width,this.x+this.width)-t:e.width,this.height=isFinite(this.y)&&isFinite(this.height)?Kh(e.y+e.height,this.y+this.height)-i:e.height,this.x=t,this.y=i},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,i=e.width/t.width,o=e.height/t.height,a=[1,0,0,1,0,0];return jn(a,a,[-t.x,-t.y]),Ti(a,a,[i,o]),jn(a,a,[e.x,e.y]),a},n.prototype.intersect=function(e,t){if(!e)return!1;e instanceof n||(e=n.create(e));var i=this,o=i.x,a=i.x+i.width,l=i.y,u=i.y+i.height,d=e.x,p=e.x+e.width,g=e.y,m=e.y+e.height,b=!(a<d||p<o||u<g||m<l);if(t){var w=1/0,k=0,C=Math.abs(a-d),x=Math.abs(p-o),T=Math.abs(u-g),M=Math.abs(m-l),I=Math.min(C,x),L=Math.min(T,M);a<d||p<o?I>k&&(k=I,Zt.set(Ru,C<x?-C:x,0)):I<w&&(w=I,Zt.set(Pu,C<x?C:-x,0)),u<g||m<l?L>k&&(k=L,Zt.set(Ru,0,T<M?-T:M)):I<w&&(w=I,Zt.set(Pu,0,T<M?T:-M))}return t&&Zt.copy(t,b?Pu:Ru),b},n.prototype.contain=function(e,t){var i=this;return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return 0===this.width||0===this.height},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},n.applyTransform=function(e,t,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var o=i[0],a=i[3],u=i[5];return e.x=t.x*o+i[4],e.y=t.y*a+u,e.width=t.width*o,e.height=t.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}Zo.x=Ss.x=t.x,Zo.y=Ts.y=t.y,xs.x=Ts.x=t.x+t.width,xs.y=Ss.y=t.y+t.height,Zo.transform(i),Ts.transform(i),xs.transform(i),Ss.transform(i),e.x=$h(Zo.x,xs.x,Ss.x,Ts.x),e.y=$h(Zo.y,xs.y,Ss.y,Ts.y);var d=Kh(Zo.x,xs.x,Ss.x,Ts.x),p=Kh(Zo.y,xs.y,Ss.y,Ts.y);e.width=d-e.x,e.height=p-e.y}else e!==t&&n.copy(e,t)},n}();const $t=Cx;function mv(){Wo(this.event)}var yv=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.handler=null,t}return tt(e,n),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(di),Nu=function(e,t){this.x=e,this.y=t},bv=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Xh=new $t(0,0,0,0),wv=function(n){function e(t,i,o,a,l){var u=n.call(this)||this;return u._hovered=new Nu(0,0),u.storage=t,u.painter=i,u.painterRoot=a,u._pointerSize=l,o=o||new yv,u.proxy=null,u.setHandlerProxy(o),u._draggingMgr=new Jb(u),u}return tt(e,n),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(V(bv,function(i){t.on&&t.on(i,this[i],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var i=t.zrX,o=t.zrY,a=sw(this,i,o),l=this._hovered,u=l.target;u&&!u.__zr&&(u=(l=this.findHover(l.x,l.y)).target);var d=this._hovered=a?new Nu(i,o):this.findHover(i,o),p=d.target,g=this.proxy;g.setCursor&&g.setCursor(p?p.cursor:"default"),u&&p!==u&&this.dispatchToElement(l,"mouseout",t),this.dispatchToElement(d,"mousemove",t),p&&p!==u&&this.dispatchToElement(d,"mouseover",t)},e.prototype.mouseout=function(t){var i=t.zrEventControl;"only_globalout"!==i&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==i&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new Nu(0,0)},e.prototype.dispatch=function(t,i){var o=this[t];o&&o.call(this,i)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var i=this.proxy;i.setCursor&&i.setCursor(t)},e.prototype.dispatchToElement=function(t,i,o){var a=(t=t||{}).target;if(!a||!a.silent){for(var l="on"+i,u=function(n,e,t){return{type:n,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:mv}}(i,t,o);a&&(a[l]&&(u.cancelBubble=!!a[l].call(a,u)),a.trigger(i,u),a=a.__hostTarget?a.__hostTarget:a.parent,!u.cancelBubble););u.cancelBubble||(this.trigger(i,u),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(d){"function"==typeof d[l]&&d[l].call(d,u),d.trigger&&d.trigger(i,u)}))}},e.prototype.findHover=function(t,i,o){var a=this.storage.getDisplayList(),l=new Nu(t,i);if(aw(a,l,t,i,o),this._pointerSize&&!l.target){for(var u=[],d=this._pointerSize,p=d/2,g=new $t(t-p,i-p,d,d),m=a.length-1;m>=0;m--){var b=a[m];b!==o&&!b.ignore&&!b.ignoreCoarsePointer&&(!b.parent||!b.parent.ignoreCoarsePointer)&&(Xh.copy(b.getBoundingRect()),b.transform&&Xh.applyTransform(b.transform),Xh.intersect(g)&&u.push(b))}if(u.length)for(var k=Math.PI/12,C=2*Math.PI,x=0;x<p;x+=4)for(var T=0;T<C;T+=k)if(aw(u,l,t+x*Math.cos(T),i+x*Math.sin(T),o),l.target)return l}return l},e.prototype.processGesture=function(t,i){this._gestureMgr||(this._gestureMgr=new Ax);var o=this._gestureMgr;"start"===i&&o.clear();var a=o.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===i&&o.clear(),a){var l=a.type;t.gestureEvent=l;var u=new Nu;u.target=a.target,this.dispatchToElement(u,l,a.event)}},e}(di);function Sx(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var i=n,o=void 0,a=!1;i;){if(i.ignoreClip&&(a=!0),!a){var l=i.getClipPath();if(l&&!l.contain(e,t))return!1;i.silent&&(o=!0)}i=i.__hostTarget||i.parent}return!o||"silent"}return!1}function aw(n,e,t,i,o){for(var a=n.length-1;a>=0;a--){var l=n[a],u=void 0;if(l!==o&&!l.ignore&&(u=Sx(l,t,i))&&(!e.topTarget&&(e.topTarget=l),"silent"!==u)){e.target=l;break}}}function sw(n,e,t){var i=n.painter;return e<0||e>i.getWidth()||t<0||t>i.getHeight()}V(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){wv.prototype[n]=function(e){var a,l,t=e.zrX,i=e.zrY,o=sw(this,t,i);if(("mouseup"!==n||!o)&&(l=(a=this.findHover(t,i)).target),"mousedown"===n)this._downEl=l,this._downPoint=[e.zrX,e.zrY],this._upEl=l;else if("mouseup"===n)this._upEl=l;else if("click"===n){if(this._downEl!==this._upEl||!this._downPoint||Hi(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,n,e)}});const Qh=wv;function cw(n,e,t,i){var o=e+1;if(o===t)return 1;if(i(n[o++],n[e])<0){for(;o<t&&i(n[o],n[o-1])<0;)o++;!function(n,e,t){for(t--;e<t;){var i=n[e];n[e++]=n[t],n[t--]=i}}(n,e,o)}else for(;o<t&&i(n[o],n[o-1])>=0;)o++;return o-e}function uw(n,e,t,i,o){for(i===e&&i++;i<t;i++){for(var d,a=n[i],l=e,u=i;l<u;)o(a,n[d=l+u>>>1])<0?u=d:l=d+1;var p=i-l;switch(p){case 3:n[l+3]=n[l+2];case 2:n[l+2]=n[l+1];case 1:n[l+1]=n[l];break;default:for(;p>0;)n[l+p]=n[l+p-1],p--}n[l]=a}}function $o(n,e,t,i,o,a){var l=0,u=0,d=1;if(a(n,e[t+o])>0){for(u=i-o;d<u&&a(n,e[t+o+d])>0;)l=d,(d=1+(d<<1))<=0&&(d=u);d>u&&(d=u),l+=o,d+=o}else{for(u=o+1;d<u&&a(n,e[t+o-d])<=0;)l=d,(d=1+(d<<1))<=0&&(d=u);d>u&&(d=u);var p=l;l=o-d,d=o-p}for(l++;l<d;){var g=l+(d-l>>>1);a(n,e[t+g])>0?l=g+1:d=g}return d}function kv(n,e,t,i,o,a){var l=0,u=0,d=1;if(a(n,e[t+o])<0){for(u=o+1;d<u&&a(n,e[t+o-d])<0;)l=d,(d=1+(d<<1))<=0&&(d=u);d>u&&(d=u);var p=l;l=o-d,d=o-p}else{for(u=i-o;d<u&&a(n,e[t+o+d])>=0;)l=d,(d=1+(d<<1))<=0&&(d=u);d>u&&(d=u),l+=o,d+=o}for(l++;l<d;){var g=l+(d-l>>>1);a(n,e[t+g])<0?d=g:l=g+1}return d}function tf(n,e,t,i){t||(t=0),i||(i=n.length);var o=i-t;if(!(o<2)){var a=0;if(o<32)return void uw(n,t,i,t+(a=cw(n,t,i,e)),e);var l=function(n,e){var l,u,t=7,d=0,p=[];function w(x){var T=l[x],M=u[x],I=l[x+1],L=u[x+1];u[x]=M+L,x===d-3&&(l[x+1]=l[x+2],u[x+1]=u[x+2]),d--;var N=kv(n[I],n,T,M,0,e);T+=N,0!=(M-=N)&&0!==(L=$o(n[T+M-1],n,I,L,L-1,e))&&(M<=L?function(x,T,M,I){var L=0;for(L=0;L<T;L++)p[L]=n[x+L];var N=0,R=M,B=x;if(n[B++]=n[R++],0!=--I)if(1!==T){for(var F,H,j,O=t;;){F=0,H=0,j=!1;do{if(e(n[R],p[N])<0){if(n[B++]=n[R++],H++,F=0,0==--I){j=!0;break}}else if(n[B++]=p[N++],F++,H=0,1==--T){j=!0;break}}while((F|H)<O);if(j)break;do{if(0!==(F=kv(n[R],p,N,T,0,e))){for(L=0;L<F;L++)n[B+L]=p[N+L];if(B+=F,N+=F,(T-=F)<=1){j=!0;break}}if(n[B++]=n[R++],0==--I){j=!0;break}if(0!==(H=$o(p[N],n,R,I,0,e))){for(L=0;L<H;L++)n[B+L]=n[R+L];if(B+=H,R+=H,0==(I-=H)){j=!0;break}}if(n[B++]=p[N++],1==--T){j=!0;break}O--}while(F>=7||H>=7);if(j)break;O<0&&(O=0),O+=2}if((t=O)<1&&(t=1),1===T){for(L=0;L<I;L++)n[B+L]=n[R+L];n[B+I]=p[N]}else{if(0===T)throw new Error;for(L=0;L<T;L++)n[B+L]=p[N+L]}}else{for(L=0;L<I;L++)n[B+L]=n[R+L];n[B+I]=p[N]}else for(L=0;L<T;L++)n[B+L]=p[N+L]}(T,M,I,L):function(x,T,M,I){var L=0;for(L=0;L<I;L++)p[L]=n[M+L];var N=x+T-1,R=I-1,B=M+I-1,O=0,F=0;if(n[B--]=n[N--],0!=--T)if(1!==I){for(var H=t;;){var j=0,q=0,Z=!1;do{if(e(p[R],n[N])<0){if(n[B--]=n[N--],j++,q=0,0==--T){Z=!0;break}}else if(n[B--]=p[R--],q++,j=0,1==--I){Z=!0;break}}while((j|q)<H);if(Z)break;do{if(0!=(j=T-kv(p[R],n,x,T,T-1,e))){for(T-=j,F=1+(B-=j),O=1+(N-=j),L=j-1;L>=0;L--)n[F+L]=n[O+L];if(0===T){Z=!0;break}}if(n[B--]=p[R--],1==--I){Z=!0;break}if(0!=(q=I-$o(n[N],p,0,I,I-1,e))){for(I-=q,F=1+(B-=q),O=1+(R-=q),L=0;L<q;L++)n[F+L]=p[O+L];if(I<=1){Z=!0;break}}if(n[B--]=n[N--],0==--T){Z=!0;break}H--}while(j>=7||q>=7);if(Z)break;H<0&&(H=0),H+=2}if((t=H)<1&&(t=1),1===I){for(F=1+(B-=T),O=1+(N-=T),L=T-1;L>=0;L--)n[F+L]=n[O+L];n[B]=p[R]}else{if(0===I)throw new Error;for(O=B-(I-1),L=0;L<I;L++)n[O+L]=p[L]}}else{for(F=1+(B-=T),O=1+(N-=T),L=T-1;L>=0;L--)n[F+L]=n[O+L];n[B]=p[R]}else for(O=B-(I-1),L=0;L<I;L++)n[O+L]=p[L]}(T,M,I,L))}return l=[],u=[],{mergeRuns:function(){for(;d>1;){var x=d-2;if(x>=1&&u[x-1]<=u[x]+u[x+1]||x>=2&&u[x-2]<=u[x]+u[x-1])u[x-1]<u[x+1]&&x--;else if(u[x]>u[x+1])break;w(x)}},forceMergeRuns:function(){for(;d>1;){var x=d-2;x>0&&u[x-1]<u[x+1]&&x--,w(x)}},pushRun:function(x,T){l[d]=x,u[d]=T,d+=1}}}(n,e),u=function(n){for(var e=0;n>=32;)e|=1&n,n>>=1;return n+e}(o);do{if((a=cw(n,t,i,e))<u){var d=o;d>u&&(d=u),uw(n,t,t+d,t+a,e),a=d}l.pushRun(t,a),l.mergeRuns(),o-=a,t+=a}while(0!==o);l.forceMergeRuns()}}var Dx=!1;function Av(){Dx||(Dx=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function hw(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var Mx=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=hw}return n.prototype.traverse=function(e,t){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var i=this._displayList;return(e||!i.length)&&this.updateDisplayList(t),i},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,i=this._displayList,o=0,a=t.length;o<a;o++)this._updateAndAddDisplayable(t[o],null,e);i.length=this._displayListLen,tf(i,hw)},n.prototype._updateAndAddDisplayable=function(e,t,i){if(!e.ignore||i){e.beforeUpdate(),e.update(),e.afterUpdate();var o=e.getClipPath();if(e.ignoreClip)t=null;else if(o){t=t?t.slice():[];for(var a=o,l=e;a;)a.parent=l,a.updateTransform(),t.push(a),l=a,a=a.getClipPath()}if(e.childrenRef){for(var u=e.childrenRef(),d=0;d<u.length;d++){var p=u[d];e.__dirty&&(p.__dirty|=1),this._updateAndAddDisplayable(p,t,i)}e.__dirty=0}else{var g=e;t&&t.length?g.__clipPaths=t:g.__clipPaths&&g.__clipPaths.length>0&&(g.__clipPaths=[]),isNaN(g.z)&&(Av(),g.z=0),isNaN(g.z2)&&(Av(),g.z2=0),isNaN(g.zlevel)&&(Av(),g.zlevel=0),this._displayList[this._displayListLen++]=g}var m=e.getDecalElement&&e.getDecalElement();m&&this._updateAndAddDisplayable(m,t,i);var b=e.getTextGuideLine();b&&this._updateAndAddDisplayable(b,t,i);var w=e.getTextContent();w&&this._updateAndAddDisplayable(w,t,i)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array)for(var t=0,i=e.length;t<i;t++)this.delRoot(e[t]);else{var o=qt(this._roots,e);o>=0&&this._roots.splice(o,1)}},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}();const fw=Mx;var Cv;Cv=de.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};const xv=Cv;var ef={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),-t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4))},elasticOut:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4)*-.5:t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?n*n*((e+1)*n-e)*.5:.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-ef.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*ef.bounceIn(2*n):.5*ef.bounceOut(2*n-1)+.5}};const pw=ef;var nf=Math.pow,vo=Math.sqrt,Sv=vo(3),Ia=1/3,ji=Go(),Ar=Go(),Ds=Go();function Ko(n){return n>-1e-8&&n<1e-8}function Ea(n){return n>1e-8||n<-1e-8}function wt(n,e,t,i,o){var a=1-o;return a*a*(a*n+3*o*e)+o*o*(o*i+3*a*t)}function te(n,e,t,i,o){var a=1-o;return 3*(((e-n)*a+2*(t-e)*o)*a+(i-t)*o*o)}function Ms(n,e,t,i,o,a){var l=i+3*(e-t)-n,u=3*(t-2*e+n),d=3*(e-n),p=n-o,g=u*u-3*l*d,m=u*d-9*l*p,b=d*d-3*u*p,w=0;if(Ko(g)&&Ko(m))Ko(u)?a[0]=0:(k=-d/u)>=0&&k<=1&&(a[w++]=k);else{var C=m*m-4*g*b;if(Ko(C)){var x=m/g,T=-x/2;(k=-u/l+x)>=0&&k<=1&&(a[w++]=k),T>=0&&T<=1&&(a[w++]=T)}else if(C>0){var M=vo(C),I=g*u+1.5*l*(-m+M),L=g*u+1.5*l*(-m-M);(k=(-u-((I=I<0?-nf(-I,Ia):nf(I,Ia))+(L=L<0?-nf(-L,Ia):nf(L,Ia))))/(3*l))>=0&&k<=1&&(a[w++]=k)}else{var N=(2*g*u-3*l*m)/(2*vo(g*g*g)),R=Math.acos(N)/3,B=vo(g),O=Math.cos(R),k=(-u-2*B*O)/(3*l),F=(T=(-u+B*(O+Sv*Math.sin(R)))/(3*l),(-u+B*(O-Sv*Math.sin(R)))/(3*l));k>=0&&k<=1&&(a[w++]=k),T>=0&&T<=1&&(a[w++]=T),F>=0&&F<=1&&(a[w++]=F)}}return w}function rf(n,e,t,i,o){var a=6*t-12*e+6*n,l=9*e+3*i-3*n-9*t,u=3*e-3*n,d=0;if(Ko(l))Ea(a)&&(p=-u/a)>=0&&p<=1&&(o[d++]=p);else{var g=a*a-4*l*u;if(Ko(g))o[0]=-a/(2*l);else if(g>0){var p,m=vo(g),b=(-a-m)/(2*l);(p=(-a+m)/(2*l))>=0&&p<=1&&(o[d++]=p),b>=0&&b<=1&&(o[d++]=b)}}return d}function rr(n,e,t,i,o,a){var l=(e-n)*o+n,u=(t-e)*o+e,d=(i-t)*o+t,p=(u-l)*o+l,g=(d-u)*o+u,m=(g-p)*o+p;a[0]=n,a[1]=l,a[2]=p,a[3]=m,a[4]=m,a[5]=g,a[6]=d,a[7]=i}function of(n,e,t,i,o,a,l,u,d,p,g){var m,k,C,x,T,b=.005,w=1/0;ji[0]=d,ji[1]=p;for(var M=0;M<1;M+=.05)Ar[0]=wt(n,t,o,l,M),Ar[1]=wt(e,i,a,u,M),(x=ks(ji,Ar))<w&&(m=M,w=x);w=1/0;for(var I=0;I<32&&!(b<1e-4);I++)C=m+b,Ar[0]=wt(n,t,o,l,k=m-b),Ar[1]=wt(e,i,a,u,k),x=ks(Ar,ji),k>=0&&x<w?(m=k,w=x):(Ds[0]=wt(n,t,o,l,C),Ds[1]=wt(e,i,a,u,C),T=ks(Ds,ji),C<=1&&T<w?(m=C,w=T):b*=.5);return g&&(g[0]=wt(n,t,o,l,m),g[1]=wt(e,i,a,u,m)),vo(w)}function Yl(n,e,t,i,o,a,l,u,d){for(var p=n,g=e,m=0,b=1/d,w=1;w<=d;w++){var k=w*b,C=wt(n,t,o,l,k),x=wt(e,i,a,u,k),T=C-p,M=x-g;m+=Math.sqrt(T*T+M*M),p=C,g=x}return m}function Pn(n,e,t,i){var o=1-i;return o*(o*n+2*i*e)+i*i*t}function Ou(n,e,t,i){return 2*((1-i)*(e-n)+i*(t-e))}function Is(n,e,t){var i=n+t-2*e;return 0===i?.5:(n-e)/i}function ql(n,e,t,i,o){var a=(e-n)*i+n,l=(t-e)*i+e,u=(l-a)*i+a;o[0]=n,o[1]=a,o[2]=u,o[3]=u,o[4]=l,o[5]=t}function af(n,e,t,i,o,a,l,u,d){var p,g=.005,m=1/0;ji[0]=l,ji[1]=u;for(var b=0;b<1;b+=.05)Ar[0]=Pn(n,t,o,b),Ar[1]=Pn(e,i,a,b),(w=ks(ji,Ar))<m&&(p=b,m=w);m=1/0;for(var k=0;k<32&&!(g<1e-4);k++){var C=p-g,x=p+g;Ar[0]=Pn(n,t,o,C),Ar[1]=Pn(e,i,a,C);var w=ks(Ar,ji);if(C>=0&&w<m)p=C,m=w;else{Ds[0]=Pn(n,t,o,x),Ds[1]=Pn(e,i,a,x);var T=ks(Ds,ji);x<=1&&T<m?(p=x,m=T):g*=.5}}return d&&(d[0]=Pn(n,t,o,p),d[1]=Pn(e,i,a,p)),vo(m)}function sf(n,e,t,i,o,a,l){for(var u=n,d=e,p=0,g=1/l,m=1;m<=l;m++){var b=m*g,w=Pn(n,t,o,b),k=Pn(e,i,a,b),C=w-u,x=k-d;p+=Math.sqrt(C*C+x*x),u=w,d=k}return p}var Es=/cubic-bezier\(([0-9,\.e ]+)\)/;function Tv(n){var e=n&&Es.exec(n);if(e){var t=e[1].split(","),i=+Si(t[0]),o=+Si(t[1]),a=+Si(t[2]),l=+Si(t[3]);if(isNaN(i+o+a+l))return;var u=[];return function(d){return d<=0?0:d>=1?1:Ms(0,i,a,1,d,u)&&wt(0,o,l,1,u[0])}}}var Dv=function(){function n(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||vn,this.ondestroy=e.ondestroy||vn,this.onrestart=e.onrestart||vn,e.easing&&this.setEasing(e.easing)}return n.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),!this._paused){var i=this._life,o=e-this._startTime-this._pausedTime,a=o/i;a<0&&(a=0),a=Math.min(a,1);var l=this.easingFunc,u=l?l(a):a;if(this.onframe(u),1===a){if(!this.loop)return!0;this._startTime=e-o%i,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=t},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Mt(e)?e:pw[e]||Tv(e)},n}();const Mv=Dv;var gw=function(e){this.value=e},Ls=function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new gw(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,i=e.next;t?t.next=i:this.head=i,i?i.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),Ix=function(){function n(e){this._list=new Ls,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var i=this._list,o=this._map,a=null;if(null==o[e]){var l=i.len(),u=this._lastRemovedEntry;if(l>=this._maxSize&&l>0){var d=i.head;i.remove(d),delete o[d.key],a=d.value,this._lastRemovedEntry=d}u?u.value=t:u=new gw(t),u.key=e,i.insertEntry(u),o[e]=u}return a},n.prototype.get=function(e){var t=this._map[e],i=this._list;if(null!=t)return t!==i.tail&&(i.remove(t),i.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}();const me=Ix;var Iv={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Gi(n){return(n=Math.round(n))<0?0:n>255?255:n}function Ce(n){return n<0?0:n>1?1:n}function Ev(n){var e=n;return e.length&&"%"===e.charAt(e.length-1)?Gi(parseFloat(e)/100*255):Gi(parseInt(e,10))}function Di(n){var e=n;return e.length&&"%"===e.charAt(e.length-1)?Ce(parseFloat(e)/100):Ce(parseFloat(e))}function Fu(n,e,t){return t<0?t+=1:t>1&&(t-=1),6*t<1?n+(e-n)*t*6:2*t<1?e:3*t<2?n+(e-n)*(2/3-t)*6:n}function Xo(n,e,t){return n+(e-n)*t}function Fr(n,e,t,i,o){return n[0]=e,n[1]=t,n[2]=i,n[3]=o,n}function Zl(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var vw=new me(20),lf=null;function La(n,e){lf&&Zl(lf,e),lf=vw.put(n,lf||e.slice())}function Hr(n,e){if(n){e=e||[];var t=vw.get(n);if(t)return Zl(e,t);var i=(n+="").replace(/ /g,"").toLowerCase();if(i in Iv)return Zl(e,Iv[i]),La(n,e),e;var a,o=i.length;if("#"===i.charAt(0))return 4===o||5===o?(a=parseInt(i.slice(1,4),16))>=0&&a<=4095?(Fr(e,(3840&a)>>4|(3840&a)>>8,240&a|(240&a)>>4,15&a|(15&a)<<4,5===o?parseInt(i.slice(4),16)/15:1),La(n,e),e):void Fr(e,0,0,0,1):7===o||9===o?(a=parseInt(i.slice(1,7),16))>=0&&a<=16777215?(Fr(e,(16711680&a)>>16,(65280&a)>>8,255&a,9===o?parseInt(i.slice(7),16)/255:1),La(n,e),e):void Fr(e,0,0,0,1):void 0;var l=i.indexOf("("),u=i.indexOf(")");if(-1!==l&&u+1===o){var d=i.substr(0,l),p=i.substr(l+1,u-(l+1)).split(","),g=1;switch(d){case"rgba":if(4!==p.length)return 3===p.length?Fr(e,+p[0],+p[1],+p[2],1):Fr(e,0,0,0,1);g=Di(p.pop());case"rgb":return p.length>=3?(Fr(e,Ev(p[0]),Ev(p[1]),Ev(p[2]),3===p.length?g:Di(p[3])),La(n,e),e):void Fr(e,0,0,0,1);case"hsla":return 4!==p.length?void Fr(e,0,0,0,1):(p[3]=Di(p[3]),Qo(p,e),La(n,e),e);case"hsl":return 3!==p.length?void Fr(e,0,0,0,1):(Qo(p,e),La(n,e),e);default:return}}Fr(e,0,0,0,1)}}function Qo(n,e){var t=(parseFloat(n[0])%360+360)%360/360,i=Di(n[1]),o=Di(n[2]),a=o<=.5?o*(i+1):o+i-o*i,l=2*o-a;return Fr(e=e||[],Gi(255*Fu(l,a,t+1/3)),Gi(255*Fu(l,a,t)),Gi(255*Fu(l,a,t-1/3)),1),4===n.length&&(e[3]=n[3]),e}function Hu(n,e){var t=Hr(n);if(t){for(var i=0;i<3;i++)t[i]=e<0?t[i]*(1-e)|0:(255-t[i])*e+t[i]|0,t[i]>255?t[i]=255:t[i]<0&&(t[i]=0);return jr(t,4===t.length?"rgba":"rgb")}}function cf(n,e,t){if(e&&e.length&&n>=0&&n<=1){t=t||[];var i=n*(e.length-1),o=Math.floor(i),a=Math.ceil(i),l=e[o],u=e[a],d=i-o;return t[0]=Gi(Xo(l[0],u[0],d)),t[1]=Gi(Xo(l[1],u[1],d)),t[2]=Gi(Xo(l[2],u[2],d)),t[3]=Ce(Xo(l[3],u[3],d)),t}}function $l(n,e,t,i){var o=Hr(n);if(n)return o=function(n){if(n){var d,p,e=n[0]/255,t=n[1]/255,i=n[2]/255,o=Math.min(e,t,i),a=Math.max(e,t,i),l=a-o,u=(a+o)/2;if(0===l)d=0,p=0;else{p=u<.5?l/(a+o):l/(2-a-o);var g=((a-e)/6+l/2)/l,m=((a-t)/6+l/2)/l,b=((a-i)/6+l/2)/l;e===a?d=b-m:t===a?d=1/3+g-b:i===a&&(d=2/3+m-g),d<0&&(d+=1),d>1&&(d-=1)}var w=[360*d,p,u];return null!=n[3]&&w.push(n[3]),w}}(o),null!=e&&(o[0]=function(n){return(n=Math.round(n))<0?0:n>360?360:n}(e)),null!=t&&(o[1]=Di(t)),null!=i&&(o[2]=Di(i)),jr(Qo(o),"rgba")}function Kl(n,e){var t=Hr(n);if(t&&null!=e)return t[3]=Ce(e),jr(t,"rgba")}function jr(n,e){if(n&&n.length){var t=n[0]+","+n[1]+","+n[2];return("rgba"===e||"hsva"===e||"hsla"===e)&&(t+=","+n[3]),e+"("+t+")"}}function ju(n,e){var t=Hr(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}var Xl=Math.round;function Ql(n){var e;if(n&&"transparent"!==n){if("string"==typeof n&&n.indexOf("rgba")>-1){var t=Hr(n);t&&(n="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}}else n="none";return{color:n,opacity:e??1}}function Ui(n){return n<1e-4&&n>-1e-4}function pr(n){return Xl(1e3*n)/1e3}function Ps(n){return Xl(1e4*n)/1e4}var ww={left:"start",right:"end",center:"middle",middle:"middle"};function Pv(n){return n&&!!n.image}function mo(n){return Pv(n)||function(n){return n&&!!n.svgElement}(n)}function Aw(n){return"linear"===n.type}function Ut(n){return"radial"===n.type}function Rv(n){return n&&("linear"===n.type||"radial"===n.type)}function uf(n){return"url(#"+n+")"}function Nv(n){var e=n.getGlobalScale(),t=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function Bv(n){var e=n.x||0,t=n.y||0,i=(n.rotation||0)*Hl,o=Kt(n.scaleX,1),a=Kt(n.scaleY,1),l=n.skewX||0,u=n.skewY||0,d=[];return(e||t)&&d.push("translate("+e+"px,"+t+"px)"),i&&d.push("rotate("+i+")"),(1!==o||1!==a)&&d.push("scale("+o+","+a+")"),(l||u)&&d.push("skew("+Xl(l*Hl)+"deg, "+Xl(u*Hl)+"deg)"),d.join(" ")}var Cw=de.hasGlobalWindow&&Mt(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:"undefined"!=typeof Buffer?function(n){return Buffer.from(n).toString("base64")}:function(n){return null},df=Array.prototype.slice;function Jo(n,e,t){return(e-n)*t+n}function hf(n,e,t,i){for(var o=e.length,a=0;a<o;a++)n[a]=Jo(e[a],t[a],i);return n}function Uu(n,e,t,i){for(var o=e.length,a=0;a<o;a++)n[a]=e[a]+t[a]*i;return n}function xw(n,e,t,i){for(var o=e.length,a=o&&e[0].length,l=0;l<o;l++){n[l]||(n[l]=[]);for(var u=0;u<a;u++)n[l][u]=e[l][u]+t[l][u]*i}return n}function Nx(n,e){for(var t=n.length,i=e.length,o=t>i?e:n,a=Math.min(t,i),l=o[a-1]||{color:[0,0,0,0],offset:0},u=a;u<Math.max(t,i);u++)o.push({offset:l.offset,color:l.color.slice()})}function Bx(n,e,t){var i=n,o=e;if(i.push&&o.push){var a=i.length,l=o.length;if(a!==l)if(a>l)i.length=l;else for(var d=a;d<l;d++)i.push(1===t?o[d]:df.call(o[d]));var p=i[0]&&i[0].length;for(d=0;d<i.length;d++)if(1===t)isNaN(i[d])&&(i[d]=o[d]);else for(var g=0;g<p;g++)isNaN(i[d][g])&&(i[d][g]=o[d][g])}}function Pa(n){if(tr(n)){var e=n.length;if(tr(n[0])){for(var t=[],i=0;i<e;i++)t.push(df.call(n[i]));return t}return df.call(n)}return n}function Wu(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]??1,"rgba("+n.join(",")+")"}function Ov(n){return 4===n||5===n}function Gr(n){return 1===n||2===n}var ec=[0,0,0,0],nc=function(){function n(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t,i){this._needsSort=!0;var o=this.keyframes,a=o.length,l=!1,u=6,d=t;if(tr(t)){var p=function(n){return tr(n&&n[0])?2:1}(t);u=p,(1===p&&!_e(t[0])||2===p&&!_e(t[0][0]))&&(l=!0)}else if(_e(t)&&!Iu(t))u=0;else if(At(t))if(isNaN(+t)){var g=Hr(t);g&&(d=g,u=3)}else u=0;else if(Rh(t)){var m=st({},d);m.colorStops=gt(t.colorStops,function(w){return{offset:w.offset,color:Hr(w.color)}}),Aw(t)?u=4:Ut(t)&&(u=5),d=m}0===a?this.valType=u:(u!==this.valType||6===u)&&(l=!0),this.discrete=this.discrete||l;var b={time:e,value:d,rawValue:t,percent:0};return i&&(b.easing=i,b.easingFunc=Mt(i)?i:pw[i]||Tv(i)),o.push(b),b},n.prototype.prepare=function(e,t){var i=this.keyframes;this._needsSort&&i.sort(function(C,x){return C.time-x.time});for(var o=this.valType,a=i.length,l=i[a-1],u=this.discrete,d=Gr(o),p=Ov(o),g=0;g<a;g++){var m=i[g],b=m.value,w=l.value;m.percent=m.time/e,u||(d&&g!==a-1?Bx(b,w,o):p&&Nx(b.colorStops,w.colorStops))}if(!u&&5!==o&&t&&this.needsAnimate()&&t.needsAnimate()&&o===t.valType&&!t._finished){this._additiveTrack=t;var k=i[0].value;for(g=0;g<a;g++)0===o?i[g].additiveValue=i[g].value-k:3===o?i[g].additiveValue=Uu([],i[g].value,k,-1):Gr(o)&&(i[g].additiveValue=1===o?Uu([],i[g].value,k,-1):xw([],i[g].value,k,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var g,w,k,i=null!=this._additiveTrack,o=i?"additiveValue":"value",a=this.valType,l=this.keyframes,u=l.length,d=this.propName,p=3===a,m=this._lastFr,b=Math.min;if(1===u)w=k=l[0];else{if(t<0)g=0;else if(t<this._lastFrP){for(g=b(m+1,u-1);g>=0&&!(l[g].percent<=t);g--);g=b(g,u-2)}else{for(g=m;g<u&&!(l[g].percent>t);g++);g=b(g-1,u-2)}k=l[g+1],w=l[g]}if(w&&k){this._lastFr=g,this._lastFrP=t;var x=k.percent-w.percent,T=0===x?1:b((t-w.percent)/x,1);k.easingFunc&&(T=k.easingFunc(T));var M=i?this._additiveValue:p?ec:e[d];if((Gr(a)||p)&&!M&&(M=this._additiveValue=[]),this.discrete)e[d]=T<1?w.rawValue:k.rawValue;else if(Gr(a))1===a?hf(M,w[o],k[o],T):function(n,e,t,i){for(var o=e.length,a=o&&e[0].length,l=0;l<o;l++){n[l]||(n[l]=[]);for(var u=0;u<a;u++)n[l][u]=Jo(e[l][u],t[l][u],i)}}(M,w[o],k[o],T);else if(Ov(a)){var I=w[o],L=k[o],N=4===a;e[d]={type:N?"linear":"radial",x:Jo(I.x,L.x,T),y:Jo(I.y,L.y,T),colorStops:gt(I.colorStops,function(B,O){var F=L.colorStops[O];return{offset:Jo(B.offset,F.offset,T),color:Wu(hf([],B.color,F.color,T))}}),global:L.global},N?(e[d].x2=Jo(I.x2,L.x2,T),e[d].y2=Jo(I.y2,L.y2,T)):e[d].r=Jo(I.r,L.r,T)}else if(p)hf(M,w[o],k[o],T),i||(e[d]=Wu(M));else{var R=Jo(w[o],k[o],T);i?this._additiveValue=R:e[d]=R}i&&this._addToTarget(e)}}},n.prototype._addToTarget=function(e){var t=this.valType,i=this.propName,o=this._additiveValue;0===t?e[i]=e[i]+o:3===t?(Hr(e[i],ec),Uu(ec,ec,o,1),e[i]=Wu(ec)):1===t?Uu(e[i],e[i],o,1):2===t&&xw(e[i],e[i],o,1)},n}(),Na=function(){function n(e,t,i,o){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&o?rv("Can' use additive animation on looped animation."):(this._additiveAnimators=o,this._allowDiscrete=i)}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t,i){return this.whenWithKeys(e,t,le(t),i)},n.prototype.whenWithKeys=function(e,t,i,o){for(var a=this._tracks,l=0;l<i.length;l++){var u=i[l],d=a[u];if(!d){d=a[u]=new nc(u);var p=void 0,g=this._getAdditiveTrack(u);if(g){var m=g.keyframes,b=m[m.length-1];p=b&&b.value,3===g.valType&&p&&(p=Wu(p))}else p=this._target[u];if(null==p)continue;e>0&&d.addKeyframe(0,Pa(p),o),this._trackKeys.push(u)}d.addKeyframe(e,Pa(t[u]),o)}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,i=0;i<t;i++)e[i].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var i=0;i<t.length;i++)t[i].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,i=0;i<t.length;i++)e[t[i]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,i=this._additiveAnimators;if(i)for(var o=0;o<i.length;o++){var a=i[o].getTrack(e);a&&(t=a)}return t},n.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,i=[],o=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var l=this._trackKeys[a],u=this._tracks[l],d=this._getAdditiveTrack(l),p=u.keyframes,g=p.length;if(u.prepare(o,d),u.needsAnimate())if(!this._allowDiscrete&&u.discrete){var m=p[g-1];m&&(t._target[u.propName]=m.rawValue),u.setFinished()}else i.push(u)}if(i.length||this._force){var b=new Mv({life:o,loop:this._loop,delay:this._delay||0,onframe:function(w){t._started=2;var k=t._additiveAnimators;if(k){for(var C=!1,x=0;x<k.length;x++)if(k[x]._clip){C=!0;break}C||(t._additiveAnimators=null)}for(x=0;x<i.length;x++)i[x].step(t._target,w);var T=t._onframeCbs;if(T)for(x=0;x<T.length;x++)T[x](t._target,w)},ondestroy:function(){t._doneCallback()}});this._clip=b,this.animation&&this.animation.addClip(b),e&&b.setEasing(e)}else this._doneCallback();return this}},n.prototype.stop=function(e){this._clip&&(e&&this._clip.onframe(1),this._abortedCallback())},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.getTracks=function(){var e=this;return gt(this._trackKeys,function(t){return e._tracks[t]})},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var i=this._tracks,o=this._trackKeys,a=0;a<e.length;a++){var l=i[e[a]];l&&!l.isFinished()&&(t?l.step(this._target,1):1===this._started&&l.step(this._target,0),l.setFinished())}var u=!0;for(a=0;a<o.length;a++)if(!i[o[a]].isFinished()){u=!1;break}return u&&this._abortedCallback(),u},n.prototype.saveTo=function(e,t,i){if(e){t=t||this._trackKeys;for(var o=0;o<t.length;o++){var a=t[o],l=this._tracks[a];if(l&&!l.isFinished()){var u=l.keyframes,d=u[i?0:u.length-1];d&&(e[a]=Pa(d.rawValue))}}}},n.prototype.__changeFinalValue=function(e,t){t=t||le(e);for(var i=0;i<t.length;i++){var o=t[i],a=this._tracks[o];if(a){var l=a.keyframes;if(l.length>1){var u=l.pop();a.addKeyframe(u.time,e[o]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},n}();const Vv=Na;function Ba(){return(new Date).getTime()}var zx=function(n){function e(t){var i=n.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,i.stage=(t=t||{}).stage||{},i}return tt(e,n),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var i=t.getClip();i&&this.addClip(i)},e.prototype.removeClip=function(t){if(t.animation){var i=t.prev,o=t.next;i?i.next=o:this._head=o,o?o.prev=i:this._tail=i,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var i=t.getClip();i&&this.removeClip(i),t.animation=null},e.prototype.update=function(t){for(var i=Ba()-this._pausedTime,o=i-this._time,a=this._head;a;){var l=a.next;a.step(i,o)&&(a.ondestroy(),this.removeClip(a)),a=l}this._time=i,t||(this.trigger("frame",o),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,xv(function i(){t._running&&(xv(i),!t._paused&&t.update())})},e.prototype.start=function(){this._running||(this._time=Ba(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=Ba(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=Ba()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var i=t.next;t.prev=t.next=t.animation=null,t=i}this._head=this._tail=null},e.prototype.isFinished=function(){return null==this._head},e.prototype.animate=function(t,i){i=i||{},this.start();var o=new Vv(t,i.loop);return this.addAnimator(o),o},e}(di);const Ox=zx;var Fv=de.domSupported,Hv=function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};return{mouse:n,touch:["touchstart","touchend","touchmove"],pointer:gt(n,function(o){var a=o.replace("mouse","pointer");return t.hasOwnProperty(a)?a:o})}}(),Tw_mouse=["mousemove","mouseup"],Tw_pointer=["pointermove","pointerup"],Dw=!1;function jv(n){var e=n.pointerType;return"pen"===e||"touch"===e}function Gv(n){n&&(n.zrByTouch=!0)}function rc(n,e){for(var t=e,i=!1;t&&9!==t.nodeType&&!(i=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return i}var Hx=function(e,t){this.stopPropagation=vn,this.stopImmediatePropagation=vn,this.preventDefault=vn,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},Wi={mousedown:function(n){n=Ge(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=Ge(this.dom,n);var e=this.__mayPointerCapture;e&&(n.zrX!==e[0]||n.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=Ge(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){rc(this,(n=Ge(this.dom,n)).toElement||n.relatedTarget)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){Dw=!0,n=Ge(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){Dw||(n=Ge(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){Gv(n=Ge(this.dom,n)),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),Wi.mousemove.call(this,n),Wi.mousedown.call(this,n)},touchmove:function(n){Gv(n=Ge(this.dom,n)),this.handler.processGesture(n,"change"),Wi.mousemove.call(this,n)},touchend:function(n){Gv(n=Ge(this.dom,n)),this.handler.processGesture(n,"end"),Wi.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<300&&Wi.click.call(this,n)},pointerdown:function(n){Wi.mousedown.call(this,n)},pointermove:function(n){jv(n)||Wi.mousemove.call(this,n)},pointerup:function(n){Wi.mouseup.call(this,n)},pointerout:function(n){jv(n)||Wi.mouseout.call(this,n)}};V(["click","dblclick","contextmenu"],function(n){Wi[n]=function(e){e=Ge(this.dom,e),this.trigger(n,e)}});var Uv={pointermove:function(n){jv(n)||Uv.mousemove.call(this,n)},pointerup:function(n){Uv.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function gf(n,e,t,i){n.mounted[e]=t,n.listenerOpts[e]=i,Yt(n.domTarget,e,t,i)}function Wv(n){var e=n.mounted;for(var t in e)e.hasOwnProperty(t)&&kx(n.domTarget,t,e[t],n.listenerOpts[t]);n.mounted={}}var Yv=function(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t},Gx=function(n){function e(t,i){var o=n.call(this)||this;return o.__pointerCapturing=!1,o.dom=t,o.painterRoot=i,o._localHandlerScope=new Yv(t,Wi),Fv&&(o._globalHandlerScope=new Yv(document,Uv)),function(n,e){var t=e.domHandlers;de.pointerEventsSupported?V(Hv.pointer,function(i){gf(e,i,function(o){t[i].call(n,o)})}):(de.touchEventsSupported&&V(Hv.touch,function(i){gf(e,i,function(o){t[i].call(n,o),function(n){n.touching=!0,null!=n.touchTimer&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}(e)})}),V(Hv.mouse,function(i){gf(e,i,function(o){o=Yh(o),e.touching||t[i].call(n,o)})}))}(o,o._localHandlerScope),o}return tt(e,n),e.prototype.dispose=function(){Wv(this._localHandlerScope),Fv&&Wv(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,Fv&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var i=this._globalHandlerScope;t?function(n,e){function t(i){gf(e,i,function(a){a=Yh(a),rc(n,a.target)||(a=function(n,e){return Ge(n.dom,new Hx(n,e),!0)}(n,a),e.domHandlers[i].call(n,a))},{capture:!0})}de.pointerEventsSupported?V(Tw_pointer,t):de.touchEventsSupported||V(Tw_mouse,t)}(this,i):Wv(i)}},e}(di);const Ux=Gx;var qv=1;de.hasGlobalWindow&&(qv=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var vf=qv,$v="#333",mf="#ccc",$u=Lu;function Ns(n){return n>5e-5||n<-5e-5}var za=[],ic=[],yf=[1,0,0,1,0,0],Xv=Math.abs,Wx=function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return Ns(this.rotation)||Ns(this.x)||Ns(this.y)||Ns(this.scaleX-1)||Ns(this.scaleY-1)||Ns(this.skewX)||Ns(this.skewY)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),i=this.transform;t||e?(i=i||[1,0,0,1,0,0],t?this.getLocalTransform(i):$u(i),e&&(t?Te(i,e,i):qo(i,e)),this.transform=i,this._resolveGlobalScaleRatio(i)):i&&$u(i)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(null!=t&&1!==t){this.getGlobalScale(za);var i=za[0]<0?-1:1,o=za[1]<0?-1:1,a=((za[0]-i)*t+i)/za[0]||0,l=((za[1]-o)*t+o)/za[1]||0;e[0]*=a,e[1]*=a,e[2]*=l,e[3]*=l}this.invTransform=this.invTransform||[1,0,0,1,0,0],Cs(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],i=e[2]*e[2]+e[3]*e[3],o=Math.atan2(e[1],e[0]),a=Math.PI/2+o-Math.atan2(e[3],e[2]);i=Math.sqrt(i)*Math.cos(a),t=Math.sqrt(t),this.skewX=a,this.skewY=0,this.rotation=-o,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=i,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(Te(ic,e.invTransform,t),t=ic);var i=this.originX,o=this.originY;(i||o)&&(yf[4]=i,yf[5]=o,Te(ic,t,yf),ic[4]-=i,ic[5]-=o,t=ic),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var i=[e,t],o=this.invTransform;return o&&Yn(i,i,o),i},n.prototype.transformCoordToGlobal=function(e,t){var i=[e,t],o=this.transform;return o&&Yn(i,i,o),i},n.prototype.getLineScale=function(){var e=this.transform;return e&&Xv(e[0]-1)>1e-10&&Xv(e[3]-1)>1e-10?Math.sqrt(Xv(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){Lw(this,e)},n.getLocalTransform=function(e,t){t=t||[];var i=e.originX||0,o=e.originY||0,a=e.scaleX,l=e.scaleY,u=e.anchorX,d=e.anchorY,p=e.rotation||0,g=e.x,m=e.y,b=e.skewX?Math.tan(e.skewX):0,w=e.skewY?Math.tan(-e.skewY):0;if(i||o||u||d){var k=i+u,C=o+d;t[4]=-k*a-b*C*l,t[5]=-C*l-w*k*a}else t[4]=t[5]=0;return t[0]=a,t[3]=l,t[1]=w*a,t[2]=b*l,p&&fr(t,t,p),t[4]+=i+g,t[5]+=o+m,t},n.initDefaultProps=function(){var e=n.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),n}(),yo=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Lw(n,e){for(var t=0;t<yo.length;t++){var i=yo[t];n[i]=e[i]}}const bo=Wx;var Pw={};function qn(n,e){var t=Pw[e=e||Sa];t||(t=Pw[e]=new me(500));var i=t.get(n);return null==i&&(i=ur.measureText(n,e).width,t.put(n,i)),i}function Qv(n,e,t,i){var o=qn(n,e),a=Ku(e),l=Oa(0,o,t),u=Bs(0,a,i);return new $t(l,u,o,a)}function oc(n,e,t,i){var o=((n||"")+"").split("\n");if(1===o.length)return Qv(o[0],e,t,i);for(var l=new $t(0,0,0,0),u=0;u<o.length;u++){var d=Qv(o[u],e,t,i);0===u?l.copy(d):l.union(d)}return l}function Oa(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}function Bs(n,e,t){return"middle"===t?n-=e/2:"bottom"===t&&(n-=e),n}function Ku(n){return qn("\u56fd",n)}function Ur(n,e){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function Xu(n,e,t){var i=e.position||"inside",o=null!=e.distance?e.distance:5,a=t.height,l=t.width,u=a/2,d=t.x,p=t.y,g="left",m="top";if(i instanceof Array)d+=Ur(i[0],t.width),p+=Ur(i[1],t.height),g=null,m=null;else switch(i){case"left":d-=o,p+=u,g="right",m="middle";break;case"right":d+=o+l,p+=u,m="middle";break;case"top":d+=l/2,p-=o,g="center",m="bottom";break;case"bottom":d+=l/2,p+=a+o,g="center";break;case"inside":d+=l/2,p+=u,g="center",m="middle";break;case"insideLeft":d+=o,p+=u,m="middle";break;case"insideRight":d+=l-o,p+=u,g="right",m="middle";break;case"insideTop":d+=l/2,p+=o,g="center";break;case"insideBottom":d+=l/2,p+=a-o,g="center",m="bottom";break;case"insideTopLeft":d+=o,p+=o;break;case"insideTopRight":d+=l-o,p+=o,g="right";break;case"insideBottomLeft":d+=o,p+=a-o,m="bottom";break;case"insideBottomRight":d+=l-o,p+=a-o,g="right",m="bottom"}return(n=n||{}).x=d,n.y=p,n.align=g,n.verticalAlign=m,n}var bf="__zr_normal__",Xe=yo.concat(["ignore"]),Va=xi(yo,function(n,e){return n[e]=!0,n},{ignore:!1}),Mi={},xn=new $t(0,0,0,0),Zn=function(){function n(e){this.id=Kb(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,i){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var o=this.transform;o||(o=this.transform=[1,0,0,1,0,0]),o[4]+=e,o[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var i=this.textConfig,o=i.local,a=t.innerTransformable,l=void 0,u=void 0,d=!1;a.parent=o?this:null;var p=!1;if(a.copyTransform(t),null!=i.position){var g=xn;g.copy(i.layoutRect?i.layoutRect:this.getBoundingRect()),o||g.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Mi,i,g):Xu(Mi,i,g),a.x=Mi.x,a.y=Mi.y,l=Mi.align,u=Mi.verticalAlign;var m=i.origin;if(m&&null!=i.rotation){var b=void 0,w=void 0;"center"===m?(b=.5*g.width,w=.5*g.height):(b=Ur(m[0],g.width),w=Ur(m[1],g.height)),p=!0,a.originX=-a.x+b+(o?0:g.x),a.originY=-a.y+w+(o?0:g.y)}}null!=i.rotation&&(a.rotation=i.rotation);var k=i.offset;k&&(a.x+=k[0],a.y+=k[1],p||(a.originX=-k[0],a.originY=-k[1]));var C=i.inside??("string"==typeof i.position&&i.position.indexOf("inside")>=0),x=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),T=void 0,M=void 0,I=void 0;C&&this.canBeInsideText()?(M=i.insideStroke,(null==(T=i.insideFill)||"auto"===T)&&(T=this.getInsideTextFill()),(null==M||"auto"===M)&&(M=this.getInsideTextStroke(T),I=!0)):(M=i.outsideStroke,(null==(T=i.outsideFill)||"auto"===T)&&(T=this.getOutsideFill()),(null==M||"auto"===M)&&(M=this.getOutsideStroke(T),I=!0)),((T=T||"#000")!==x.fill||M!==x.stroke||I!==x.autoStroke||l!==x.align||u!==x.verticalAlign)&&(d=!0,x.fill=T,x.stroke=M,x.autoStroke=I,x.align=l,x.verticalAlign=u,t.setDefaultTextStyle(x)),t.__dirty|=1,d&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?mf:$v},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),i="string"==typeof t&&Hr(t);i||(i=[255,255,255,1]);for(var o=i[3],a=this.__zr.isDarkMode(),l=0;l<3;l++)i[l]=i[l]*o+(a?0:255)*(1-o);return i[3]=1,jr(i,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){"textConfig"===e?this.setTextConfig(t):"textContent"===e?this.setTextContent(t):"clipPath"===e?this.setClipPath(t):"extra"===e?(this.extra=this.extra||{},st(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(Rt(e))for(var o=le(e),a=0;a<o.length;a++){var l=o[a];this.attrKV(l,e[l])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,i=0;i<this.animators.length;i++){var o=this.animators[i],a=o.__fromStateTransition;if(!(o.getLoop()||a&&a!==bf)){var l=o.targetName;o.saveTo(l?t[l]:t)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,Xe)},n.prototype._savePrimaryToNormal=function(e,t,i){for(var o=0;o<i.length;o++){var a=i[o];null!=e[a]&&!(a in t)&&(t[a]=this[a])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(bf,!1,e)},n.prototype.useState=function(e,t,i,o){var a=e===bf;if(this.hasState()||!a){var u=this.currentStates,d=this.stateTransition;if(!(qt(u,e)>=0)||!t&&1!==u.length){var p;if(this.stateProxy&&!a&&(p=this.stateProxy(e)),p||(p=this.states&&this.states[e]),!p&&!a)return void rv("State "+e+" not exists.");a||this.saveCurrentToNormalState(p);var g=!!(p&&p.hoverLayer||o);g&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,p,this._normalState,t,!i&&!this.__inHover&&d&&d.duration>0,d);var m=this._textContent,b=this._textGuide;return m&&m.useState(e,t,i,g),b&&b.useState(e,t,i,g),a?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!g&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),p}}},n.prototype.useStates=function(e,t,i){if(e.length){var o=[],a=this.currentStates,l=e.length,u=l===a.length;if(u)for(var d=0;d<l;d++)if(e[d]!==a[d]){u=!1;break}if(u)return;for(d=0;d<l;d++){var p=e[d],g=void 0;this.stateProxy&&(g=this.stateProxy(p,e)),g||(g=this.states[p]),g&&o.push(g)}var m=o[l-1],b=!!(m&&m.hoverLayer||i);b&&this._toggleHoverLayerFlag(!0);var w=this._mergeStates(o),k=this.stateTransition;this.saveCurrentToNormalState(w),this._applyStateObj(e.join(","),w,this._normalState,!1,!t&&!this.__inHover&&k&&k.duration>0,k);var C=this._textContent,x=this._textGuide;C&&C.useStates(e,t,b),x&&x.useStates(e,t,b),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!b&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=qt(this.currentStates,e);if(t>=0){var i=this.currentStates.slice();i.splice(t,1),this.useStates(i)}},n.prototype.replaceState=function(e,t,i){var o=this.currentStates.slice(),a=qt(o,e),l=qt(o,t)>=0;a>=0?l?o.splice(a,1):o[a]=t:i&&!l&&o.push(t),this.useStates(o)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var i,t={},o=0;o<e.length;o++){var a=e[o];st(t,a),a.textConfig&&st(i=i||{},a.textConfig)}return i&&(t.textConfig=i),t},n.prototype._applyStateObj=function(e,t,i,o,a,l){var u=!(t&&o);t&&t.textConfig?(this.textConfig=st({},o?this.textConfig:i.textConfig),st(this.textConfig,t.textConfig)):u&&i.textConfig&&(this.textConfig=i.textConfig);for(var d={},p=!1,g=0;g<Xe.length;g++){var m=Xe[g],b=a&&Va[m];t&&null!=t[m]?b?(p=!0,d[m]=t[m]):this[m]=t[m]:u&&null!=i[m]&&(b?(p=!0,d[m]=i[m]):this[m]=i[m])}if(!a)for(g=0;g<this.animators.length;g++){var w=this.animators[g],k=w.targetName;w.getLoop()||w.__changeFinalValue(k?(t||i)[k]:t||i)}p&&this._transitionState(e,d,l)},n.prototype._attachComponent=function(e){if((!e.__zr||e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new bo,this._attachComponent(e),this._textContent=e,this.markRedraw())},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),st(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=1;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,i=this._textGuide;t&&(t.__inHover=e),i&&(i.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.addAnimator(t[i]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.removeAnimator(t[i]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t,i){var a=new Vv(e?this[e]:this,t,i);return e&&(a.targetName=e),this.addAnimator(a,e),a},n.prototype.addAnimator=function(e,t){var i=this.__zr,o=this;e.during(function(){o.updateDuringAnimation(t)}).done(function(){var a=o.animators,l=qt(a,e);l>=0&&a.splice(l,1)}),this.animators.push(e),i&&i.animation.addAnimator(e),i&&i.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var i=this.animators,o=i.length,a=[],l=0;l<o;l++){var u=i[l];e&&e!==u.scope?a.push(u):u.stop(t)}return this.animators=a,this},n.prototype.animateTo=function(e,t,i){gr(this,e,t,i)},n.prototype.animateFrom=function(e,t,i){gr(this,e,t,i,!0)},n.prototype._transitionState=function(e,t,i,o){for(var a=gr(this,t,i,o),l=0;l<a.length;l++)a[l].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var e=n.prototype;function o(a,l,u,d){function p(g,m){Object.defineProperty(m,0,{get:function(){return g[u]},set:function(b){g[u]=b}}),Object.defineProperty(m,1,{get:function(){return g[d]},set:function(b){g[d]=b}})}Object.defineProperty(e,a,{get:function(){return this[l]||p(this,this[l]=[]),this[l]},set:function(g){this[u]=g[0],this[d]=g[1],this[l]=g,p(this,g)}})}e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=1,Object.defineProperty&&(o("position","_legacyPos","x","y"),o("scale","_legacyScale","scaleX","scaleY"),o("origin","_legacyOrigin","originX","originY"))}(),n}();function gr(n,e,t,i,o){var a=[];tm(n,"",n,e,t=t||{},i,a,o);var l=a.length,u=!1,d=t.done,p=t.aborted,g=function(){u=!0,--l<=0&&(u?d&&d():p&&p())},m=function(){--l<=0&&(u?d&&d():p&&p())};l||d&&d(),a.length>0&&t.during&&a[0].during(function(k,C){t.during(C)});for(var b=0;b<a.length;b++){var w=a[b];g&&w.done(g),m&&w.aborted(m),t.force&&w.duration(t.duration),w.start(t.easing)}return a}function Jv(n,e,t){for(var i=0;i<t;i++)n[i]=e[i]}function qx(n,e,t){if(tr(e[t]))if(tr(n[t])||(n[t]=[]),dr(e[t])){var i=e[t].length;n[t].length!==i&&(n[t]=new e[t].constructor(i),Jv(n[t],e[t],i))}else{var o=e[t],a=n[t],l=o.length;if(function(n){return tr(n[0])}(o))for(var u=o[0].length,d=0;d<l;d++)a[d]?Jv(a[d],o[d],u):a[d]=Array.prototype.slice.call(o[d]);else Jv(a,o,l);a.length=o.length}else n[t]=e[t]}function tm(n,e,t,i,o,a,l,u){for(var d=le(i),p=o.duration,g=o.delay,m=o.additive,b=o.setToFinal,w=!Rt(a),k=n.animators,C=[],x=0;x<d.length;x++){var M=i[T=d[x]];if(null!=M&&null!=t[T]&&(w||a[T]))if(!Rt(M)||tr(M)||Rh(M))C.push(T);else{if(e){u||(t[T]=M,n.updateDuringAnimation(e));continue}tm(n,T,t[T],M,o,a&&a[T],l,u)}else u||(t[T]=M,n.updateDuringAnimation(e),C.push(T))}var I=C.length;if(!m&&I)for(var L=0;L<k.length;L++)if((N=k[L]).targetName===e&&N.stopTracks(C)){var B=qt(k,N);k.splice(B,1)}if(o.force||(C=Le(C,function(j){return!function(n,e){return n===e||tr(n)&&tr(e)&&function(n,e){var t=n.length;if(t!==e.length)return!1;for(var i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}(n,e)}(i[j],t[j])}),I=C.length),I>0||o.force&&!l.length){var N,O=void 0,F=void 0,H=void 0;if(u)for(F={},b&&(O={}),L=0;L<I;L++)F[T=C[L]]=t[T],b?O[T]=i[T]:t[T]=i[T];else if(b)for(H={},L=0;L<I;L++){var T;H[T=C[L]]=Pa(t[T]),qx(t,i,T)}(N=new Vv(t,!1,!1,m?Le(k,function(q){return q.targetName===e}):null)).targetName=e,o.scope&&(N.scope=o.scope),b&&O&&N.whenWithKeys(0,O,C),H&&N.whenWithKeys(0,H,C),N.whenWithKeys(p??500,u?F:i,C).delay(g||0),n.addAnimator(N,e),l.push(N)}}fn(Zn,di),fn(Zn,bo);const em=Zn;var nm=function(n){function e(t){var i=n.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(t),i}return tt(e,n),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var i=this._children,o=0;o<i.length;o++)if(i[o].name===t)return i[o]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,i){if(t&&t!==this&&t.parent!==this&&i&&i.parent===this){var o=this._children,a=o.indexOf(i);a>=0&&(o.splice(a,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,i){var o=qt(this._children,t);return o>=0&&this.replaceAt(i,o),this},e.prototype.replaceAt=function(t,i){var o=this._children,a=o[i];if(t&&t!==this&&t.parent!==this&&t!==a){o[i]=t,a.parent=null;var l=this.__zr;l&&a.removeSelfFromZr(l),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var i=this.__zr;i&&i!==t.__zr&&t.addSelfToZr(i),i&&i.refresh()},e.prototype.remove=function(t){var i=this.__zr,o=this._children,a=qt(o,t);return a<0||(o.splice(a,1),t.parent=null,i&&t.removeSelfFromZr(i),i&&i.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,i=this.__zr,o=0;o<t.length;o++){var a=t[o];i&&a.removeSelfFromZr(i),a.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,i){for(var o=this._children,a=0;a<o.length;a++)t.call(i,o[a],a);return this},e.prototype.traverse=function(t,i){for(var o=0;o<this._children.length;o++){var a=this._children[o],l=t.call(i,a);a.isGroup&&!l&&a.traverse(t,i)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].addSelfToZr(t)},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].removeSelfFromZr(t)},e.prototype.getBoundingRect=function(t){for(var i=new $t(0,0,0,0),o=t||this._children,a=[],l=null,u=0;u<o.length;u++){var d=o[u];if(!d.ignore&&!d.invisible){var p=d.getBoundingRect(),g=d.getLocalTransform(a);g?($t.applyTransform(i,p,g),(l=l||i.clone()).union(i)):(l=l||p.clone()).union(p)}}return l||i},e}(em);nm.prototype.type="group";const Vt=nm;var wf={},Fa={},ja=function(){function n(e,t,i){var o=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=t,this.id=e;var a=new fw,l=i.renderer||"canvas";wf[l]||(l=le(wf)[0]),i.useDirtyRect=i.useDirtyRect??!1;var u=new wf[l](t,a,i,e),d=i.ssr||u.ssrOnly;this.storage=a,this.painter=u;var w,p=de.node||de.worker||d?null:new Ux(u.getViewportRoot(),u.root),g=i.useCoarsePointer;(null==g||"auto"===g?de.touchEventsSupported:!!g)&&(w=Kt(i.pointerSize,44)),this.handler=new Qh(a,u,p,u.root,w),this.animation=new Ox({stage:{update:d?null:function(){return o._flush(!0)}}}),d||this.animation.start()}return n.prototype.add=function(e){!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},n.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=function(n){if(!n)return!1;if("string"==typeof n)return ju(n,1)<.4;if(n.colorStops){for(var e=n.colorStops,t=0,i=e.length,o=0;o<i;o++)t+=ju(e[o].color,1);return(t/=i)<.4}return!1}(e)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(e){var t,i=Ba();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var o=Ba();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:o-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},n.prototype.resize=function(e){this.painter.resize((e=e||{}).width,e.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},n.prototype.on=function(e,t,i){return this.handler.on(e,t,i),this},n.prototype.off=function(e,t){this.handler.off(e,t)},n.prototype.trigger=function(e,t){this.handler.trigger(e,t)},n.prototype.clear=function(){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof Vt&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function(n){delete Fa[n]}(this.id)},n}();function ac(n,e){var t=new ja(Kb(),n,e);return Fa[t.id]=t,t}function Ie(n,e,t,i){var o=e[0],a=e[1],l=t[0],u=t[1],d=a-o,p=u-l;if(0===d)return 0===p?l:(l+u)/2;if(i)if(d>0){if(n<=o)return l;if(n>=a)return u}else{if(n>=o)return l;if(n<=a)return u}else{if(n===o)return l;if(n===a)return u}return(n-o)/d*p+l}function _t(n,e){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return At(n)?function(n){return n.replace(/^\s+|\s+$/g,"")}(n).match(/%$/)?parseFloat(n)/100*e:parseFloat(n):null==n?NaN:+n}function on(n,e,t){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),n=(+n).toFixed(e),t?n:+n}function lt(n){return n.sort(function(e,t){return e-t}),n}function Yi(n){if(n=+n,isNaN(n))return 0;if(n>1e-14)for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t;return function(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),i=t>0?+e.slice(t+1):0,o=t>0?t:e.length,a=e.indexOf(".");return Math.max(0,(a<0?0:o-1-a)-i)}(n)}function Qu(n,e){var t=Math.log,i=Math.LN10,o=Math.floor(t(n[1]-n[0])/i),a=Math.round(t(Math.abs(e[1]-e[0]))/i),l=Math.min(Math.max(-o+a,0),20);return isFinite(l)?l:20}function zw(n,e){var t=Math.max(Yi(n),Yi(e)),i=n+e;return t>20?i:on(i,t)}var qi=9007199254740991;function rm(n){var e=2*Math.PI;return(n%e+e)%e}function _f(n){return n>-1e-4&&n<1e-4}var Ow=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ii(n){if(n instanceof Date)return n;if(At(n)){var e=Ow.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}return null==n?new Date(NaN):new Date(Math.round(n))}function im(n){if(0===n)return 0;var e=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,e)>=10&&e++,e}function Vw(n,e){var t=im(n),i=Math.pow(10,t),o=n/i;return n=(e?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10)*i,t>=-20?+n.toFixed(t<0?-t:0):n}function zs(n,e){var t=(n.length-1)*e+1,i=Math.floor(t),o=+n[i-1],a=t-i;return a?o+a*(n[i]-o):o}function fi(n){n.sort(function(d,p){return u(d,p,0)?-1:1});for(var e=-1/0,t=1,i=0;i<n.length;){for(var o=n[i].interval,a=n[i].close,l=0;l<2;l++)o[l]<=e&&(o[l]=e,a[l]=l?1:1-t),e=o[l],t=a[l];o[0]===o[1]&&a[0]*a[1]!=1?n.splice(i,1):i++}return n;function u(d,p,g){return d.interval[g]<p.interval[g]||d.interval[g]===p.interval[g]&&(d.close[g]-p.close[g]==(g?-1:1)||!g&&u(d,p,1))}}function ta(n){var e=parseFloat(n);return e==n&&(0!==e||!At(n)||n.indexOf("x")<=0)?e:NaN}function Ju(n){return!isNaN(ta(n))}function om(){return Math.round(9*Math.random())}function Ga(n,e){return 0===e?n:Ga(e,n%e)}function Fw(n,e){return null==n?e:null==e?n:n*e/Ga(n,e)}function am(n,e,t){return(e-n)*t+n}var sm="series\0";function De(n){return n instanceof Array?n:null==n?[]:[n]}function Ua(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var i=0,o=t.length;i<o;i++){var a=t[i];!n.emphasis[e].hasOwnProperty(a)&&n[e].hasOwnProperty(a)&&(n.emphasis[e][a]=n[e][a])}}}var cm=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Wa(n){return!Rt(n)||pt(n)||n instanceof Date?n:n.value}function Hw(n){return Rt(n)&&!(n instanceof Array)}function um(n,e,t){var i="normalMerge"===t,o="replaceMerge"===t,a="replaceAll"===t;n=n||[],e=(e||[]).slice();var l=Tt();V(e,function(d,p){Rt(d)||(e[p]=null)});var u=function(n,e,t){var i=[];if("replaceAll"===t)return i;for(var o=0;o<n.length;o++){var a=n[o];a&&null!=a.id&&e.set(a.id,o),i.push({existing:"replaceMerge"===t||uc(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return i}(n,l,t);return(i||o)&&function(n,e,t,i){V(i,function(o,a){if(o&&null!=o.id){var l=cc(o.id),u=t.get(l);if(null!=u){var d=n[u];hr(!d.newOption,'Duplicated option on id "'+l+'".'),d.newOption=o,d.existing=e[u],i[a]=null}}})}(u,n,l,e),i&&function(n,e){V(e,function(t,i){if(t&&null!=t.name)for(var o=0;o<n.length;o++){var a=n[o].existing;if(!n[o].newOption&&a&&(null==a.id||null==t.id)&&!uc(t)&&!uc(a)&&Yw("name",a,t))return n[o].newOption=t,void(e[i]=null)}})}(u,e),i||o?function(n,e,t){V(e,function(i){if(i){for(var o,a=0;(o=n[a])&&(o.newOption||uc(o.existing)||o.existing&&null!=i.id&&!Yw("id",i,o.existing));)a++;o?(o.newOption=i,o.brandNew=t):n.push({newOption:i,brandNew:t,existing:null,keyInfo:null}),a++}})}(u,e,o):a&&function(n,e){V(e,function(t){n.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}(u,e),function(n){var e=Tt();V(n,function(t){var i=t.existing;i&&e.set(i.id,t)}),V(n,function(t){var i=t.newOption;hr(!i||null==i.id||!e.get(i.id)||e.get(i.id)===t,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&e.set(i.id,t),!t.keyInfo&&(t.keyInfo={})}),V(n,function(t,i){var o=t.existing,a=t.newOption,l=t.keyInfo;if(Rt(a)){if(l.name=null!=a.name?cc(a.name):o?o.name:sm+i,o)l.id=cc(o.id);else if(null!=a.id)l.id=cc(a.id);else{var u=0;do{l.id="\0"+l.name+"\0"+u++}while(e.get(l.id))}e.set(l.id,t)}})}(u),u}function Yw(n,e,t){var i=mn(e[n],null),o=mn(t[n],null);return null!=i&&null!=o&&i===o}function cc(n){return mn(n,"")}function mn(n,e){return null==n?e:At(n)?n:_e(n)||Mu(n)?n+"":e}function kf(n){var e=n.name;return!(!e||!e.indexOf(sm))}function uc(n){return n&&null!=n.id&&0===cc(n.id).indexOf("\0_ec_\0")}function Os(n,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?pt(e.dataIndex)?gt(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex):null!=e.name?pt(e.name)?gt(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name):void 0}function ye(){var n="__ec_inner_"+Vs++;return function(e){return e[n]||(e[n]={})}}var Vs=om();function ed(n,e,t){var i=dm(e,t),a=i.queryOptionMap,u=i.others,d=t?t.defaultMainType:null;return!i.mainTypeSpecified&&d&&a.set(d,{}),a.each(function(p,g){var m=nd(n,g,p,{useDefault:d===g,enableAll:!t||null==t.enableAll||t.enableAll,enableNone:!t||null==t.enableNone||t.enableNone});u[g+"Models"]=m.models,u[g+"Model"]=m.models[0]}),u}function dm(n,e){var t;if(At(n)){var i={};i[n+"Index"]=0,t=i}else t=n;var o=Tt(),a={},l=!1;return V(t,function(u,d){if("dataIndex"!==d&&"dataIndexInside"!==d){var p=d.match(/^(\w+)(Index|Id|Name)$/)||[],g=p[1],m=(p[2]||"").toLowerCase();!g||!m||e&&e.includeMainTypes&&qt(e.includeMainTypes,g)<0||(l=l||!!g,(o.get(g)||o.set(g,{}))[m]=u)}else a[d]=u}),{mainTypeSpecified:l,queryOptionMap:o,others:a}}var Sn={useDefault:!0,enableAll:!1,enableNone:!1},rS={useDefault:!1,enableAll:!0,enableNone:!0};function nd(n,e,t,i){i=i||Sn;var o=t.index,a=t.id,l=t.name,u={models:null,specified:null!=o||null!=a||null!=l};if(!u.specified){var d=void 0;return u.models=i.useDefault&&(d=n.getComponent(e))?[d]:[],u}return"none"===o||!1===o?(hr(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),u.models=[],u):("all"===o&&(hr(i.enableAll,'`"all"` is not a valid value on index option.'),o=a=l=null),u.models=n.queryComponents({mainType:e,index:o,id:a,name:l}),u)}function Zw(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}function hm(n,e){var t=Tt(),i=[];return V(n,function(o){var a=e(o);(t.get(a)||(i.push(a),t.set(a,[]))).push(o)}),{keys:i,buckets:t}}function Ya(n,e,t,i,o){var a=null==e||"auto"===e;if(null==i)return i;if(_e(i))return on(l=am(t||0,i,o),a?Math.max(Yi(t||0),Yi(i)):e);if(At(i))return o<1?t:i;for(var u=[],d=t,p=i,g=Math.max(d?d.length:0,p.length),m=0;m<g;++m){var b=n.getDimensionInfo(m);if(b&&"ordinal"===b.type)u[m]=(o<1&&d?d:p)[m];else{var w=d&&d[m]?d[m]:0,k=p[m],l=am(w,k,o);u[m]=on(l,a?Math.max(Yi(w),Yi(k)):e)}}return u}var Fs="___EC__COMPONENT__CONTAINER___",fm="___EC__EXTENDED_CLASS___";function ko(n){var e={main:"",sub:""};if(n){var t=n.split(".");e.main=t[0]||"",e.sub=t[1]||""}return e}function pm(n,e){n.$constructor=n,n.extend=function(t){var o,i=this;return function(n){return Mt(n)&&/^class\s/.test(Function.prototype.toString.call(n))}(i)?o=function(a){function l(){return a.apply(this,arguments)||this}return tt(l,a),l}(i):(o=function(){(t.$constructor||i).apply(this,arguments)},function(n,e){var t=n.prototype;function i(){}for(var o in i.prototype=e.prototype,n.prototype=new i,t)t.hasOwnProperty(o)&&(n.prototype[o]=t[o]);n.prototype.constructor=n,n.superClass=e}(o,this)),st(o.prototype,t),o[fm]=!0,o.extend=this.extend,o.superCall=cS,o.superApply=Xw,o.superClass=i,o}}function Cf(n,e){n.extend=e.extend}var Kw=Math.round(10*Math.random());function cS(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return this.superClass.prototype[e].apply(n,t)}function Xw(n,e,t){return this.superClass.prototype[e].apply(n,t)}function xf(n){var e={};n.registerClass=function(i){var o=i.type||i.prototype.type;if(o){(function(n){hr(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')})(o),i.prototype.type=o;var a=ko(o);if(a.sub){if(a.sub!==Fs){var l=function(i){var o=e[i.main];return(!o||!o[Fs])&&((o=e[i.main]={})[Fs]=!0),o}(a);l[a.sub]=i}}else e[a.main]=i}return i},n.getClass=function(i,o,a){var l=e[i];if(l&&l[Fs]&&(l=o?l[o]:null),a&&!l)throw new Error(o?"Component "+i+"."+(o||"")+" is used but not imported.":i+".type should be specified.");return l},n.getClassesByMainType=function(i){var o=ko(i),a=[],l=e[o.main];return l&&l[Fs]?V(l,function(u,d){d!==Fs&&a.push(u)}):a.push(l),a},n.hasClass=function(i){var o=ko(i);return!!e[o.main]},n.getAllClassMainTypes=function(){var i=[];return V(e,function(o,a){i.push(a)}),i},n.hasSubTypes=function(i){var o=ko(i),a=e[o.main];return a&&a[Fs]}}function Hs(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(i,o,a){for(var l={},u=0;u<n.length;u++){var d=n[u][1];if(!(o&&qt(o,d)>=0||a&&qt(a,d)<0)){var p=i.getShallow(d,e);null!=p&&(l[n[u][0]]=p)}}return l}}var Sf=Hs([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Qw=function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return Sf(this,e,t)},n}(),Tf=new me(50);function dS(n){if("string"==typeof n){var e=Tf.get(n);return e&&e.image}return n}function gm(n,e,t,i,o){if(n){if("string"==typeof n){if(e&&e.__zrImageSrc===n||!t)return e;var a=Tf.get(n),l={hostEl:t,cb:i,cbPayload:o};return a?!Mf(e=a.image)&&a.pending.push(l):((e=ur.loadImage(n,Df,Df)).__zrImageSrc=n,Tf.put(n,e.__cachedImgObj={image:e,pending:[l]})),e}return n}return e}function Df(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],i=t.cb;i&&i(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function Mf(n){return n&&n.width&&n.height}var If=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function hS(n,e,t,i,o){if(!e)return"";var a=(n+"").split("\n");o=js(e,t,i,o);for(var l=0,u=a.length;l<u;l++)a[l]=pi(a[l],o);return a.join("\n")}function js(n,e,t,i){var o=st({},i=i||{});o.font=e,t=Kt(t,"..."),o.maxIterations=Kt(i.maxIterations,2);var a=o.minChar=Kt(i.minChar,0);o.cnCharWidth=qn("\u56fd",e);var l=o.ascCharWidth=qn("a",e);o.placeholder=Kt(i.placeholder,"");for(var u=n=Math.max(0,n-1),d=0;d<a&&u>=l;d++)u-=l;var p=qn(t,e);return p>u&&(t="",p=0),u=n-p,o.ellipsis=t,o.ellipsisWidth=p,o.contentWidth=u,o.containerWidth=n,o}function pi(n,e){var t=e.containerWidth,i=e.font,o=e.contentWidth;if(!t)return"";var a=qn(n,i);if(a<=t)return n;for(var l=0;;l++){if(a<=o||l>=e.maxIterations){n+=e.ellipsis;break}var u=0===l?vm(n,o,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(n.length*o/a):0;a=qn(n=n.substr(0,u),i)}return""===n&&(n=e.placeholder),n}function vm(n,e,t,i){for(var o=0,a=0,l=n.length;a<l&&o<e;a++){var u=n.charCodeAt(a);o+=0<=u&&u<=127?t:i}return a}var rd=function(){},mm=function(e){this.tokens=[],e&&(this.tokens=e)},id=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function Ef(n,e,t,i,o){var g,m,a=""===e,l=o&&t.rich[o]||{},u=n.lines,d=l.font||t.font,p=!1;if(i){var b=l.padding,w=b?b[1]+b[3]:0;if(null!=l.width&&"auto"!==l.width){var k=Ur(l.width,i.width)+w;u.length>0&&k+i.accumWidth>i.width&&(g=e.split("\n"),p=!0),i.accumWidth=k}else{var C=Gn(e,d,i.width,i.breakAll,i.accumWidth);i.accumWidth=C.accumWidth+w,m=C.linesWidths,g=C.lines}}else g=e.split("\n");for(var x=0;x<g.length;x++){var T=g[x],M=new rd;if(M.styleName=o,M.text=T,M.isLineHolder=!T&&!a,M.width="number"==typeof l.width?l.width:m?m[x]:qn(T,d),x||p)u.push(new mm([M]));else{var I=(u[u.length-1]||(u[0]=new mm)).tokens,L=I.length;1===L&&I[0].isLineHolder?I[0]=M:(T||!L||a)&&I.push(M)}}}var Tn=xi(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function Ne(n){return!function(n){var e=n.charCodeAt(0);return e>=33&&e<=383}(n)||!!Tn[n]}function Gn(n,e,t,i,o){for(var a=[],l=[],u="",d="",p=0,g=0,m=0;m<n.length;m++){var b=n.charAt(m);if("\n"!==b){var w=qn(b,e),k=!i&&!Ne(b);(a.length?g+w>t:o+g+w>t)?g?(u||d)&&(k?(u||(u=d,d="",g=p=0),a.push(u),l.push(g-p),d+=b,u="",g=p+=w):(d&&(u+=d,d="",p=0),a.push(u),l.push(g),u=b,g=w)):k?(a.push(d),l.push(p),d=b,p=w):(a.push(b),l.push(w)):(g+=w,k?(d+=b,p+=w):(d&&(u+=d,d="",p=0),u+=b))}else d&&(u+=d,g+=p),a.push(u),l.push(g),u="",d="",p=0,g=0}return!a.length&&!u&&(u=n,d="",p=0),d&&(u+=d),u&&(a.push(u),l.push(g)),1===a.length&&(g+=o),{accumWidth:g,lines:a,linesWidths:l}}var vr="__zr_style_"+Math.round(10*Math.random()),ln={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},ir={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};ln[vr]=!0;var Ao=["z","z2","invisible"],yn=["invisible"],Ze=function(n){function e(t){return n.call(this,t)||this}return tt(e,n),e.prototype._init=function(t){for(var i=le(t),o=0;o<i.length;o++){var a=i[o];"style"===a?this.useStyle(t[a]):n.prototype.attrKV.call(this,a,t[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,i,o,a){var l=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(n,e,t){return gi.copy(n.getBoundingRect()),n.transform&&gi.applyTransform(n.transform),ym.width=e,ym.height=t,!gi.intersect(ym)}(this,t,i)||l&&!l[0]&&!l[3])return!1;if(o&&this.__clipPaths)for(var u=0;u<this.__clipPaths.length;++u)if(this.__clipPaths[u].isZeroArea())return!1;if(a&&this.parent)for(var d=this.parent;d;){if(d.ignore)return!1;d=d.parent}return!0},e.prototype.contain=function(t,i){return this.rectContain(t,i)},e.prototype.traverse=function(t,i){t.call(i,this)},e.prototype.rectContain=function(t,i){var o=this.transformCoordToLocal(t,i);return this.getBoundingRect().contain(o[0],o[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var i=this.transform,o=this.getBoundingRect(),a=this.style,l=a.shadowBlur||0,u=a.shadowOffsetX||0,d=a.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new $t(0,0,0,0)),i?$t.applyTransform(t,o,i):t.copy(o),(l||u||d)&&(t.width+=2*l+Math.abs(u),t.height+=2*l+Math.abs(d),t.x=Math.min(t.x,t.x+u-l),t.y=Math.min(t.y,t.y+d-l));var p=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-p),t.y=Math.floor(t.y-p),t.width=Math.ceil(t.width+1+2*p),t.height=Math.ceil(t.height+1+2*p))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new $t(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,i){"style"!==t?n.prototype.attrKV.call(this,t,i):this.style?this.setStyle(i):this.useStyle(i)},e.prototype.setStyle=function(t,i){return"string"==typeof t?this.style[t]=i:st(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(2&this.__dirty)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(t){return Oh(ln,t)},e.prototype.useStyle=function(t){t[vr]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[vr]},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var i=this._normalState;t.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,i,Ao)},e.prototype._applyStateObj=function(t,i,o,a,l,u){n.prototype._applyStateObj.call(this,t,i,o,a,l,u);var p,d=!(i&&a);if(i&&i.style?l?a?p=i.style:(p=this._mergeStyle(this.createStyle(),o.style),this._mergeStyle(p,i.style)):(p=this._mergeStyle(this.createStyle(),a?this.style:o.style),this._mergeStyle(p,i.style)):d&&(p=o.style),p)if(l){var g=this.style;if(this.style=this.createStyle(d?{}:g),d)for(var m=le(g),b=0;b<m.length;b++)(w=m[b])in p&&(p[w]=p[w],this.style[w]=g[w]);var k=le(p);for(b=0;b<k.length;b++)this.style[w=k[b]]=this.style[w];this._transitionState(t,{style:p},u,this.getAnimationStyleProps())}else this.useStyle(p);var C=this.__inHover?yn:Ao;for(b=0;b<C.length;b++){var w=C[b];i&&null!=i[w]?this[w]=i[w]:d&&null!=o[w]&&(this[w]=o[w])}},e.prototype._mergeStates=function(t){for(var o,i=n.prototype._mergeStates.call(this,t),a=0;a<t.length;a++){var l=t[a];l.style&&this._mergeStyle(o=o||{},l.style)}return o&&(i.style=o),i},e.prototype._mergeStyle=function(t,i){return st(t,i),t},e.prototype.getAnimationStyleProps=function(){return ir},e.initDefaultProps=((t=e.prototype).type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,void(t.__dirty=3)),e;var t}(em),gi=new $t(0,0,0,0),ym=new $t(0,0,0,0);const Rn=Ze;var Wr=Math.min,Cr=Math.max,Lf=Math.sin,Gs=Math.cos,Us=2*Math.PI,ad=Go(),Pf=Go(),Rf=Go();function sd(n,e,t){if(0!==n.length){for(var i=n[0],o=i[0],a=i[0],l=i[1],u=i[1],d=1;d<n.length;d++)o=Wr(o,(i=n[d])[0]),a=Cr(a,i[0]),l=Wr(l,i[1]),u=Cr(u,i[1]);e[0]=o,e[1]=l,t[0]=a,t[1]=u}}function bm(n,e,t,i,o,a){o[0]=Wr(n,t),o[1]=Wr(e,i),a[0]=Cr(n,t),a[1]=Cr(e,i)}var $n=[],e_=[];function pS(n,e,t,i,o,a,l,u,d,p){var g=rf,m=wt,b=g(n,t,o,l,$n);d[0]=1/0,d[1]=1/0,p[0]=-1/0,p[1]=-1/0;for(var w=0;w<b;w++){var k=m(n,t,o,l,$n[w]);d[0]=Wr(k,d[0]),p[0]=Cr(k,p[0])}for(b=g(e,i,a,u,e_),w=0;w<b;w++){var C=m(e,i,a,u,e_[w]);d[1]=Wr(C,d[1]),p[1]=Cr(C,p[1])}d[0]=Wr(n,d[0]),p[0]=Cr(n,p[0]),d[0]=Wr(l,d[0]),p[0]=Cr(l,p[0]),d[1]=Wr(e,d[1]),p[1]=Cr(e,p[1]),d[1]=Wr(u,d[1]),p[1]=Cr(u,p[1])}function gS(n,e,t,i,o,a,l,u){var d=Is,p=Pn,g=Cr(Wr(d(n,t,o),1),0),m=Cr(Wr(d(e,i,a),1),0),b=p(n,t,o,g),w=p(e,i,a,m);l[0]=Wr(n,o,b),l[1]=Wr(e,a,w),u[0]=Cr(n,o,b),u[1]=Cr(e,a,w)}function n_(n,e,t,i,o,a,l,u,d){var p=Uo,g=Ma,m=Math.abs(o-a);if(m%Us<1e-4&&m>1e-4)return u[0]=n-t,u[1]=e-i,d[0]=n+t,void(d[1]=e+i);if(ad[0]=Gs(o)*t+n,ad[1]=Lf(o)*i+e,Pf[0]=Gs(a)*t+n,Pf[1]=Lf(a)*i+e,p(u,ad,Pf),g(d,ad,Pf),(o%=Us)<0&&(o+=Us),(a%=Us)<0&&(a+=Us),o>a&&!l?a+=Us:o<a&&l&&(o+=Us),l){var b=a;a=o,o=b}for(var w=0;w<a;w+=Math.PI/2)w>o&&(Rf[0]=Gs(w)*t+n,Rf[1]=Lf(w)*i+e,p(u,Rf,u),g(d,Rf,d))}var ze={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ea=[],qa=[],$i=[],na=[],Ki=[],Co=[],hc=Math.min,Nf=Math.max,Ws=Math.cos,ra=Math.sin,xo=Math.abs,wm=Math.PI,So=2*wm,Ee="undefined"!=typeof Float32Array,ld=[];function Bf(n){return Math.round(n/wm*1e8)/1e8%2*wm}function r_(n,e){var t=Bf(n[0]);t<0&&(t+=So);var o=n[1];o+=t-n[0],!e&&o-t>=So?o=t+So:e&&t-o>=So?o=t-So:!e&&t>o?o=t+(So-Bf(t-o)):e&&t<o&&(o=t-(So-Bf(o-t))),n[0]=t,n[1]=o}var vS=function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,i){(i=i||0)>0&&(this._ux=xo(i/vf/e)||0,this._uy=xo(i/vf/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(ze.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var i=xo(e-this._xi),o=xo(t-this._yi),a=i>this._ux||o>this._uy;if(this.addData(ze.L,e,t),this._ctx&&a&&this._ctx.lineTo(e,t),a)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var l=i*i+o*o;l>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=l)}return this},n.prototype.bezierCurveTo=function(e,t,i,o,a,l){return this._drawPendingPt(),this.addData(ze.C,e,t,i,o,a,l),this._ctx&&this._ctx.bezierCurveTo(e,t,i,o,a,l),this._xi=a,this._yi=l,this},n.prototype.quadraticCurveTo=function(e,t,i,o){return this._drawPendingPt(),this.addData(ze.Q,e,t,i,o),this._ctx&&this._ctx.quadraticCurveTo(e,t,i,o),this._xi=i,this._yi=o,this},n.prototype.arc=function(e,t,i,o,a,l){return this._drawPendingPt(),ld[0]=o,ld[1]=a,r_(ld,l),this.addData(ze.A,e,t,i,i,o=ld[0],(a=ld[1])-o,0,l?0:1),this._ctx&&this._ctx.arc(e,t,i,o,a,l),this._xi=Ws(a)*i+e,this._yi=ra(a)*i+t,this},n.prototype.arcTo=function(e,t,i,o,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,i,o,a),this},n.prototype.rect=function(e,t,i,o){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,i,o),this.addData(ze.R,e,t,i,o),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(ze.Z);var e=this._ctx,t=this._x0,i=this._y0;return e&&e.closePath(),this._xi=t,this._yi=i,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){var t=e.length;(!this.data||this.data.length!==t)&&Ee&&(this.data=new Float32Array(t));for(var i=0;i<t;i++)this.data[i]=e[i];this._len=t},n.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,i=0,o=this._len,a=0;a<t;a++)i+=e[a].len();for(Ee&&this.data instanceof Float32Array&&(this.data=new Float32Array(o+i)),a=0;a<t;a++)for(var l=e[a].data,u=0;u<l.length;u++)this.data[o++]=l[u];this._len=o},n.prototype.addData=function(e,t,i,o,a,l,u,d,p){if(this._saveData){var g=this.data;this._len+arguments.length>g.length&&(this._expandData(),g=this.data);for(var m=0;m<arguments.length;m++)g[this._len++]=arguments[m]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,Ee&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){$i[0]=$i[1]=Ki[0]=Ki[1]=Number.MAX_VALUE,na[0]=na[1]=Co[0]=Co[1]=-Number.MAX_VALUE;var l,e=this.data,t=0,i=0,o=0,a=0;for(l=0;l<this._len;){var u=e[l++],d=1===l;switch(d&&(o=t=e[l],a=i=e[l+1]),u){case ze.M:t=o=e[l++],i=a=e[l++],Ki[0]=o,Ki[1]=a,Co[0]=o,Co[1]=a;break;case ze.L:bm(t,i,e[l],e[l+1],Ki,Co),t=e[l++],i=e[l++];break;case ze.C:pS(t,i,e[l++],e[l++],e[l++],e[l++],e[l],e[l+1],Ki,Co),t=e[l++],i=e[l++];break;case ze.Q:gS(t,i,e[l++],e[l++],e[l],e[l+1],Ki,Co),t=e[l++],i=e[l++];break;case ze.A:var p=e[l++],g=e[l++],m=e[l++],b=e[l++],w=e[l++],k=e[l++]+w;l+=1;var C=!e[l++];d&&(o=Ws(w)*m+p,a=ra(w)*b+g),n_(p,g,m,b,w,k,C,Ki,Co),t=Ws(k)*m+p,i=ra(k)*b+g;break;case ze.R:bm(o=t=e[l++],a=i=e[l++],o+e[l++],a+e[l++],Ki,Co);break;case ze.Z:t=o,i=a}Uo($i,$i,Ki),Ma(na,na,Co)}return 0===l&&($i[0]=$i[1]=na[0]=na[1]=0),new $t($i[0],$i[1],na[0]-$i[0],na[1]-$i[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,i=this._ux,o=this._uy,a=0,l=0,u=0,d=0;this._pathSegLen||(this._pathSegLen=[]);for(var p=this._pathSegLen,g=0,m=0,b=0;b<t;){var w=e[b++],k=1===b;k&&(u=a=e[b],d=l=e[b+1]);var C=-1;switch(w){case ze.M:a=u=e[b++],l=d=e[b++];break;case ze.L:var x=e[b++],I=(T=e[b++])-l;(xo(M=x-a)>i||xo(I)>o||b===t-1)&&(C=Math.sqrt(M*M+I*I),a=x,l=T);break;case ze.C:var L=e[b++],N=e[b++],T=(x=e[b++],e[b++]),R=e[b++],B=e[b++];C=Yl(a,l,L,N,x,T,R,B,10),a=R,l=B;break;case ze.Q:C=sf(a,l,L=e[b++],N=e[b++],x=e[b++],T=e[b++],10),a=x,l=T;break;case ze.A:var O=e[b++],F=e[b++],H=e[b++],j=e[b++],q=e[b++],Z=e[b++],K=Z+q;b+=1,b++,k&&(u=Ws(q)*H+O,d=ra(q)*j+F),C=Nf(H,j)*hc(So,Math.abs(Z)),a=Ws(K)*H+O,l=ra(K)*j+F;break;case ze.R:u=a=e[b++],d=l=e[b++],C=2*e[b++]+2*e[b++];break;case ze.Z:var M=u-a;I=d-l,C=Math.sqrt(M*M+I*I),a=u,l=d}C>=0&&(p[m++]=C,g+=C)}return this._pathLen=g,g},n.prototype.rebuildPath=function(e,t){var u,d,p,g,m,b,k,M,L,N,i=this.data,o=this._ux,a=this._uy,l=this._len,w=t<1,x=0,T=0,I=0;if(!w||(this._pathSegLen||this._calculateLength(),k=this._pathSegLen,M=t*this._pathLen))t:for(var R=0;R<l;){var B=i[R++],O=1===R;switch(O&&(u=p=i[R],d=g=i[R+1]),B!==ze.L&&I>0&&(e.lineTo(L,N),I=0),B){case ze.M:u=p=i[R++],d=g=i[R++],e.moveTo(p,g);break;case ze.L:m=i[R++],b=i[R++];var F=xo(m-p),H=xo(b-g);if(F>o||H>a){if(w){if(x+(j=k[T++])>M){e.lineTo(p*(1-(q=(M-x)/j))+m*q,g*(1-q)+b*q);break t}x+=j}e.lineTo(m,b),p=m,g=b,I=0}else{var Z=F*F+H*H;Z>I&&(L=m,N=b,I=Z)}break;case ze.C:var K=i[R++],Q=i[R++],J=i[R++],rt=i[R++],nt=i[R++],ft=i[R++];if(w){if(x+(j=k[T++])>M){rr(p,K,J,nt,q=(M-x)/j,ea),rr(g,Q,rt,ft,q,qa),e.bezierCurveTo(ea[1],qa[1],ea[2],qa[2],ea[3],qa[3]);break t}x+=j}e.bezierCurveTo(K,Q,J,rt,nt,ft),p=nt,g=ft;break;case ze.Q:if(K=i[R++],Q=i[R++],J=i[R++],rt=i[R++],w){if(x+(j=k[T++])>M){ql(p,K,J,q=(M-x)/j,ea),ql(g,Q,rt,q,qa),e.quadraticCurveTo(ea[1],qa[1],ea[2],qa[2]);break t}x+=j}e.quadraticCurveTo(K,Q,J,rt),p=J,g=rt;break;case ze.A:var yt=i[R++],kt=i[R++],Dt=i[R++],Nt=i[R++],Bt=i[R++],ce=i[R++],Se=i[R++],ue=!i[R++],Ht=Dt>Nt?Dt:Nt,fe=xo(Dt-Nt)>.001,ne=Bt+ce,It=!1;if(w&&(x+(j=k[T++])>M&&(ne=Bt+ce*(M-x)/j,It=!0),x+=j),fe&&e.ellipse?e.ellipse(yt,kt,Dt,Nt,Se,Bt,ne,ue):e.arc(yt,kt,Ht,Bt,ne,ue),It)break t;O&&(u=Ws(Bt)*Dt+yt,d=ra(Bt)*Nt+kt),p=Ws(ne)*Dt+yt,g=ra(ne)*Nt+kt;break;case ze.R:u=p=i[R],d=g=i[R+1],m=i[R++],b=i[R++];var Jt=i[R++],dn=i[R++];if(w){if(x+(j=k[T++])>M){var Ae=M-x;e.moveTo(m,b),e.lineTo(m+hc(Ae,Jt),b),(Ae-=Jt)>0&&e.lineTo(m+Jt,b+hc(Ae,dn)),(Ae-=dn)>0&&e.lineTo(m+Nf(Jt-Ae,0),b+dn),(Ae-=Jt)>0&&e.lineTo(m,b+Nf(dn-Ae,0));break t}x+=j}e.rect(m,b,Jt,dn);break;case ze.Z:if(w){var j;if(x+(j=k[T++])>M){var q;e.lineTo(p*(1-(q=(M-x)/j))+u*q,g*(1-q)+d*q);break t}x+=j}e.closePath(),p=u,g=d}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.CMD=ze,n.initDefaultProps=function(){var e=n.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),n}();const Xi=vS;function ia(n,e,t,i,o,a,l){if(0===o)return!1;var d,u=o;if(l>e+u&&l>i+u||l<e-u&&l<i-u||a>n+u&&a>t+u||a<n-u&&a<t-u)return!1;if(n===t)return Math.abs(a-n)<=u/2;var g=(d=(e-i)/(n-t))*a-l+(n*i-t*e)/(n-t);return g*g/(d*d+1)<=u/2*u/2}function i_(n,e,t,i,o,a,l,u,d,p,g){if(0===d)return!1;var m=d;return!(g>e+m&&g>i+m&&g>a+m&&g>u+m||g<e-m&&g<i-m&&g<a-m&&g<u-m||p>n+m&&p>t+m&&p>o+m&&p>l+m||p<n-m&&p<t-m&&p<o-m&&p<l-m)&&of(n,e,t,i,o,a,l,u,p,g,null)<=m/2}function _m(n,e,t,i,o,a,l,u,d){if(0===l)return!1;var p=l;return!(d>e+p&&d>i+p&&d>a+p||d<e-p&&d<i-p&&d<a-p||u>n+p&&u>t+p&&u>o+p||u<n-p&&u<t-p&&u<o-p)&&af(n,e,t,i,o,a,u,d,null)<=p/2}var Ys=2*Math.PI;function Za(n){return(n%=Ys)<0&&(n+=Ys),n}var $a=2*Math.PI;function fc(n,e,t,i,o,a,l,u,d){if(0===l)return!1;var p=l;u-=n,d-=e;var g=Math.sqrt(u*u+d*d);if(g-p>t||g+p<t)return!1;if(Math.abs(i-o)%$a<1e-4)return!0;if(a){var m=i;i=Za(o),o=Za(m)}else i=Za(i),o=Za(o);i>o&&(o+=$a);var b=Math.atan2(d,u);return b<0&&(b+=$a),b>=i&&b<=o||b+$a>=i&&b+$a<=o}function oa(n,e,t,i,o,a){if(a>e&&a>i||a<e&&a<i||i===e)return 0;var l=(a-e)/(i-e),u=i<e?1:-1;(1===l||0===l)&&(u=i<e?.5:-.5);var d=l*(t-n)+n;return d===o?1/0:d>o?u:0}var Ka=Xi.CMD,qs=2*Math.PI,xr=[-1,-1,-1],Ei=[-1,-1];function bS(){var n=Ei[0];Ei[0]=Ei[1],Ei[1]=n}function wS(n,e,t,i,o,a,l,u,d,p){if(p>e&&p>i&&p>a&&p>u||p<e&&p<i&&p<a&&p<u)return 0;var g=Ms(e,i,a,u,p,xr);if(0===g)return 0;for(var m=0,b=-1,w=void 0,k=void 0,C=0;C<g;C++){var x=xr[C],T=0===x||1===x?.5:1;wt(n,t,o,l,x)<d||(b<0&&(b=rf(e,i,a,u,Ei),Ei[1]<Ei[0]&&b>1&&bS(),w=wt(e,i,a,u,Ei[0]),b>1&&(k=wt(e,i,a,u,Ei[1]))),m+=2===b?x<Ei[0]?w<e?T:-T:x<Ei[1]?k<w?T:-T:u<k?T:-T:x<Ei[0]?w<e?T:-T:u<w?T:-T)}return m}function _S(n,e,t,i,o,a,l,u){if(u>e&&u>i&&u>a||u<e&&u<i&&u<a)return 0;var d=function(n,e,t,i,o){var a=n-2*e+t,l=2*(e-n),u=n-i,d=0;if(Ko(a))Ea(l)&&(p=-u/l)>=0&&p<=1&&(o[d++]=p);else{var g=l*l-4*a*u;if(Ko(g))(p=-l/(2*a))>=0&&p<=1&&(o[d++]=p);else if(g>0){var p,m=vo(g),b=(-l-m)/(2*a);(p=(-l+m)/(2*a))>=0&&p<=1&&(o[d++]=p),b>=0&&b<=1&&(o[d++]=b)}}return d}(e,i,a,u,xr);if(0===d)return 0;var p=Is(e,i,a);if(p>=0&&p<=1){for(var g=0,m=Pn(e,i,a,p),b=0;b<d;b++){var w=0===xr[b]||1===xr[b]?.5:1;Pn(n,t,o,xr[b])<l||(g+=xr[b]<p?m<e?w:-w:a<m?w:-w)}return g}return w=0===xr[0]||1===xr[0]?.5:1,Pn(n,t,o,xr[0])<l?0:a<e?w:-w}function kS(n,e,t,i,o,a,l,u){if((u-=e)>t||u<-t)return 0;var d=Math.sqrt(t*t-u*u);xr[0]=-d,xr[1]=d;var p=Math.abs(i-o);if(p<1e-4)return 0;if(p>=qs-1e-4){i=0,o=qs;var g=a?1:-1;return l>=xr[0]+n&&l<=xr[1]+n?g:0}if(i>o){var m=i;i=o,o=m}i<0&&(i+=qs,o+=qs);for(var b=0,w=0;w<2;w++){var k=xr[w];if(k+n>l){var C=Math.atan2(u,k);g=a?1:-1,C<0&&(C=qs+C),(C>=i&&C<=o||C+qs>=i&&C+qs<=o)&&(C>Math.PI/2&&C<1.5*Math.PI&&(g=-g),b+=g)}}return b}function o_(n,e,t,i,o){for(var b,w,a=n.data,l=n.len(),u=0,d=0,p=0,g=0,m=0,k=0;k<l;){var C=a[k++],x=1===k;switch(C===Ka.M&&k>1&&(t||(u+=oa(d,p,g,m,i,o))),x&&(g=d=a[k],m=p=a[k+1]),C){case Ka.M:d=g=a[k++],p=m=a[k++];break;case Ka.L:if(t){if(ia(d,p,a[k],a[k+1],e,i,o))return!0}else u+=oa(d,p,a[k],a[k+1],i,o)||0;d=a[k++],p=a[k++];break;case Ka.C:if(t){if(i_(d,p,a[k++],a[k++],a[k++],a[k++],a[k],a[k+1],e,i,o))return!0}else u+=wS(d,p,a[k++],a[k++],a[k++],a[k++],a[k],a[k+1],i,o)||0;d=a[k++],p=a[k++];break;case Ka.Q:if(t){if(_m(d,p,a[k++],a[k++],a[k],a[k+1],e,i,o))return!0}else u+=_S(d,p,a[k++],a[k++],a[k],a[k+1],i,o)||0;d=a[k++],p=a[k++];break;case Ka.A:var T=a[k++],M=a[k++],I=a[k++],L=a[k++],N=a[k++],R=a[k++];k+=1;var B=!!(1-a[k++]);b=Math.cos(N)*I+T,w=Math.sin(N)*L+M,x?(g=b,m=w):u+=oa(d,p,b,w,i,o);var O=(i-T)*L/I+T;if(t){if(fc(T,M,L,N,N+R,B,e,O,o))return!0}else u+=kS(T,M,L,N,N+R,B,O,o);d=Math.cos(N+R)*I+T,p=Math.sin(N+R)*L+M;break;case Ka.R:if(g=d=a[k++],m=p=a[k++],b=g+a[k++],w=m+a[k++],t){if(ia(g,m,b,m,e,i,o)||ia(b,m,b,w,e,i,o)||ia(b,w,g,w,e,i,o)||ia(g,w,g,m,e,i,o))return!0}else u+=oa(b,m,b,w,i,o),u+=oa(g,w,g,m,i,o);break;case Ka.Z:if(t){if(ia(d,p,g,m,e,i,o))return!0}else u+=oa(d,p,g,m,i,o);d=g,p=m}}return!t&&!function(n,e){return Math.abs(n-e)<1e-4}(p,m)&&(u+=oa(d,p,g,m,i,o)||0),0!==u}var zf=Et({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},ln),xS={style:Et({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},ir.style)},km=yo.concat(["invisible","culling","z","z2","zlevel","parent"]),SS=function(n){function e(t){return n.call(this,t)||this}return tt(e,n),e.prototype.update=function(){var t=this;n.prototype.update.call(this);var i=this.style;if(i.decal){var o=this._decalEl=this._decalEl||new e;o.buildPath===e.prototype.buildPath&&(o.buildPath=function(d){t.buildPath(d,t.shape)}),o.silent=!0;var a=o.style;for(var l in i)a[l]!==i[l]&&(a[l]=i[l]);a.fill=i.fill?i.decal:null,a.decal=null,a.shadowColor=null,i.strokeFirst&&(a.stroke=null);for(var u=0;u<km.length;++u)o[km[u]]=this[km[u]];o.__dirty|=1}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var i=le(t);this.shape=this.getDefaultShape();var o=this.getDefaultStyle();o&&this.useStyle(o);for(var a=0;a<i.length;a++){var l=i[a],u=t[l];"style"===l?this.style?st(this.style,u):this.useStyle(u):"shape"===l?st(this.shape,u):n.prototype.attrKV.call(this,l,u)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(At(t)){var i=ju(t,0);return i>.5?$v:i>.2?"#eee":mf}if(t)return mf}return $v},e.prototype.getInsideTextStroke=function(t){var i=this.style.fill;if(At(i)){var o=this.__zr;if(!(!o||!o.isDarkMode())==ju(t,0)<.4)return i}},e.prototype.buildPath=function(t,i,o){},e.prototype.pathUpdated=function(){this.__dirty&=-5},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new Xi(!1)},e.prototype.hasStroke=function(){var t=this.style,i=t.stroke;return!(null==i||"none"===i||!(t.lineWidth>0))},e.prototype.hasFill=function(){var i=this.style.fill;return null!=i&&"none"!==i},e.prototype.getBoundingRect=function(){var t=this._rect,i=this.style,o=!t;if(o){var a=!1;this.path||(a=!0,this.createPathProxy());var l=this.path;(a||4&this.__dirty)&&(l.beginPath(),this.buildPath(l,this.shape,!1),this.pathUpdated()),t=l.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var u=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||o){u.copy(t);var d=i.strokeNoScale?this.getLineScale():1,p=i.lineWidth;this.hasFill()||(p=Math.max(p,this.strokeContainThreshold??4)),d>1e-10&&(u.width+=p/d,u.height+=p/d,u.x-=p/d/2,u.y-=p/d/2)}return u}return t},e.prototype.contain=function(t,i){var o=this.transformCoordToLocal(t,i),a=this.getBoundingRect(),l=this.style;if(a.contain(t=o[0],i=o[1])){var u=this.path;if(this.hasStroke()){var d=l.lineWidth,p=l.strokeNoScale?this.getLineScale():1;if(p>1e-10&&(this.hasFill()||(d=Math.max(d,this.strokeContainThreshold)),function(n,e,t,i){return o_(n,e,!0,t,i)}(u,d/p,t,i)))return!0}if(this.hasFill())return function(n,e,t){return o_(n,0,!1,e,t)}(u,t,i)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,i){"shape"===t?this.setShape(i):n.prototype.attrKV.call(this,t,i)},e.prototype.setShape=function(t,i){var o=this.shape;return o||(o=this.shape={}),"string"==typeof t?o[t]=i:st(o,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(4&this.__dirty)},e.prototype.createStyle=function(t){return Oh(zf,t)},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var i=this._normalState;t.shape&&!i.shape&&(i.shape=st({},this.shape))},e.prototype._applyStateObj=function(t,i,o,a,l,u){n.prototype._applyStateObj.call(this,t,i,o,a,l,u);var p,d=!(i&&a);if(i&&i.shape?l?a?p=i.shape:(p=st({},o.shape),st(p,i.shape)):(p=st({},a?this.shape:o.shape),st(p,i.shape)):d&&(p=o.shape),p)if(l){this.shape=st({},this.shape);for(var g={},m=le(p),b=0;b<m.length;b++){var w=m[b];"object"==typeof p[w]?this.shape[w]=p[w]:g[w]=p[w]}this._transitionState(t,{shape:g},u)}else this.shape=p,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var o,i=n.prototype._mergeStates.call(this,t),a=0;a<t.length;a++){var l=t[a];l.shape&&this._mergeStyle(o=o||{},l.shape)}return o&&(i.shape=o),i},e.prototype.getAnimationStyleProps=function(){return xS},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var i=function(a){function l(u){var d=a.call(this,u)||this;return t.init&&t.init.call(d,u),d}return tt(l,a),l.prototype.getDefaultStyle=function(){return Lt(t.style)},l.prototype.getDefaultShape=function(){return Lt(t.shape)},l}(e);for(var o in t)"function"==typeof t[o]&&(i.prototype[o]=t[o]);return i},e.initDefaultProps=((t=e.prototype).type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,void(t.__dirty=7)),e;var t}(Rn);const re=SS;var a_=Et({strokeFirst:!0,font:Sa,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},zf),s_=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.prototype.hasStroke=function(){var t=this.style,i=t.stroke;return null!=i&&"none"!==i&&t.lineWidth>0},e.prototype.hasFill=function(){var i=this.style.fill;return null!=i&&"none"!==i},e.prototype.createStyle=function(t){return Oh(a_,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var i=t.text;null!=i?i+="":i="";var o=oc(i,t.font,t.textAlign,t.textBaseline);if(o.x+=t.x||0,o.y+=t.y||0,this.hasStroke()){var a=t.lineWidth;o.x-=a/2,o.y-=a/2,o.width+=a,o.height+=a}this._rect=o}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(Rn);s_.prototype.type="tspan";const cd=s_;var TS=Et({x:0,y:0},ln),l_={style:Et({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},ir.style)},c_=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.prototype.createStyle=function(t){return Oh(TS,t)},e.prototype._getSize=function(t){var i=this.style,o=i[t];if(null!=o)return o;var a=function(n){return!!(n&&"string"!=typeof n&&n.width&&n.height)}(i.image)?i.image:this.__image;if(!a)return 0;var l="width"===t?"height":"width",u=i[l];return null==u?a[t]:a[t]/a[l]*u},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return l_},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new $t(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Rn);c_.prototype.type="image";const or=c_;var pc=Math.round;function u_(n,e,t){if(e){var i=e.x1,o=e.x2,a=e.y1,l=e.y2;n.x1=i,n.x2=o,n.y1=a,n.y2=l;var u=t&&t.lineWidth;return u&&(pc(2*i)===pc(2*o)&&(n.x1=n.x2=Zs(i,u,!0)),pc(2*a)===pc(2*l)&&(n.y1=n.y2=Zs(a,u,!0))),n}}function d_(n,e,t){if(e){var i=e.x,o=e.y,a=e.width,l=e.height;n.x=i,n.y=o,n.width=a,n.height=l;var u=t&&t.lineWidth;return u&&(n.x=Zs(i,u,!0),n.y=Zs(o,u,!0),n.width=Math.max(Zs(i+a,u,!1)-n.x,0===a?0:1),n.height=Math.max(Zs(o+l,u,!1)-n.y,0===l?0:1)),n}}function Zs(n,e,t){if(!e)return n;var i=pc(2*n);return(i+pc(e))%2==0?i/2:(i+(t?1:-1))/2}var IS=function(){this.x=0,this.y=0,this.width=0,this.height=0},Am={},To=function(n){function e(t){return n.call(this,t)||this}return tt(e,n),e.prototype.getDefaultShape=function(){return new IS},e.prototype.buildPath=function(t,i){var o,a,l,u;if(this.subPixelOptimize){var d=d_(Am,i,this.style);o=d.x,a=d.y,l=d.width,u=d.height,d.r=i.r,i=d}else o=i.x,a=i.y,l=i.width,u=i.height;i.r?function(n,e){var u,d,p,g,m,t=e.x,i=e.y,o=e.width,a=e.height,l=e.r;o<0&&(t+=o,o=-o),a<0&&(i+=a,a=-a),"number"==typeof l?u=d=p=g=l:l instanceof Array?1===l.length?u=d=p=g=l[0]:2===l.length?(u=p=l[0],d=g=l[1]):3===l.length?(u=l[0],d=g=l[1],p=l[2]):(u=l[0],d=l[1],p=l[2],g=l[3]):u=d=p=g=0,u+d>o&&(u*=o/(m=u+d),d*=o/m),p+g>o&&(p*=o/(m=p+g),g*=o/m),d+p>a&&(d*=a/(m=d+p),p*=a/m),u+g>a&&(u*=a/(m=u+g),g*=a/m),n.moveTo(t+u,i),n.lineTo(t+o-d,i),0!==d&&n.arc(t+o-d,i+d,d,-Math.PI/2,0),n.lineTo(t+o,i+a-p),0!==p&&n.arc(t+o-p,i+a-p,p,0,Math.PI/2),n.lineTo(t+g,i+a),0!==g&&n.arc(t+g,i+a-g,g,Math.PI/2,Math.PI),n.lineTo(t,i+u),0!==u&&n.arc(t+u,i+u,u,Math.PI,1.5*Math.PI)}(t,i):t.rect(o,a,l,u)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(re);To.prototype.type="rect";const Xt=To;var gc={fill:"#000"},f_={style:Et({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},ir.style)},ud=function(n){function e(t){var i=n.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=gc,i.attr(t),i}return tt(e,n),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var i=this._children[t];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var i=this.innerTransformable;return i?i.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,function(n){Sm(n),V(n.rich,Sm)}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new $t(0,0,0,0),i=this._children,o=[],a=null,l=0;l<i.length;l++){var u=i[l],d=u.getBoundingRect(),p=u.getLocalTransform(o);p?(t.copy(d),t.applyTransform(p),(a=a||t.clone()).union(t)):(a=a||d.clone()).union(d)}this._rect=a||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||gc},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,i){if(!i)return t;var o=i.rich,a=t.rich||o&&{};return st(t,i),o&&a?(this._mergeRich(a,o),t.rich=a):a&&(t.rich=a),t},e.prototype._mergeRich=function(t,i){for(var o=le(i),a=0;a<o.length;a++){var l=o[a];t[l]=t[l]||{},st(t[l],i[l])}},e.prototype.getAnimationStyleProps=function(){return f_},e.prototype._getOrCreateChild=function(t){var i=this._children[this._childCursor];return(!i||!(i instanceof t))&&(i=new t),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},e.prototype._updatePlainTexts=function(){var t=this.style,i=t.font||Sa,o=t.padding,l=function(n,e){null!=n&&(n+="");var m,t=e.overflow,i=e.padding,o=e.font,a="truncate"===t,l=Ku(o),u=Kt(e.lineHeight,l),d=!!e.backgroundColor,p="truncate"===e.lineOverflow,g=e.width,b=(m=null==g||"break"!==t&&"breakAll"!==t?n?n.split("\n"):[]:n?Gn(n,e.font,g,"breakAll"===t,0).lines:[]).length*u,w=Kt(e.height,b);if(b>w&&p){var k=Math.floor(w/u);m=m.slice(0,k)}if(n&&a&&null!=g)for(var C=js(g,o,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),x=0;x<m.length;x++)m[x]=pi(m[x],C);var T=w,M=0;for(x=0;x<m.length;x++)M=Math.max(qn(m[x],o),M);null==g&&(g=M);var I=M;return i&&(T+=i[0]+i[2],I+=i[1]+i[3],g+=i[1]+i[3]),d&&(I=g),{lines:m,height:w,outerWidth:I,outerHeight:T,lineHeight:u,calculatedLineHeight:l,contentWidth:M,contentHeight:b,width:g}}(dd(t),t),u=hd(t),d=!!t.backgroundColor,p=l.outerHeight,g=l.outerWidth,m=l.contentWidth,b=l.lines,w=l.lineHeight,k=this._defaultStyle,C=t.x||0,x=t.y||0,T=t.align||k.align||"left",M=t.verticalAlign||k.verticalAlign||"top",I=C,L=Bs(x,l.contentHeight,M);if(u||o){var N=Oa(C,g,T),R=Bs(x,p,M);u&&this._renderBackground(t,t,N,R,g,p)}L+=w/2,o&&(I=$s(C,T,o),"top"===M?L+=o[0]:"bottom"===M&&(L-=o[2]));for(var B=0,O=!1,F=(Dm("fill"in t?t.fill:(O=!0,k.fill))),H=(Tm("stroke"in t?t.stroke:d||k.autoStroke&&!O?null:(B=2,k.stroke))),j=t.textShadowBlur>0,q=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),Z=l.calculatedLineHeight,K=0;K<b.length;K++){var Q=this._getOrCreateChild(cd),J=Q.createStyle();Q.useStyle(J),J.text=b[K],J.x=I,J.y=L,T&&(J.textAlign=T),J.textBaseline="middle",J.opacity=t.opacity,J.strokeFirst=!0,j&&(J.shadowBlur=t.textShadowBlur||0,J.shadowColor=t.textShadowColor||"transparent",J.shadowOffsetX=t.textShadowOffsetX||0,J.shadowOffsetY=t.textShadowOffsetY||0),J.stroke=H,J.fill=F,H&&(J.lineWidth=t.lineWidth||B,J.lineDash=t.lineDash,J.lineDashOffset=t.lineDashOffset||0),J.font=i,Cm(J,t),L+=w,q&&Q.setBoundingRect(new $t(Oa(J.x,t.width,J.textAlign),Bs(J.y,Z,J.textBaseline),m,Z))}},e.prototype._updateRichTexts=function(){var t=this.style,o=function(n,e){var t=new id;if(null!=n&&(n+=""),!n)return t;for(var d,i=e.width,o=e.height,a=e.overflow,l="break"!==a&&"breakAll"!==a||null==i?null:{width:i,accumWidth:0,breakAll:"breakAll"===a},u=If.lastIndex=0;null!=(d=If.exec(n));){var p=d.index;p>u&&Ef(t,n.substring(u,p),e,l),Ef(t,d[2],e,l,d[1]),u=If.lastIndex}u<n.length&&Ef(t,n.substring(u,n.length),e,l);var g=[],m=0,b=0,w=e.padding,k="truncate"===a,C="truncate"===e.lineOverflow;function x(nt,ft,yt){nt.width=ft,nt.lineHeight=yt,m+=yt,b=Math.max(b,ft)}t:for(var T=0;T<t.lines.length;T++){for(var M=t.lines[T],I=0,L=0,N=0;N<M.tokens.length;N++){var B=(R=M.tokens[N]).styleName&&e.rich[R.styleName]||{},O=R.textPadding=B.padding,F=O?O[1]+O[3]:0,H=R.font=B.font||e.font;R.contentHeight=Ku(H);var j=Kt(B.height,R.contentHeight);if(R.innerHeight=j,O&&(j+=O[0]+O[2]),R.height=j,R.lineHeight=go(B.lineHeight,e.lineHeight,j),R.align=B&&B.align||e.align,R.verticalAlign=B&&B.verticalAlign||"middle",C&&null!=o&&m+R.lineHeight>o){N>0?(M.tokens=M.tokens.slice(0,N),x(M,L,I),t.lines=t.lines.slice(0,T+1)):t.lines=t.lines.slice(0,T);break t}var q=B.width,Z=null==q||"auto"===q;if("string"==typeof q&&"%"===q.charAt(q.length-1))R.percentWidth=q,g.push(R),R.contentWidth=qn(R.text,H);else{if(Z){var K=B.backgroundColor,Q=K&&K.image;Q&&Mf(Q=dS(Q))&&(R.width=Math.max(R.width,Q.width*j/Q.height))}var J=k&&null!=i?i-L:null;null!=J&&J<R.width?!Z||J<F?(R.text="",R.width=R.contentWidth=0):(R.text=hS(R.text,J-F,H,e.ellipsis,{minChar:e.truncateMinChar}),R.width=R.contentWidth=qn(R.text,H)):R.contentWidth=qn(R.text,H)}R.width+=F,L+=R.width,B&&(I=Math.max(I,R.lineHeight))}x(M,L,I)}for(t.outerWidth=t.width=Kt(i,b),t.outerHeight=t.height=Kt(o,m),t.contentHeight=m,t.contentWidth=b,w&&(t.outerWidth+=w[1]+w[3],t.outerHeight+=w[0]+w[2]),T=0;T<g.length;T++){var R;(R=g[T]).width=parseInt(R.percentWidth,10)/100*t.width}return t}(dd(t),t),a=o.width,l=o.outerWidth,u=o.outerHeight,d=t.padding,g=t.y||0,m=this._defaultStyle,w=t.verticalAlign||m.verticalAlign,k=Oa(t.x||0,l,t.align||m.align),C=Bs(g,u,w),x=k,T=C;d&&(x+=d[3],T+=d[0]);var M=x+a;hd(t)&&this._renderBackground(t,t,k,C,l,u);for(var I=!!t.backgroundColor,L=0;L<o.lines.length;L++){for(var N=o.lines[L],R=N.tokens,B=R.length,O=N.lineHeight,F=N.width,H=0,j=x,q=M,Z=B-1,K=void 0;H<B&&(!(K=R[H]).align||"left"===K.align);)this._placeToken(K,t,O,T,j,"left",I),F-=K.width,j+=K.width,H++;for(;Z>=0&&"right"===(K=R[Z]).align;)this._placeToken(K,t,O,T,q,"right",I),F-=K.width,q-=K.width,Z--;for(j+=(a-(j-x)-(M-q)-F)/2;H<=Z;)this._placeToken(K=R[H],t,O,T,j+K.width/2,"center",I),j+=K.width,H++;T+=O}},e.prototype._placeToken=function(t,i,o,a,l,u,d){var p=i.rich[t.styleName]||{};p.text=t.text;var g=t.verticalAlign,m=a+o/2;"top"===g?m=a+t.height/2:"bottom"===g&&(m=a+o-t.height/2),!t.isLineHolder&&hd(p)&&this._renderBackground(p,i,"right"===u?l-t.width:"center"===u?l-t.width/2:l,m-t.height/2,t.width,t.height);var w=!!p.backgroundColor,k=t.textPadding;k&&(l=$s(l,u,k),m-=t.height/2-k[0]-t.innerHeight/2);var C=this._getOrCreateChild(cd),x=C.createStyle();C.useStyle(x);var T=this._defaultStyle,M=!1,I=0,L=Dm("fill"in p?p.fill:"fill"in i?i.fill:(M=!0,T.fill)),N=Tm("stroke"in p?p.stroke:"stroke"in i?i.stroke:w||d||T.autoStroke&&!M?null:(I=2,T.stroke)),R=p.textShadowBlur>0||i.textShadowBlur>0;x.text=t.text,x.x=l,x.y=m,R&&(x.shadowBlur=p.textShadowBlur||i.textShadowBlur||0,x.shadowColor=p.textShadowColor||i.textShadowColor||"transparent",x.shadowOffsetX=p.textShadowOffsetX||i.textShadowOffsetX||0,x.shadowOffsetY=p.textShadowOffsetY||i.textShadowOffsetY||0),x.textAlign=u,x.textBaseline="middle",x.font=t.font||Sa,x.opacity=go(p.opacity,i.opacity,1),Cm(x,p),N&&(x.lineWidth=go(p.lineWidth,i.lineWidth,I),x.lineDash=Kt(p.lineDash,i.lineDash),x.lineDashOffset=i.lineDashOffset||0,x.stroke=N),L&&(x.fill=L);var B=t.contentWidth,O=t.contentHeight;C.setBoundingRect(new $t(Oa(x.x,B,x.textAlign),Bs(x.y,O,x.textBaseline),B,O))},e.prototype._renderBackground=function(t,i,o,a,l,u){var C,x,M,d=t.backgroundColor,p=t.borderWidth,g=t.borderColor,m=d&&d.image,b=d&&!m,w=t.borderRadius,k=this;if(b||t.lineHeight||p&&g){(C=this._getOrCreateChild(Xt)).useStyle(C.createStyle()),C.style.fill=null;var T=C.shape;T.x=o,T.y=a,T.width=l,T.height=u,T.r=w,C.dirtyShape()}if(b)(M=C.style).fill=d||null,M.fillOpacity=Kt(t.fillOpacity,1);else if(m){(x=this._getOrCreateChild(or)).onload=function(){k.dirtyStyle()};var I=x.style;I.image=d.image,I.x=o,I.y=a,I.width=l,I.height=u}p&&g&&((M=C.style).lineWidth=p,M.stroke=g,M.strokeOpacity=Kt(t.strokeOpacity,1),M.lineDash=t.borderDash,M.lineDashOffset=t.borderDashOffset||0,C.strokeContainThreshold=0,C.hasFill()&&C.hasStroke()&&(M.strokeFirst=!0,M.lineWidth*=2));var L=(C||x).style;L.shadowBlur=t.shadowBlur||0,L.shadowColor=t.shadowColor||"transparent",L.shadowOffsetX=t.shadowOffsetX||0,L.shadowOffsetY=t.shadowOffsetY||0,L.opacity=go(t.opacity,i.opacity,1)},e.makeFont=function(t){var i="";return xm(t)&&(i=[t.fontStyle,t.fontWeight,v_(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),i&&Si(i)||t.textFont||t.font},e}(Rn),p_={left:!0,right:1,center:1},ES={top:1,bottom:1,middle:1},g_=["fontStyle","fontWeight","fontSize","fontFamily"];function v_(n){return"string"!=typeof n||-1===n.indexOf("px")&&-1===n.indexOf("rem")&&-1===n.indexOf("em")?isNaN(+n)?"12px":n+"px":n}function Cm(n,e){for(var t=0;t<g_.length;t++){var i=g_[t],o=e[i];null!=o&&(n[i]=o)}}function xm(n){return null!=n.fontSize||n.fontFamily||n.fontWeight}function Sm(n){if(n){n.font=ud.makeFont(n);var e=n.align;"middle"===e&&(e="center"),n.align=null==e||p_[e]?e:"left";var t=n.verticalAlign;"center"===t&&(t="middle"),n.verticalAlign=null==t||ES[t]?t:"top",n.padding&&(n.padding=Bh(n.padding))}}function Tm(n,e){return null==n||e<=0||"transparent"===n||"none"===n?null:n.image||n.colorStops?"#000":n}function Dm(n){return null==n||"none"===n?null:n.image||n.colorStops?"#000":n}function $s(n,e,t){return"right"===e?n-t[1]:"center"===e?n+t[3]/2-t[1]/2:n+t[3]}function dd(n){var e=n.text;return null!=e&&(e+=""),e}function hd(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}const ge=ud;var jt=ye(),Of=function(n,e,t,i){if(i){var o=jt(i);o.dataIndex=t,o.dataType=e,o.seriesIndex=n,"group"===i.type&&i.traverse(function(a){var l=jt(a);l.seriesIndex=n,l.dataIndex=t,l.dataType=e})}},Mm=1,y_={},he=ye(),Vf=ye(),Sr=["emphasis","blur","select"],vc=["normal","emphasis","blur","select"],aa="highlight",pd="downplay",mc="select",Hf="unselect",yc="toggleSelect";function gn(n){return null!=n&&"none"!==n}var jf=new me(100);function b_(n){if(At(n)){var e=jf.get(n);return e||(e=Hu(n,-.1),jf.put(n,e)),e}if(Rh(n)){var t=st({},n);return t.colorStops=gt(n.colorStops,function(i){return{offset:i.offset,color:Hu(i.color,-.1)}}),t}return n}function gd(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function vd(n){gd(n,"emphasis",2)}function w_(n){2===n.hoverState&&gd(n,"normal",0)}function md(n){gd(n,"blur",1)}function Im(n){1===n.hoverState&&gd(n,"normal",0)}function Ve(n){n.selected=!0}function LS(n){n.selected=!1}function Gf(n,e,t){e(n,t)}function Qi(n,e,t){Gf(n,e,t),n.isGroup&&n.traverse(function(i){Gf(i,e,t)})}function bc(n,e){switch(e){case"emphasis":n.hoverState=2;break;case"normal":n.hoverState=0;break;case"blur":n.hoverState=1;break;case"select":n.selected=!0}}function Wf(n,e){var t=this.states[n];if(this.style){if("emphasis"===n)return function(n,e,t,i){var o=t&&qt(t,"select")>=0,a=!1;if(n instanceof re){var l=he(n),u=o&&l.selectFill||l.normalFill,d=o&&l.selectStroke||l.normalStroke;if(gn(u)||gn(d)){var p=(i=i||{}).style||{};"inherit"===p.fill?(a=!0,i=st({},i),(p=st({},p)).fill=u):!gn(p.fill)&&gn(u)?(a=!0,i=st({},i),(p=st({},p)).fill=b_(u)):!gn(p.stroke)&&gn(d)&&(a||(i=st({},i),p=st({},p)),p.stroke=b_(d)),i.style=p}}return i&&null==i.z2&&(a||(i=st({},i)),i.z2=n.z2+(n.z2EmphasisLift??10)),i}(this,0,e,t);if("blur"===n)return function(n,e,t){var i=qt(n.currentStates,e)>=0,o=n.style.opacity,a=i?null:function(n,e,t,i){for(var o=n.style,a={},l=0;l<e.length;l++){var u=e[l];a[u]=o[u]??(i&&i[u])}for(l=0;l<n.animators.length;l++){var p=n.animators[l];p.__fromStateTransition&&p.__fromStateTransition.indexOf(t)<0&&"style"===p.targetName&&p.saveTo(a,e)}return a}(n,["opacity"],e,{opacity:1}),l=(t=t||{}).style||{};return null==l.opacity&&(t=st({},t),l=st({opacity:i?o:.1*a.opacity},l),t.style=l),t}(this,n,t);if("select"===n)return function(n,e,t){return t&&null==t.z2&&((t=st({},t)).z2=n.z2+(n.z2SelectLift??9)),t}(this,0,t)}return t}function Qs(n){n.stateProxy=Wf;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=Wf),t&&(t.stateProxy=Wf)}function xe(n,e){!Pm(n,e)&&!n.__highByOuter&&Qi(n,vd)}function Em(n,e){!Pm(n,e)&&!n.__highByOuter&&Qi(n,w_)}function sa(n,e){n.__highByOuter|=1<<(e||0),Qi(n,vd)}function vi(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&Qi(n,w_)}function A_(n){Qi(n,md)}function Yf(n){Qi(n,Im)}function Lm(n){Qi(n,Ve)}function C_(n){Qi(n,LS)}function Pm(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function qf(n){var e=n.getModel(),t=[],i=[];e.eachComponent(function(o,a){var l=Vf(a),u="series"===o,d=u?n.getViewOfSeriesModel(a):n.getViewOfComponentModel(a);!u&&i.push(d),l.isBlured&&(d.group.traverse(function(p){Im(p)}),u&&t.push(a)),l.isBlured=!1}),V(i,function(o){o&&o.toggleBlurSeries&&o.toggleBlurSeries(t,!1,e)})}function Zf(n,e,t,i){var o=i.getModel();function a(p,g){for(var m=0;m<g.length;m++){var b=p.getItemGraphicEl(g[m]);b&&Yf(b)}}if(t=t||"coordinateSystem",null!=n&&e&&"none"!==e){var l=o.getSeriesByIndex(n),u=l.coordinateSystem;u&&u.master&&(u=u.master);var d=[];o.eachSeries(function(p){var g=l===p,m=p.coordinateSystem;if(m&&m.master&&(m=m.master),!("series"===t&&!g||"coordinateSystem"===t&&!(m&&u?m===u:g)||"series"===e&&g)){if(i.getViewOfSeriesModel(p).group.traverse(function(x){md(x)}),tr(e))a(p.getData(),e);else if(Rt(e))for(var k=le(e),C=0;C<k.length;C++)a(p.getData(k[C]),e[k[C]]);d.push(p),Vf(p).isBlured=!0}}),o.eachComponent(function(p,g){if("series"!==p){var m=i.getViewOfComponentModel(g);m&&m.toggleBlurSeries&&m.toggleBlurSeries(d,!0,o)}})}}function $f(n,e,t){if(null!=n&&null!=e){var i=t.getModel().getComponent(n,e);if(i){Vf(i).isBlured=!0;var o=t.getViewOfComponentModel(i);!o||!o.focusBlurEnabled||o.group.traverse(function(a){md(a)})}}}function wc(n,e,t,i){var o={focusSelf:!1,dispatchers:null};if(null==n||"series"===n||null==e||null==t)return o;var a=i.getModel().getComponent(n,e);if(!a)return o;var l=i.getViewOfComponentModel(a);if(!l||!l.findHighDownDispatchers)return o;for(var d,u=l.findHighDownDispatchers(t),p=0;p<u.length;p++)if("self"===jt(u[p]).focus){d=!0;break}return{focusSelf:d,dispatchers:u}}function Js(n){V(n.getAllData(),function(t){var o=t.type;t.data.eachItemGraphicEl(function(a,l){n.isSelected(l,o)?Lm(a):C_(a)})})}function Xa(n){var e=[];return n.eachSeries(function(t){V(t.getAllData(),function(o){var l=o.type,u=t.getSelectedDataIndices();if(u.length>0){var d={dataIndex:u,seriesIndex:t.seriesIndex};null!=l&&(d.dataType=l),e.push(d)}})}),e}function la(n,e,t){ca(n,!0),Qi(n,Qs),Kf(n,e,t)}function cn(n,e,t,i){i?function(n){ca(n,!1)}(n):la(n,e,t)}function Kf(n,e,t){var i=jt(n);null!=e?(i.focus=e,i.blurScope=t):i.focus&&(i.focus=null)}var T_=["emphasis","blur","select"],D_={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ar(n,e,t,i){t=t||"itemStyle";for(var o=0;o<T_.length;o++){var a=T_[o],l=e.getModel([a,t]);n.ensureState(a).style=i?i(l):l[D_[t]]()}}function ca(n,e){var t=!1===e,i=n;n.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!t||i.__highDownDispatcher)&&(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!t)}function yd(n){return!(!n||!n.__highDownDispatcher)}function Xf(n){var e=n.type;return e===mc||e===Hf||e===yc}function M_(n){var e=n.type;return e===aa||e===pd}var Rm=ye();function _c(n,e,t,i,o){var a;if(e&&e.ecModel){var l=e.ecModel.getUpdatePayload();a=l&&l.animation}var d="update"===n;if(e&&e.isAnimationEnabled()){var p=void 0,g=void 0,m=void 0;return i?(p=Kt(i.duration,200),g=Kt(i.easing,"cubicOut"),m=0):(p=e.getShallow(d?"animationDurationUpdate":"animationDuration"),g=e.getShallow(d?"animationEasingUpdate":"animationEasing"),m=e.getShallow(d?"animationDelayUpdate":"animationDelay")),a&&(null!=a.duration&&(p=a.duration),null!=a.easing&&(g=a.easing),null!=a.delay&&(m=a.delay)),Mt(m)&&(m=m(t,o)),Mt(p)&&(p=p(t)),{duration:p||0,delay:m,easing:g}}return null}function Qf(n,e,t,i,o,a,l){var d,u=!1;Mt(o)?(l=a,a=o,o=null):Rt(o)&&(a=o.cb,l=o.during,u=o.isFrom,d=o.removeOpt,o=o.dataIndex);var p="leave"===n;p||e.stopAnimation("leave");var g=_c(n,i,o,p?d||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,o):null);if(g&&g.duration>0){var k={duration:g.duration,delay:g.delay||0,easing:g.easing,done:a,force:!!a||!!l,setToFinal:!p,scope:n,during:l};u?e.animateFrom(t,k):e.animateTo(t,k)}else e.stopAnimation(),!u&&e.attr(t),l&&l(1),a&&a()}function ke(n,e,t,i,o,a){Qf("update",n,e,t,i,o,a)}function Je(n,e,t,i,o,a){Qf("enter",n,e,t,i,o,a)}function kc(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++)if("leave"===n.animators[e].scope)return!0;return!1}function bn(n,e,t,i,o,a){kc(n)||Qf("leave",n,e,t,i,o,a)}function bd(n,e,t,i){n.removeTextContent(),n.removeTextGuideLine(),bn(n,{style:{opacity:0}},e,t,i)}function Do(n,e,t){function i(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(o){o.isGroup||bd(o,e,t,i)}):bd(n,e,t,i)}function Yr(n){Rm(n).oldStyle=n.style}var Jf={};function E_(n,e){for(var t=0;t<Sr.length;t++){var i=Sr[t],o=e[i],a=n.ensureState(i);a.style=a.style||{},a.style.text=o}var l=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(l,!0)}function tp(n,e,t){var u,i=n.labelFetcher,o=n.labelDataIndex,a=n.labelDimIndex,l=e.normal;i&&(u=i.getFormattedLabel(o,"normal",null,a,l&&l.get("formatter"),null!=t?{interpolatedValue:t}:null)),null==u&&(u=Mt(n.defaultText)?n.defaultText(o,n,t):n.defaultText);for(var d={normal:u},p=0;p<Sr.length;p++){var g=Sr[p],m=e[g];d[g]=Kt(i?i.getFormattedLabel(o,g,null,a,m&&m.get("formatter")):null,u)}return d}function sr(n,e,t,i){t=t||Jf;for(var o=n instanceof ge,a=!1,l=0;l<vc.length;l++)if((u=e[vc[l]])&&u.getShallow("show")){a=!0;break}var d=o?n:n.getTextContent();if(a){o||(d||(d=new ge,n.setTextContent(d)),n.stateProxy&&(d.stateProxy=n.stateProxy));var p=tp(t,e),g=e.normal,m=!!g.getShallow("show"),b=We(g,i&&i.normal,t,!1,!o);for(b.text=p.normal,o||n.setTextConfig(ep(g,t,!1)),l=0;l<Sr.length;l++){var u,w=Sr[l];if(u=e[w]){var k=d.ensureState(w),C=!!Kt(u.getShallow("show"),m);C!==m&&(k.ignore=!C),k.style=We(u,i&&i[w],t,!0,!o),k.style.text=p[w],o||(n.ensureState(w).textConfig=ep(u,t,!0))}}d.silent=!!g.getShallow("silent"),null!=d.style.x&&(b.x=d.style.x),null!=d.style.y&&(b.y=d.style.y),d.ignore=!m,d.useStyle(b),d.dirty(),t.enableTextSetter&&(Ac(d).setLabelText=function(T){var M=tp(t,e,T);E_(d,M)})}else d&&(d.ignore=!0);n.dirty()}function Nn(n,e){for(var t={normal:n.getModel(e=e||"label")},i=0;i<Sr.length;i++){var o=Sr[i];t[o]=n.getModel([o,e])}return t}function We(n,e,t,i,o){var a={};return function(n,e,t,i,o){t=t||Jf;var d,a=e.ecModel,l=a&&a.option.textStyle,u=function(n){for(var e;n&&n!==n.ecModel;){var t=(n.option||Jf).rich;if(t){e=e||{};for(var i=le(t),o=0;o<i.length;o++)e[i[o]]=1}n=n.parentModel}return e}(e);if(u)for(var p in d={},u)if(u.hasOwnProperty(p)){var g=e.getModel(["rich",p]);zm(d[p]={},g,l,t,i,o,!1,!0)}d&&(n.rich=d);var m=e.get("overflow");m&&(n.overflow=m);var b=e.get("minMargin");null!=b&&(n.margin=b),zm(n,e,l,t,i,o,!0,!1)}(a,n,t,i,o),e&&st(a,e),a}function ep(n,e,t){e=e||{};var o,i={},a=n.getShallow("rotate"),l=Kt(n.getShallow("distance"),t?null:5),u=n.getShallow("offset");return"outside"===(o=n.getShallow("position")||(t?null:"inside"))&&(o=e.defaultOutsidePosition||"top"),null!=o&&(i.position=o),null!=u&&(i.offset=u),null!=a&&(a*=Math.PI/180,i.rotation=a),null!=l&&(i.distance=l),i.outsideFill="inherit"===n.get("color")?e.inheritColor||null:"auto",i}var Nm=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],P_=["align","lineHeight","width","height","tag","verticalAlign"],Bm=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function zm(n,e,t,i,o,a,l,u){t=!o&&t||Jf;var d=i&&i.inheritColor,p=e.getShallow("color"),g=e.getShallow("textBorderColor"),m=Kt(e.getShallow("opacity"),t.opacity);("inherit"===p||"auto"===p)&&(p=d||null),("inherit"===g||"auto"===g)&&(g=d||null),a||(p=p||t.color,g=g||t.textBorderColor),null!=p&&(n.fill=p),null!=g&&(n.stroke=g);var b=Kt(e.getShallow("textBorderWidth"),t.textBorderWidth);null!=b&&(n.lineWidth=b);var w=Kt(e.getShallow("textBorderType"),t.textBorderType);null!=w&&(n.lineDash=w);var k=Kt(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);null!=k&&(n.lineDashOffset=k),!o&&null==m&&!u&&(m=i&&i.defaultOpacity),null!=m&&(n.opacity=m),!o&&!a&&null==n.fill&&i.inheritColor&&(n.fill=i.inheritColor);for(var C=0;C<Nm.length;C++)null!=(T=Kt(e.getShallow(x=Nm[C]),t[x]))&&(n[x]=T);for(C=0;C<P_.length;C++)null!=(T=e.getShallow(x=P_[C]))&&(n[x]=T);if(null==n.verticalAlign){var M=e.getShallow("baseline");null!=M&&(n.verticalAlign=M)}if(!l||!i.disableBox){for(C=0;C<Bm.length;C++){var x,T;null!=(T=e.getShallow(x=Bm[C]))&&(n[x]=T)}var I=e.getShallow("borderType");null!=I&&(n.borderDash=I),("auto"===n.backgroundColor||"inherit"===n.backgroundColor)&&d&&(n.backgroundColor=d),("auto"===n.borderColor||"inherit"===n.borderColor)&&d&&(n.borderColor=d)}}function R_(n,e){var t=e&&e.getModel("textStyle");return Si([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var Ac=ye();function Om(n,e,t,i){if(n){var o=Ac(n);o.prevValue=o.value,o.value=t;var a=e.normal;o.valueAnimation=a.get("valueAnimation"),o.valueAnimation&&(o.precision=a.get("precision"),o.defaultInterpolatedText=i,o.statesModels=e)}}function N_(n,e,t,i,o){var a=Ac(n);if(a.valueAnimation&&a.prevValue!==a.value){var l=a.defaultInterpolatedText,u=Kt(a.interpolatedValue,a.prevValue),d=a.value;n.percent=0,(null==a.prevValue?Je:ke)(n,{percent:1},i,e,null,function(g){var m=Ya(t,a.precision,u,d,g);a.interpolatedValue=1===g?null:m;var b=tp({labelDataIndex:e,labelFetcher:o,defaultText:l?l(m):m+""},a.statesModels,m);E_(n,b)})}}var np=["textStyle","color"],wd=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],Vm=new ge,Fm=function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(np):null)},n.prototype.getFont=function(){return R_({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<wd.length;i++)t[wd[i]]=this.getShallow(wd[i]);return Vm.useStyle(t),Vm.update(),Vm.getBoundingRect()},n}();const Cc=Fm;var Hm=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],jS=Hs(Hm),B_=function(){function n(){}return n.prototype.getLineStyle=function(e){return jS(this,e)},n}(),z_=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],rp=Hs(z_),ip=function(){function n(){}return n.prototype.getItemStyle=function(e,t){return rp(this,e,t)},n}(),tl=function(){function n(e,t,i){this.parentModel=t,this.ecModel=i,this.option=e}return n.prototype.init=function(e,t,i){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a]},n.prototype.mergeOption=function(e,t){Pt(this.option,e,!0)},n.prototype.get=function(e,t){return null==e?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var i=this.option,o=null==i?i:i[e];if(null==o&&!t){var a=this.parentModel;a&&(o=a.getShallow(e))}return o},n.prototype.getModel=function(e,t){var i=null!=e,o=i?this.parsePath(e):null;return new n(i?this._doGet(o):this.option,t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(o)),this.ecModel)},n.prototype.isEmpty=function(){return null==this.option},n.prototype.restoreData=function(){},n.prototype.clone=function(){return new(0,this.constructor)(Lt(this.option))},n.prototype.parsePath=function(e){return"string"==typeof e?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!de.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var i=this.option;if(!e)return i;for(var o=0;o<e.length&&(!e[o]||null!=(i=i&&"object"==typeof i?i[e[o]]:null));o++);return null==i&&t&&(i=t._doGet(this.resolveParentPath(e),t.parentModel)),i},n}();pm(tl),function(n){var e=["__\0is_clz",Kw++].join("_");n.prototype[e]=!0,n.isInstance=function(t){return!(!t||!t[e])}}(tl),fn(tl,B_),fn(tl,ip),fn(tl,Qw),fn(tl,Cc);const Ye=tl;var O_=Math.round(10*Math.random());function xc(n){return[n||"",O_++].join("_")}function Qa(n,e){return Pt(Pt({},n,!0),e,!0)}var kd={},Um={},Wm=de.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function F_(n,e){n=n.toUpperCase(),Um[n]=new Ye(e),kd[n]=e}function Sc(n){return Um[n]}F_("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),F_("ZH",{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var Li=36e5,lr=24*Li,Tc=365*lr,Dc={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},lp="{yyyy}-{MM}-{dd}",ua={year:"{yyyy}",month:"{yyyy}-{MM}",day:lp,hour:lp+" "+Dc.hour,minute:lp+" "+Dc.minute,second:lp+" "+Dc.second,millisecond:Dc.none},Ym=["year","month","day","hour","minute","second","millisecond"],cp=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function el(n,e){return"0000".substr(0,e-(n+="").length)+n}function da(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function US(n){return n===da(n)}function tn(n,e,t,i){var o=Ii(n),a=o[up(t)](),l=o[Mc(t)]()+1,u=Math.floor((l-1)/3)+1,d=o[Ic(t)](),p=o["get"+(t?"UTC":"")+"Day"](),g=o[nl(t)](),m=(g-1)%12+1,b=o[dp(t)](),w=o[Pi(t)](),k=o[Mo(t)](),x=(i instanceof Ye?i:Sc(i||Wm)||Um.EN).getModel("time"),T=x.get("month"),M=x.get("monthAbbr"),I=x.get("dayOfWeek"),L=x.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,a%100+"").replace(/{Q}/g,u+"").replace(/{MMMM}/g,T[l-1]).replace(/{MMM}/g,M[l-1]).replace(/{MM}/g,el(l,2)).replace(/{M}/g,l+"").replace(/{dd}/g,el(d,2)).replace(/{d}/g,d+"").replace(/{eeee}/g,I[p]).replace(/{ee}/g,L[p]).replace(/{e}/g,p+"").replace(/{HH}/g,el(g,2)).replace(/{H}/g,g+"").replace(/{hh}/g,el(m+"",2)).replace(/{h}/g,m+"").replace(/{mm}/g,el(b,2)).replace(/{m}/g,b+"").replace(/{ss}/g,el(w,2)).replace(/{s}/g,w+"").replace(/{SSS}/g,el(k,3)).replace(/{S}/g,k+"")}function U_(n,e){var t=Ii(n),i=t[Mc(e)]()+1,o=t[Ic(e)](),a=t[nl(e)](),l=t[dp(e)](),u=t[Pi(e)](),p=0===t[Mo(e)](),g=p&&0===u,m=g&&0===l,b=m&&0===a,w=b&&1===o;return w&&1===i?"year":w?"month":b?"day":m?"hour":g?"minute":p?"second":"millisecond"}function W_(n,e,t){var i=_e(n)?Ii(n):n;switch(e=e||U_(n,t)){case"year":return i[up(t)]();case"half-year":return i[Mc(t)]()>=6?1:0;case"quarter":return Math.floor((i[Mc(t)]()+1)/4);case"month":return i[Mc(t)]();case"day":return i[Ic(t)]();case"half-day":return i[nl(t)]()/24;case"hour":return i[nl(t)]();case"minute":return i[dp(t)]();case"second":return i[Pi(t)]();case"millisecond":return i[Mo(t)]()}}function up(n){return n?"getUTCFullYear":"getFullYear"}function Mc(n){return n?"getUTCMonth":"getMonth"}function Ic(n){return n?"getUTCDate":"getDate"}function nl(n){return n?"getUTCHours":"getHours"}function dp(n){return n?"getUTCMinutes":"getMinutes"}function Pi(n){return n?"getUTCSeconds":"getSeconds"}function Mo(n){return n?"getUTCMilliseconds":"getMilliseconds"}function Ja(n){return n?"setUTCFullYear":"setFullYear"}function qm(n){return n?"setUTCMonth":"setMonth"}function Y_(n){return n?"setUTCDate":"setDate"}function Zm(n){return n?"setUTCHours":"setHours"}function q_(n){return n?"setUTCMinutes":"setMinutes"}function $m(n){return n?"setUTCSeconds":"setSeconds"}function Z_(n){return n?"setUTCMilliseconds":"setMilliseconds"}function $_(n){if(!Ju(n))return At(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function Km(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,i){return i.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var rl=Bh;function hp(n,e,t){function o(g){return g&&Si(g)?g:"-"}function a(g){return!(null==g||isNaN(g)||!isFinite(g))}var l="time"===e,u=n instanceof Date;if(l||u){var d=l?Ii(n):n;if(!isNaN(+d))return tn(d,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",t);if(u)return"-"}if("ordinal"===e)return Mu(n)?o(n):_e(n)&&a(n)?n+"":"-";var p=ta(n);return a(p)?$_(p):Mu(n)?o(n):"boolean"==typeof n?n+"":"-"}var K_=["a","b","c","d","e","f","g"],ha=function(n,e){return"{"+n+(e??"")+"}"};function X_(n,e,t){pt(e)||(e=[e]);var i=e.length;if(!i)return"";for(var o=e[0].$vars||[],a=0;a<o.length;a++){var l=K_[a];n=n.replace(ha(l),ha(l,0))}for(var u=0;u<i;u++)for(var d=0;d<o.length;d++){var p=e[u][o[d]];n=n.replace(ha(K_[d],u),t?An(p):p)}return n}function ts(n,e){return e=e||"transparent",At(n)?n:Rt(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function Cd(n,e){if("_blank"===e||"blank"===e){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var xd=V,Xm=["left","right","top","bottom","width","height"],il=[["width","left","right"],["height","top","bottom"]];function fp(n,e,t,i,o){var a=0,l=0;null==i&&(i=1/0),null==o&&(o=1/0);var u=0;e.eachChild(function(d,p){var w,k,g=d.getBoundingRect(),m=e.childAt(p+1),b=m&&m.getBoundingRect();if("horizontal"===n){var C=g.width+(b?-b.x+g.x:0);(w=a+C)>i||d.newline?(a=0,w=C,l+=u+t,u=g.height):u=Math.max(u,g.height)}else{var x=g.height+(b?-b.y+g.y:0);(k=l+x)>o||d.newline?(a+=u+t,l=0,k=x,u=g.width):u=Math.max(u,g.width)}d.newline||(d.x=a,d.y=l,d.markRedraw(),"horizontal"===n?a=w+t:l=k+t)})}var ol=fp;function Bn(n,e,t){t=rl(t||0);var i=e.width,o=e.height,a=_t(n.left,i),l=_t(n.top,o),u=_t(n.right,i),d=_t(n.bottom,o),p=_t(n.width,i),g=_t(n.height,o),m=t[2]+t[0],b=t[1]+t[3],w=n.aspect;switch(isNaN(p)&&(p=i-u-b-a),isNaN(g)&&(g=o-d-m-l),null!=w&&(isNaN(p)&&isNaN(g)&&(w>i/o?p=.8*i:g=.8*o),isNaN(p)&&(p=w*g),isNaN(g)&&(g=p/w)),isNaN(a)&&(a=i-u-p-b),isNaN(l)&&(l=o-d-g-m),n.left||n.right){case"center":a=i/2-p/2-t[3];break;case"right":a=i-p-b}switch(n.top||n.bottom){case"middle":case"center":l=o/2-g/2-t[0];break;case"bottom":l=o-g-m}a=a||0,l=l||0,isNaN(p)&&(p=i-b-a-(u||0)),isNaN(g)&&(g=o-m-l-(d||0));var k=new $t(a+t[3],l+t[0],p,g);return k.margin=t,k}function Sd(n,e,t,i,o,a){var p,l=!o||!o.hv||o.hv[0],u=!o||!o.hv||o.hv[1],d=o&&o.boundingMode||"all";if((a=a||n).x=n.x,a.y=n.y,!l&&!u)return!1;if("raw"===d)p="group"===n.type?new $t(0,0,+e.width||0,+e.height||0):n.getBoundingRect();else if(p=n.getBoundingRect(),n.needLocalTransform()){var g=n.getLocalTransform();(p=p.clone()).applyTransform(g)}var m=Bn(Et({width:p.width,height:p.height},e),t,i),b=l?m.x-p.x:0,w=u?m.y-p.y:0;return"raw"===d?(a.x=b,a.y=w):(a.x+=b,a.y+=w),a===n&&n.markRedraw(),!0}function Td(n){var e=n.layoutMode||n.constructor.layoutMode;return Rt(e)?e:e?{type:e}:null}function es(n,e,t){var i=t&&t.ignoreSize;!pt(i)&&(i=[i,i]);var o=l(il[0],0),a=l(il[1],1);function l(g,m){var b={},w=0,k={},C=0;if(xd(g,function(I){k[I]=n[I]}),xd(g,function(I){u(e,I)&&(b[I]=k[I]=e[I]),d(b,I)&&w++,d(k,I)&&C++}),i[m])return d(e,g[1])?k[g[2]]=null:d(e,g[2])&&(k[g[1]]=null),k;if(2===C||!w)return k;if(w>=2)return b;for(var T=0;T<g.length;T++){var M=g[T];if(!u(b,M)&&u(n,M)){b[M]=n[M];break}}return b}function u(g,m){return g.hasOwnProperty(m)}function d(g,m){return null!=g[m]&&"auto"!==g[m]}function p(g,m,b){xd(g,function(w){m[w]=b[w]})}p(il[0],n,o),p(il[1],n,a)}function Ec(n){return ek({},n)}function ek(n,e){return e&&n&&xd(Xm,function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}Gt(fp,"vertical"),Gt(fp,"horizontal");var nk=ye(),Lc=function(n){function e(t,i,o){var a=n.call(this,t,i,o)||this;return a.uid=xc("ec_cpt_model"),a}return tt(e,n),e.prototype.init=function(t,i,o){this.mergeDefaultAndTheme(t,o)},e.prototype.mergeDefaultAndTheme=function(t,i){var o=Td(this),a=o?Ec(t):{};Pt(t,i.getTheme().get(this.mainType)),Pt(t,this.getDefaultOption()),o&&es(t,a,o)},e.prototype.mergeOption=function(t,i){Pt(this.option,t,!0);var o=Td(this);o&&es(this.option,t,o)},e.prototype.optionUpdated=function(t,i){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!function(n){return!(!n||!n[fm])}(t))return t.defaultOption;var i=nk(this);if(!i.defaultOption){for(var o=[],a=t;a;){var l=a.prototype.defaultOption;l&&o.push(l),a=a.superClass}for(var u={},d=o.length-1;d>=0;d--)u=Pt(u,o[d],!0);i.defaultOption=u}return i.defaultOption},e.prototype.getReferringComponents=function(t,i){var a=t+"Id";return nd(this.ecModel,t,{index:this.get(t+"Index",!0),id:this.get(a,!0)},i)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=((t=e.prototype).type="component",t.id="",t.name="",t.mainType="",t.subType="",void(t.componentIndex=0)),e;var t}(Ye);Cf(Lc,Ye),xf(Lc),function(n){var e={};n.registerSubTypeDefaulter=function(t,i){var o=ko(t);e[o.main]=i},n.determineSubType=function(t,i){var o=i.type;if(!o){var a=ko(t).main;n.hasSubTypes(t)&&e[a]&&(o=e[a](i))}return o}}(Lc),function(n,e){function i(a,l){return a[l]||(a[l]={predecessor:[],successor:[]}),a[l]}n.topologicalTravel=function(a,l,u,d){if(a.length){var p=function(a){var l={},u=[];return V(a,function(d){var p=i(l,d),m=function(a,l){var u=[];return V(a,function(d){qt(l,d)>=0&&u.push(d)}),u}(p.originalDeps=function(n){var e=[];return V(Lc.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=gt(e,function(t){return ko(t).main}),"dataset"!==n&&qt(e,"dataset")<=0&&e.unshift("dataset"),e}(d),a);p.entryCount=m.length,0===p.entryCount&&u.push(d),V(m,function(b){qt(p.predecessor,b)<0&&p.predecessor.push(b);var w=i(l,b);qt(w.successor,b)<0&&w.successor.push(d)})}),{graph:l,noEntryList:u}}(l),g=p.graph,m=p.noEntryList,b={};for(V(a,function(M){b[M]=!0});m.length;){var w=m.pop(),k=g[w],C=!!b[w];C&&(u.call(d,w,k.originalDeps.slice()),delete b[w]),V(k.successor,C?T:x)}V(b,function(){throw new Error("")})}function x(M){g[M].entryCount--,0===g[M].entryCount&&m.push(M)}function T(M){b[M]=!0,x(M)}}}(Lc);const be=Lc;var ik="";"undefined"!=typeof navigator&&(ik=navigator.platform||"");var al="rgba(0, 0, 0, 0.2)";const ok={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:al,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:al,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:al,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:al,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:al,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:al,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:ik.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var Qm=Tt(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Zr="original",Kn="arrayRows",Dr="objectRows",mi="keyedColumns",Io="typedArray",ak="unknown",Eo="column",sl="row",sk=ye();function lk(n,e,t){var i={},o=ns(e);if(!o||!n)return i;var g,m,a=[],l=[],d=sk(e.ecModel).datasetMap,p=o.uid+"_"+t.seriesLayoutBy;V(n=n.slice(),function(C,x){var T=Rt(C)?C:n[x]={name:C};"ordinal"===T.type&&null==g&&(g=x,m=k(T)),i[T.name]=[]});var b=d.get(p)||d.set(p,{categoryWayDim:m,valueWayDim:0});function w(C,x,T){for(var M=0;M<T;M++)C.push(x+M)}function k(C){var x=C.dimsDef;return x?x.length:1}return V(n,function(C,x){var T=C.name,M=k(C);if(null==g)w(i[T],I=b.valueWayDim,M),w(l,I,M),b.valueWayDim+=M;else if(g===x)w(i[T],0,M),w(a,0,M);else{var I;w(i[T],I=b.categoryWayDim,M),w(l,I,M),b.categoryWayDim+=M}}),a.length&&(i.itemName=a),l.length&&(i.seriesName=l),i}function Jm(n,e,t){var i={};if(!ns(n))return i;var u,a=e.sourceFormat,l=e.dimensionsDefine;(a===Dr||a===mi)&&V(l,function(g,m){"name"===(Rt(g)?g.name:g)&&(u=m)});var d=function(){for(var g={},m={},b=[],w=0,k=Math.min(5,t);w<k;w++){var C=ey(e.data,a,e.seriesLayoutBy,l,e.startIndex,w);b.push(C);var x=3===C;if(x&&null==g.v&&w!==u&&(g.v=w),(null==g.n||g.n===g.v||!x&&3===b[g.n])&&(g.n=w),T(g)&&3!==b[g.n])return g;x||(2===C&&null==m.v&&w!==u&&(m.v=w),(null==m.n||m.n===m.v)&&(m.n=w))}function T(M){return null!=M.v&&null!=M.n}return T(g)?g:T(m)?m:null}();if(d){i.value=[d.v];var p=u??d.n;i.itemName=[p],i.seriesName=[p]}return i}function ns(n){if(!n.get("data",!0))return nd(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},Sn).models[0]}function ty(n,e){return ey(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function ey(n,e,t,i,o,a){var l,d,p;if(dr(n))return 3;if(i){var g=i[a];Rt(g)?(d=g.name,p=g.type):At(g)&&(d=g)}if(null!=p)return"ordinal"===p?1:3;if(e===Kn){var m=n;if(t===sl){for(var b=m[a],w=0;w<(b||[]).length&&w<5;w++)if(null!=(l=L(b[o+w])))return l}else for(w=0;w<m.length&&w<5;w++){var k=m[o+w];if(k&&null!=(l=L(k[a])))return l}}else if(e===Dr){var C=n;if(!d)return 3;for(w=0;w<C.length&&w<5;w++)if((x=C[w])&&null!=(l=L(x[d])))return l}else if(e===mi){if(!d)return 3;if(!(b=n[d])||dr(b))return 3;for(w=0;w<b.length&&w<5;w++)if(null!=(l=L(b[w])))return l}else if(e===Zr){var M=n;for(w=0;w<M.length&&w<5;w++){var x,I=Wa(x=M[w]);if(!pt(I))return 3;if(null!=(l=L(I[a])))return l}}function L(N){var R=At(N);return null!=N&&isFinite(N)&&""!==N?R?2:3:R&&"-"!==N?1:void 0}return 3}var ny=Tt(),ck=ye(),XS=ye(),pp=function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,i){var o=De(this.get("color",!0)),a=this.get("colorLayer",!0);return ry(this,ck,o,a,e,t,i)},n.prototype.clearColorPalette=function(){!function(n,e){e(n).paletteIdx=0,e(n).paletteNameMap={}}(this,ck)},n}();function gp(n,e,t,i){var o=De(n.get(["aria","decal","decals"]));return ry(n,XS,o,null,e,t,i)}function ry(n,e,t,i,o,a,l){var u=e(a=a||n),d=u.paletteIdx||0,p=u.paletteNameMap=u.paletteNameMap||{};if(p.hasOwnProperty(o))return p[o];var g=null!=l&&i?function(n,e){for(var t=n.length,i=0;i<t;i++)if(n[i].length>e)return n[i];return n[t-1]}(i,l):t;if((g=g||t)&&g.length){var m=g[d];return o&&(p[o]=m),u.paletteIdx=(d+1)%g.length,m}}var Dd,Rc,oy,vp="\0_ec_inner",sy=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.prototype.init=function(t,i,o,a,l,u){a=a||{},this.option=null,this._theme=new Ye(a),this._locale=new Ye(l),this._optionManager=u},e.prototype.setOption=function(t,i,o){var a=Kr(i);this._optionManager.setOption(t,o,a),this._resetOption(null,a)},e.prototype.resetOption=function(t,i){return this._resetOption(t,Kr(i))},e.prototype._resetOption=function(t,i){var o=!1,a=this._optionManager;if(!t||"recreate"===t){var l=a.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(l,i)):oy(this,l),o=!0}if(("timeline"===t||"media"===t)&&this.restoreData(),!t||"recreate"===t||"timeline"===t){var u=a.getTimelineOption(this);u&&(o=!0,this._mergeOption(u,i))}if(!t||"recreate"===t||"media"===t){var d=a.getMediaOption(this);d.length&&V(d,function(p){o=!0,this._mergeOption(p,i)},this)}return o},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,i){var o=this.option,a=this._componentsMap,l=this._componentsCount,u=[],d=Tt(),p=i&&i.replaceMergeMainTypeMap;(function(n){sk(n).datasetMap=Tt()})(this),V(t,function(m,b){null!=m&&(be.hasClass(b)?b&&(u.push(b),d.set(b,!0)):o[b]=null==o[b]?Lt(m):Pt(o[b],m,!0))}),p&&p.each(function(m,b){be.hasClass(b)&&!d.get(b)&&(u.push(b),d.set(b,!0))}),be.topologicalTravel(u,be.getAllClassMainTypes(),function(m){var b=function(n,e,t){var i=ny.get(e);if(!i)return t;var o=i(n);return o?t.concat(o):t}(this,m,De(t[m])),w=a.get(m),C=um(w,b,w?p&&p.get(m)?"replaceMerge":"normalMerge":"replaceAll");(function(n,e,t){V(n,function(i){var o=i.newOption;Rt(o)&&(i.keyInfo.mainType=e,i.keyInfo.subType=function(n,e,t,i){return e.type?e.type:t?t.subType:i.determineSubType(n,e)}(e,o,i.existing,t))})})(C,m,be),o[m]=null,a.set(m,null),l.set(m,0);var I,x=[],T=[],M=0;V(C,function(N,R){var B=N.existing,O=N.newOption;if(O){var H=be.getClass(m,N.keyInfo.subType,!("series"===m));if(!H)return;if("tooltip"===m){if(I)return;I=!0}if(B&&B.constructor===H)B.name=N.keyInfo.name,B.mergeOption(O,this),B.optionUpdated(O,!1);else{var Z=st({componentIndex:R},N.keyInfo);st(B=new H(O,this,this,Z),Z),N.brandNew&&(B.__requireNewView=!0),B.init(O,this,this),B.optionUpdated(null,!0)}}else B&&(B.mergeOption({},this),B.optionUpdated({},!1));B?(x.push(B.option),T.push(B),M++):(x.push(void 0),T.push(void 0))},this),o[m]=x,a.set(m,T),l.set(m,M),"series"===m&&Dd(this)},this),this._seriesIndices||Dd(this)},e.prototype.getOption=function(){var t=Lt(this.option);return V(t,function(i,o){if(be.hasClass(o)){for(var a=De(i),l=a.length,u=!1,d=l-1;d>=0;d--)a[d]&&!uc(a[d])?u=!0:(a[d]=null,!u&&l--);a.length=l,t[o]=a}}),delete t[vp],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,i){var o=this._componentsMap.get(t);if(o){var a=o[i||0];if(a)return a;if(null==i)for(var l=0;l<o.length;l++)if(o[l])return o[l]}},e.prototype.queryComponents=function(t){var i=t.mainType;if(!i)return[];var d,o=t.index,a=t.id,l=t.name,u=this._componentsMap.get(i);return u&&u.length?(null!=o?(d=[],V(De(o),function(p){u[p]&&d.push(u[p])})):d=null!=a?fk("id",a,u):null!=l?fk("name",l,u):Le(u,function(p){return!!p}),$r(d,t)):[]},e.prototype.findComponents=function(t){var p,g,m,b,o=t.mainType,a=(g=o+"Index",m=o+"Id",b=o+"Name",!(p=t.query)||null==p[g]&&null==p[m]&&null==p[b]?null:{mainType:o,index:p[g],id:p[m],name:p[b]}),l=a?this.queryComponents(a):Le(this._componentsMap.get(o),function(p){return!!p});return function(p){return t.filter?Le(p,t.filter):p}($r(l,t))},e.prototype.eachComponent=function(t,i,o){var a=this._componentsMap;if(Mt(t)){var l=i,u=t;a.each(function(m,b){for(var w=0;m&&w<m.length;w++){var k=m[w];k&&u.call(l,b,k,k.componentIndex)}})}else for(var d=At(t)?a.get(t):Rt(t)?this.findComponents(t):null,p=0;d&&p<d.length;p++){var g=d[p];g&&i.call(o,g,g.componentIndex)}},e.prototype.getSeriesByName=function(t){var i=mn(t,null);return Le(this._componentsMap.get("series"),function(o){return!!o&&null!=i&&o.name===i})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Le(this._componentsMap.get("series"),function(i){return!!i&&i.subType===t})},e.prototype.getSeries=function(){return Le(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,i){Rc(this),V(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];t.call(i,a,o)},this)},e.prototype.eachRawSeries=function(t,i){V(this._componentsMap.get("series"),function(o){o&&t.call(i,o,o.componentIndex)})},e.prototype.eachSeriesByType=function(t,i,o){Rc(this),V(this._seriesIndices,function(a){var l=this._componentsMap.get("series")[a];l.subType===t&&i.call(o,l,a)},this)},e.prototype.eachRawSeriesByType=function(t,i,o){return V(this.getSeriesByType(t),i,o)},e.prototype.isSeriesFiltered=function(t){return Rc(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,i){Rc(this);var o=[];V(this._seriesIndices,function(a){var l=this._componentsMap.get("series")[a];t.call(i,l,a)&&o.push(a)},this),this._seriesIndices=o,this._seriesIndicesMap=Tt(o)},e.prototype.restoreData=function(t){Dd(this);var i=this._componentsMap,o=[];i.each(function(a,l){be.hasClass(l)&&o.push(l)}),be.topologicalTravel(o,be.getAllClassMainTypes(),function(a){V(i.get(a),function(l){l&&("series"!==a||!function(n,e){if(e){var t=e.seriesIndex,i=e.seriesId,o=e.seriesName;return null!=t&&n.componentIndex!==t||null!=i&&n.id!==i||null!=o&&n.name!==o}}(l,t))&&l.restoreData()})})},e.internalField=(Dd=function(t){var i=t._seriesIndices=[];V(t._componentsMap.get("series"),function(o){o&&i.push(o.componentIndex)}),t._seriesIndicesMap=Tt(i)},Rc=function(t){},void(oy=function(t,i){t.option={},t.option[vp]=1,t._componentsMap=Tt({series:[]}),t._componentsCount=Tt();var o=i.aria;Rt(o)&&null==o.enabled&&(o.enabled=!0),function(n,e){var t=n.color&&!n.colorLayer;V(e,function(i,o){"colorLayer"===o&&t||be.hasClass(o)||("object"==typeof i?n[o]=n[o]?Pt(n[o],i,!1):Lt(i):null==n[o]&&(n[o]=i))})}(i,t._theme.option),Pt(i,ok,!1),t._mergeOption(i,null)})),e}(Ye);function fk(n,e,t){if(pt(e)){var i=Tt();return V(e,function(a){null!=a&&null!=mn(a,null)&&i.set(a,!0)}),Le(t,function(a){return a&&i.get(a[n])})}var o=mn(e,null);return Le(t,function(a){return a&&null!=o&&a[n]===o})}function $r(n,e){return e.hasOwnProperty("subType")?Le(n,function(t){return t&&t.subType===e.subType}):n}function Kr(n){var e=Tt();return n&&V(De(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}fn(sy,pp);const Ji=sy;var fa=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];const ly=function(e){V(fa,function(t){this[t]=Ct(e[t],e)},this)};var mp={},nT=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(e,t){var i=[];V(mp,function(o,a){var l=o.create(e,t);i=i.concat(l||[])}),this._coordinateSystems=i},n.prototype.update=function(e,t){V(this._coordinateSystems,function(i){i.update&&i.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(e,t){mp[e]=t},n.get=function(e){return mp[e]},n}();const ll=nT;var gk=/^(min|max)?(.+)$/,cy=function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,i){e&&(V(De(e.series),function(l){l&&l.data&&dr(l.data)&&zh(l.data)}),V(De(e.dataset),function(l){l&&l.source&&dr(l.source)&&zh(l.source)})),e=Lt(e);var o=this._optionBackup,a=function(n,e,t){var o,a,i=[],l=n.baseOption,u=n.timeline,d=n.options,p=n.media,g=!!n.media,m=!!(d||u||l&&l.timeline);function b(w){V(e,function(k){k(w,t)})}return l?(a=l).timeline||(a.timeline=u):((m||g)&&(n.options=n.media=null),a=n),g&&pt(p)&&V(p,function(w){w&&w.option&&(w.query?i.push(w):o||(o=w))}),b(a),V(d,function(w){return b(w)}),V(i,function(w){return b(w.option)}),{baseOption:a,timelineOptions:d||[],mediaDefault:o,mediaList:i}}(e,t,!o);this._newBaseOption=a.baseOption,o?(a.timelineOptions.length&&(o.timelineOptions=a.timelineOptions),a.mediaList.length&&(o.mediaList=a.mediaList),a.mediaDefault&&(o.mediaDefault=a.mediaDefault)):this._optionBackup=a},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],Lt(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,i=this._timelineOptions;if(i.length){var o=e.getComponent("timeline");o&&(t=Lt(i[o.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var t=this._api.getWidth(),i=this._api.getHeight(),o=this._mediaList,a=this._mediaDefault,l=[],u=[];if(!o.length&&!a)return u;for(var d=0,p=o.length;d<p;d++)rT(o[d].query,t,i)&&l.push(d);return!l.length&&a&&(l=[-1]),l.length&&!function(n,e){return n.join(",")===e.join(",")}(l,this._currentMediaIndices)&&(u=gt(l,function(g){return Lt(-1===g?a.option:o[g].option)})),this._currentMediaIndices=l,u},n}();function rT(n,e,t){var i={width:e,height:t,aspectratio:e/t},o=!0;return V(n,function(a,l){var u=l.match(gk);if(u&&u[1]&&u[2]){var d=u[1],p=u[2].toLowerCase();(function(n,e,t){return"min"===t?n>=e:"max"===t?n<=e:n===e})(i[p],a,d)||(o=!1)}}),o}const oT=cy;var to=V,Nc=Rt,yk=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function uy(n){var e=n&&n.itemStyle;if(e)for(var t=0,i=yk.length;t<i;t++){var o=yk[t],a=e.normal,l=e.emphasis;a&&a[o]&&(n[o]=n[o]||{},n[o].normal?Pt(n[o].normal,a[o]):n[o].normal=a[o],a[o]=null),l&&l[o]&&(n[o]=n[o]||{},n[o].emphasis?Pt(n[o].emphasis,l[o]):n[o].emphasis=l[o],l[o]=null)}}function mr(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var i=n[e].normal,o=n[e].emphasis;i&&(t?(n[e].normal=n[e].emphasis=null,Et(n[e],i)):n[e]=i),o&&(n.emphasis=n.emphasis||{},n.emphasis[e]=o,o.focus&&(n.emphasis.focus=o.focus),o.blurScope&&(n.emphasis.blurScope=o.blurScope))}}function Md(n){mr(n,"itemStyle"),mr(n,"lineStyle"),mr(n,"areaStyle"),mr(n,"label"),mr(n,"labelLine"),mr(n,"upperLabel"),mr(n,"edgeLabel")}function Dn(n,e){var t=Nc(n)&&n[e],i=Nc(t)&&t.textStyle;if(i)for(var o=0,a=cm.length;o<a;o++){var l=cm[o];i.hasOwnProperty(l)&&(t[l]=i[l])}}function Ri(n){n&&(Md(n),Dn(n,"label"),n.emphasis&&Dn(n.emphasis,"label"))}function pa(n){return pt(n)?n:n?[n]:[]}function wk(n){return(pt(n)?n[0]:n)||{}}function Ni(n){n&&V(_k,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var _k=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],cT=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],dy=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Bc(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<dy.length;t++){var i=dy[t][1];null!=e[i]&&(e[dy[t][0]]=e[i])}}function hy(n){!n||"edge"===n.alignTo&&null!=n.margin&&null==n.edgeDistance&&(n.edgeDistance=n.margin)}function kk(n){!n||n.downplay&&!n.blur&&(n.blur=n.downplay)}function ga(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&ga(n[t].children,e)}function cl(n,e){(function(n,e){to(pa(n.series),function(i){Nc(i)&&function(n){if(Nc(n)){uy(n),Md(n),Dn(n,"label"),Dn(n,"upperLabel"),Dn(n,"edgeLabel"),n.emphasis&&(Dn(n.emphasis,"label"),Dn(n.emphasis,"upperLabel"),Dn(n.emphasis,"edgeLabel"));var e=n.markPoint;e&&(uy(e),Ri(e));var t=n.markLine;t&&(uy(t),Ri(t));var i=n.markArea;i&&Ri(i);var o=n.data;if("graph"===n.type){o=o||n.nodes;var a=n.links||n.edges;if(a&&!dr(a))for(var l=0;l<a.length;l++)Ri(a[l]);V(n.categories,function(p){Md(p)})}if(o&&!dr(o))for(l=0;l<o.length;l++)Ri(o[l]);if((e=n.markPoint)&&e.data){var u=e.data;for(l=0;l<u.length;l++)Ri(u[l])}if((t=n.markLine)&&t.data){var d=t.data;for(l=0;l<d.length;l++)pt(d[l])?(Ri(d[l][0]),Ri(d[l][1])):Ri(d[l])}"gauge"===n.type?(Dn(n,"axisLabel"),Dn(n,"title"),Dn(n,"detail")):"treemap"===n.type?(mr(n.breadcrumb,"itemStyle"),V(n.levels,function(p){Md(p)})):"tree"===n.type&&Md(n.leaves)}}(i)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),to(t,function(i){to(pa(n[i]),function(o){o&&(Dn(o,"axisLabel"),Dn(o.axisPointer,"label"))})}),to(pa(n.parallel),function(i){var o=i&&i.parallelAxisDefault;Dn(o,"axisLabel"),Dn(o&&o.axisPointer,"label")}),to(pa(n.calendar),function(i){mr(i,"itemStyle"),Dn(i,"dayLabel"),Dn(i,"monthLabel"),Dn(i,"yearLabel")}),to(pa(n.radar),function(i){Dn(i,"name"),i.name&&null==i.axisName&&(i.axisName=i.name,delete i.name),null!=i.nameGap&&null==i.axisNameGap&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),to(pa(n.geo),function(i){Nc(i)&&(Ri(i),to(pa(i.regions),function(o){Ri(o)}))}),to(pa(n.timeline),function(i){Ri(i),mr(i,"label"),mr(i,"itemStyle"),mr(i,"controlStyle",!0);var o=i.data;pt(o)&&V(o,function(a){Rt(a)&&(mr(a,"label"),mr(a,"itemStyle"))})}),to(pa(n.toolbox),function(i){mr(i,"iconStyle"),to(i.feature,function(o){mr(o,"iconStyle")})}),Dn(wk(n.axisPointer),"label"),Dn(wk(n.tooltip).axisPointer,"label")})(n,e),n.series=De(n.series),V(n.series,function(t){if(Rt(t)){var i=t.type;if("line"===i)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===i||"gauge"===i){if(null!=t.clockWise&&(t.clockwise=t.clockWise),hy(t.label),(o=t.data)&&!dr(o))for(var a=0;a<o.length;a++)hy(o[a]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===i){var l=function(n,e){for(var t="pointer.color".split(","),i=n,o=0;o<t.length&&null!=(i=i&&i[t[o]]);o++);return i}(t);null!=l&&function(n,e,t,i){for(var l,o="itemStyle.color".split(","),a=n,u=0;u<o.length-1;u++)null==a[l=o[u]]&&(a[l]={}),a=a[l];null==a[o[u]]&&(a[o[u]]=t)}(t,0,l)}else if("bar"===i){var o;if(Bc(t),Bc(t.backgroundStyle),Bc(t.emphasis),(o=t.data)&&!dr(o))for(a=0;a<o.length;a++)"object"==typeof o[a]&&(Bc(o[a]),Bc(o[a]&&o[a].emphasis))}else if("sunburst"===i){var u=t.highlightPolicy;u&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=u)),kk(t),ga(t.data,kk)}else"graph"===i||"sankey"===i?function(n){!n||null!=n.focusNodeAdjacency&&(n.emphasis=n.emphasis||{},null==n.emphasis.focus&&(n.emphasis.focus="adjacency"))}(t):"map"===i&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&Et(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),Ni(t)}}),n.dataRange&&(n.visualMap=n.dataRange),V(cT,function(t){var i=n[t];i&&(pt(i)||(i=[i]),V(i,function(o){Ni(o)}))})}function yp(n){V(n,function(e,t){var i=[],o=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],l=e.data,u=e.isStackedByIndex,d=e.seriesModel.get("stackStrategy")||"samesign";l.modify(a,function(p,g,m){var w,k,b=l.get(e.stackedDimension,m);if(isNaN(b))return o;u?k=l.getRawIndex(m):w=l.get(e.stackedByDimension,m);for(var C=NaN,x=t-1;x>=0;x--){var T=n[x];if(u||(k=T.data.rawIndexOf(T.stackedByDimension,w)),k>=0){var M=T.data.getByRawIndex(T.stackResultDimension,k);if("all"===d||"positive"===d&&M>0||"negative"===d&&M<0||"samesign"===d&&b>=0&&M>0||"samesign"===d&&b<=0&&M<0){b=zw(b,M),C=M;break}}}return i[0]=b,i[1]=C,i})})}var ul=function(e){this.data=e.data||(e.sourceFormat===mi?{}:[]),this.sourceFormat=e.sourceFormat||ak,this.seriesLayoutBy=e.seriesLayoutBy||Eo,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var i=0;i<t.length;i++){var o=t[i];null==o.type&&1===ty(this,i)&&(o.type="ordinal")}};function rs(n){return n instanceof ul}function fy(n,e,t){t=t||dl(n);var i=e.seriesLayoutBy,o=function(n,e,t,i,o){var a,l;if(!n)return{dimensionsDefine:Ck(o),startIndex:l,dimensionsDetectedCount:a};if(e===Kn){var u=n;"auto"===i||null==i?zc(function(p){null!=p&&"-"!==p&&(At(p)?null==l&&(l=1):l=0)},t,u,10):l=_e(i)?i:i?1:0,!o&&1===l&&(o=[],zc(function(p,g){o[g]=null!=p?p+"":""},t,u,1/0)),a=o?o.length:t===sl?u.length:u[0]?u[0].length:null}else if(e===Dr)o||(o=function(n){for(var t,e=0;e<n.length&&!(t=n[e++]););if(t){var i=[];return V(t,function(o,a){i.push(a)}),i}}(n));else if(e===mi)o||(o=[],V(n,function(p,g){o.push(g)}));else if(e===Zr){var d=Wa(n[0]);a=pt(d)&&d.length||1}return{startIndex:l,dimensionsDefine:Ck(o),dimensionsDetectedCount:a}}(n,t,i,e.sourceHeader,e.dimensions);return new ul({data:n,sourceFormat:t,seriesLayoutBy:i,dimensionsDefine:o.dimensionsDefine,startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount,metaRawOption:Lt(e)})}function Id(n){return new ul({data:n,sourceFormat:dr(n)?Io:Zr})}function dT(n){return new ul({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:Lt(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function dl(n){var e=ak;if(dr(n))e=Io;else if(pt(n)){0===n.length&&(e=Kn);for(var t=0,i=n.length;t<i;t++){var o=n[t];if(null!=o){if(pt(o)){e=Kn;break}if(Rt(o)){e=Dr;break}}}}else if(Rt(n))for(var a in n)if(xt(n,a)&&tr(n[a])){e=mi;break}return e}function Ck(n){if(n){var e=Tt();return gt(n,function(t,i){var o={name:(t=Rt(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==o.name)return o;o.name+="",null==o.displayName&&(o.displayName=o.name);var a=e.get(o.name);return a?o.name+="-"+a.count++:e.set(o.name,{count:1}),o})}}function zc(n,e,t,i){if(e===sl)for(var o=0;o<t.length&&o<i;o++)n(t[o]?t[o][0]:null,o);else{var a=t[0]||[];for(o=0;o<a.length&&o<i;o++)n(a[o],o)}}function xk(n){var e=n.sourceFormat;return e===Dr||e===mi}var va,hl,eo,Sk,bp,Tk=function(){function n(e,t){var i=rs(e)?e:Id(e);this._source=i;var o=this._data=i.data;i.sourceFormat===Io&&(this._offset=0,this._dimSize=t,this._data=o),bp(this,o,i)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=function(){var e=n.prototype;e.pure=!1,e.persistent=!0}(),n.internalField=function(){var e;bp=function(l,u,d){var p=d.sourceFormat,g=d.seriesLayoutBy,m=d.startIndex,b=d.dimensionsDefine;if(st(l,Sk[_p(p,g)]),p===Io)l.getItem=t,l.count=o,l.fillStorage=i;else{var k=gy(p,g);l.getItem=Ct(k,null,u,m,b);var C=my(p,g);l.count=Ct(C,null,u,m,b)}};var t=function(l,u){u=u||[];for(var d=this._data,p=this._dimSize,g=p*(l-=this._offset),m=0;m<p;m++)u[m]=d[g+m];return u},i=function(l,u,d,p){for(var g=this._data,m=this._dimSize,b=0;b<m;b++){for(var w=p[b],k=w[0]??1/0,C=w[1]??-1/0,x=u-l,T=d[b],M=0;M<x;M++){var I=g[M*m+b];T[l+M]=I,I<k&&(k=I),I>C&&(C=I)}w[0]=k,w[1]=C}},o=function(){return this._data?this._data.length/this._dimSize:0};function a(l){for(var u=0;u<l.length;u++)this._data.push(l[u])}(e={})[Kn+"_"+Eo]={pure:!0,appendData:a},e[Kn+"_"+sl]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Dr]={pure:!0,appendData:a},e[mi]={pure:!0,appendData:function(l){var u=this._data;V(l,function(d,p){for(var g=u[p]||(u[p]=[]),m=0;m<(d||[]).length;m++)g.push(d[m])})}},e[Zr]={appendData:a},e[Io]={persistent:!1,pure:!0,appendData:function(l){this._data=l},clean:function(){this._offset+=this.count(),this._data=null}},Sk=e}(),n}(),Dk=function(n,e,t,i){return n[i]},wp=((va={})[Kn+"_"+Eo]=function(n,e,t,i){return n[i+e]},va[Kn+"_"+sl]=function(n,e,t,i,o){i+=e;for(var a=o||[],l=n,u=0;u<l.length;u++){var d=l[u];a[u]=d?d[i]:null}return a},va[Dr]=Dk,va[mi]=function(n,e,t,i,o){for(var a=o||[],l=0;l<t.length;l++){var d=n[t[l].name];a[l]=d?d[i]:null}return a},va[Zr]=Dk,va);function gy(n,e){return wp[_p(n,e)]}var vy=function(n,e,t){return n.length},fT=((hl={})[Kn+"_"+Eo]=function(n,e,t){return Math.max(0,n.length-e)},hl[Kn+"_"+sl]=function(n,e,t){var i=n[0];return i?Math.max(0,i.length-e):0},hl[Dr]=vy,hl[mi]=function(n,e,t){var o=n[t[0].name];return o?o.length:0},hl[Zr]=vy,hl);function my(n,e){return fT[_p(n,e)]}var yy=function(n,e,t){return n[e]},pT=((eo={})[Kn]=yy,eo[Dr]=function(n,e,t){return n[t]},eo[mi]=yy,eo[Zr]=function(n,e,t){var i=Wa(n);return i instanceof Array?i[e]:i},eo[Io]=yy,eo);function Mk(n){return pT[n]}function _p(n,e){return n===Kn?n+"_"+e:n}function fl(n,e,t){if(n){var i=n.getRawDataItem(e);if(null!=i){var o=n.getStore(),a=o.getSource().sourceFormat;if(null!=t){var l=n.getDimensionIndex(t),u=o.getDimensionProperty(l);return Mk(a)(i,l,u)}var d=i;return a===Zr&&(d=Wa(i)),d}}}var vT=/\{@(.+?)\}/g,by=function(){function n(){}return n.prototype.getDataParams=function(e,t){var i=this.getData(t),o=this.getRawValue(e,t),a=i.getRawIndex(e),l=i.getName(e),u=i.getRawDataItem(e),d=i.getItemVisual(e,"style"),p=d&&d[i.getItemVisual(e,"drawType")||"fill"],g=d&&d.stroke,m=this.mainType,b="series"===m,w=i.userOutput&&i.userOutput.get();return{componentType:m,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:b?this.subType:null,seriesIndex:this.seriesIndex,seriesId:b?this.id:null,seriesName:b?this.name:null,name:l,dataIndex:a,data:u,dataType:t,value:o,color:p,borderColor:g,dimensionNames:w?w.fullDimensions:null,encode:w?w.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,i,o,a,l){t=t||"normal";var u=this.getData(i),d=this.getDataParams(e,i);return l&&(d.value=l.interpolatedValue),null!=o&&pt(d.value)&&(d.value=d.value[o]),a||(a=u.getItemModel(e).get("normal"===t?["label","formatter"]:[t,"label","formatter"])),Mt(a)?(d.status=t,d.dimensionIndex=o,a(d)):At(a)?X_(a,d).replace(vT,function(m,b){var w=b.length,k=b;"["===k.charAt(0)&&"]"===k.charAt(w-1)&&(k=+k.slice(1,w-1));var C=fl(u,e,k);if(l&&pt(l.interpolatedValue)){var x=u.getDimensionIndex(k);x>=0&&(C=l.interpolatedValue[x])}return null!=C?C+"":""}):void 0},n.prototype.getRawValue=function(e,t){return fl(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,i){},n}();function wy(n){var e,t;return Rt(n)?n.type&&(t=n):e=n,{text:e,frag:t}}function Ed(n){return new mT(n)}var mT=function(){function n(e){this._reset=(e=e||{}).reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var a,t=this._upstream,i=e&&e.skip;if(this._dirty&&t){var o=this.context;o.data=o.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(a=this._plan(this.context));var m,l=g(this._modBy),u=this._modDataCount||0,d=g(e&&e.modBy),p=e&&e.modDataCount||0;function g(M){return!(M>=1)&&(M=1),M}(l!==d||u!==p)&&(a="reset"),(this._dirty||"reset"===a)&&(this._dirty=!1,m=this._doReset(i)),this._modBy=d,this._modDataCount=p;var b=e&&e.step;if(this._dueEnd=t?t._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var w=this._dueIndex,k=Math.min(null!=b?this._dueIndex+b:1/0,this._dueEnd);if(!i&&(m||w<k)){var C=this._progress;if(pt(C))for(var x=0;x<C.length;x++)this._doProgress(C[x],w,k,d,p);else this._doProgress(C,w,k,d,p)}this._dueIndex=k,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:k}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,i,o,a){Ik.reset(t,i,o,a),this._callingProgress=e,this._callingProgress({start:t,end:i,count:i-t,next:Ik.next},this.context)},n.prototype._doReset=function(e){var t,i;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!e&&this._reset&&((t=this._reset(this.context))&&t.progress&&(i=t.forceFirstProgress,t=t.progress),pt(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var o=this._downstream;return o&&o.dirty(),i},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n}(),Ik=function(){var n,e,t,i,o,a={reset:function(d,p,g,m){e=d,n=p,t=g,i=m,o=Math.ceil(i/t),a.next=t>1&&i>0?u:l}};return a;function l(){return e<n?e++:null}function u(){var d=e%o*t+Math.ceil(e/o),p=e>=n?null:d<i?d:e;return e++,p}}();function Me(n){throw new Error(n)}function is(n,e){var t=e&&e.type;return"ordinal"===t?n:("time"===t&&!_e(n)&&null!=n&&"-"!==n&&(n=+Ii(n)),null==n||""===n?NaN:+n)}"undefined"!=typeof console&&console.warn&&console;var Lk=Tt({number:function(n){return parseFloat(n)},time:function(n){return+Ii(n)},trim:function(n){return At(n)?Si(n):n}});function Pk(n){return Lk.get(n)}var Oc={lt:function(n,e){return n<e},lte:function(n,e){return n<=e},gt:function(n,e){return n>e},gte:function(n,e){return n>=e}},wT=function(){function n(e,t){_e(t)||Me(""),this._opFn=Oc[e],this._rvalFloat=ta(t)}return n.prototype.evaluate=function(e){return _e(e)?this._opFn(e,this._rvalFloat):this._opFn(ta(e),this._rvalFloat)},n}(),ky=function(){function n(e,t){var i="desc"===e;this._resultLT=i?1:-1,null==t&&(t=i?"min":"max"),this._incomparable="min"===t?-1/0:1/0}return n.prototype.evaluate=function(e,t){var i=_e(e)?e:ta(e),o=_e(t)?t:ta(t),a=isNaN(i),l=isNaN(o);if(a&&(i=this._incomparable),l&&(o=this._incomparable),a&&l){var u=At(e),d=At(t);u&&(i=d?e:0),d&&(o=u?t:0)}return i<o?this._resultLT:i>o?-this._resultLT:0},n}(),Ay=function(){function n(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=ta(t)}return n.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var i=typeof e;i!==this._rvalTypeof&&("number"===i||"number"===this._rvalTypeof)&&(t=ta(e)===this._rvalFloat)}return this._isEQ?t:!t},n}();function _T(n,e){return"eq"===n||"ne"===n?new Ay("eq"===n,e):xt(Oc,n)?new wT(n,e):null}var Rk=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return is(e,t)},n}();function AT(n){return Cp(n.sourceFormat)||Me(""),n.data}function Ld(n){var e=n.sourceFormat,t=n.data;if(Cp(e)||Me(""),e===Kn){for(var o=[],a=0,l=t.length;a<l;a++)o.push(t[a].slice());return o}if(e===Dr){for(o=[],a=0,l=t.length;a<l;a++)o.push(st({},t[a]));return o}}function Nk(n,e,t){if(null!=t){if(_e(t)||!isNaN(t)&&!xt(e,t))return n[t];if(xt(e,t))return e[t]}}function Bk(n){return Lt(n)}var zk=Tt();function Ok(n,e,t,i){e.length||Me(""),Rt(n)||Me("");var l=zk.get(n.type);l||Me("");var u=gt(e,function(g){return function(n,e){var t=new Rk,i=n.data,o=t.sourceFormat=n.sourceFormat,a=n.startIndex;n.seriesLayoutBy!==Eo&&Me("");var u=[],d={},p=n.dimensionsDefine;if(p)V(p,function(C,x){var T=C.name,M={index:x,name:T,displayName:C.displayName};u.push(M),null!=T&&(xt(d,T)&&Me(""),d[T]=M)});else for(var g=0;g<n.dimensionsDetectedCount;g++)u.push({index:g});var m=gy(o,Eo);e.__isBuiltIn&&(t.getRawDataItem=function(C){return m(i,a,u,C)},t.getRawData=Ct(AT,null,n)),t.cloneRawData=Ct(Ld,null,n);var b=my(o,Eo);t.count=Ct(b,null,i,a,u);var w=Mk(o);t.retrieveValue=function(C,x){var T=m(i,a,u,C);return k(T,x)};var k=t.retrieveValueFromItem=function(C,x){if(null!=C){var T=u[x];if(T)return w(C,x,T.name)}};return t.getDimensionInfo=Ct(Nk,null,u,d),t.cloneAllDimensionInfo=Ct(Bk,null,u),t}(g,l)});return gt(De(l.transform({upstream:u[0],upstreamList:u,config:Lt(n.config)})),function(g,m){Rt(g)||Me(""),g.data||Me(""),Cp(dl(g.data))||Me("");var k,C=e[0];if(C&&0===m&&!g.dimensions){var x=C.startIndex;x&&(g.data=C.data.slice(0,x).concat(g.data)),k={seriesLayoutBy:Eo,sourceHeader:x,dimensions:C.metaRawOption.dimensions}}else k={seriesLayoutBy:Eo,sourceHeader:0,dimensions:g.dimensions};return fy(g.data,k,null)})}function Cp(n){return n===Kn||n===Dr}var Xr,xp="undefined",Sp=typeof Uint32Array===xp?Array:Uint32Array,ST=typeof Uint16Array===xp?Array:Uint16Array,Cy=typeof Int32Array===xp?Array:Int32Array,xy=typeof Float64Array===xp?Array:Float64Array,Tp={float:xy,int:Cy,ordinal:Array,number:Array,time:xy};function Vc(n){return n>65535?Sp:ST}function Vk(n){var e=n.constructor;return e===Array?n.slice():new e(n)}function Fk(n,e,t,i,o){var a=Tp[t||"float"];if(o){var l=n[e],u=l&&l.length;if(u!==i){for(var d=new a(i),p=0;p<u;p++)d[p]=l[p];n[e]=d}}else n[e]=new a(i)}var Hk=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Tt()}return n.prototype.initData=function(e,t,i){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var o=e.getSource(),a=this.defaultDimValueGetter=Xr[o.sourceFormat];this._dimValueGetter=i||a,this._rawExtent=[],xk(o),this._dimensions=gt(t,function(u){return{type:u.type,property:u.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var i=this._calcDimNameToIdx,o=this._dimensions,a=i.get(e);if(null!=a){if(o[a].type===t)return a}else a=o.length;return o[a]={type:t},i.set(e,a),this._chunks[a]=new Tp[t||"float"](this._rawCount),this._rawExtent[a]=[1/0,-1/0],a},n.prototype.collectOrdinalMeta=function(e,t){var i=this._chunks[e],o=this._dimensions[e],a=this._rawExtent,l=o.ordinalOffset||0,u=i.length;0===l&&(a[e]=[1/0,-1/0]);for(var d=a[e],p=l;p<u;p++){var g=i[p]=t.parseAndCollect(i[p]);isNaN(g)||(d[0]=Math.min(g,d[0]),d[1]=Math.max(g,d[1]))}o.ordinalMeta=t,o.ordinalOffset=u,o.type="ordinal"},n.prototype.getOrdinalMeta=function(e){return this._dimensions[e].ordinalMeta},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,i=this.count();t.appendData(e);var o=t.count();return t.persistent||(o+=i),i<o&&this._initDataFromProvider(i,o,!0),[i,o]},n.prototype.appendValues=function(e,t){for(var i=this._chunks,o=this._dimensions,a=o.length,l=this._rawExtent,u=this.count(),d=u+Math.max(e.length,t||0),p=0;p<a;p++)Fk(i,p,o[p].type,d,!0);for(var m=[],b=u;b<d;b++)for(var w=b-u,k=0;k<a;k++){var C=Xr.arrayRows.call(this,e[w]||m,o[k].property,w,k);i[k][b]=C;var x=l[k];C<x[0]&&(x[0]=C),C>x[1]&&(x[1]=C)}return this._rawCount=this._count=d,{start:u,end:d}},n.prototype._initDataFromProvider=function(e,t,i){for(var o=this._provider,a=this._chunks,l=this._dimensions,u=l.length,d=this._rawExtent,p=gt(l,function(M){return M.property}),g=0;g<u;g++){var m=l[g];d[g]||(d[g]=[1/0,-1/0]),Fk(a,g,m.type,t,i)}if(o.fillStorage)o.fillStorage(e,t,a,d);else for(var b=[],w=e;w<t;w++){b=o.getItem(w,b);for(var k=0;k<u;k++){var C=a[k],x=this._dimValueGetter(b,p[k],w,k);C[w]=x;var T=d[k];x<T[0]&&(T[0]=x),x>T[1]&&(T[1]=x)}}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var i=this._chunks[e];return i?i[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var i=[],o=[];if(null==t){t=e,e=[];for(var a=0;a<this._dimensions.length;a++)o.push(a)}else o=e;a=0;for(var l=o.length;a<l;a++)i.push(this.get(o[a],t));return i},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var i=this._chunks[e];return i?i[t]:NaN},n.prototype.getSum=function(e){var i=0;if(this._chunks[e])for(var o=0,a=this.count();o<a;o++){var l=this.get(e,o);isNaN(l)||(i+=l)}return i},n.prototype.getMedian=function(e){var t=[];this.each([e],function(a){isNaN(a)||t.push(a)});var i=t.sort(function(a,l){return a-l}),o=this.count();return 0===o?0:o%2==1?i[(o-1)/2]:(i[o/2]+i[o/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,i=t[e];if(null!=i&&i<this._count&&i===e)return e;for(var o=0,a=this._count-1;o<=a;){var l=(o+a)/2|0;if(t[l]<e)o=l+1;else{if(!(t[l]>e))return l;a=l-1}}return-1},n.prototype.indicesOfNearest=function(e,t,i){var a=this._chunks[e],l=[];if(!a)return l;null==i&&(i=1/0);for(var u=1/0,d=-1,p=0,g=0,m=this.count();g<m;g++){var w=t-a[this.getRawIndex(g)],k=Math.abs(w);k<=i&&((k<u||k===u&&w>=0&&d<0)&&(u=k,d=w,p=0),w===d&&(l[p++]=g))}return l.length=p,l},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var o=this._count;if((i=t.constructor)===Array){e=new i(o);for(var a=0;a<o;a++)e[a]=t[a]}else e=new i(t.buffer,0,o)}else{var i;for(e=new(i=Vc(this._rawCount))(this.count()),a=0;a<e.length;a++)e[a]=a}return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var i=this.clone(),o=i.count(),l=new(Vc(i._rawCount))(o),u=[],d=e.length,p=0,g=e[0],m=i._chunks,b=0;b<o;b++){var w=void 0,k=i.getRawIndex(b);if(0===d)w=t(b);else if(1===d)w=t(m[g][k],b);else{for(var x=0;x<d;x++)u[x]=m[e[x]][k];u[x]=b,w=t.apply(null,u)}w&&(l[p++]=k)}return p<o&&(i._indices=l),i._count=p,i._extent=[],i._updateGetRawIdx(),i},n.prototype.selectRange=function(e){var t=this.clone(),i=t._count;if(!i)return this;var o=le(e),a=o.length;if(!a)return this;var l=t.count(),d=new(Vc(t._rawCount))(l),p=0,g=o[0],m=e[g][0],b=e[g][1],w=t._chunks,k=!1;if(!t._indices){var C=0;if(1===a){for(var x=w[o[0]],T=0;T<i;T++)((M=x[T])>=m&&M<=b||isNaN(M))&&(d[p++]=C),C++;k=!0}else if(2===a){x=w[o[0]];var I=w[o[1]],L=e[o[1]][0],N=e[o[1]][1];for(T=0;T<i;T++){var R=I[T];((M=x[T])>=m&&M<=b||isNaN(M))&&(R>=L&&R<=N||isNaN(R))&&(d[p++]=C),C++}k=!0}}if(!k)if(1===a)for(T=0;T<l;T++){var B=t.getRawIndex(T);((M=w[o[0]][B])>=m&&M<=b||isNaN(M))&&(d[p++]=B)}else for(T=0;T<l;T++){for(var O=!0,F=(B=t.getRawIndex(T),0);F<a;F++){var M,H=o[F];((M=w[H][B])<e[H][0]||M>e[H][1])&&(O=!1)}O&&(d[p++]=t.getRawIndex(T))}return p<l&&(t._indices=d),t._count=p,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var i=this.clone(e);return this._updateDims(i,e,t),i},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,i){for(var o=e._chunks,a=[],l=t.length,u=e.count(),d=[],p=e._rawExtent,g=0;g<t.length;g++)p[t[g]]=[1/0,-1/0];for(var m=0;m<u;m++){for(var b=e.getRawIndex(m),w=0;w<l;w++)d[w]=o[t[w]][b];d[l]=m;var k=i&&i.apply(null,d);if(null!=k)for("object"!=typeof k&&(a[0]=k,k=a),g=0;g<k.length;g++){var C=t[g],x=k[g],T=p[C],M=o[C];M&&(M[b]=x),x<T[0]&&(T[0]=x),x>T[1]&&(T[1]=x)}}},n.prototype.lttbDownSample=function(e,t){var g,m,b,i=this.clone([e],!0),a=i._chunks[e],l=this.count(),u=0,d=Math.floor(1/t),p=this.getRawIndex(0),w=new(Vc(this._rawCount))(Math.min(2*(Math.ceil(l/d)+2),l));w[u++]=p;for(var k=1;k<l-1;k+=d){for(var C=Math.min(k+d,l-1),x=Math.min(k+2*d,l),T=(x+C)/2,M=0,I=C;I<x;I++){var N=a[L=this.getRawIndex(I)];isNaN(N)||(M+=N)}M/=x-C;var R=k,B=Math.min(k+d,l),O=k-1,F=a[p];g=-1,b=R;var H=-1,j=0;for(I=R;I<B;I++){var L;N=a[L=this.getRawIndex(I)],isNaN(N)?(j++,H<0&&(H=L)):(m=Math.abs((O-T)*(N-F)-(O-I)*(M-F)))>g&&(g=m,b=L)}j>0&&j<B-R&&(w[u++]=Math.min(H,b),b=Math.max(H,b)),w[u++]=b,p=b}return w[u++]=this.getRawIndex(l-1),i._count=u,i._indices=w,i.getRawIndex=this._getRawIdx,i},n.prototype.downSample=function(e,t,i,o){for(var a=this.clone([e],!0),l=a._chunks,u=[],d=Math.floor(1/t),p=l[e],g=this.count(),m=a._rawExtent[e]=[1/0,-1/0],b=new(Vc(this._rawCount))(Math.ceil(g/d)),w=0,k=0;k<g;k+=d){d>g-k&&(u.length=d=g-k);for(var C=0;C<d;C++){var x=this.getRawIndex(k+C);u[C]=p[x]}var T=i(u),M=this.getRawIndex(Math.min(k+o(u,T)||0,g-1));p[M]=T,T<m[0]&&(m[0]=T),T>m[1]&&(m[1]=T),b[w++]=M}return a._count=w,a._indices=b,a._updateGetRawIdx(),a},n.prototype.each=function(e,t){if(this._count)for(var i=e.length,o=this._chunks,a=0,l=this.count();a<l;a++){var u=this.getRawIndex(a);switch(i){case 0:t(a);break;case 1:t(o[e[0]][u],a);break;case 2:t(o[e[0]][u],o[e[1]][u],a);break;default:for(var d=0,p=[];d<i;d++)p[d]=o[e[d]][u];p[d]=a,t.apply(null,p)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],i=[1/0,-1/0];if(!t)return i;var l,o=this.count();if(!this._indices)return this._rawExtent[e].slice();if(l=this._extent[e])return l.slice();for(var u=(l=i)[0],d=l[1],p=0;p<o;p++){var m=t[this.getRawIndex(p)];m<u&&(u=m),m>d&&(d=m)}return this._extent[e]=l=[u,d],l},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var i=[],o=this._chunks,a=0;a<o.length;a++)i.push(o[a][t]);return i},n.prototype.clone=function(e,t){var i=new n,o=this._chunks,a=e&&xi(e,function(u,d){return u[d]=!0,u},{});if(a)for(var l=0;l<o.length;l++)i._chunks[l]=a[l]?Vk(o[l]):o[l];else i._chunks=o;return this._copyCommonProps(i),t||(i._indices=this._cloneIndices()),i._updateGetRawIdx(),i},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Lt(this._extent),e._rawExtent=Lt(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var i=this._indices.length;t=new e(i);for(var o=0;o<i;o++)t[o]=this._indices[o]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function e(t,i,o,a){return is(t[a],this._dimensions[a])}Xr={arrayRows:e,objectRows:function(t,i,o,a){return is(t[i],this._dimensions[a])},keyedColumns:e,original:function(t,i,o,a){var l=t&&(t.value??t);return is(l instanceof Array?l[a]:l,this._dimensions[a])},typedArray:function(t,i,o,a){return t[a]}}}(),n}();const Sy=Hk;var jk=function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var o,a,e=this._sourceHost,t=this._getUpstreamSourceManagers(),i=!!t.length;if(Dp(e)){var l=e,u=void 0,d=void 0,p=void 0;if(i){var g=t[0];g.prepareSource(),u=(p=g.getSource()).data,d=p.sourceFormat,a=[g._getVersionSign()]}else d=dr(u=l.get("data",!0))?Io:Zr,a=[];var m=this._getSourceMetaRawOption()||{},b=p&&p.metaRawOption||{},w=Kt(m.seriesLayoutBy,b.seriesLayoutBy)||null,k=Kt(m.sourceHeader,b.sourceHeader),C=Kt(m.dimensions,b.dimensions);o=w!==b.seriesLayoutBy||!!k!=!!b.sourceHeader||C?[fy(u,{seriesLayoutBy:w,sourceHeader:k,dimensions:C},d)]:[]}else{var T=e;if(i){var M=this._applyTransform(t);o=M.sourceList,a=M.upstreamSignList}else o=[fy(T.get("source",!0),this._getSourceMetaRawOption(),null)],a=[]}this._setLocalSource(o,a)},n.prototype._applyTransform=function(e){var t=this._sourceHost,i=t.get("transform",!0),o=t.get("fromTransformResult",!0);null!=o&&1!==e.length&&Dy("");var l,u=[],d=[];return V(e,function(p){p.prepareSource();var g=p.getSource(o||0);null!=o&&!g&&Dy(""),u.push(g),d.push(p._getVersionSign())}),i?l=function(n,e,t){var i=De(n),o=i.length;o||Me("");for(var l=0,u=o;l<u;l++)e=Ok(i[l],e),l!==u-1&&(e.length=Math.max(e.length,1));return e}(i,u):null!=o&&(l=[dT(u[0])]),{sourceList:l,upstreamSignList:d}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var i=e[t];if(i._isDirty()||this._upstreamSignList[t]!==i._getVersionSign())return!0}},n.prototype.getSource=function(e){var t=this._sourceList[e=e||0];if(!t){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,i){var a=this._storeList,l=a[0];l||(l=a[0]={});var u=l[i];if(!u){var d=this._getUpstreamSourceManagers()[0];Dp(this._sourceHost)&&d?u=d._innerGetDataStore(e,t,i):(u=new Sy).initData(new Tk(t,e.length),e),l[i]=u}return u},n.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Dp(e)){var t=ns(e);return t?[t.getSourceManager()]:[]}return gt(function(n){return n.get("transform",!0)||n.get("fromTransformResult",!0)?nd(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},Sn).models:[]}(e),function(i){return i.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var t,i,o,e=this._sourceHost;if(Dp(e))t=e.get("seriesLayoutBy",!0),i=e.get("sourceHeader",!0),o=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;t=a.get("seriesLayoutBy",!0),i=a.get("sourceHeader",!0),o=a.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:i,dimensions:o}},n}();function Ty(n){n.option.transform&&zh(n.option.transform)}function Dp(n){return"series"===n.mainType}function Dy(n){throw new Error(n)}var My="line-height:1";function Pd(n,e){var t=n.color||"#6e7079",i=n.fontSize||12,o=n.fontWeight||"400",a=n.color||"#464646",l=n.fontSize||14,u=n.fontWeight||"900";return"html"===e?{nameStyle:"font-size:"+An(i+"")+"px;color:"+An(t)+";font-weight:"+An(o+""),valueStyle:"font-size:"+An(l+"")+"px;color:"+An(a)+";font-weight:"+An(u+"")}:{nameStyle:{fontSize:i,fill:t,fontWeight:o},valueStyle:{fontSize:l,fill:a,fontWeight:u}}}var Gk=[0,10,20,30],TT=["","\n","\n\n","\n\n\n"];function Mn(n,e){return e.type=n,e}function Mp(n){return"section"===n.type}function Iy(n){return Mp(n)?DT:MT}function Ey(n){if(Mp(n)){var e=0,t=n.blocks.length,i=t>1||t>0&&!n.noHeader;return V(n.blocks,function(o){var a=Ey(o);a>=e&&(e=a+ +(i&&(!a||Mp(o)&&!o.noHeader)))}),e}return 0}function DT(n,e,t,i){var o=e.noHeader,a=function(n){return{html:Gk[n],richText:TT[n]}}(Ey(e)),l=[],u=e.blocks||[];hr(!u||pt(u)),u=u||[];var d=n.orderMode;if(e.sortBlocks&&d){u=u.slice();var p={valueAsc:"asc",valueDesc:"desc"};if(xt(p,d)){var g=new ky(p[d],null);u.sort(function(k,C){return g.evaluate(k.sortParam,C.sortParam)})}else"seriesDesc"===d&&u.reverse()}V(u,function(k,C){var x=e.valueFormatter,T=Iy(k)(x?st(st({},n),{valueFormatter:x}):n,k,C>0?a.html:0,i);null!=T&&l.push(T)});var m="richText"===n.renderMode?l.join(a.richText):Ly(l.join(""),o?t:a.html);if(o)return m;var b=hp(e.header,"ordinal",n.useUTC),w=Pd(i,n.renderMode).nameStyle;return"richText"===n.renderMode?Yk(n,b,w)+a.richText+m:Ly('<div style="'+w+";"+My+';">'+An(b)+"</div>"+m,t)}function MT(n,e,t,i){var o=n.renderMode,a=e.noName,l=e.noValue,u=!e.markerType,d=e.name,p=n.useUTC,g=e.valueFormatter||n.valueFormatter||function(L){return gt(L=pt(L)?L:[L],function(N,R){return hp(N,pt(w)?w[R]:w,p)})};if(!a||!l){var m=u?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",o),b=a?"":hp(d,"ordinal",p),w=e.valueType,k=l?[]:g(e.value),C=!u||!a,x=!u&&a,T=Pd(i,o),M=T.nameStyle,I=T.valueStyle;return"richText"===o?(u?"":m)+(a?"":Yk(n,b,M))+(l?"":function(n,e,t,i,o){var a=[o];return t&&a.push({padding:[0,0,0,i?10:20],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(pt(e)?e.join("  "):e,a)}(n,k,C,x,I)):Ly((u?"":m)+(a?"":function(n,e,t){return'<span style="'+t+";"+(e?"margin-left:2px":"")+'">'+An(n)+"</span>"}(b,!u,M))+(l?"":function(n,e,t,i){return'<span style="'+(e?"float:right;margin-left:"+(t?"10px":"20px"):"")+";"+i+'">'+gt(n=pt(n)?n:[n],function(l){return An(l)}).join("&nbsp;&nbsp;")+"</span>"}(k,C,x,I)),t)}}function Uk(n,e,t,i,o,a){if(n)return Iy(n)({useUTC:o,renderMode:t,orderMode:i,markupStyleCreator:e,valueFormatter:n.valueFormatter},n,0,a)}function Ly(n,e){return'<div style="margin: '+e+"px 0 0;"+My+';">'+n+'<div style="clear:both"></div></div>'}function Yk(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function Zk(n,e){return ts(n.getData().getItemVisual(e,"style")[n.visualDrawType])}function $k(n,e){return n.get("padding")??("richText"===e?[8,10]:10)}var Ip=function(){function n(){this.richTextStyles={},this._nextStyleNameId=om()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,i){var o="richText"===i?this._generateStyleName():null,a=function(n,e){var t=At(n)?{color:n,extraCssText:e}:n||{},i=t.color,o=t.type;e=t.extraCssText;var a=t.renderMode||"html";return i?"html"===a?"subItem"===o?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+An(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+An(i)+";"+(e||"")+'"></span>':{renderMode:a,content:"{"+(t.markerId||"markerX")+"|}  ",style:"subItem"===o?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}({color:t,type:e,renderMode:i,markerId:o});return At(a)?a:(this.richTextStyles[o]=a.style,a.content)},n.prototype.wrapRichTextStyle=function(e,t){var i={};pt(t)?V(t,function(a){return st(i,a)}):st(i,t);var o=this._generateStyleName();return this.richTextStyles[o]=i,"{"+o+"|"+e+"}"},n}();function Ep(n){var g,m,b,w,e=n.series,t=n.dataIndex,i=n.multipleSeries,o=e.getData(),a=o.mapDimensionsAll("defaultedTooltip"),l=a.length,u=e.getRawValue(t),d=pt(u),p=Zk(e,t);if(l>1||d&&!l){var k=function(n,e,t,i,o){var a=e.getData(),l=xi(n,function(m,b,w){var k=a.getDimensionInfo(w);return m||k&&!1!==k.tooltip&&null!=k.displayName},!1),u=[],d=[],p=[];function g(m,b){var w=a.getDimensionInfo(b);!w||!1===w.otherDims.tooltip||(l?p.push(Mn("nameValue",{markerType:"subItem",markerColor:o,name:w.displayName,value:m,valueType:w.type})):(u.push(m),d.push(w.type)))}return i.length?V(i,function(m){g(fl(a,t,m),m)}):V(n,g),{inlineValues:u,inlineValueTypes:d,blocks:p}}(u,e,t,a,p);g=k.inlineValues,m=k.inlineValueTypes,b=k.blocks,w=k.inlineValues[0]}else if(l){var C=o.getDimensionInfo(a[0]);w=g=fl(o,t,a[0]),m=C.type}else w=g=d?u[0]:u;var x=kf(e),T=x&&e.name||"",M=o.getName(t),I=i?T:M;return Mn("section",{header:T,noHeader:i||!x,sortParam:w,blocks:[Mn("nameValue",{markerType:"item",markerColor:p,name:I,noName:!Si(I),value:g,valueType:m})].concat(b||[])})}var ma=ye();function Lp(n,e){return n.getName(e)||n.getId(e)}var Hc="__universalTransitionEnabled",Pp=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return tt(e,n),e.prototype.init=function(t,i,o){this.seriesIndex=this.componentIndex,this.dataTask=Ed({count:RT,reset:NT}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,o),(ma(this).sourceManager=new jk(this)).prepareSource();var l=this.getInitialData(t,o);Ry(l,this),this.dataTask.context.data=l,ma(this).dataBeforeProcessed=l,Py(this),this._initSelectedMapFromData(l)},e.prototype.mergeDefaultAndTheme=function(t,i){var o=Td(this),a=o?Ec(t):{},l=this.subType;be.hasClass(l)&&(l+="Series"),Pt(t,i.getTheme().get(this.subType)),Pt(t,this.getDefaultOption()),Ua(t,"label",["show"]),this.fillDataTextStyle(t.data),o&&es(t,a,o)},e.prototype.mergeOption=function(t,i){t=Pt(this.option,t,!0),this.fillDataTextStyle(t.data);var o=Td(this);o&&es(this.option,t,o);var a=ma(this).sourceManager;a.dirty(),a.prepareSource();var l=this.getInitialData(t,i);Ry(l,this),this.dataTask.dirty(),this.dataTask.context.data=l,ma(this).dataBeforeProcessed=l,Py(this),this._initSelectedMapFromData(l)},e.prototype.fillDataTextStyle=function(t){if(t&&!dr(t))for(var i=["show"],o=0;o<t.length;o++)t[o]&&t[o].label&&Ua(t[o],"label",i)},e.prototype.getInitialData=function(t,i){},e.prototype.appendData=function(t){this.getRawData().appendData(t.data)},e.prototype.getData=function(t){var i=Rd(this);if(i){var o=i.context.data;return null==t?o:o.getLinkedData(t)}return ma(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var i=Rd(this);if(i){var o=i.context;o.outputData=t,i!==this.dataTask&&(o.data=t)}ma(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return Tt(t)},e.prototype.getSourceManager=function(){return ma(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return ma(this).dataBeforeProcessed},e.prototype.getColorBy=function(){return this.get("colorBy")||"series"},e.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,i,o){return Ep({series:this,dataIndex:t,multipleSeries:i})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(de.node&&(!t||!t.ssr))return!1;var i=this.getShallow("animation");return i&&this.getData().count()>this.getShallow("animationThreshold")&&(i=!1),!!i},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,i,o){var a=this.ecModel,l=pp.prototype.getColorFromPalette.call(this,t,i,o);return l||(l=a.getColorFromPalette(t,i,o)),l},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,i){this._innerSelect(this.getData(i),t)},e.prototype.unselect=function(t,i){var o=this.option.selectedMap;if(o){var a=this.option.selectedMode,l=this.getData(i);if("series"===a||"all"===o)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var u=0;u<t.length;u++){var p=Lp(l,t[u]);o[p]=!1,this._selectedDataIndicesMap[p]=-1}}},e.prototype.toggleSelect=function(t,i){for(var o=[],a=0;a<t.length;a++)o[0]=t[a],this.isSelected(t[a],i)?this.unselect(o,i):this.select(o,i)},e.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,i=le(t),o=[],a=0;a<i.length;a++){var l=t[i[a]];l>=0&&o.push(l)}return o},e.prototype.isSelected=function(t,i){var o=this.option.selectedMap;if(!o)return!1;var a=this.getData(i);return("all"===o||o[Lp(a,t)])&&!a.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[Hc])return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},e.prototype._innerSelect=function(t,i){var o,a,l=this.option,u=l.selectedMode,d=i.length;if(u&&d)if("series"===u)l.selectedMap="all";else if("multiple"===u){Rt(l.selectedMap)||(l.selectedMap={});for(var p=l.selectedMap,g=0;g<d;g++){var m=i[g];p[b=Lp(t,m)]=!0,this._selectedDataIndicesMap[b]=t.getRawIndex(m)}}else if("single"===u||!0===u){var w=i[d-1],b=Lp(t,w);l.selectedMap=((o={})[b]=!0,o),this._selectedDataIndicesMap=((a={})[b]=t.getRawIndex(w),a)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var i=[];t.hasItemOption&&t.each(function(o){var a=t.getRawDataItem(o);a&&a.selected&&i.push(o)}),i.length>0&&this._innerSelect(t,i)}},e.registerClass=function(t){return be.registerClass(t)},e.protoInitialize=((t=e.prototype).type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",void(t.visualDrawType="fill")),e;var t}(be);function Py(n){var e=n.name;kf(n)||(n.name=function(n){var e=n.getRawData(),t=e.mapDimensionsAll("seriesName"),i=[];return V(t,function(o){var a=e.getDimensionInfo(o);a.displayName&&i.push(a.displayName)}),i.join(" ")}(n)||e)}function RT(n){return n.model.getRawData().count()}function NT(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),Kk}function Kk(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function Ry(n,e){V(Eu(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,Gt(Ny,e))})}function Ny(n,e){var t=Rd(n);return t&&t.setOutputEnd((e||this).count()),e}function Rd(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var i=t.currentTask;if(i){var o=i.agentStubMap;o&&(i=o.get(n.uid))}return i}}fn(Pp,by),fn(Pp,pp),Cf(Pp,be);const en=Pp;var Rp=function(){function n(){this.group=new Vt,this.uid=xc("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,i,o){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,i,o){},n.prototype.updateLayout=function(e,t,i,o){},n.prototype.updateVisual=function(e,t,i,o){},n.prototype.toggleBlurSeries=function(e,t,i){},n.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},n}();pm(Rp),xf(Rp);const nn=Rp;function pl(){var n=ye();return function(e){var t=n(e),i=e.pipelineContext,o=!!t.large,a=!!t.progressiveRender,l=t.large=!(!i||!i.large),u=t.progressiveRender=!(!i||!i.progressiveRender);return(o!==l||a!==u)&&"reset"}}var gl=Xi.CMD,Xk=[[],[],[]],Np=Math.sqrt,Qk=Math.atan2;function By(n,e){if(e){var o,a,l,u,d,p,t=n.data,i=n.len(),g=gl.M,m=gl.C,b=gl.L,w=gl.R,k=gl.A,C=gl.Q;for(l=0,u=0;l<i;){switch(o=t[l++],u=l,a=0,o){case g:case b:a=1;break;case m:a=3;break;case C:a=2;break;case k:var x=e[4],T=e[5],M=Np(e[0]*e[0]+e[1]*e[1]),I=Np(e[2]*e[2]+e[3]*e[3]),L=Qk(-e[1]/I,e[0]/M);t[l]*=M,t[l++]+=x,t[l]*=I,t[l++]+=T,t[l++]*=M,t[l++]*=I,t[l++]+=L,t[l++]+=L,u=l+=2;break;case w:p[0]=t[l++],p[1]=t[l++],Yn(p,p,e),t[u++]=p[0],t[u++]=p[1],p[0]+=t[l++],p[1]+=t[l++],Yn(p,p,e),t[u++]=p[0],t[u++]=p[1]}for(d=0;d<a;d++){var N=Xk[d];N[0]=t[l++],N[1]=t[l++],Yn(N,N,e),t[u++]=N[0],t[u++]=N[1]}}n.increaseVersion()}}var Bp=Math.sqrt,zp=Math.sin,Op=Math.cos,jc=Math.PI;function zy(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function Vp(n,e){return(n[0]*e[0]+n[1]*e[1])/(zy(n)*zy(e))}function Oy(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(Vp(n,e))}function Jk(n,e,t,i,o,a,l,u,d,p,g){var m=d*(jc/180),b=Op(m)*(n-t)/2+zp(m)*(e-i)/2,w=-1*zp(m)*(n-t)/2+Op(m)*(e-i)/2,k=b*b/(l*l)+w*w/(u*u);k>1&&(l*=Bp(k),u*=Bp(k));var C=(o===a?-1:1)*Bp((l*l*(u*u)-l*l*(w*w)-u*u*(b*b))/(l*l*(w*w)+u*u*(b*b)))||0,x=C*l*w/u,T=C*-u*b/l,M=(n+t)/2+Op(m)*x-zp(m)*T,I=(e+i)/2+zp(m)*x+Op(m)*T,L=Oy([1,0],[(b-x)/l,(w-T)/u]),N=[(b-x)/l,(w-T)/u],R=[(-1*b-x)/l,(-1*w-T)/u],B=Oy(N,R);if(Vp(N,R)<=-1&&(B=jc),Vp(N,R)>=1&&(B=0),B<0){var O=Math.round(B/jc*1e6)/1e6;B=2*jc+O%2*jc}g.addData(p,M,I,l,u,L,B,m,a)}var t1=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,BT=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,n1=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.prototype.applyTransform=function(t){},e}(re);function Vy(n){return null!=n.setData}function r1(n,e){var t=function(n){var e=new Xi;if(!n)return e;var l,t=0,i=0,o=t,a=i,u=Xi.CMD,d=n.match(t1);if(!d)return e;for(var p=0;p<d.length;p++){for(var g=d[p],m=g.charAt(0),b=void 0,w=g.match(BT)||[],k=w.length,C=0;C<k;C++)w[C]=parseFloat(w[C]);for(var x=0;x<k;){var T=void 0,M=void 0,I=void 0,L=void 0,N=void 0,R=void 0,B=void 0,O=t,F=i,H=void 0,j=void 0;switch(m){case"l":t+=w[x++],i+=w[x++],e.addData(b=u.L,t,i);break;case"L":t=w[x++],i=w[x++],e.addData(b=u.L,t,i);break;case"m":t+=w[x++],i+=w[x++],e.addData(b=u.M,t,i),o=t,a=i,m="l";break;case"M":t=w[x++],i=w[x++],e.addData(b=u.M,t,i),o=t,a=i,m="L";break;case"h":t+=w[x++],e.addData(b=u.L,t,i);break;case"H":t=w[x++],e.addData(b=u.L,t,i);break;case"v":i+=w[x++],e.addData(b=u.L,t,i);break;case"V":i=w[x++],e.addData(b=u.L,t,i);break;case"C":e.addData(b=u.C,w[x++],w[x++],w[x++],w[x++],w[x++],w[x++]),t=w[x-2],i=w[x-1];break;case"c":e.addData(b=u.C,w[x++]+t,w[x++]+i,w[x++]+t,w[x++]+i,w[x++]+t,w[x++]+i),t+=w[x-2],i+=w[x-1];break;case"S":T=t,M=i,H=e.len(),j=e.data,l===u.C&&(T+=t-j[H-4],M+=i-j[H-3]),O=w[x++],F=w[x++],t=w[x++],i=w[x++],e.addData(b=u.C,T,M,O,F,t,i);break;case"s":T=t,M=i,H=e.len(),j=e.data,l===u.C&&(T+=t-j[H-4],M+=i-j[H-3]),O=t+w[x++],F=i+w[x++],t+=w[x++],i+=w[x++],e.addData(b=u.C,T,M,O,F,t,i);break;case"Q":O=w[x++],F=w[x++],t=w[x++],i=w[x++],e.addData(b=u.Q,O,F,t,i);break;case"q":O=w[x++]+t,F=w[x++]+i,t+=w[x++],i+=w[x++],e.addData(b=u.Q,O,F,t,i);break;case"T":T=t,M=i,H=e.len(),j=e.data,l===u.Q&&(T+=t-j[H-4],M+=i-j[H-3]),t=w[x++],i=w[x++],e.addData(b=u.Q,T,M,t,i);break;case"t":T=t,M=i,H=e.len(),j=e.data,l===u.Q&&(T+=t-j[H-4],M+=i-j[H-3]),t+=w[x++],i+=w[x++],e.addData(b=u.Q,T,M,t,i);break;case"A":I=w[x++],L=w[x++],N=w[x++],R=w[x++],B=w[x++],Jk(O=t,F=i,t=w[x++],i=w[x++],R,B,I,L,N,b=u.A,e);break;case"a":I=w[x++],L=w[x++],N=w[x++],R=w[x++],B=w[x++],Jk(O=t,F=i,t+=w[x++],i+=w[x++],R,B,I,L,N,b=u.A,e)}}("z"===m||"Z"===m)&&(e.addData(b=u.Z),t=o,i=a),l=b}return e.toStatic(),e}(n),i=st({},e);return i.buildPath=function(o){var a;Vy(o)?(o.setData(t.data),(a=o.getContext())&&o.rebuildPath(a,1)):t.rebuildPath(a=o,1)},i.applyTransform=function(o){By(t,o),this.dirtyShape()},i}function Fy(n,e){return new n1(r1(n,e))}function Fp(n,e){e=e||{};var t=new re;return n.shape&&t.setShape(n.shape),t.setStyle(n.style),e.bakeTransform?By(t.path,n.getComputedTransform()):e.toLocal?t.setLocalTransform(n.getComputedTransform()):t.copyTransform(n),t.buildPath=n.buildPath,t.applyTransform=t.applyTransform,t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel,t}var i1=function(){this.cx=0,this.cy=0,this.r=0},Hy=function(n){function e(t){return n.call(this,t)||this}return tt(e,n),e.prototype.getDefaultShape=function(){return new i1},e.prototype.buildPath=function(t,i){t.moveTo(i.cx+i.r,i.cy),t.arc(i.cx,i.cy,i.r,0,2*Math.PI)},e}(re);Hy.prototype.type="circle";const no=Hy;var o1=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},a1=function(n){function e(t){return n.call(this,t)||this}return tt(e,n),e.prototype.getDefaultShape=function(){return new o1},e.prototype.buildPath=function(t,i){var o=.5522848,a=i.cx,l=i.cy,u=i.rx,d=i.ry,p=u*o,g=d*o;t.moveTo(a-u,l),t.bezierCurveTo(a-u,l-g,a-p,l-d,a,l-d),t.bezierCurveTo(a+p,l-d,a+u,l-g,a+u,l),t.bezierCurveTo(a+u,l+g,a+p,l+d,a,l+d),t.bezierCurveTo(a-p,l+d,a-u,l+g,a-u,l),t.closePath()},e}(re);a1.prototype.type="ellipse";const jy=a1;var s1=Math.PI,Gy=2*s1,os=Math.sin,vl=Math.cos,VT=Math.acos,Un=Math.atan2,Uy=Math.abs,Gc=Math.sqrt,Nd=Math.max,Lo=Math.min,ro=1e-4;function Bd(n,e,t,i,o,a,l){var u=n-t,d=e-i,p=(l?a:-a)/Gc(u*u+d*d),g=p*d,m=-p*u,b=n+g,w=e+m,k=t+g,C=i+m,x=(b+k)/2,T=(w+C)/2,M=k-b,I=C-w,L=M*M+I*I,N=o-a,R=b*C-k*w,B=(I<0?-1:1)*Gc(Nd(0,N*N*L-R*R)),O=(R*I-M*B)/L,F=(-R*M-I*B)/L,H=(R*I+M*B)/L,j=(-R*M+I*B)/L,q=O-x,Z=F-T,K=H-x,Q=j-T;return q*q+Z*Z>K*K+Q*Q&&(O=H,F=j),{cx:O,cy:F,x0:-g,y0:-m,x1:O*(o/N-1),y1:F*(o/N-1)}}var Wy=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},Hp=function(n){function e(t){return n.call(this,t)||this}return tt(e,n),e.prototype.getDefaultShape=function(){return new Wy},e.prototype.buildPath=function(t,i){!function(n,e){var t,i=Nd(e.r,0),o=Nd(e.r0||0,0),a=i>0;if(a||o>0){if(a||(i=o,o=0),o>i){var u=i;i=o,o=u}var d=e.startAngle,p=e.endAngle;if(!isNaN(d)&&!isNaN(p)){var g=e.cx,m=e.cy,b=!!e.clockwise,w=Uy(p-d),k=w>Gy&&w%Gy;if(k>ro&&(w=k),i>ro)if(w>Gy-ro)n.moveTo(g+i*vl(d),m+i*os(d)),n.arc(g,m,i,d,p,!b),o>ro&&(n.moveTo(g+o*vl(p),m+o*os(p)),n.arc(g,m,o,p,d,b));else{var C=void 0,x=void 0,T=void 0,M=void 0,I=void 0,L=void 0,N=void 0,R=void 0,B=void 0,O=void 0,F=void 0,H=void 0,j=void 0,q=void 0,Z=void 0,K=void 0,Q=i*vl(d),J=i*os(d),rt=o*vl(p),nt=o*os(p),ft=w>ro;if(ft){var yt=e.cornerRadius;yt&&(t=function(n){var e;if(pt(n)){var t=n.length;if(!t)return n;e=1===t?[n[0],n[0],0,0]:2===t?[n[0],n[0],n[1],n[1]]:3===t?n.concat(n[2]):n}else e=[n,n,n,n];return e}(yt),C=t[0],x=t[1],T=t[2],M=t[3]);var kt=Uy(i-o)/2;if(I=Lo(kt,T),L=Lo(kt,M),N=Lo(kt,C),R=Lo(kt,x),F=B=Nd(I,L),H=O=Nd(N,R),(B>ro||O>ro)&&(j=i*vl(p),q=i*os(p),Z=o*vl(d),K=o*os(d),w<s1)){var Dt=function(n,e,t,i,o,a,l,u){var d=t-n,p=i-e,g=l-o,m=u-a,b=m*d-g*p;if(!(b*b<ro))return[n+(b=(g*(e-a)-m*(n-o))/b)*d,e+b*p]}(Q,J,Z,K,j,q,rt,nt);if(Dt){var Nt=Q-Dt[0],Bt=J-Dt[1],ce=j-Dt[0],Se=q-Dt[1],ue=1/os(VT((Nt*ce+Bt*Se)/(Gc(Nt*Nt+Bt*Bt)*Gc(ce*ce+Se*Se)))/2),Ht=Gc(Dt[0]*Dt[0]+Dt[1]*Dt[1]);F=Lo(B,(i-Ht)/(ue+1)),H=Lo(O,(o-Ht)/(ue-1))}}}if(ft)if(F>ro){var fe=Lo(T,F),ne=Lo(M,F),It=Bd(Z,K,Q,J,i,fe,b),Jt=Bd(j,q,rt,nt,i,ne,b);n.moveTo(g+It.cx+It.x0,m+It.cy+It.y0),F<B&&fe===ne?n.arc(g+It.cx,m+It.cy,F,Un(It.y0,It.x0),Un(Jt.y0,Jt.x0),!b):(fe>0&&n.arc(g+It.cx,m+It.cy,fe,Un(It.y0,It.x0),Un(It.y1,It.x1),!b),n.arc(g,m,i,Un(It.cy+It.y1,It.cx+It.x1),Un(Jt.cy+Jt.y1,Jt.cx+Jt.x1),!b),ne>0&&n.arc(g+Jt.cx,m+Jt.cy,ne,Un(Jt.y1,Jt.x1),Un(Jt.y0,Jt.x0),!b))}else n.moveTo(g+Q,m+J),n.arc(g,m,i,d,p,!b);else n.moveTo(g+Q,m+J);o>ro&&ft?H>ro?(fe=Lo(C,H),It=Bd(rt,nt,j,q,o,-(ne=Lo(x,H)),b),Jt=Bd(Q,J,Z,K,o,-fe,b),n.lineTo(g+It.cx+It.x0,m+It.cy+It.y0),H<O&&fe===ne?n.arc(g+It.cx,m+It.cy,H,Un(It.y0,It.x0),Un(Jt.y0,Jt.x0),!b):(ne>0&&n.arc(g+It.cx,m+It.cy,ne,Un(It.y0,It.x0),Un(It.y1,It.x1),!b),n.arc(g,m,o,Un(It.cy+It.y1,It.cx+It.x1),Un(Jt.cy+Jt.y1,Jt.cx+Jt.x1),b),fe>0&&n.arc(g+Jt.cx,m+Jt.cy,fe,Un(Jt.y1,Jt.x1),Un(Jt.y0,Jt.x0),!b))):(n.lineTo(g+rt,m+nt),n.arc(g,m,o,p,d,b)):n.lineTo(g+rt,m+nt)}else n.moveTo(g,m);n.closePath()}}}(t,i)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(re);Hp.prototype.type="sector";const Mr=Hp;var l1=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},Yy=function(n){function e(t){return n.call(this,t)||this}return tt(e,n),e.prototype.getDefaultShape=function(){return new l1},e.prototype.buildPath=function(t,i){var o=i.cx,a=i.cy,l=2*Math.PI;t.moveTo(o+i.r,a),t.arc(o,a,i.r,0,l,!1),t.moveTo(o+i.r0,a),t.arc(o,a,i.r0,0,l,!0)},e}(re);Yy.prototype.type="ring";const zd=Yy;function u1(n,e,t){var i=e.smooth,o=e.points;if(o&&o.length>=2){if(i){var a=function(n,e,t,i){var d,p,g,m,o=[],a=[],l=[],u=[];if(i){g=[1/0,1/0],m=[-1/0,-1/0];for(var b=0,w=n.length;b<w;b++)Uo(g,g,n[b]),Ma(m,m,n[b]);Uo(g,g,i[0]),Ma(m,m,i[1])}for(b=0,w=n.length;b<w;b++){var k=n[b];if(t)d=n[b?b-1:w-1],p=n[(b+1)%w];else{if(0===b||b===w-1){o.push(Fi(n[b]));continue}d=n[b-1],p=n[b+1]}Ta(a,p,d),Da(a,a,e);var C=uv(k,d),x=uv(k,p),T=C+x;0!==T&&(C/=T,x/=T),Da(l,a,-C),Da(u,a,x);var M=cv([],k,l),I=cv([],k,u);i&&(Ma(M,M,g),Uo(M,M,m),Ma(I,I,g),Uo(I,I,m)),o.push(M),o.push(I)}return t&&o.push(o.shift()),o}(o,i,t,e.smoothConstraint);n.moveTo(o[0][0],o[0][1]);for(var l=o.length,u=0;u<(t?l:l-1);u++){var d=a[2*u],p=a[2*u+1],g=o[(u+1)%l];n.bezierCurveTo(d[0],d[1],p[0],p[1],g[0],g[1])}}else{n.moveTo(o[0][0],o[0][1]),u=1;for(var m=o.length;u<m;u++)n.lineTo(o[u][0],o[u][1])}t&&n.closePath()}}var GT=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},d1=function(n){function e(t){return n.call(this,t)||this}return tt(e,n),e.prototype.getDefaultShape=function(){return new GT},e.prototype.buildPath=function(t,i){u1(t,i,!0)},e}(re);d1.prototype.type="polygon";const Qr=d1;var UT=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},h1=function(n){function e(t){return n.call(this,t)||this}return tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new UT},e.prototype.buildPath=function(t,i){u1(t,i,!1)},e}(re);h1.prototype.type="polyline";const Jr=h1;var WT={},YT=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},f1=function(n){function e(t){return n.call(this,t)||this}return tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new YT},e.prototype.buildPath=function(t,i){var o,a,l,u;if(this.subPixelOptimize){var d=u_(WT,i,this.style);o=d.x1,a=d.y1,l=d.x2,u=d.y2}else o=i.x1,a=i.y1,l=i.x2,u=i.y2;var p=i.percent;0!==p&&(t.moveTo(o,a),p<1&&(l=o*(1-p)+l*p,u=a*(1-p)+u*p),t.lineTo(l,u))},e.prototype.pointAt=function(t){var i=this.shape;return[i.x1*(1-t)+i.x2*t,i.y1*(1-t)+i.y2*t]},e}(re);f1.prototype.type="line";const zn=f1;var Ir=[],p1=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function jp(n,e,t){return null!=n.cpx2||null!=n.cpy2?[(t?te:wt)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?te:wt)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?Ou:Pn)(n.x1,n.cpx1,n.x2,e),(t?Ou:Pn)(n.y1,n.cpy1,n.y2,e)]}var qy=function(n){function e(t){return n.call(this,t)||this}return tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new p1},e.prototype.buildPath=function(t,i){var o=i.x1,a=i.y1,l=i.x2,u=i.y2,d=i.cpx1,p=i.cpy1,g=i.cpx2,m=i.cpy2,b=i.percent;0!==b&&(t.moveTo(o,a),null==g||null==m?(b<1&&(ql(o,d,l,b,Ir),d=Ir[1],l=Ir[2],ql(a,p,u,b,Ir),p=Ir[1],u=Ir[2]),t.quadraticCurveTo(d,p,l,u)):(b<1&&(rr(o,d,g,l,b,Ir),d=Ir[1],g=Ir[2],l=Ir[3],rr(a,p,m,u,b,Ir),p=Ir[1],m=Ir[2],u=Ir[3]),t.bezierCurveTo(d,p,g,m,l,u)))},e.prototype.pointAt=function(t){return jp(this.shape,t,!1)},e.prototype.tangentAt=function(t){var i=jp(this.shape,t,!0);return Gl(i,i)},e}(re);qy.prototype.type="bezier-curve";const Od=qy;var g1=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},v1=function(n){function e(t){return n.call(this,t)||this}return tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new g1},e.prototype.buildPath=function(t,i){var o=i.cx,a=i.cy,l=Math.max(i.r,0),u=i.startAngle,d=i.endAngle,p=i.clockwise,g=Math.cos(u),m=Math.sin(u);t.moveTo(g*l+o,m*l+a),t.arc(o,a,l,u,d,!p)},e}(re);v1.prototype.type="arc";const Zy=v1;var m1=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="compound",t}return tt(e,n),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,i=this.shapeChanged(),o=0;o<t.length;o++)i=i||t[o].shapeChanged();i&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],i=this.getGlobalScale(),o=0;o<t.length;o++)t[o].path||t[o].createPathProxy(),t[o].path.setScale(i[0],i[1],t[o].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,i){for(var o=i.paths||[],a=0;a<o.length;a++)o[a].buildPath(t,o[a].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],i=0;i<t.length;i++)t[i].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),re.prototype.getBoundingRect.call(this)},e}(re);const Gp=m1;var qT=function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n}();const $y=qT;var ZT=function(n){function e(t,i,o,a,l,u){var d=n.call(this,l)||this;return d.x=t??0,d.y=i??0,d.x2=o??1,d.y2=a??0,d.type="linear",d.global=u||!1,d}return tt(e,n),e}($y);const Vd=ZT;var Ky=function(n){function e(t,i,o,a,l){var u=n.call(this,a)||this;return u.x=t??.5,u.y=i??.5,u.r=o??.5,u.type="radial",u.global=l||!1,u}return tt(e,n),e}($y);const Xy=Ky;var ya=[0,0],as=[0,0],Up=new Zt,Wp=new Zt,y1=function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new Zt;for(i=0;i<2;i++)this._axes[i]=new Zt;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var i=this._corners,o=this._axes,a=e.x,l=e.y,u=a+e.width,d=l+e.height;if(i[0].set(a,l),i[1].set(u,l),i[2].set(u,d),i[3].set(a,d),t)for(var p=0;p<4;p++)i[p].transform(t);for(Zt.sub(o[0],i[1],i[0]),Zt.sub(o[1],i[3],i[0]),o[0].normalize(),o[1].normalize(),p=0;p<2;p++)this._origin[p]=o[p].dot(i[0])},n.prototype.intersect=function(e,t){var i=!0,o=!t;return Up.set(1/0,1/0),Wp.set(0,0),!this._intersectCheckOneSide(this,e,Up,Wp,o,1)&&(i=!1,o)||!this._intersectCheckOneSide(e,this,Up,Wp,o,-1)&&(i=!1,o)||o||Zt.copy(t,i?Up:Wp),i},n.prototype._intersectCheckOneSide=function(e,t,i,o,a,l){for(var u=!0,d=0;d<2;d++){var p=this._axes[d];if(this._getProjMinMaxOnAxis(d,e._corners,ya),this._getProjMinMaxOnAxis(d,t._corners,as),ya[1]<as[0]||ya[0]>as[1]){if(u=!1,a)return u;var g=Math.abs(as[0]-ya[1]),m=Math.abs(ya[0]-as[1]);Math.min(g,m)>o.len()&&Zt.scale(o,p,g<m?-g*l:m*l)}else i&&(g=Math.abs(as[0]-ya[1]),m=Math.abs(ya[0]-as[1]),Math.min(g,m)<i.len()&&Zt.scale(i,p,g<m?g*l:-m*l))}return u},n.prototype._getProjMinMaxOnAxis=function(e,t,i){for(var o=this._axes[e],a=this._origin,l=t[0].dot(o)+a[e],u=l,d=l,p=1;p<t.length;p++){var g=t[p].dot(o)+a[e];u=Math.min(g,u),d=Math.max(g,d)}i[0]=u,i[1]=d},n}();const Yp=y1;var $T=[],Po=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return tt(e,n),e.prototype.traverse=function(t,i){t.call(i,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,i){i?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,i){i=i||!1;for(var o=0;o<t.length;o++)this.addDisplayable(t[o],i)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var i=this._cursor;i<this._displayables.length;i++)t&&t(this._displayables[i]);for(i=0;i<this._temporaryDisplayables.length;i++)t&&t(this._temporaryDisplayables[i])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(i=this._displayables[t]).parent=this,i.update(),i.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++){var i;(i=this._temporaryDisplayables[t]).parent=this,i.update(),i.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new $t(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var o=this._displayables[i],a=o.getBoundingRect().clone();o.needLocalTransform()&&a.applyTransform(o.getLocalTransform($T)),t.union(a)}this._rect=t}return this._rect},e.prototype.contain=function(t,i){var o=this.transformCoordToLocal(t,i);if(this.getBoundingRect().contain(o[0],o[1]))for(var l=0;l<this._displayables.length;l++)if(this._displayables[l].contain(t,i))return!0;return!1},e}(Rn);const KT=Po;var Uc=Math.max,qp=Math.min,Qy={};function b1(n){return re.extend(n)}function _1(n,e){return function(n,e){var t=r1(n,e);return function(o){function a(l){var u=o.call(this,l)||this;return u.applyTransform=t.applyTransform,u.buildPath=t.buildPath,u}return tt(a,o),a}(n1)}(n,e)}function Bi(n,e){Qy[n]=e}function Zp(n){if(Qy.hasOwnProperty(n))return Qy[n]}function $p(n,e,t,i){var o=Fy(n,e);return t&&("center"===i&&(t=yi(t,o.getBoundingRect())),ml(o,t)),o}function Jy(n,e,t){var i=new or({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(o){"center"===t&&i.setStyle(yi(e,{width:o.width,height:o.height}))}});return i}function yi(n,e){var o,t=e.width/e.height,i=n.height*t;return o=i<=n.width?n.height:(i=n.width)/t,{x:n.x+n.width/2-i/2,y:n.y+n.height/2-o/2,width:i,height:o}}var bi=function(n,e){for(var t=[],i=n.length,o=0;o<i;o++)t.push(n[o].getUpdatedPathProxy(!0));var l=new re(e);return l.createPathProxy(),l.buildPath=function(u){if(Vy(u)){u.appendPath(t);var d=u.getContext();d&&u.rebuildPath(d,1)}},l};function ml(n,e){if(n.applyTransform){var i=n.getBoundingRect().calculateTransform(e);n.applyTransform(i)}}function yl(n,e){return u_(n,n,{lineWidth:e}),n}function t0(n){return d_(n.shape,n.shape,n.style),n}var Wc=Zs;function bl(n,e){for(var t=Lu([]);n&&n!==e;)Te(t,n.getLocalTransform(),t),n=n.parent;return t}function io(n,e,t){return e&&!tr(e)&&(e=bo.getLocalTransform(e)),t&&(e=Cs([],e)),Yn([],n,e)}function Kp(n,e,t){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),o=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),a=["left"===n?-i:"right"===n?i:0,"top"===n?-o:"bottom"===n?o:0];return a=io(a,e,t),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function e0(n){return!n.isGroup}function Fd(n,e,t){if(n&&e){var u,a=(u={},n.traverse(function(d){e0(d)&&d.anid&&(u[d.anid]=d)}),u);e.traverse(function(l){if(e0(l)&&l.anid){var u=a[l.anid];if(u){var d=o(l);l.attr(o(u)),ke(l,d,t,jt(l).dataIndex)}}})}function o(l){var u={x:l.x,y:l.y,rotation:l.rotation};return function(n){return null!=n.shape}(l)&&(u.shape=st({},l.shape)),u}}function n0(n,e){return gt(n,function(t){var i=t[0];i=Uc(i,e.x),i=qp(i,e.x+e.width);var o=t[1];return o=Uc(o,e.y),[i,o=qp(o,e.y+e.height)]})}function QT(n,e){var t=Uc(n.x,e.x),i=qp(n.x+n.width,e.x+e.width),o=Uc(n.y,e.y),a=qp(n.y+n.height,e.y+e.height);if(i>=t&&a>=o)return{x:t,y:o,width:i-t,height:a-o}}function Hd(n,e,t){var i=st({rectHover:!0},e),o=i.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return 0===n.indexOf("image://")?(o.image=n.slice(8),Et(o,t),new or(i)):$p(n.replace("path://",""),i,t,"center")}function Yc(n,e,t,i,o){for(var a=0,l=o[o.length-1];a<o.length;a++){var u=o[a];if(k1(n,e,t,i,u[0],u[1],l[0],l[1]))return!0;l=u}}function k1(n,e,t,i,o,a,l,u){var d=t-n,p=i-e,g=l-o,m=u-a,b=Xp(g,m,d,p);if(function(n){return n<=1e-6&&n>=-1e-6}(b))return!1;var w=n-o,k=e-a,C=Xp(w,k,d,p)/b;if(C<0||C>1)return!1;var x=Xp(w,k,g,m)/b;return!(x<0||x>1)}function Xp(n,e,t,i){return n*i-t*e}function qc(n){var e=n.itemTooltipOption,t=n.componentModel,i=n.itemName,o=At(e)?{formatter:e}:e,a=t.mainType,l=t.componentIndex,u={componentType:a,name:i,$vars:["name"]};u[a+"Index"]=l;var d=n.formatterParamsExtra;d&&V(le(d),function(g){xt(u,g)||(u[g]=d[g],u.$vars.push(g))});var p=jt(n.el);p.componentMainType=a,p.componentIndex=l,p.tooltipConfig={name:i,option:Et({content:i,formatterParams:u},o)}}function r0(n,e){var t;n.isGroup&&(t=e(n)),t||n.traverse(e)}function wi(n,e){if(n)if(pt(n))for(var t=0;t<n.length;t++)r0(n[t],e);else r0(n,e)}Bi("circle",no),Bi("ellipse",jy),Bi("sector",Mr),Bi("ring",zd),Bi("polygon",Qr),Bi("polyline",Jr),Bi("rect",Xt),Bi("line",zn),Bi("bezierCurve",Od),Bi("arc",Zy);var i0=ye(),o0=pl(),Qp=function(){function n(){this.group=new Vt,this.uid=xc("viewChart"),this.renderTask=Ed({plan:t2,reset:e2}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,i,o){},n.prototype.highlight=function(e,t,i,o){var a=e.getData(o&&o.dataType);!a||A1(a,o,"emphasis")},n.prototype.downplay=function(e,t,i,o){var a=e.getData(o&&o.dataType);!a||A1(a,o,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,i,o){this.render(e,t,i,o)},n.prototype.updateLayout=function(e,t,i,o){this.render(e,t,i,o)},n.prototype.updateVisual=function(e,t,i,o){this.render(e,t,i,o)},n.prototype.eachRendered=function(e){wi(this.group,e)},n.markUpdateMethod=function(e,t){i0(e).updateMethod=t},n.protoInitialize=void(n.prototype.type="chart"),n}();function a0(n,e,t){n&&yd(n)&&("emphasis"===e?sa:vi)(n,t)}function A1(n,e,t){var i=Os(n,e),o=e&&null!=e.highlightKey?function(n){var e=y_[n];return null==e&&Mm<=32&&(e=y_[n]=Mm++),e}(e.highlightKey):null;null!=i?V(De(i),function(a){a0(n.getItemGraphicEl(a),t,o)}):n.eachItemGraphicEl(function(a){a0(a,t,o)})}function t2(n){return o0(n.model)}function e2(n){var e=n.model,t=n.ecModel,i=n.api,o=n.payload,a=e.pipelineContext.progressiveRender,l=n.view,u=o&&i0(o).updateMethod,d=a?"incrementalPrepareRender":u&&l[u]?u:"render";return"render"!==d&&l[d](e,t,i,o),n2[d]}pm(Qp),xf(Qp);var n2={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const Be=Qp;var Jp="\0__throttleOriginMethod",C1="\0__throttleRate",x1="\0__throttleType";function tg(n,e,t){var i,u,d,p,g,o=0,a=0,l=null;function m(){a=(new Date).getTime(),l=null,n.apply(d,p||[])}e=e||0;var b=function(){for(var w=[],k=0;k<arguments.length;k++)w[k]=arguments[k];i=(new Date).getTime(),d=this,p=w;var C=g||e,x=g||t;g=null,u=i-(x?o:a)-C,clearTimeout(l),x?l=setTimeout(m,C):u>=0?m():l=setTimeout(m,-u),o=i};return b.clear=function(){l&&(clearTimeout(l),l=null)},b.debounceNextCall=function(w){g=w},b}function wl(n,e,t,i){var o=n[e];if(o){var a=o[Jp]||o;if(o[C1]!==t||o[x1]!==i){if(null==t||!i)return n[e]=a;(o=n[e]=tg(a,t,"debounce"===i))[Jp]=a,o[x1]=i,o[C1]=t}return o}}function jd(n,e){var t=n[e];t&&t[Jp]&&(t.clear&&t.clear(),n[e]=t[Jp])}var s0=ye(),S1={itemStyle:Hs(z_,!0),lineStyle:Hs(Hm,!0)},r2={lineStyle:"stroke",itemStyle:"fill"};function l0(n,e){return n.visualStyleMapper||S1[e]||(console.warn("Unknown style type '"+e+"'."),S1.itemStyle)}function T1(n,e){return n.visualDrawType||r2[e]||(console.warn("Unknown style type '"+e+"'."),"fill")}var i2={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),i=n.visualStyleAccessPath||"itemStyle",o=n.getModel(i),l=l0(n,i)(o),u=o.getShallow("decal");u&&(t.setVisual("decal",u),u.dirty=!0);var d=T1(n,i),p=l[d],g=Mt(p)?p:null;if(!l[d]||g||"auto"===l.fill||"auto"===l.stroke){var b=n.getColorFromPalette(n.name,null,e.getSeriesCount());l[d]||(l[d]=b,t.setVisual("colorFromPalette",!0)),l.fill="auto"===l.fill||Mt(l.fill)?b:l.fill,l.stroke="auto"===l.stroke||Mt(l.stroke)?b:l.stroke}if(t.setVisual("style",l),t.setVisual("drawType",d),!e.isSeriesFiltered(n)&&g)return t.setVisual("colorFromPalette",!1),{dataEach:function(w,k){var C=n.getDataParams(k),x=st({},l);x[d]=g(C),w.setItemVisual(k,"style",x)}}}},Zc=new Ye,o2={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.ignoreStyleOnData&&!e.isSeriesFiltered(n)){var t=n.getData(),i=n.visualStyleAccessPath||"itemStyle",o=l0(n,i),a=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(l,u){var d=l.getRawDataItem(u);if(d&&d[i]){Zc.option=d[i];var p=o(Zc);st(l.ensureUniqueItemVisual(u,"style"),p),Zc.option.decal&&(l.setItemVisual(u,"decal",Zc.option.decal),Zc.option.decal.dirty=!0),a in p&&l.setItemVisual(u,"colorFromPalette",!1)}}:null}}}},a2={performRawSeries:!0,overallReset:function(n){var e=Tt();n.eachSeries(function(t){var i=t.getColorBy();if(!t.isColorBySeries()){var o=t.type+"-"+i,a=e.get(o);a||e.set(o,a={}),s0(t).scope=a}}),n.eachSeries(function(t){if(!t.isColorBySeries()&&!n.isSeriesFiltered(t)){var i=t.getRawData(),o={},a=t.getData(),l=s0(t).scope,d=T1(t,t.visualStyleAccessPath||"itemStyle");a.each(function(p){var g=a.getRawIndex(p);o[g]=p}),i.each(function(p){var g=o[p];if(a.getItemVisual(g,"colorFromPalette")){var b=a.ensureUniqueItemVisual(g,"style"),w=i.getName(p)||p+"",k=i.count();b[d]=t.getColorFromPalette(w,l,k)}})}})}},Gd=Math.PI,$c=function(){function n(e,t,i,o){this._stageTaskMap=Tt(),this.ecInstance=e,this.api=t,i=this._dataProcessorHandlers=i.slice(),o=this._visualHandlers=o.slice(),this._allHandlers=i.concat(o)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(i){var o=i.overallTask;o&&o.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var i=this._pipelineMap.get(e.__pipeline.id),o=i.context,l=!t&&i.progressiveEnabled&&(!o||o.progressiveRender)&&e.__idxInPipeline>i.blockIndex?i.step:null,u=o&&o.modDataCount;return{step:l,modBy:null!=u?Math.ceil(u/l):null,modDataCount:u}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var i=this._pipelineMap.get(e.uid),a=e.getData().count(),l=i.progressiveEnabled&&t.incrementalPrepareRender&&a>=i.threshold,u=e.get("large")&&a>=e.get("largeThreshold"),d="mod"===e.get("progressiveChunkMode")?a:null;e.pipelineContext=i.context={progressiveRender:l,modDataCount:d,large:u}},n.prototype.restorePipelines=function(e){var t=this,i=t._pipelineMap=Tt();e.eachSeries(function(o){var a=o.getProgressive(),l=o.uid;i.set(l,{id:l,head:null,tail:null,threshold:o.getProgressiveThreshold(),progressiveEnabled:a&&!(o.preventIncremental&&o.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),t._pipe(o,o.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),i=this.api;V(this._allHandlers,function(o){var a=e.get(o.uid)||e.set(o.uid,{});hr(!(o.reset&&o.overallReset),""),o.reset&&this._createSeriesStageTask(o,a,t,i),o.overallReset&&this._createOverallStageTask(o,a,t,i)},this)},n.prototype.prepareView=function(e,t,i,o){var a=e.renderTask,l=a.context;l.model=t,l.ecModel=i,l.api=o,a.__block=!e.incrementalPrepareRender,this._pipe(t,a)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,i){this._performStageTasks(this._visualHandlers,e,t,i)},n.prototype._performStageTasks=function(e,t,i,o){o=o||{};var a=!1,l=this;function u(d,p){return d.setDirty&&(!d.dirtyMap||d.dirtyMap.get(p.__pipeline.id))}V(e,function(d,p){if(!o.visualType||o.visualType===d.visualType){var g=l._stageTaskMap.get(d.uid),m=g.seriesTaskMap,b=g.overallTask;if(b){var w,k=b.agentStubMap;k.each(function(x){u(o,x)&&(x.dirty(),w=!0)}),w&&b.dirty(),l.updatePayload(b,i);var C=l.getPerformArgs(b,o.block);k.each(function(x){x.perform(C)}),b.perform(C)&&(a=!0)}else m&&m.each(function(x,T){u(o,x)&&x.dirty();var M=l.getPerformArgs(x,o.block);M.skip=!d.performRawSeries&&t.isSeriesFiltered(x.context.model),l.updatePayload(x,i),x.perform(M)&&(a=!0)})}}),this.unfinished=a||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(i){t=i.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,i,o){var a=this,l=t.seriesTaskMap,u=t.seriesTaskMap=Tt(),d=e.seriesType,p=e.getTargetSeries;function g(m){var b=m.uid,w=u.set(b,l&&l.get(b)||Ed({plan:h2,reset:D1,count:I1}));w.context={model:m,ecModel:i,api:o,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(m,w)}e.createOnAllSeries?i.eachRawSeries(g):d?i.eachRawSeriesByType(d,g):p&&p(i,o).each(g)},n.prototype._createOverallStageTask=function(e,t,i,o){var a=this,l=t.overallTask=t.overallTask||Ed({reset:l2});l.context={ecModel:i,api:o,overallReset:e.overallReset,scheduler:a};var u=l.agentStubMap,d=l.agentStubMap=Tt(),p=e.seriesType,g=e.getTargetSeries,m=!0,b=!1;function k(C){var x=C.uid,T=d.set(x,u&&u.get(x)||(b=!0,Ed({reset:c2,onDirty:d2})));T.context={model:C,overallProgress:m},T.agent=l,T.__block=m,a._pipe(C,T)}hr(!e.createOnAllSeries,""),p?i.eachRawSeriesByType(p,k):g?g(i,o).each(k):(m=!1,V(i.getSeries(),k)),b&&l.dirty()},n.prototype._pipe=function(e,t){var o=this._pipelineMap.get(e.uid);!o.head&&(o.head=t),o.tail&&o.tail.pipe(t),o.tail=t,t.__idxInPipeline=o.count++,t.__pipeline=o},n.wrapStageHandler=function(e,t){return Mt(e)&&(e={overallReset:e,seriesType:f2(e)}),e.uid=xc("stageHandler"),t&&(e.visualType=t),e},n}();function l2(n){n.overallReset(n.ecModel,n.api,n.payload)}function c2(n){return n.overallProgress&&u2}function u2(){this.agent.dirty(),this.getDownstream().dirty()}function d2(){this.agent&&this.agent.dirty()}function h2(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function D1(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=De(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?gt(e,function(t,i){return M1(i)}):Qn}var Qn=M1(0);function M1(n){return function(e,t){var i=t.data,o=t.resetDefines[n];if(o&&o.dataEach)for(var a=e.start;a<e.end;a++)o.dataEach(i,a);else o&&o.progress&&o.progress(e,i)}}function I1(n){return n.data.count()}function f2(n){eg=null;try{n(Oe,E1)}catch{}return eg}var eg,Oe={},E1={};function c0(n,e){for(var t in e.prototype)n[t]=vn}c0(Oe,Ji),c0(E1,ly),Oe.eachSeriesByType=Oe.eachRawSeriesByType=function(n){eg=n},Oe.eachComponent=function(n){"series"===n.mainType&&n.subType&&(eg=n.subType)};const Ud=$c;var L1=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const p2={color:L1,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],L1]};var Er="#B9B8CE",Wd="#100C2A",ti=function(){return{axisLine:{lineStyle:{color:Er}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},u0=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Yd={darkMode:!0,color:u0,backgroundColor:Wd,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Er}},textStyle:{color:Er},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Er}},dataZoom:{borderColor:"#71708A",textStyle:{color:Er},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Er}},timeline:{lineStyle:{color:Er},label:{color:Er},controlStyle:{color:Er,borderColor:Er}},calendar:{itemStyle:{color:Wd},dayLabel:{color:Er},monthLabel:{color:Er},yearLabel:{color:Er}},timeAxis:ti(),logAxis:ti(),valueAxis:ti(),categoryAxis:ti(),line:{symbol:"circle"},graph:{color:u0},gauge:{title:{color:Er},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Er},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Yd.categoryAxis.splitLine.show=!1;const P1=Yd;var R1=function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},i={},o={};if(At(e)){var a=ko(e);t.mainType=a.main||null,t.subType=a.sub||null}else{var l=["Index","Name","Id"],u={name:1,dataIndex:1,dataType:1};V(e,function(d,p){for(var g=!1,m=0;m<l.length;m++){var b=l[m],w=p.lastIndexOf(b);if(w>0&&w===p.length-b.length){var k=p.slice(0,w);"data"!==k&&(t.mainType=k,t[b.toLowerCase()]=d,g=!0)}}u.hasOwnProperty(p)&&(i[p]=d,g=!0),g||(o[p]=d)})}return{cptQuery:t,dataQuery:i,otherQuery:o}},n.prototype.filter=function(e,t){var i=this.eventInfo;if(!i)return!0;var o=i.targetEl,a=i.packedEvent,l=i.model,u=i.view;if(!l||!u)return!0;var d=t.cptQuery,p=t.dataQuery;return g(d,l,"mainType")&&g(d,l,"subType")&&g(d,l,"index","componentIndex")&&g(d,l,"name")&&g(d,l,"id")&&g(p,a,"name")&&g(p,a,"dataIndex")&&g(p,a,"dataType")&&(!u.filterForExposedEvent||u.filterForExposedEvent(e,t.otherQuery,o,a));function g(m,b,w,k){return null==m[w]||b[k||w]===m[w]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),ng=["symbol","symbolSize","symbolRotate","symbolOffset"],rg=ng.concat(["symbolKeepAspect"]),ee={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),n.hasSymbolVisual){for(var i={},o={},a=!1,l=0;l<ng.length;l++){var u=ng[l],d=n.get(u);Mt(d)?(a=!0,o[u]=d):i[u]=d}if(i.symbol=i.symbol||n.defaultSymbol,t.setVisual(st({legendIcon:n.legendIcon||i.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},i)),!e.isSeriesFiltered(n)){var p=le(o);return{dataEach:a?function(m,b){for(var w=n.getRawValue(b),k=n.getDataParams(b),C=0;C<p.length;C++){var x=p[C];m.setItemVisual(b,x,o[x](w,k))}}:null}}}}},zt={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(n.hasSymbolVisual&&!e.isSeriesFiltered(n))return{dataEach:n.getData().hasItemOption?function(o,a){for(var l=o.getItemModel(a),u=0;u<rg.length;u++){var d=rg[u],p=l.getShallow(d,!0);null!=p&&o.setItemVisual(a,d,p)}}:null}}};function d0(n,e,t){switch(t){case"color":return n.getItemVisual(e,"style")[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}function Kc(n,e){switch(e){case"color":return n.getVisual("style")[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}function Ro(n,e,t,i){switch(t){case"color":n.ensureUniqueItemVisual(e,"style")[n.getVisual("drawType")]=i,n.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(e,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(e,t,i)}}function ig(n,e){function t(i,o){var a=[];return i.eachComponent({mainType:"series",subType:n,query:o},function(l){a.push(l.seriesIndex)}),a}V([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(i){e(i[0],function(o,a,l){o=st({},o),l.dispatchAction(st(o,{type:i[1],seriesIndex:t(a,o)}))})})}function _l(n,e,t,i,o){var a=n+e;t.isSilent(a)||i.eachComponent({mainType:"series",subType:"pie"},function(l){for(var u=l.seriesIndex,d=l.option.selectedMap,p=o.selected,g=0;g<p.length;g++)if(p[g].seriesIndex===u){var m=l.getData(),b=Os(m,o.fromActionPayload);t.trigger(a,{type:a,seriesId:l.id,name:pt(b)?m.getName(b[0]):m.getName(b),selected:At(d)?d:st({},d)})}})}function Lr(n,e,t){for(var i;n&&(!e(n)||(i=n,!t));)n=n.__hostTarget||n.parent;return i}var ie=Math.round(9*Math.random()),h0="function"==typeof Object.defineProperty,g2=function(){function n(){this._id="__ec_inner_"+ie++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var i=this._guard(e);return h0?Object.defineProperty(i,this._id,{value:t,enumerable:!1,configurable:!0}):i[this._id]=t,this},n.prototype.delete=function(e){return!!this.has(e)&&(delete this._guard(e)[this._id],!0)},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n}();const f0=g2;var B1=re.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,i=e.cy,o=e.width/2,a=e.height/2;n.moveTo(t,i-a),n.lineTo(t+o,i+a),n.lineTo(t-o,i+a),n.closePath()}}),z1=re.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,i=e.cy,o=e.width/2,a=e.height/2;n.moveTo(t,i-a),n.lineTo(t+o,i),n.lineTo(t,i+a),n.lineTo(t-o,i),n.closePath()}}),v2=re.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,i=e.y,o=e.width/5*3,a=Math.max(o,e.height),l=o/2,u=l*l/(a-l),d=i-a+l+u,p=Math.asin(u/l),g=Math.cos(p)*l,m=Math.sin(p),b=Math.cos(p),w=.6*l,k=.7*l;n.moveTo(t-g,d+u),n.arc(t,d,l,Math.PI-p,2*Math.PI+p),n.bezierCurveTo(t+g-m*w,d+u+b*w,t,i-k,t,i),n.bezierCurveTo(t,i-k,t-g+m*w,d+u+b*w,t-g,d+u),n.closePath()}}),yr=re.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,o=e.x,a=e.y,l=e.width/3*2;n.moveTo(o,a),n.lineTo(o+l,a+t),n.lineTo(o,a+t/4*3),n.lineTo(o-l,a+t),n.lineTo(o,a),n.closePath()}}),p0={line:function(n,e,t,i,o){o.x1=n,o.y1=e+i/2,o.x2=n+t,o.y2=e+i/2},rect:function(n,e,t,i,o){o.x=n,o.y=e,o.width=t,o.height=i},roundRect:function(n,e,t,i,o){o.x=n,o.y=e,o.width=t,o.height=i,o.r=Math.min(t,i)/4},square:function(n,e,t,i,o){var a=Math.min(t,i);o.x=n,o.y=e,o.width=a,o.height=a},circle:function(n,e,t,i,o){o.cx=n+t/2,o.cy=e+i/2,o.r=Math.min(t,i)/2},diamond:function(n,e,t,i,o){o.cx=n+t/2,o.cy=e+i/2,o.width=t,o.height=i},pin:function(n,e,t,i,o){o.x=n+t/2,o.y=e+i/2,o.width=t,o.height=i},arrow:function(n,e,t,i,o){o.x=n+t/2,o.y=e+i/2,o.width=t,o.height=i},triangle:function(n,e,t,i,o){o.cx=n+t/2,o.cy=e+i/2,o.width=t,o.height=i}},og={};V({line:zn,rect:Xt,roundRect:Xt,square:Xt,circle:no,diamond:z1,pin:v2,arrow:yr,triangle:B1},function(n,e){og[e]=new n});var g0=re.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var i=Xu(n,e,t),o=this.shape;return o&&"pin"===o.symbolType&&"inside"===e.position&&(i.y=t.y+.4*t.height),i},buildPath:function(n,e,t){var i=e.symbolType;if("none"!==i){var o=og[i];o||(o=og[i="rect"]),p0[i](e.x,e.y,e.width,e.height,o.shape),o.buildPath(n,o.shape,t)}}});function V1(n,e){if("image"!==this.type){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||"#fff",t.lineWidth=2):"line"===this.shape.symbolType?t.stroke=n:t.fill=n,this.markRedraw()}}function wn(n,e,t,i,o,a,l){var d,u=0===n.indexOf("empty");return u&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),(d=0===n.indexOf("image://")?Jy(n.slice(8),new $t(e,t,i,o),l?"center":"cover"):0===n.indexOf("path://")?$p(n.slice(7),{},new $t(e,t,i,o),l?"center":"cover"):new g0({shape:{symbolType:n,x:e,y:t,width:i,height:o}})).__isEmptyBrush=u,d.setColor=V1,a&&d.setColor(a),d}function Xc(n){return pt(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function Qc(n,e){if(null!=n)return pt(n)||(n=[n,n]),[_t(n[0],e[0])||0,_t(Kt(n[1],n[0]),e[1])||0]}function kl(n){return isFinite(n)}function v0(n,e,t){for(var i="radial"===e.type?function(n,e,t){var i=t.width,o=t.height,a=Math.min(i,o),l=e.x??.5,u=e.y??.5,d=e.r??.5;return e.global||(l=l*i+t.x,u=u*o+t.y,d*=a),l=kl(l)?l:.5,u=kl(u)?u:.5,d=d>=0&&kl(d)?d:.5,n.createRadialGradient(l,u,0,l,u,d)}(n,e,t):function(n,e,t){var i=e.x??0,o=e.x2??1,a=e.y??0,l=e.y2??0;return e.global||(i=i*t.width+t.x,o=o*t.width+t.x,a=a*t.height+t.y,l=l*t.height+t.y),i=kl(i)?i:0,o=kl(o)?o:1,a=kl(a)?a:0,l=kl(l)?l:0,n.createLinearGradient(i,a,o,l)}(n,e,t),o=e.colorStops,a=0;a<o.length;a++)i.addColorStop(o[a].offset,o[a].color);return i}function qd(n){return parseInt(n,10)}function Jc(n,e,t){var i=["width","height"][e],o=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],l=["paddingRight","paddingBottom"][e];if(null!=t[i]&&"auto"!==t[i])return parseFloat(t[i]);var u=document.defaultView.getComputedStyle(n);return(n[o]||qd(u[i])||qd(n.style[i]))-(qd(u[a])||0)-(qd(u[l])||0)|0}function sg(n){var e=n.style,t=e.lineDash&&e.lineWidth>0&&function(n,e){return n&&"solid"!==n&&e>0?"dashed"===n?[4*e,2*e]:"dotted"===n?[e]:_e(n)?[n]:pt(n)?n:null:null}(e.lineDash,e.lineWidth),i=e.lineDashOffset;if(t){var o=e.strokeNoScale&&n.getLineScale?n.getLineScale():1;o&&1!==o&&(t=gt(t,function(a){return a/o}),i/=o)}return[t,i]}var y2=new Xi(!0);function lg(n){var e=n.stroke;return!(null==e||"none"===e||!(n.lineWidth>0))}function m0(n){return"string"==typeof n&&"none"!==n}function tu(n){var e=n.fill;return null!=e&&"none"!==e}function y0(n,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function j1(n,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function b0(n,e,t){var i=gm(e.image,e.__image,t);if(Mf(i)){var o=n.createPattern(i,e.repeat||"repeat");if("function"==typeof DOMMatrix&&o&&o.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*Hl),a.scaleSelf(e.scaleX||1,e.scaleY||1),o.setTransform(a)}return o}}var cg=["shadowBlur","shadowOffsetX","shadowOffsetY"],w0=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function G1(n,e,t,i,o){var a=!1;if(!i&&e===(t=t||{}))return!1;if(i||e.opacity!==t.opacity){Pr(n,o),a=!0;var l=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(l)?ln.opacity:l}(i||e.blend!==t.blend)&&(a||(Pr(n,o),a=!0),n.globalCompositeOperation=e.blend||ln.blend);for(var u=0;u<cg.length;u++){var d=cg[u];(i||e[d]!==t[d])&&(a||(Pr(n,o),a=!0),n[d]=n.dpr*(e[d]||0))}return(i||e.shadowColor!==t.shadowColor)&&(a||(Pr(n,o),a=!0),n.shadowColor=e.shadowColor||ln.shadowColor),a}function U1(n,e,t,i,o){var a=Zd(e,o.inHover),l=i?null:t&&Zd(t,o.inHover)||{};if(a===l)return!1;var u=G1(n,a,l,i,o);if((i||a.fill!==l.fill)&&(u||(Pr(n,o),u=!0),m0(a.fill)&&(n.fillStyle=a.fill)),(i||a.stroke!==l.stroke)&&(u||(Pr(n,o),u=!0),m0(a.stroke)&&(n.strokeStyle=a.stroke)),(i||a.opacity!==l.opacity)&&(u||(Pr(n,o),u=!0),n.globalAlpha=a.opacity??1),e.hasStroke()){var p=a.lineWidth/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);n.lineWidth!==p&&(u||(Pr(n,o),u=!0),n.lineWidth=p)}for(var g=0;g<w0.length;g++){var m=w0[g],b=m[0];(i||a[b]!==l[b])&&(u||(Pr(n,o),u=!0),n[b]=a[b]||m[1])}return u}function _0(n,e){var t=e.transform,i=n.dpr||1;t?n.setTransform(i*t[0],i*t[1],i*t[2],i*t[3],i*t[4],i*t[5]):n.setTransform(i,0,0,i,0,0)}function Pr(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function Zd(n,e){return e&&n.__hoverStyle||n.style}function Z1(n,e){ss(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function ss(n,e,t,i){var o=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1))return e.__dirty&=-2,void(e.__isRendered=!1);var a=e.__clipPaths,l=t.prevElClipPaths,u=!1,d=!1;if((!l||function(n,e){if(n===e||!n&&!e)return!1;if(!n||!e||n.length!==e.length)return!0;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!0;return!1}(a,l))&&(l&&l.length&&(Pr(n,t),n.restore(),d=u=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),a&&a.length&&(Pr(n,t),n.save(),function(n,e,t){for(var i=!1,o=0;o<n.length;o++){var a=n[o];i=i||a.isZeroArea(),_0(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}t.allClipped=i}(a,n,t),u=!0),t.prevElClipPaths=a),t.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var p=t.prevEl;p||(d=u=!0);var g=e instanceof re&&e.autoBatch&&function(n){var e=tu(n),t=lg(n);return!(n.lineDash||!(+e^+t)||e&&"string"!=typeof n.fill||t&&"string"!=typeof n.stroke||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}(e.style);u||function(n,e){return n&&e?n[0]!==e[0]||n[1]!==e[1]||n[2]!==e[2]||n[3]!==e[3]||n[4]!==e[4]||n[5]!==e[5]:!(!n&&!e)}(o,p.transform)?(Pr(n,t),_0(n,e)):g||Pr(n,t);var m=Zd(e,t.inHover);e instanceof re?(1!==t.lastDrawType&&(d=!0,t.lastDrawType=1),U1(n,e,p,d,t),(!g||!t.batchFill&&!t.batchStroke)&&n.beginPath(),function(n,e,t,i){var o,a=lg(t),l=tu(t),u=t.strokePercent,d=u<1,p=!e.path;(!e.silent||d)&&p&&e.createPathProxy();var g=e.path||y2,m=e.__dirty;if(!i){var b=t.fill,w=t.stroke,k=l&&!!b.colorStops,C=a&&!!w.colorStops,x=l&&!!b.image,T=a&&!!w.image,M=void 0,I=void 0,L=void 0,N=void 0,R=void 0;(k||C)&&(R=e.getBoundingRect()),k&&(M=m?v0(n,b,R):e.__canvasFillGradient,e.__canvasFillGradient=M),C&&(I=m?v0(n,w,R):e.__canvasStrokeGradient,e.__canvasStrokeGradient=I),x&&(L=m||!e.__canvasFillPattern?b0(n,b,e):e.__canvasFillPattern,e.__canvasFillPattern=L),T&&(N=m||!e.__canvasStrokePattern?b0(n,w,e):e.__canvasStrokePattern,e.__canvasStrokePattern=L),k?n.fillStyle=M:x&&(L?n.fillStyle=L:l=!1),C?n.strokeStyle=I:T&&(N?n.strokeStyle=N:a=!1)}var O,F,B=e.getGlobalScale();g.setScale(B[0],B[1],e.segmentIgnoreThreshold),n.setLineDash&&t.lineDash&&(O=(o=sg(e))[0],F=o[1]);var H=!0;(p||4&m)&&(g.setDPR(n.dpr),d?g.setContext(null):(g.setContext(n),H=!1),g.reset(),e.buildPath(g,e.shape,i),g.toStatic(),e.pathUpdated()),H&&g.rebuildPath(n,d?u:1),O&&(n.setLineDash(O),n.lineDashOffset=F),i||(t.strokeFirst?(a&&j1(n,t),l&&y0(n,t)):(l&&y0(n,t),a&&j1(n,t))),O&&n.setLineDash([])}(n,e,m,g),g&&(t.batchFill=m.fill||"",t.batchStroke=m.stroke||"")):e instanceof cd?(3!==t.lastDrawType&&(d=!0,t.lastDrawType=3),U1(n,e,p,d,t),function(n,e,t){var i,o=t.text;if(null!=o&&(o+=""),o){n.font=t.font||Sa,n.textAlign=t.textAlign,n.textBaseline=t.textBaseline;var a=void 0,l=void 0;n.setLineDash&&t.lineDash&&(a=(i=sg(e))[0],l=i[1]),a&&(n.setLineDash(a),n.lineDashOffset=l),t.strokeFirst?(lg(t)&&n.strokeText(o,t.x,t.y),tu(t)&&n.fillText(o,t.x,t.y)):(tu(t)&&n.fillText(o,t.x,t.y),lg(t)&&n.strokeText(o,t.x,t.y)),a&&n.setLineDash([])}}(n,e,m)):e instanceof or?(2!==t.lastDrawType&&(d=!0,t.lastDrawType=2),function(n,e,t,i,o){G1(n,Zd(e,o.inHover),t&&Zd(t,o.inHover),i,o)}(n,e,p,d,t),function(n,e,t){var i=e.__image=gm(t.image,e.__image,e,e.onload);if(i&&Mf(i)){var o=t.x||0,a=t.y||0,l=e.getWidth(),u=e.getHeight(),d=i.width/i.height;if(null==l&&null!=u?l=u*d:null==u&&null!=l?u=l/d:null==l&&null==u&&(l=i.width,u=i.height),t.sWidth&&t.sHeight)n.drawImage(i,p=t.sx||0,g=t.sy||0,t.sWidth,t.sHeight,o,a,l,u);else if(t.sx&&t.sy){var p,g;n.drawImage(i,p=t.sx,g=t.sy,l-p,u-g,o,a,l,u)}else n.drawImage(i,o,a,l,u)}}(n,e,m)):e.getTemporalDisplayables&&(4!==t.lastDrawType&&(d=!0,t.lastDrawType=4),function(n,e,t){var i=e.getDisplayables(),o=e.getTemporalDisplayables();n.save();var l,u,a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover};for(l=e.getCursor(),u=i.length;l<u;l++)(d=i[l]).beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),ss(n,d,a,l===u-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),a.prevEl=d;for(var p=0,g=o.length;p<g;p++){var d;(d=o[p]).beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),ss(n,d,a,p===g-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),a.prevEl=d}e.clearTemporalDisplayables(),e.notClear=!0,n.restore()}(n,e,t)),g&&i&&Pr(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}}var x0=new f0,$d=new me(100),K1=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function nu(n,e){if("none"===n)return null;var t=e.getDevicePixelRatio(),i=e.getZr(),o="svg"===i.painter.type;n.dirty&&x0.delete(n);var a=x0.get(n);if(a)return a;var l=Et(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===l.backgroundColor&&(l.backgroundColor=null);var u={repeat:"repeat"};return function(p){for(var g=[t],m=!0,b=0;b<K1.length;++b){var w=l[K1[b]];if(null!=w&&!pt(w)&&!At(w)&&!_e(w)&&"boolean"!=typeof w){m=!1;break}g.push(w)}var k;if(m){k=g.join(",")+(o?"-svg":"");var C=$d.get(k);C&&(o?p.svgElement=C:p.image=C)}var O,x=X1(l.dashArrayX),T=function(n){if(!n||"object"==typeof n&&0===n.length)return[0,0];if(_e(n)){var e=Math.ceil(n);return[e,e]}var t=gt(n,function(i){return Math.ceil(i)});return n.length%2?t.concat(t):t}(l.dashArrayY),M=S0(l.symbol),I=function(n){return gt(n,function(e){return T0(e)})}(x),L=T0(T),N=!o&&ur.createCanvas(),R=o&&{tag:"g",attrs:{},key:"dcl",children:[]},B=function(){for(var j=1,q=0,Z=I.length;q<Z;++q)j=Fw(j,I[q]);var K=1;for(q=0,Z=M.length;q<Z;++q)K=Fw(K,M[q].length);j*=K;var Q=L*I.length*M.length;return{width:Math.max(1,Math.min(j,l.maxTileWidth)),height:Math.max(1,Math.min(Q,l.maxTileHeight))}}();N&&(N.width=B.width*t,N.height=B.height*t,O=N.getContext("2d")),function(){O&&(O.clearRect(0,0,N.width,N.height),l.backgroundColor&&(O.fillStyle=l.backgroundColor,O.fillRect(0,0,N.width,N.height)));for(var j=0,q=0;q<T.length;++q)j+=T[q];if(!(j<=0))for(var Z=-L,K=0,Q=0,J=0;Z<B.height;){if(K%2==0){for(var rt=Q/2%M.length,nt=0,ft=0,yt=0;nt<2*B.width;){var kt=0;for(q=0;q<x[J].length;++q)kt+=x[J][q];if(kt<=0)break;if(ft%2==0){var Dt=.5*(1-l.symbolSize);Ht(nt+x[J][ft]*Dt,Z+T[K]*Dt,x[J][ft]*l.symbolSize,T[K]*l.symbolSize,M[rt][yt/2%M[rt].length])}nt+=x[J][ft],++yt,++ft===x[J].length&&(ft=0)}++J===x.length&&(J=0)}Z+=T[K],++Q,++K===T.length&&(K=0)}function Ht(fe,ne,It,Jt,dn){var Ae=o?1:t,En=wn(dn,fe*Ae,ne*Ae,It*Ae,Jt*Ae,l.color,l.symbolKeepAspect);if(o){var kn=i.painter.renderOneToVNode(En);kn&&R.children.push(kn)}else Z1(O,En)}}(),m&&$d.put(k,N||R),p.image=N,p.svgElement=R,p.svgWidth=B.width,p.svgHeight=B.height}(u),u.rotation=l.rotation,u.scaleX=u.scaleY=o?1:1/t,x0.set(n,u),n.dirty=!1,u}function S0(n){if(!n||0===n.length)return[["rect"]];if(At(n))return[[n]];for(var e=!0,t=0;t<n.length;++t)if(!At(n[t])){e=!1;break}if(e)return S0([n]);var i=[];for(t=0;t<n.length;++t)At(n[t])?i.push([n[t]]):i.push(n[t]);return i}function X1(n){if(!n||0===n.length)return[[0,0]];if(_e(n))return[[e=Math.ceil(n),e]];for(var t=!0,i=0;i<n.length;++i)if(!_e(n[i])){t=!1;break}if(t)return X1([n]);var o=[];for(i=0;i<n.length;++i)if(_e(n[i])){var e=Math.ceil(n[i]);o.push([e,e])}else e=gt(n[i],function(u){return Math.ceil(u)}),o.push(e.length%2==1?e.concat(e):e);return o}function T0(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2==1?2*e:e}const oo=new di;var D0={},br="__flagInMainProcess",ei="__pendingUpdate",E0="__needsUpdateStatus",oA=/^[a-zA-Z0-9_]+$/,hg="__connectUpdateStatus";function fg(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this.isDisposed())return L0(this,n,e)}}function sA(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return L0(this,n,e)}}function L0(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),di.prototype[e].apply(n,t)}var lA=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e}(di),Fe=lA.prototype;Fe.on=sA("on"),Fe.off=sA("off");var ru,pg,Kd,ba,gg,P0,vg,iu,ou,R0,N0,mg,B0,Xd,z0,yg,ni,bg,Qd=function(n){function e(t,i,o){var a=n.call(this,new R1)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],o=o||{},At(i)&&(i=Ag[i]),a._dom=t;var m=a._zr=ac(t,{renderer:o.renderer||"canvas",devicePixelRatio:o.devicePixelRatio,width:o.width,height:o.height,ssr:o.ssr,useDirtyRect:Kt(o.useDirtyRect,!1),useCoarsePointer:Kt(o.useCoarsePointer,"auto"),pointerSize:o.pointerSize});a._ssr=o.ssr,a._throttledZrFlush=tg(Ct(m.flush,m),17),(i=Lt(i))&&cl(i,!0),a._theme=i,a._locale=function(n){if(At(n)){var e=kd[n.toUpperCase()]||{};return"ZH"===n||"EN"===n?Lt(e):Pt(Lt(e),Lt(kd.EN),!1)}return Pt(Lt(n),Lt(kd.EN),!1)}(o.locale||Wm),a._coordSysMgr=new ll;var b=a._api=z0(a);function w(k,C){return k.__prio-C.__prio}return tf(On,w),tf(O0,w),a._scheduler=new Ud(a,b,O0,On),a._messageCenter=new lA,a._initEvents(),a.resize=Ct(a.resize,a),m.animation.on("frame",a._onframe,a),R0(m,a),N0(m,a),zh(a),a}return tt(e,n),e.prototype._onframe=function(){if(!this._disposed){bg(this);var t=this._scheduler;if(this[ei]){var i=this[ei].silent;this[br]=!0;try{ru(this),ba.update.call(this,null,this[ei].updateParams)}catch(d){throw this[br]=!1,this[ei]=null,d}this._zr.flush(),this[br]=!1,this[ei]=null,iu.call(this,i),ou.call(this,i)}else if(t.unfinished){var o=1,a=this._model,l=this._api;t.unfinished=!1;do{var u=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),P0(this,a),t.performVisualTasks(a),Xd(this,this._model,l,"remain",{}),o-=+new Date-u}while(o>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,i,o){if(!this[br]){if(this._disposed)return;var a,l,u;if(Rt(i)&&(o=i.lazyUpdate,a=i.silent,l=i.replaceMerge,u=i.transition,i=i.notMerge),this[br]=!0,!this._model||i){var d=new oT(this._api),p=this._theme,g=this._model=new Ji;g.scheduler=this._scheduler,g.ssr=this._ssr,g.init(null,null,null,p,this._locale,d)}this._model.setOption(t,{replaceMerge:l},V0);var m={seriesTransition:u,optionChanged:!0};if(o)this[ei]={silent:a,updateParams:m},this[br]=!1,this.getZr().wakeUp();else{try{ru(this),ba.update.call(this,null,m)}catch(b){throw this[ei]=null,this[br]=!1,b}this._ssr||this._zr.flush(),this[ei]=null,this[br]=!1,iu.call(this,a),ou.call(this,a)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||de.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){return this._zr.painter.getRenderedCanvas({backgroundColor:(t=t||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){return this._zr.painter.renderToString({useViewBox:(t=t||{}).useViewBox})},e.prototype.getSvgDataURL=function(){if(de.svgSupported){var t=this._zr;return V(t.storage.getDisplayList(),function(o){o.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){var o=this._model,a=[],l=this;V((t=t||{}).excludeComponents,function(d){o.eachComponent({mainType:d},function(p){var g=l._componentsMap[p.__viewId];g.group.ignore||(a.push(g),g.group.ignore=!0)})});var u="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return V(a,function(d){d.group.ignore=!1}),u}},e.prototype.getConnectedDataURL=function(t){if(!this._disposed){var i="svg"===t.type,o=this.group,a=Math.min,l=Math.max,u=1/0;if(Cg[o]){var d=u,p=u,g=-u,m=-u,b=[],w=t&&t.pixelRatio||this.getDevicePixelRatio();V(cs,function(I,L){if(I.group===o){var N=i?I.getZr().painter.getSvgDom().innerHTML:I.renderToCanvas(Lt(t)),R=I.getDom().getBoundingClientRect();d=a(R.left,d),p=a(R.top,p),g=l(R.right,g),m=l(R.bottom,m),b.push({dom:N,left:R.left,top:R.top})}});var k=(g*=w)-(d*=w),C=(m*=w)-(p*=w),x=ur.createCanvas(),T=ac(x,{renderer:i?"svg":"canvas"});if(T.resize({width:k,height:C}),i){var M="";return V(b,function(I){M+='<g transform="translate('+(I.left-d)+","+(I.top-p)+')">'+I.dom+"</g>"}),T.painter.getSvgRoot().innerHTML=M,t.connectedBackgroundColor&&T.painter.setBackgroundColor(t.connectedBackgroundColor),T.refreshImmediately(),T.painter.toDataURL()}return t.connectedBackgroundColor&&T.add(new Xt({shape:{x:0,y:0,width:k,height:C},style:{fill:t.connectedBackgroundColor}})),V(b,function(I){var L=new or({style:{x:I.left*w-d,y:I.top*w-p,image:I.dom}});T.add(L)}),T.refreshImmediately(),x.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},e.prototype.convertToPixel=function(t,i){return gg(this,"convertToPixel",t,i)},e.prototype.convertFromPixel=function(t,i){return gg(this,"convertFromPixel",t,i)},e.prototype.containPixel=function(t,i){var a;if(!this._disposed)return V(ed(this._model,t),function(u,d){d.indexOf("Models")>=0&&V(u,function(p){var g=p.coordinateSystem;if(g&&g.containPoint)a=a||!!g.containPoint(i);else if("seriesModels"===d){var m=this._chartsMap[p.__viewId];m&&m.containPoint&&(a=a||m.containPoint(i,p))}},this)},this),!!a},e.prototype.getVisual=function(t,i){var a=ed(this._model,t,{defaultMainType:"series"}),u=a.seriesModel.getData(),d=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?u.indexOfRawIndex(a.dataIndex):null;return null!=d?d0(u,d,i):Kc(u,i)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;V(_g,function(i){var o=function(a){var d,l=t.getModel(),u=a.target;if("globalout"===i?d={}:u&&Lr(u,function(k){var C=jt(k);if(C&&null!=C.dataIndex){var x=C.dataModel||l.getSeriesByIndex(C.seriesIndex);return d=x&&x.getDataParams(C.dataIndex,C.dataType)||{},!0}if(C.eventData)return d=st({},C.eventData),!0},!0),d){var g=d.componentType,m=d.componentIndex;("markLine"===g||"markPoint"===g||"markArea"===g)&&(g="series",m=d.seriesIndex);var b=g&&null!=m&&l.getComponent(g,m),w=b&&t["series"===b.mainType?"_chartsMap":"_componentsMap"][b.__viewId];d.event=a,d.type=i,t._$eventProcessor.eventInfo={targetEl:u,packedEvent:d,model:b,view:w},t.trigger(i,d)}};o.zrEventfulCallAtLast=!0,t._zr.on(i,o,t)}),V(Jd,function(i,o){t._messageCenter.on(o,function(a){this.trigger(o,a)},t)}),V(["selectchanged"],function(i){t._messageCenter.on(i,function(o){this.trigger(i,o)},t)}),function(n,e,t){n.on("selectchanged",function(i){var o=t.getModel();i.isFromClick?(_l("map","selectchanged",e,o,i),_l("pie","selectchanged",e,o,i)):"select"===i.fromAction?(_l("map","selected",e,o,i),_l("pie","selected",e,o,i)):"unselect"===i.fromAction&&(_l("map","unselected",e,o,i),_l("pie","unselected",e,o,i))})}(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(!this._disposed){this._disposed=!0,this.getDom()&&Zw(this.getDom(),xg,"");var i=this,o=i._api,a=i._model;V(i._componentsViews,function(l){l.dispose(a,o)}),V(i._chartsViews,function(l){l.dispose(a,o)}),i._zr.dispose(),i._dom=i._model=i._chartsMap=i._componentsMap=i._chartsViews=i._componentsViews=i._scheduler=i._api=i._zr=i._throttledZrFlush=i._theme=i._coordSysMgr=i._messageCenter=null,delete cs[i.id]}},e.prototype.resize=function(t){if(!this[br]){if(this._disposed)return;this._zr.resize(t);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),i){var o=i.resetOption("media"),a=t&&t.silent;this[ei]&&(null==a&&(a=this[ei].silent),o=!0,this[ei]=null),this[br]=!0;try{o&&ru(this),ba.update.call(this,{type:"resize",animation:st({duration:0},t&&t.animation)})}catch(l){throw this[br]=!1,l}this[br]=!1,iu.call(this,a),ou.call(this,a)}}},e.prototype.showLoading=function(t,i){if(!this._disposed&&(Rt(t)&&(i=t,t=""),t=t||"default",this.hideLoading(),ls[t])){var o=ls[t](this._api,i),a=this._zr;this._loadingFX=o,a.add(o)}},e.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var i=st({},t);return i.type=Jd[t.type],i},e.prototype.dispatchAction=function(t,i){if(!this._disposed&&(Rt(i)||(i={silent:!!i}),kg[t.type]&&this._model)){if(this[br])return void this._pendingActions.push(t);var o=i.silent;vg.call(this,t,o);var a=i.flush;a?this._zr.flush():!1!==a&&de.browser.weChat&&this._throttledZrFlush(),iu.call(this,o),ou.call(this,o)}},e.prototype.updateLabelLayout=function(){oo.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(!this._disposed){var i=t.seriesIndex;this.getModel().getSeriesByIndex(i).appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(m){m.clearColorPalette(),m.eachSeries(function(b){b.clearColorPalette()})}function o(m){for(var b=[],w=m.currentStates,k=0;k<w.length;k++){var C=w[k];"emphasis"===C||"blur"===C||"select"===C||b.push(C)}m.selected&&m.states.select&&b.push("select"),2===m.hoverState&&m.states.emphasis?b.push("emphasis"):1===m.hoverState&&m.states.blur&&b.push("blur"),m.useStates(b)}function u(m,b){if(!m.preventAutoZ){var w=m.get("z")||0,k=m.get("zlevel")||0;b.eachRendered(function(C){return d(C,w,k,-1/0),!0})}}function d(m,b,w,k){var C=m.getTextContent(),x=m.getTextGuideLine();if(m.isGroup)for(var M=m.childrenRef(),I=0;I<M.length;I++)k=Math.max(d(M[I],b,w,k),k);else m.z=b,m.zlevel=w,k=Math.max(m.z2,k);if(C&&(C.z=b,C.zlevel=w,isFinite(k)&&(C.z2=k+2)),x){var L=m.textGuideLineConfig;x.z=b,x.zlevel=w,isFinite(k)&&(x.z2=k+(L&&L.showAbove?1:-1))}return k}function p(m,b){b.eachRendered(function(w){if(!kc(w)){var k=w.getTextContent(),C=w.getTextGuideLine();w.stateTransition&&(w.stateTransition=null),k&&k.stateTransition&&(k.stateTransition=null),C&&C.stateTransition&&(C.stateTransition=null),w.hasState()?(w.prevStates=w.currentStates,w.clearStates()):w.prevStates&&(w.prevStates=null)}})}function g(m,b){var w=m.getModel("stateAnimation"),k=m.isAnimationEnabled(),C=w.get("duration"),x=C>0?{duration:C,delay:w.get("delay"),easing:w.get("easing")}:null;b.eachRendered(function(T){if(T.states&&T.states.emphasis){if(kc(T))return;if(T instanceof re&&function(n){var e=he(n);e.normalFill=n.style.fill,e.normalStroke=n.style.stroke;var t=n.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}(T),T.__dirty){var M=T.prevStates;M&&T.useStates(M)}if(k){T.stateTransition=x;var I=T.getTextContent(),L=T.getTextGuideLine();I&&(I.stateTransition=x),L&&(L.stateTransition=x)}T.__dirty&&o(T)}})}ru=function(m){var b=m._scheduler;b.restorePipelines(m._model),b.prepareStageTasks(),pg(m,!0),pg(m,!1),b.plan()},pg=function(m,b){for(var w=m._model,k=m._scheduler,C=b?m._componentsViews:m._chartsViews,x=b?m._componentsMap:m._chartsMap,T=m._zr,M=m._api,I=0;I<C.length;I++)C[I].__alive=!1;function L(R){var B=R.__requireNewView;R.__requireNewView=!1;var O="_ec_"+R.id+"_"+R.type,F=!B&&x[O];if(!F){var H=ko(R.type);(F=new(b?nn.getClass(H.main,H.sub):Be.getClass(H.sub))).init(w,M),x[O]=F,C.push(F),T.add(F.group)}R.__viewId=F.__id=O,F.__alive=!0,F.__model=R,F.group.__ecComponentInfo={mainType:R.mainType,index:R.componentIndex},!b&&k.prepareView(F,R,w,M)}for(b?w.eachComponent(function(R,B){"series"!==R&&L(B)}):w.eachSeries(L),I=0;I<C.length;){var N=C[I];N.__alive?I++:(!b&&N.renderTask.dispose(),T.remove(N.group),N.dispose(w,M),C.splice(I,1),x[N.__id]===N&&delete x[N.__id],N.__id=N.group.__ecComponentInfo=null)}},Kd=function(m,b,w,k,C){var x=m._model;if(x.setUpdatePayload(w),k){var T={};T[k+"Id"]=w[k+"Id"],T[k+"Index"]=w[k+"Index"],T[k+"Name"]=w[k+"Name"];var M={mainType:k,query:T};C&&(M.subType=C);var L,I=w.excludeSeriesId;null!=I&&(L=Tt(),V(De(I),function(R){var B=mn(R,null);null!=B&&L.set(B,!0)})),x&&x.eachComponent(M,function(R){if(!L||null==L.get(R.id))if(M_(w))if(R instanceof en)w.type===aa&&!w.notBlur&&!R.get(["emphasis","disabled"])&&function(n,e,t){var i=n.seriesIndex,o=n.getData(e.dataType);if(o){var a=Os(o,e);a=(pt(a)?a[0]:a)||0;var l=o.getItemGraphicEl(a);if(!l)for(var u=o.count(),d=0;!l&&d<u;)l=o.getItemGraphicEl(d++);if(l){var p=jt(l);Zf(i,p.focus,p.blurScope,t)}else{var g=n.get(["emphasis","focus"]),m=n.get(["emphasis","blurScope"]);null!=g&&Zf(i,g,m,t)}}}(R,w,m._api);else{var O=wc(R.mainType,R.componentIndex,w.name,m._api),H=O.dispatchers;w.type===aa&&O.focusSelf&&!w.notBlur&&$f(R.mainType,R.componentIndex,m._api),H&&V(H,function(j){w.type===aa?sa(j):vi(j)})}else Xf(w)&&R instanceof en&&(function(n,e,t){if(Xf(e)){var i=e.dataType,a=Os(n.getData(i),e);pt(a)||(a=[a]),n[e.type===yc?"toggleSelect":e.type===mc?"select":"unselect"](a,i)}}(R,w),Js(R),ni(m))},m),x&&x.eachComponent(M,function(R){L&&null!=L.get(R.id)||N(m["series"===k?"_chartsMap":"_componentsMap"][R.__viewId])},m)}else V([].concat(m._componentsViews).concat(m._chartsViews),N);function N(R){R&&R.__alive&&R[b]&&R[b](R.__model,x,m._api,w)}},ba={prepareAndUpdate:function(m){ru(this),ba.update.call(this,m,{optionChanged:null!=m.newOption})},update:function(m,b){var w=this._model,k=this._api,C=this._zr,x=this._coordSysMgr,T=this._scheduler;if(w){w.setUpdatePayload(m),T.restoreData(w,m),T.performSeriesTasks(w),x.create(w,k),T.performDataProcessorTasks(w,m),P0(this,w),x.update(w,k),t(w),T.performVisualTasks(w,m),mg(this,w,k,m,b);var M=w.get("backgroundColor")||"transparent",I=w.get("darkMode");C.setBackgroundColor(M),null!=I&&"auto"!==I&&C.setDarkMode(I),oo.trigger("afterupdate",w,k)}},updateTransform:function(m){var b=this,w=this._model,k=this._api;if(w){w.setUpdatePayload(m);var C=[];w.eachComponent(function(T,M){if("series"!==T){var I=b.getViewOfComponentModel(M);if(I&&I.__alive)if(I.updateTransform){var L=I.updateTransform(M,w,k,m);L&&L.update&&C.push(I)}else C.push(I)}});var x=Tt();w.eachSeries(function(T){var M=b._chartsMap[T.__viewId];if(M.updateTransform){var I=M.updateTransform(T,w,k,m);I&&I.update&&x.set(T.uid,1)}else x.set(T.uid,1)}),t(w),this._scheduler.performVisualTasks(w,m,{setDirty:!0,dirtyMap:x}),Xd(this,w,k,m,{},x),oo.trigger("afterupdate",w,k)}},updateView:function(m){var b=this._model;!b||(b.setUpdatePayload(m),Be.markUpdateMethod(m,"updateView"),t(b),this._scheduler.performVisualTasks(b,m,{setDirty:!0}),mg(this,b,this._api,m,{}),oo.trigger("afterupdate",b,this._api))},updateVisual:function(m){var b=this,w=this._model;!w||(w.setUpdatePayload(m),w.eachSeries(function(k){k.getData().clearAllVisual()}),Be.markUpdateMethod(m,"updateVisual"),t(w),this._scheduler.performVisualTasks(w,m,{visualType:"visual",setDirty:!0}),w.eachComponent(function(k,C){if("series"!==k){var x=b.getViewOfComponentModel(C);x&&x.__alive&&x.updateVisual(C,w,b._api,m)}}),w.eachSeries(function(k){b._chartsMap[k.__viewId].updateVisual(k,w,b._api,m)}),oo.trigger("afterupdate",w,this._api))},updateLayout:function(m){ba.update.call(this,m)}},gg=function(m,b,w,k){if(!m._disposed)for(var T,C=m._model,x=m._coordSysMgr.getCoordinateSystems(),M=ed(C,w),I=0;I<x.length;I++){var L=x[I];if(L[b]&&null!=(T=L[b](C,M,k)))return T}},P0=function(m,b){var w=m._chartsMap,k=m._scheduler;b.eachSeries(function(C){k.updateStreamModes(C,w[C.__viewId])})},vg=function(m,b){var w=this,k=this.getModel(),C=m.type,x=m.escapeConnect,T=kg[C],M=T.actionInfo,I=(M.update||"update").split(":"),L=I.pop(),N=null!=I[0]&&ko(I[0]);this[br]=!0;var R=[m],B=!1;m.batch&&(B=!0,R=gt(m.batch,function(K){return(K=Et(st({},K),m)).batch=null,K}));var F,O=[],H=Xf(m),j=M_(m);if(j&&qf(this._api),V(R,function(K){if((F=(F=T.action(K,w._model,w._api))||st({},K)).type=M.event||F.type,O.push(F),j){var Q=dm(m),nt=Q.mainTypeSpecified?Q.queryOptionMap.keys()[0]:"series";Kd(w,L,K,nt),ni(w)}else H?(Kd(w,L,K,"series"),ni(w)):N&&Kd(w,L,K,N.main,N.sub)}),"none"!==L&&!j&&!H&&!N)try{this[ei]?(ru(this),ba.update.call(this,m),this[ei]=null):ba[L].call(this,m)}catch(K){throw this[br]=!1,K}if(F=B?{type:M.event||C,escapeConnect:x,batch:O}:O[0],this[br]=!1,!b){var q=this._messageCenter;if(q.trigger(F.type,F),H){var Z={type:"selectchanged",escapeConnect:x,selected:Xa(k),isFromClick:m.isFromClick||!1,fromAction:m.type,fromActionPayload:m};q.trigger(Z.type,Z)}}},iu=function(m){for(var b=this._pendingActions;b.length;){var w=b.shift();vg.call(this,w,m)}},ou=function(m){!m&&this.trigger("updated")},R0=function(m,b){m.on("rendered",function(w){b.trigger("rendered",w),m.animation.isFinished()&&!b[ei]&&!b._scheduler.unfinished&&!b._pendingActions.length&&b.trigger("finished")})},N0=function(m,b){m.on("mouseover",function(w){var C=Lr(w.target,yd);C&&(function(n,e,t){var i=jt(n),o=wc(i.componentMainType,i.componentIndex,i.componentHighDownName,t),a=o.dispatchers;a?(o.focusSelf&&$f(i.componentMainType,i.componentIndex,t),V(a,function(u){return xe(u,e)})):(Zf(i.seriesIndex,i.focus,i.blurScope,t),"self"===i.focus&&$f(i.componentMainType,i.componentIndex,t),xe(n,e))}(C,w,b._api),ni(b))}).on("mouseout",function(w){var C=Lr(w.target,yd);C&&(function(n,e,t){qf(t);var i=jt(n),o=wc(i.componentMainType,i.componentIndex,i.componentHighDownName,t).dispatchers;o?V(o,function(a){return Em(a,e)}):Em(n,e)}(C,w,b._api),ni(b))}).on("click",function(w){var C=Lr(w.target,function(M){return null!=jt(M).dataIndex},!0);if(C){var x=C.selected?"unselect":"select",T=jt(C);b._api.dispatchAction({type:x,dataType:T.dataType,dataIndexInside:T.dataIndex,seriesIndex:T.seriesIndex,isFromClick:!0})}})},mg=function(m,b,w,k,C){(function(m){var b=[],w=[],k=!1;if(m.eachComponent(function(M,I){var L=I.get("zlevel")||0,N=I.get("z")||0,R=I.getZLevelKey();k=k||!!R,("series"===M?w:b).push({zlevel:L,z:N,idx:I.componentIndex,type:M,key:R})}),k){var x,T,C=b.concat(w);tf(C,function(M,I){return M.zlevel===I.zlevel?M.z-I.z:M.zlevel-I.zlevel}),V(C,function(M){var I=m.getComponent(M.type,M.idx),L=M.zlevel,N=M.key;null!=x&&(L=Math.max(x,L)),N?(L===x&&N!==T&&L++,T=N):T&&(L===x&&L++,T=""),x=L,I.setZLevel(L)})}})(b),B0(m,b,w,k,C),V(m._chartsViews,function(x){x.__alive=!1}),Xd(m,b,w,k,C),V(m._chartsViews,function(x){x.__alive||x.remove(b,w)})},B0=function(m,b,w,k,C,x){V(x||m._componentsViews,function(T){var M=T.__model;p(0,T),T.render(M,b,w,k),u(M,T),g(M,T)})},Xd=function(m,b,w,k,C,x){var T=m._scheduler;C=st(C||{},{updatedSeries:b.getSeries()}),oo.trigger("series:beforeupdate",b,w,C);var M=!1;b.eachSeries(function(I){var L=m._chartsMap[I.__viewId];L.__alive=!0;var N=L.renderTask;T.updatePayload(N,k),p(0,L),x&&x.get(I.uid)&&N.dirty(),N.perform(T.getPerformArgs(N))&&(M=!0),L.group.silent=!!I.get("silent"),function(m,b){var w=m.get("blendMode")||null;b.eachRendered(function(k){k.isGroup||(k.style.blend=w)})}(I,L),Js(I)}),T.unfinished=M||T.unfinished,oo.trigger("series:layoutlabels",b,w,C),oo.trigger("series:transition",b,w,C),b.eachSeries(function(I){var L=m._chartsMap[I.__viewId];u(I,L),g(I,L)}),function(m,b){var C=0;m._zr.storage.traverse(function(x){x.isGroup||C++}),C>b.get("hoverLayerThreshold")&&!de.node&&!de.worker&&b.eachSeries(function(x){if(!x.preventUsingHoverLayer){var T=m._chartsMap[x.__viewId];T.__alive&&T.eachRendered(function(M){M.states.emphasis&&(M.states.emphasis.hoverLayer=!0)})}})}(m,b),oo.trigger("series:afterupdate",b,w,C)},ni=function(m){m[E0]=!0,m.getZr().wakeUp()},bg=function(m){!m[E0]||(m.getZr().storage.traverse(function(b){kc(b)||o(b)}),m[E0]=!1)},z0=function(m){return new(function(b){function w(){return null!==b&&b.apply(this,arguments)||this}return tt(w,b),w.prototype.getCoordinateSystems=function(){return m._coordSysMgr.getCoordinateSystems()},w.prototype.getComponentByElement=function(k){for(;k;){var C=k.__ecComponentInfo;if(null!=C)return m._model.getComponent(C.mainType,C.index);k=k.parent}},w.prototype.enterEmphasis=function(k,C){sa(k,C),ni(m)},w.prototype.leaveEmphasis=function(k,C){vi(k,C),ni(m)},w.prototype.enterBlur=function(k){A_(k),ni(m)},w.prototype.leaveBlur=function(k){Yf(k),ni(m)},w.prototype.enterSelect=function(k){Lm(k),ni(m)},w.prototype.leaveSelect=function(k){C_(k),ni(m)},w.prototype.getModel=function(){return m.getModel()},w.prototype.getViewOfComponentModel=function(k){return m.getViewOfComponentModel(k)},w.prototype.getViewOfSeriesModel=function(k){return m.getViewOfSeriesModel(k)},w}(ly))(m)},yg=function(m){function b(w,k){for(var C=0;C<w.length;C++)w[C][hg]=k}V(Jd,function(w,k){m._messageCenter.on(k,function(C){if(Cg[m.group]&&0!==m[hg]){if(C&&C.escapeConnect)return;var x=m.makeActionFromEvent(C),T=[];V(cs,function(M){M!==m&&M.group===m.group&&T.push(M)}),b(T,0),V(T,function(M){1!==M[hg]&&M.dispatchAction(x)}),b(T,2)}})})}}(),e}(di),wg=Qd.prototype;wg.on=fg("on"),wg.off=fg("off"),wg.one=function(n,e,t){var i=this;this.on.call(this,n,function o(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];e&&e.apply&&e.apply(this,a),i.off(n,o)},t)};var _g=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],kg={},Jd={},O0=[],V0=[],On=[],Ag={},ls={},cs={},Cg={},B2=+new Date-0,xg=(new Date,"_echarts_instance_");function dA(n,e){Ag[n]=e}function hA(n){qt(V0,n)<0&&V0.push(n)}function F0(n,e){G0(O0,n,e,2e3)}function j0(n,e){oo.on(n,e)}function ao(n,e,t){Mt(e)&&(t=e,e="");var i=Rt(n)?n.type:[n,n={event:e}][0];n.event=(n.event||i).toLowerCase(),!Jd[e=n.event]&&(hr(oA.test(i)&&oA.test(e)),kg[i]||(kg[i]={action:t,actionInfo:n}),Jd[e]=i)}function us(n,e){G0(On,n,e,3e3,"visual")}var pA=[];function G0(n,e,t,i,o){if((Mt(e)||Rt(e))&&(t=e,e=i),!(qt(pA,t)>=0)){pA.push(t);var a=Ud.wrapStageHandler(t,o);a.__prio=e,a.__raw=t,n.push(a)}}function gA(n,e){ls[n]=e}us(2e3,i2),us(4500,o2),us(4500,a2),us(2e3,ee),us(4500,zt),us(7e3,function(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var i=t.getData();i.hasItemVisual()&&i.each(function(l){var u=i.getItemVisual(l,"decal");u&&(i.ensureUniqueItemVisual(l,"style").decal=nu(u,e))});var o=i.getVisual("decal");o&&(i.getVisual("style").decal=nu(o,e))}})}),hA(cl),F0(900,function(n){var e=Tt();n.eachSeries(function(t){var i=t.get("stack");if(i){var o=e.get(i)||e.set(i,[]),a=t.getData(),l={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!l.stackedDimension||!l.isStackedByIndex&&!l.stackedByDimension)return;o.length&&a.setCalculationInfo("stackedOnSeries",o[o.length-1].seriesModel),o.push(l)}}),e.each(yp)}),gA("default",function(n,e){Et(e=e||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new Vt,i=new Xt({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(i);var l,o=new ge({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new Xt({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return t.add(a),e.showSpinner&&((l=new Zy({shape:{startAngle:-Gd/2,endAngle:-Gd/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Gd/2}).start("circularInOut"),l.animateShape(!0).when(1e3,{startAngle:3*Gd/2}).delay(300).start("circularInOut"),t.add(l)),t.resize=function(){var u=o.getBoundingRect().width,d=e.showSpinner?e.spinnerRadius:0,p=(n.getWidth()-2*d-(e.showSpinner&&u?10:0)-u)/2-(e.showSpinner&&u?0:5+u/2)+(e.showSpinner?0:u/2)+(u?0:d),g=n.getHeight()/2;e.showSpinner&&l.setShape({cx:p,cy:g}),a.setShape({x:p-d,y:g-d,width:2*d,height:2*d}),i.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}),ao({type:aa,event:aa,update:aa},vn),ao({type:pd,event:pd,update:pd},vn),ao({type:mc,event:mc,update:mc},vn),ao({type:Hf,event:Hf,update:Hf},vn),ao({type:yc,event:yc,update:yc},vn),dA("light",p2),dA("dark",P1);var U0=[],W0={registerPreprocessor:hA,registerProcessor:F0,registerPostInit:function(n){j0("afterinit",n)},registerPostUpdate:function(n){j0("afterupdate",n)},registerUpdateLifecycle:j0,registerAction:ao,registerCoordinateSystem:function(n,e){ll.register(n,e)},registerLayout:function(n,e){G0(On,n,e,1e3,"layout")},registerVisual:us,registerTransform:function(n){var e=(n=Lt(n)).type;e||Me("");var i=e.split(":");2!==i.length&&Me("");var o=!1;"echarts"===i[0]&&(e=i[1],o=!0),n.__isBuiltIn=o,zk.set(e,n)},registerLoading:gA,registerMap:function(n,e,t){var i=D0.registerMap;i&&i(n,e,t)},registerImpl:function(n,e){D0[n]=e},PRIORITY:{PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},ComponentModel:be,ComponentView:nn,SeriesModel:en,ChartView:Be,registerComponentModel:function(n){be.registerClass(n)},registerComponentView:function(n){nn.registerClass(n)},registerSeriesModel:function(n){en.registerClass(n)},registerChartView:function(n){Be.registerClass(n)},registerSubTypeDefaulter:function(n,e){be.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){!function(n,e){wf[n]=e}(n,e)}};function Qt(n){pt(n)?V(n,function(e){Qt(e)}):qt(U0,n)>=0||(U0.push(n),Mt(n)&&(n={install:n}),n.install(W0))}var au=2*Math.PI,xl=Xi.CMD,F2=["top","right","bottom","left"];function H2(n,e,t,i,o){var a=t.width,l=t.height;switch(n){case"top":i.set(t.x+a/2,t.y-e),o.set(0,-1);break;case"bottom":i.set(t.x+a/2,t.y+l+e),o.set(0,1);break;case"left":i.set(t.x-e,t.y+l/2),o.set(-1,0);break;case"right":i.set(t.x+a+e,t.y+l/2),o.set(1,0)}}function mA(n,e,t,i,o,a,l,u,d){l-=n,u-=e;var p=Math.sqrt(l*l+u*u),g=(l/=p)*t+n,m=(u/=p)*t+e;if(Math.abs(i-o)%au<1e-4)return d[0]=g,d[1]=m,p-t;if(a){var b=i;i=Za(o),o=Za(b)}else i=Za(i),o=Za(o);i>o&&(o+=au);var w=Math.atan2(u,l);if(w<0&&(w+=au),w>=i&&w<=o||w+au>=i&&w+au<=o)return d[0]=g,d[1]=m,p-t;var k=t*Math.cos(i)+n,C=t*Math.sin(i)+e,x=t*Math.cos(o)+n,T=t*Math.sin(o)+e,M=(k-l)*(k-l)+(C-u)*(C-u),I=(x-l)*(x-l)+(T-u)*(T-u);return M<I?(d[0]=k,d[1]=C,Math.sqrt(M)):(d[0]=x,d[1]=T,Math.sqrt(I))}function th(n,e,t,i,o,a,l,u){var d=o-n,p=a-e,g=t-n,m=i-e,b=Math.sqrt(g*g+m*m),k=(d*(g/=b)+p*(m/=b))/b;u&&(k=Math.min(Math.max(k,0),1));var C=l[0]=n+(k*=b)*g,x=l[1]=e+k*m;return Math.sqrt((C-o)*(C-o)+(x-a)*(x-a))}function yA(n,e,t,i,o,a,l){t<0&&(n+=t,t=-t),i<0&&(e+=i,i=-i);var u=n+t,d=e+i,p=l[0]=Math.min(Math.max(o,n),u),g=l[1]=Math.min(Math.max(a,e),d);return Math.sqrt((p-o)*(p-o)+(g-a)*(g-a))}var so=[];function j2(n,e,t){var i=yA(e.x,e.y,e.width,e.height,n.x,n.y,so);return t.set(so[0],so[1]),i}function bA(n,e,t){for(var u,d,i=0,o=0,a=0,l=0,p=1/0,g=e.data,m=n.x,b=n.y,w=0;w<g.length;){var k=g[w++];1===w&&(a=i=g[w],l=o=g[w+1]);var C=p;switch(k){case xl.M:i=a=g[w++],o=l=g[w++];break;case xl.L:C=th(i,o,g[w],g[w+1],m,b,so,!0),i=g[w++],o=g[w++];break;case xl.C:C=of(i,o,g[w++],g[w++],g[w++],g[w++],g[w],g[w+1],m,b,so),i=g[w++],o=g[w++];break;case xl.Q:C=af(i,o,g[w++],g[w++],g[w],g[w+1],m,b,so),i=g[w++],o=g[w++];break;case xl.A:var x=g[w++],T=g[w++],M=g[w++],I=g[w++],L=g[w++],N=g[w++];w+=1;var R=!!(1-g[w++]);u=Math.cos(L)*M+x,d=Math.sin(L)*I+T,w<=1&&(a=u,l=d),C=mA(x,T,I,L,L+N,R,(m-x)*I/M+x,b,so),i=Math.cos(L+N)*M+x,o=Math.sin(L+N)*I+T;break;case xl.R:C=yA(a=i=g[w++],l=o=g[w++],g[w++],g[w++],m,b,so);break;case xl.Z:C=th(i,o,a,l,m,b,so,!0),i=a,o=l}C<p&&(p=C,t.set(so[0],so[1]))}return p}var _i=new Zt,He=new Zt,an=new Zt,No=new Zt,zi=new Zt;function Y0(n,e){if(n){var t=n.getTextGuideLine(),i=n.getTextContent();if(i&&t){var o=n.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],l=o.candidates||F2,u=i.getBoundingRect().clone();u.applyTransform(i.getComputedTransform());var d=1/0,p=o.anchor,g=n.getComputedTransform(),m=g&&Cs([],g),b=e.get("length2")||0;p&&an.copy(p);for(var w=0;w<l.length;w++){H2(l[w],0,u,_i,No),Zt.scaleAndAdd(He,_i,No,b),He.transform(m);var C=n.getBoundingRect(),x=p?p.distance(He):n instanceof re?bA(He,n.path,an):j2(He,C,an);x<d&&(d=x,He.transform(g),an.transform(g),an.toArray(a[0]),He.toArray(a[1]),_i.toArray(a[2]))}Vn(a,e.get("minTurnAngle")),t.setShape({points:a})}}}var Sg=[],Rr=new Zt;function Vn(n,e){if(e<=180&&e>0){e=e/180*Math.PI,_i.fromArray(n[0]),He.fromArray(n[1]),an.fromArray(n[2]),Zt.sub(No,_i,He),Zt.sub(zi,an,He);var t=No.len(),i=zi.len();if(!(t<.001||i<.001)){No.scale(1/t),zi.scale(1/i);var o=No.dot(zi);if(Math.cos(e)<o){var l=th(He.x,He.y,an.x,an.y,_i.x,_i.y,Sg,!1);Rr.fromArray(Sg),Rr.scaleAndAdd(zi,l/Math.tan(Math.PI-e));var u=an.x!==He.x?(Rr.x-He.x)/(an.x-He.x):(Rr.y-He.y)/(an.y-He.y);if(isNaN(u))return;u<0?Zt.copy(Rr,He):u>1&&Zt.copy(Rr,an),Rr.toArray(n[1])}}}}function f(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,_i.fromArray(n[0]),He.fromArray(n[1]),an.fromArray(n[2]),Zt.sub(No,He,_i),Zt.sub(zi,an,He);var i=No.len(),o=zi.len();if(!(i<.001||o<.001)&&(No.scale(1/i),zi.scale(1/o),No.dot(e)<Math.cos(t))){var u=th(He.x,He.y,an.x,an.y,_i.x,_i.y,Sg,!1);Rr.fromArray(Sg);var d=Math.PI/2,g=d+Math.acos(zi.dot(e))-t;if(g>=d)Zt.copy(Rr,an);else{Rr.scaleAndAdd(zi,u/Math.tan(Math.PI/2-g));var m=an.x!==He.x?(Rr.x-He.x)/(an.x-He.x):(Rr.y-He.y)/(an.y-He.y);if(isNaN(m))return;m<0?Zt.copy(Rr,He):m>1&&Zt.copy(Rr,an)}Rr.toArray(n[1])}}}function r(n,e,t,i){var o="normal"===t,a=o?n:n.ensureState(t);a.ignore=e;var l=i.get("smooth");l&&!0===l&&(l=.3),a.shape=a.shape||{},l>0&&(a.shape.smooth=l);var u=i.getModel("lineStyle").getLineStyle();o?n.useStyle(u):a.style=u}function s(n,e){var t=e.smooth,i=e.points;if(i)if(n.moveTo(i[0][0],i[0][1]),t>0&&i.length>=3){var o=Hi(i[0],i[1]),a=Hi(i[1],i[2]);if(!o||!a)return n.lineTo(i[1][0],i[1][1]),void n.lineTo(i[2][0],i[2][1]);var l=Math.min(o,a)*t,u=Hh([],i[1],i[0],l/o),d=Hh([],i[1],i[2],l/a),p=Hh([],u,d,.5);n.bezierCurveTo(u[0],u[1],u[0],u[1],p[0],p[1]),n.bezierCurveTo(d[0],d[1],d[0],d[1],i[2][0],i[2][1])}else for(var g=1;g<i.length;g++)n.lineTo(i[g][0],i[g][1])}function c(n,e,t){var i=n.getTextGuideLine(),o=n.getTextContent();if(o){for(var a=e.normal,l=a.get("show"),u=o.ignore,d=0;d<vc.length;d++){var p=vc[d],g=e[p],m="normal"===p;if(g){var b=g.get("show");if((m?u:Kt(o.states[p]&&o.states[p].ignore,u))||!Kt(b,l)){var k=m?i:i&&i.states[p];k&&(k.ignore=!0);continue}i||(i=new Jr,n.setTextGuideLine(i),!m&&(u||!l)&&r(i,!0,"normal",e.normal),n.stateProxy&&(i.stateProxy=n.stateProxy)),r(i,!1,p,g)}}if(i){Et(i.style,t),i.style.fill=null;var C=a.get("showAbove");(n.textGuideLineConfig=n.textGuideLineConfig||{}).showAbove=C||!1,i.buildPath=s}}else i&&n.removeTextGuideLine()}function h(n,e){for(var t={normal:n.getModel(e=e||"labelLine")},i=0;i<Sr.length;i++){var o=Sr[i];t[o]=n.getModel([o,e])}return t}function v(n){for(var e=[],t=0;t<n.length;t++){var i=n[t];if(!i.defaultAttr.ignore){var o=i.label,a=o.getComputedTransform(),l=o.getBoundingRect(),u=!a||a[1]<1e-5&&a[2]<1e-5,d=o.style.margin||0,p=l.clone();p.applyTransform(a),p.x-=d/2,p.y-=d/2,p.width+=d,p.height+=d;var g=u?new Yp(l,a):null;e.push({label:o,labelLine:i.labelLine,rect:p,localRect:l,obb:g,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:u,transform:a})}}return e}function y(n,e,t,i,o,a){var l=n.length;if(!(l<2)){n.sort(function(F,H){return F.rect[e]-H.rect[e]});for(var d,u=0,p=!1,g=[],m=0,b=0;b<l;b++){var w=n[b],k=w.rect;(d=k[e]-u)<0&&(k[e]-=d,w.label[e]-=d,p=!0);var C=Math.max(-d,0);g.push(C),m+=C,u=k[e]+k[t]}m>0&&a&&R(-m/l,0,l);var M,I,x=n[0],T=n[l-1];return L(),M<0&&B(-M,.8),I<0&&B(I,.8),L(),N(M,I,1),N(I,M,-1),L(),M<0&&O(-M),I<0&&O(I),p}function L(){M=x.rect[e]-i,I=o-T.rect[e]-T.rect[t]}function N(F,H,j){if(F<0){var q=Math.min(H,-F);if(q>0){R(q*j,0,l);var Z=q+F;Z<0&&B(-Z*j,1)}else B(-F*j,1)}}function R(F,H,j){0!==F&&(p=!0);for(var q=H;q<j;q++){var Z=n[q];Z.rect[e]+=F,Z.label[e]+=F}}function B(F,H){for(var j=[],q=0,Z=1;Z<l;Z++){var K=n[Z-1].rect,Q=Math.max(n[Z].rect[e]-K[e]-K[t],0);j.push(Q),q+=Q}if(q){var J=Math.min(Math.abs(F)/q,H);if(F>0)for(Z=0;Z<l-1;Z++)R(j[Z]*J,0,Z+1);else for(Z=l-1;Z>0;Z--)R(-j[Z-1]*J,Z,l)}}function O(F){var H=F<0?-1:1;F=Math.abs(F);for(var j=Math.ceil(F/(l-1)),q=0;q<l-1;q++)if(H>0?R(j,0,q+1):R(-j,l-q-1,l),(F-=j)<=0)return}}function A(n,e,t,i){return y(n,"y","height",e,t,i)}function S(n){var e=[];n.sort(function(C,x){return x.priority-C.priority});var t=new $t(0,0,0,0);function i(C){if(!C.ignore){var x=C.ensureState("emphasis");null==x.ignore&&(x.ignore=!1)}C.ignore=!0}for(var o=0;o<n.length;o++){var a=n[o],l=a.axisAligned,u=a.localRect,d=a.transform,p=a.label,g=a.labelLine;t.copy(a.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var m=a.obb,b=!1,w=0;w<e.length;w++){var k=e[w];if(t.intersect(k.rect)){if(l&&k.axisAligned){b=!0;break}if(k.obb||(k.obb=new Yp(k.localRect,k.transform)),m||(m=new Yp(u,d)),m.intersect(k.obb)){b=!0;break}}}b?(i(p),g&&i(g)):(p.attr("ignore",a.defaultAttr.ignore),g&&g.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}function D(n){if(n){for(var e=[],t=0;t<n.length;t++)e.push(n[t].slice());return e}}function E(n,e){var t=n.label,i=e&&e.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:D(i&&i.shape.points)}}var P=["align","verticalAlign","width","height","fontSize"],z=new bo,G=ye(),W=ye();function $(n,e,t){for(var i=0;i<t.length;i++){var o=t[i];null!=e[o]&&(n[o]=e[o])}}var X=["x","y","rotation"],et=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(e,t,i,o,a){var l=o.style,d=o.__hostTarget.textConfig||{},p=o.getComputedTransform(),g=o.getBoundingRect().plain();$t.applyTransform(g,g,p),p?z.setLocalTransform(p):(z.x=z.y=z.rotation=z.originX=z.originY=0,z.scaleX=z.scaleY=1);var b,m=o.__hostTarget;if(m){b=m.getBoundingRect().plain();var w=m.getComputedTransform();$t.applyTransform(b,b,w)}var k=b&&m.getTextGuideLine();this._labelList.push({label:o,labelLine:k,seriesModel:i,dataIndex:e,dataType:t,layoutOption:a,computedLayoutOption:null,rect:g,hostRect:b,priority:b?b.width*b.height:0,defaultAttr:{ignore:o.ignore,labelGuideIgnore:k&&k.ignore,x:z.x,y:z.y,scaleX:z.scaleX,scaleY:z.scaleY,rotation:z.rotation,style:{x:l.x,y:l.y,align:l.align,verticalAlign:l.verticalAlign,width:l.width,height:l.height,fontSize:l.fontSize},cursor:o.cursor,attachedPos:d.position,attachedRot:d.rotation}})},n.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var i=e.__model,o=i.get("labelLayout");!Mt(o)&&!le(o).length||e.group.traverse(function(a){if(a.ignore)return!0;var l=a.getTextContent(),u=jt(a);l&&!l.disableLabelLayout&&t._addLabel(u.dataIndex,u.dataType,i,l,o)})},n.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),i=e.getHeight();function o(I,L){return function(){Y0(I,L)}}for(var a=0;a<this._labelList.length;a++){var l=this._labelList[a],u=l.label,d=u.__hostTarget,p=l.defaultAttr,g=void 0;g=Mt(l.layoutOption)?l.layoutOption(E(l,d)):l.layoutOption,l.computedLayoutOption=g=g||{};var m=Math.PI/180;d&&d.setTextConfig({local:!1,position:null!=g.x||null!=g.y?null:p.attachedPos,rotation:null!=g.rotate?g.rotate*m:p.attachedRot,offset:[g.dx||0,g.dy||0]});var b=!1;if(null!=g.x?(u.x=_t(g.x,t),u.setStyle("x",0),b=!0):(u.x=p.x,u.setStyle("x",p.style.x)),null!=g.y?(u.y=_t(g.y,i),u.setStyle("y",0),b=!0):(u.y=p.y,u.setStyle("y",p.style.y)),g.labelLinePoints){var w=d.getTextGuideLine();w&&(w.setShape({points:g.labelLinePoints}),b=!1)}G(u).needsUpdateLabelLine=b,u.rotation=null!=g.rotate?g.rotate*m:p.rotation,u.scaleX=p.scaleX,u.scaleY=p.scaleY;for(var C=0;C<P.length;C++){var x=P[C];u.setStyle(x,null!=g[x]?g[x]:p.style[x])}if(g.draggable){if(u.draggable=!0,u.cursor="move",d){var T=l.seriesModel;null!=l.dataIndex&&(T=l.seriesModel.getData(l.dataType).getItemModel(l.dataIndex)),u.on("drag",o(d,T.getModel("labelLine")))}}else u.off("drag"),u.cursor=p.cursor}},n.prototype.layout=function(e){var t=e.getWidth(),i=e.getHeight(),o=v(this._labelList),a=Le(o,function(d){return"shiftX"===d.layoutOption.moveOverlap}),l=Le(o,function(d){return"shiftY"===d.layoutOption.moveOverlap});(function(n,e,t,i){y(n,"x","width",0,t,void 0)})(a,0,t),A(l,0,i),S(Le(o,function(d){return d.layoutOption.hideOverlap}))},n.prototype.processLabelsOverall=function(){var e=this;V(this._chartViewList,function(t){var i=t.__model,o=t.ignoreLabelLineUpdate,a=i.isAnimationEnabled();t.group.traverse(function(l){if(l.ignore&&!l.forceLabelAnimation)return!0;var u=!o,d=l.getTextContent();!u&&d&&(u=G(d).needsUpdateLabelLine),u&&e._updateLabelLine(l,i),a&&e._animateLabels(l,i)})})},n.prototype._updateLabelLine=function(e,t){var i=e.getTextContent(),o=jt(e),a=o.dataIndex;if(i&&null!=a){var l=t.getData(o.dataType),u=l.getItemModel(a),d={},p=l.getItemVisual(a,"style"),g=l.getVisual("drawType");d.stroke=p[g];var m=u.getModel("labelLine");c(e,h(u),d),Y0(e,m)}},n.prototype._animateLabels=function(e,t){var i=e.getTextContent(),o=e.getTextGuideLine();if(i&&(e.forceLabelAnimation||!i.ignore&&!i.invisible&&!e.disableLabelAnimation&&!kc(e))){var l=(a=G(i)).oldLayout,u=jt(e),d=u.dataIndex,p={x:i.x,y:i.y,rotation:i.rotation},g=t.getData(u.dataType);if(l){i.attr(l);var b=e.prevStates;b&&(qt(b,"select")>=0&&i.attr(a.oldLayoutSelect),qt(b,"emphasis")>=0&&i.attr(a.oldLayoutEmphasis)),ke(i,p,t,d)}else if(i.attr(p),!Ac(i).valueAnimation){var m=Kt(i.style.opacity,1);i.style.opacity=0,Je(i,{style:{opacity:m}},t,d)}if(a.oldLayout=p,i.states.select){var w=a.oldLayoutSelect={};$(w,p,X),$(w,i.states.select,X)}if(i.states.emphasis){var k=a.oldLayoutEmphasis={};$(k,p,X),$(k,i.states.emphasis,X)}N_(i,d,g,t,t)}if(o&&!o.ignore&&!o.invisible){var a=W(o),C={points:o.shape.points};(l=a.oldLayout)?(o.attr({shape:l}),ke(o,{shape:C},t)):(o.setShape(C),o.style.strokePercent=0,Je(o,{style:{strokePercent:1}},t)),a.oldLayout=C}},n}();const ct=et;var mt=ye();function Ot(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){var o=mt(t).labelManager;o||(o=mt(t).labelManager=new ct),o.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(e,t,i){var o=mt(t).labelManager;i.updatedSeries.forEach(function(a){o.addLabelsOfSeries(t.getViewOfSeriesModel(a))}),o.updateLayoutConfig(t),o.layout(t),o.processLabelsOverall()})}function Wt(n,e,t){var i=ur.createCanvas(),o=e.getWidth(),a=e.getHeight(),l=i.style;return l&&(l.position="absolute",l.left="0",l.top="0",l.width=o+"px",l.height=a+"px",i.setAttribute("data-zr-dom-id",n)),i.width=o*t,i.height=a*t,i}Qt(Ot);var se=function(n){function e(t,i,o){var l,a=n.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,o=o||vf,"string"==typeof t?l=Wt(t,i,o):Rt(t)&&(t=(l=t).id),a.id=t,a.dom=l;var u=l.style;return u&&(lv(l),l.onselectstart=function(){return!1},u.padding="0",u.margin="0",u.borderWidth="0"),a.painter=i,a.dpr=o,a}return tt(e,n),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=Wt("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,i,o,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var x,l=[],u=this.maxRepaintRectCount,d=!1,p=new $t(0,0,0,0);function g(M){if(M.isFinite()&&!M.isZero())if(0===l.length)(I=new $t(0,0,0,0)).copy(M),l.push(I);else{for(var L=!1,N=1/0,R=0,B=0;B<l.length;++B){var O=l[B];if(O.intersect(M)){var F=new $t(0,0,0,0);F.copy(O),F.union(M),l[B]=F,L=!0;break}if(d){p.copy(M),p.union(O);var Z=p.width*p.height-M.width*M.height-O.width*O.height;Z<N&&(N=Z,R=B)}}var I;d&&(l[R].union(M),L=!0),L||((I=new $t(0,0,0,0)).copy(M),l.push(I)),d||(d=l.length>=u)}}for(var m=this.__startIndex;m<this.__endIndex;++m)if(b=t[m]){var w=b.shouldBePainted(o,a,!0,!0);(k=b.__isRendered&&(1&b.__dirty||!w)?b.getPrevPaintRect():null)&&g(k);var C=w&&(1&b.__dirty||!b.__isRendered)?b.getPaintRect():null;C&&g(C)}for(m=this.__prevStartIndex;m<this.__prevEndIndex;++m){var b,k;w=(b=i[m]).shouldBePainted(o,a,!0,!0),!b||w&&b.__zr||!b.__isRendered||(k=b.getPrevPaintRect())&&g(k)}do{for(x=!1,m=0;m<l.length;)if(l[m].isZero())l.splice(m,1);else{for(var T=m+1;T<l.length;)l[m].intersect(l[T])?(x=!0,l[m].union(l[T]),l.splice(T,1)):T++;m++}}while(x);return this._paintRects=l,l},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,i){var o=this.dpr,a=this.dom,l=a.style,u=this.domBack;l&&(l.width=t+"px",l.height=i+"px"),a.width=t*o,a.height=i*o,u&&(u.width=t*o,u.height=i*o,1!==o&&this.ctxBack.scale(o,o))},e.prototype.clear=function(t,i,o){var a=this.dom,l=this.ctx,u=a.width,d=a.height;i=i||this.clearColor;var p=this.motionBlur&&!t,g=this.lastFrameAlpha,m=this.dpr,b=this;p&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,u/m,d/m));var w=this.domBack;function k(C,x,T,M){if(l.clearRect(C,x,T,M),i&&"transparent"!==i){var I=void 0;Rh(i)?(I=(i.global||i.__width===T&&i.__height===M)&&i.__canvasGradient||v0(l,i,{x:0,y:0,width:T,height:M}),i.__canvasGradient=I,i.__width=T,i.__height=M):function(n){return null!=n.image}(i)&&(i.scaleX=i.scaleX||m,i.scaleY=i.scaleY||m,I=b0(l,i,{dirty:function(){b.setUnpainted(),b.__painter.refresh()}})),l.save(),l.fillStyle=I||i,l.fillRect(C,x,T,M),l.restore()}p&&(l.save(),l.globalAlpha=g,l.drawImage(w,C,x,T,M),l.restore())}!o||p?k(0,0,u,d):o.length&&V(o,function(C){k(C.x*m,C.y*m,C.width*m,C.height*m)})},e}(di);const un=se;var ii=314159,ds=function(){function n(e,t,i,o){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=i=st({},i||{}),this.dpr=i.devicePixelRatio||vf,this._singleCanvas=a,this.root=e,e.style&&(lv(e),e.innerHTML=""),this.storage=t;var u=this._zlevelList;this._prevDisplayList=[];var d=this._layers;if(a){var g=e,m=g.width,b=g.height;null!=i.width&&(m=i.width),null!=i.height&&(b=i.height),this.dpr=i.devicePixelRatio||1,g.width=m*this.dpr,g.height=b*this.dpr,this._width=m,this._height=b;var w=new un(g,this,this.dpr);w.__builtin__=!0,w.initContext(),d[ii]=w,w.zlevel=ii,u.push(ii),this._domRoot=e}else{this._width=Jc(e,0,i),this._height=Jc(e,1,i);var p=this._domRoot=function(n,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+n+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}(this._width,this._height);e.appendChild(p)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),i=this._prevDisplayList,o=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,i,e,this._redrawId);for(var a=0;a<o.length;a++){var u=this._layers[o[a]];!u.__builtin__&&u.refresh&&u.refresh(0===a?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,i=this._hoverlayer;if(i&&i.clear(),t){for(var a,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},l=0;l<t;l++){var u=e[l];u.__inHover&&(i||(i=this._hoverlayer=this.getLayer(1e5)),a||(a=i.ctx).save(),ss(a,u,o,l===t-1))}a&&a.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(1e5)},n.prototype.paintOne=function(e,t){Z1(e,t)},n.prototype._paintList=function(e,t,i,o){if(this._redrawId===o){i=i||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t,i),l=a.finished,u=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),u&&this._paintHoverList(e),l)this.eachLayer(function(p){p.afterBrush&&p.afterBrush()});else{var d=this;xv(function(){d._paintList(e,t,i,o)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(ii).ctx,t=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,t,i),this.eachBuiltinLayer(function(o){o.virtual&&e.drawImage(o.dom,0,0,t,i)})},n.prototype._doPaintList=function(e,t,i){for(var o=this,a=[],l=this._opts.useDirtyRect,u=0;u<this._zlevelList.length;u++){var p=this._layers[this._zlevelList[u]];p.__builtin__&&p!==this._hoverlayer&&(p.__dirty||i)&&a.push(p)}for(var g=!0,m=!1,b=function(C){var x=a[C],T=x.ctx,M=l&&x.createRepaintRects(e,t,w._width,w._height),I=i?x.__startIndex:x.__drawIndex,L=!i&&x.incremental&&Date.now,N=L&&Date.now(),R=x.zlevel===w._zlevelList[0]?w._backgroundColor:null;if(x.__startIndex===x.__endIndex)x.clear(!1,R,M);else if(I===x.__startIndex){var B=e[I];(!B.incremental||!B.notClear||i)&&x.clear(!1,R,M)}-1===I&&(console.error("For some unknown reason. drawIndex is -1"),I=x.__startIndex);var O,F=function(Z){var K={inHover:!1,allClipped:!1,prevEl:null,viewWidth:o._width,viewHeight:o._height};for(O=I;O<x.__endIndex;O++){var Q=e[O];if(Q.__inHover&&(m=!0),o._doPaintEl(Q,x,l,Z,K,O===x.__endIndex-1),L&&Date.now()-N>15)break}K.prevElClipPaths&&T.restore()};if(M)if(0===M.length)O=x.__endIndex;else for(var H=w.dpr,j=0;j<M.length;++j){var q=M[j];T.save(),T.beginPath(),T.rect(q.x*H,q.y*H,q.width*H,q.height*H),T.clip(),F(q),T.restore()}else T.save(),F(),T.restore();x.__drawIndex=O,x.__drawIndex<x.__endIndex&&(g=!1)},w=this,k=0;k<a.length;k++)b(k);return de.wxa&&V(this._layers,function(C){C&&C.ctx&&C.ctx.draw&&C.ctx.draw()}),{finished:g,needsRefreshHover:m}},n.prototype._doPaintEl=function(e,t,i,o,a,l){var u=t.ctx;if(i){var d=e.getPaintRect();(!o||d&&d.intersect(o))&&(ss(u,e,a,l),e.setPrevPaintRect(d))}else ss(u,e,a,l)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=ii);var i=this._layers[e];return i||((i=new un("zr_"+e,this,this.dpr)).zlevel=e,i.__builtin__=!0,this._layerConfig[e]?Pt(i,this._layerConfig[e],!0):this._layerConfig[e-.01]&&Pt(i,this._layerConfig[e-.01],!0),t&&(i.virtual=t),this.insertLayer(e,i),i.initContext()),i},n.prototype.insertLayer=function(e,t){var i=this._layers,o=this._zlevelList,a=o.length,l=this._domRoot,u=null,d=-1;if(!i[e]&&function(n){return!(!n||!n.__builtin__&&("function"!=typeof n.resize||"function"!=typeof n.refresh))}(t)){if(a>0&&e>o[0]){for(d=0;d<a-1&&!(o[d]<e&&o[d+1]>e);d++);u=i[o[d]]}if(o.splice(d+1,0,e),i[e]=t,!t.virtual)if(u){var p=u.dom;p.nextSibling?l.insertBefore(t.dom,p.nextSibling):l.appendChild(t.dom)}else l.firstChild?l.insertBefore(t.dom,l.firstChild):l.appendChild(t.dom);t.__painter=this}},n.prototype.eachLayer=function(e,t){for(var i=this._zlevelList,o=0;o<i.length;o++){var a=i[o];e.call(t,this._layers[a],a)}},n.prototype.eachBuiltinLayer=function(e,t){for(var i=this._zlevelList,o=0;o<i.length;o++){var a=i[o],l=this._layers[a];l.__builtin__&&e.call(t,l,a)}},n.prototype.eachOtherLayer=function(e,t){for(var i=this._zlevelList,o=0;o<i.length;o++){var a=i[o],l=this._layers[a];l.__builtin__||e.call(t,l,a)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){function t(m){a&&(a.__endIndex!==m&&(a.__dirty=!0),a.__endIndex=m)}if(this.eachBuiltinLayer(function(m,b){m.__dirty=m.__used=!1}),this._singleCanvas)for(var i=1;i<e.length;i++)if((o=e[i]).zlevel!==e[i-1].zlevel||o.incremental){this._needsManuallyCompositing=!0;break}var u,d,a=null,l=0;for(d=0;d<e.length;d++){var o,p=(o=e[d]).zlevel,g=void 0;u!==p&&(u=p,l=0),o.incremental?((g=this.getLayer(p+.001,this._needsManuallyCompositing)).incremental=!0,l=1):g=this.getLayer(p+(l>0?.01:0),this._needsManuallyCompositing),g.__builtin__||rv("ZLevel "+p+" has been used by unkown layer "+g.id),g!==a&&(g.__used=!0,g.__startIndex!==d&&(g.__dirty=!0),g.__startIndex=d,g.__drawIndex=g.incremental?-1:d,t(d),a=g),1&o.__dirty&&!o.__inHover&&(g.__dirty=!0,g.incremental&&g.__drawIndex<0&&(g.__drawIndex=d))}t(d),this.eachBuiltinLayer(function(m,b){!m.__used&&m.getElementCount()>0&&(m.__dirty=!0,m.__startIndex=m.__endIndex=m.__drawIndex=0),m.__dirty&&m.__drawIndex<0&&(m.__drawIndex=m.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,V(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var i=this._layerConfig;i[e]?Pt(i[e],t,!0):i[e]=t;for(var o=0;o<this._zlevelList.length;o++){var a=this._zlevelList[o];a!==e&&a!==e+.01||Pt(this._layers[a],i[e],!0)}}},n.prototype.delLayer=function(e){var t=this._layers,i=this._zlevelList,o=t[e];!o||(o.dom.parentNode.removeChild(o.dom),delete t[e],i.splice(qt(i,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var o=this._opts,a=this.root;if(null!=e&&(o.width=e),null!=t&&(o.height=t),e=Jc(a,0,o),t=Jc(a,1,o),i.style.display="",this._width!==e||t!==this._height){for(var l in i.style.width=e+"px",i.style.height=t+"px",this._layers)this._layers.hasOwnProperty(l)&&this._layers[l].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(ii).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(this._singleCanvas&&!this._compositeManually)return this._layers[ii].dom;var t=new un("image",this,(e=e||{}).pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var i=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var o=t.dom.width,a=t.dom.height;this.eachLayer(function(m){m.__builtin__?i.drawImage(m.dom,0,0,o,a):m.renderToCanvas&&(i.save(),m.renderToCanvas(i),i.restore())})}else for(var l={inHover:!1,viewWidth:this._width,viewHeight:this._height},u=this.storage.getDisplayList(!0),d=0,p=u.length;d<p;d++)ss(i,u[d],l,d===p-1);return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}();const Sl=ds;var G2=Math.sin,U2=Math.cos,YE=Math.PI,eh=2*Math.PI,q4=180/YE,Z4=function(){function n(){}return n.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},n.prototype.moveTo=function(e,t){this._add("M",e,t)},n.prototype.lineTo=function(e,t){this._add("L",e,t)},n.prototype.bezierCurveTo=function(e,t,i,o,a,l){this._add("C",e,t,i,o,a,l)},n.prototype.quadraticCurveTo=function(e,t,i,o){this._add("Q",e,t,i,o)},n.prototype.arc=function(e,t,i,o,a,l){this.ellipse(e,t,i,i,0,o,a,l)},n.prototype.ellipse=function(e,t,i,o,a,l,u,d){var k,p=u-l,g=!d,m=Math.abs(p),b=Ui(m-eh)||(g?p>=eh:-p>=eh),w=p>0?p%eh:p%eh+eh;k=!!b||!Ui(m)&&w>=YE==!!g;var C=e+i*U2(l),x=t+o*G2(l);this._start&&this._add("M",C,x);var T=Math.round(a*q4);if(b){var M=1/this._p,I=(g?1:-1)*(eh-M);this._add("A",i,o,T,1,+g,e+i*U2(l+I),t+o*G2(l+I)),M>.01&&this._add("A",i,o,T,0,+g,C,x)}else{var L=e+i*U2(u),N=t+o*G2(u);this._add("A",i,o,T,+k,+g,L,N)}},n.prototype.rect=function(e,t,i,o){this._add("M",e,t),this._add("l",i,0),this._add("l",0,o),this._add("l",-i,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(e,t,i,o,a,l,u,d,p){for(var g=[],m=this._p,b=1;b<arguments.length;b++){var w=arguments[b];if(isNaN(w))return void(this._invalid=!0);g.push(Math.round(w*m)/m)}this._d.push(e+g.join(" ")),this._start="Z"===e},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n}();const qE=Z4;var q0="none",$4=Math.round,W2=["lineCap","miterLimit","lineJoin"],Q4=gt(W2,function(n){return"stroke-"+n.toLowerCase()});var ZE="http://www.w3.org/2000/svg",$E="http://www.w3.org/1999/xlink";function KE(n){return document.createElementNS(ZE,n)}function cr(n,e,t,i,o){return{tag:n,attrs:t||{},children:i,text:o,key:e}}function Y2(n,e){var t=(e=e||{}).newline?"\n":"";return function i(o){var a=o.children,l=o.tag;return function(n,e){var t=[];if(e)for(var i in e){var o=e[i],a=i;!1!==o&&(!0!==o&&null!=o&&(a+='="'+o+'"'),t.push(a))}return"<"+n+" "+t.join(" ")+">"}(l,o.attrs)+An(o.text)+(a?""+t+gt(a,function(d){return i(d)}).join(t)+t:"")+function(n){return"</"+n+">"}(l)}(n)}function q2(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function XE(n,e,t,i){return cr("svg","root",{width:n,height:e,xmlns:ZE,"xmlns:xlink":$E,version:"1.1",baseProfile:"full",viewBox:!!i&&"0 0 "+n+" "+e},t)}var QE={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},nh="transform-origin";function oO(n,e,t){var i=st({},n.shape);st(i,e),n.buildPath(t,i);var o=new qE;return o.reset(Nv(n)),t.rebuildPath(o,1),o.generateStr(),o.getStr()}function aO(n,e){var t=e.originX,i=e.originY;(t||i)&&(n[nh]=t+"px "+i+"px")}var sO={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function JE(n,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=n,t}function tL(n){return At(n)?QE[n]?"cubic-bezier("+QE[n]+")":Tv(n)?n:"":""}function _A(n,e,t,i){var o=n.animators,a=o.length,l=[];if(n instanceof Gp){var u=function(n,e,t){var a,l,o={};if(V(n.shape.paths,function(d){var p=q2(t.zrId);p.animation=!0,_A(d,{},p,!0);var g=p.cssAnims,m=p.cssNodes,b=le(g),w=b.length;if(w){var k=g[l=b[w-1]];for(var C in k){var x=k[C];o[C]=o[C]||{d:""},o[C].d+=x.d||""}for(var T in m){var M=m[T].animation;M.indexOf(l)>=0&&(a=M)}}}),a){e.d=!1;var u=JE(o,t);return a.replace(l,u)}}(n,e,t);if(u)l.push(u);else if(!a)return}else if(!a)return;for(var d={},p=0;p<a;p++){var g=o[p],m=[g.getMaxTime()/1e3+"s"],b=tL(g.getClip().easing),w=g.getDelay();m.push(b||"linear"),w&&m.push(w/1e3+"s"),g.getLoop()&&m.push("infinite");var k=m.join(" ");d[k]=d[k]||[k,[]],d[k][1].push(g)}function C(M){var I=M[1],L=I.length,N={},R={},B={},O="animation-timing-function";function F(Ht,fe,ne){for(var It=Ht.getTracks(),Jt=Ht.getMaxTime(),dn=0;dn<It.length;dn++){var Ae=It[dn];if(Ae.needsAnimate()){var En=Ae.keyframes,kn=Ae.propName;if(ne&&(kn=ne(kn)),kn)for(var si=0;si<En.length;si++){var Bl=En[si],Oi=Math.round(Bl.time/Jt*100)+"%",BC=tL(Bl.easing),ku=Bl.rawValue;(At(ku)||_e(ku))&&(fe[Oi]=fe[Oi]||{},fe[Oi][kn]=Bl.rawValue,BC&&(fe[Oi][O]=BC))}}}}for(var H=0;H<L;H++)(q=(j=I[H]).targetName)?"shape"===q&&F(j,R):!i&&F(j,N);for(var Z in N){var K={};Lw(K,n),st(K,N[Z]);var Q=Bv(K),J=N[Z][O];B[Z]=Q?{transform:Q}:{},aO(B[Z],K),J&&(B[Z][O]=J)}var rt,nt=!0;for(var Z in R){B[Z]=B[Z]||{};var ft=!rt;J=R[Z][O],ft&&(rt=new Xi);var yt=rt.len();rt.reset(),B[Z].d=oO(n,R[Z],rt);var kt=rt.len();if(!ft&&yt!==kt){nt=!1;break}J&&(B[Z][O]=J)}if(!nt)for(var Z in B)delete B[Z].d;if(!i)for(H=0;H<L;H++){var j,q;"style"===(q=(j=I[H]).targetName)&&F(j,B,function(It){return sO[It]})}var Bt,Dt=le(B),Nt=!0;for(H=1;H<Dt.length;H++){var ce=Dt[H-1];if(B[ce][nh]!==B[Dt[H]][nh]){Nt=!1;break}Bt=B[ce][nh]}if(Nt&&Bt){for(var Z in B)B[Z][nh]&&delete B[Z][nh];e[nh]=Bt}if(Le(Dt,function(Ht){return le(B[Ht]).length>0}).length)return JE(B,t)+" "+M[0]+" both"}for(var x in d)(u=C(d[x]))&&l.push(u);if(l.length){var T=t.zrId+"-cls-"+t.cssClassIdx++;t.cssNodes["."+T]={animation:l.join(",")},e.class=T}}var Z0=Math.round;function eL(n){return n&&At(n.src)}function nL(n){return n&&Mt(n.toDataURL)}function Z2(n,e,t,i){(function(n,e,t,i){var o=e.opacity??1;if(t instanceof or)n("opacity",o);else{if(function(n){var e=n.fill;return null!=e&&e!==q0}(e)){var a=Ql(e.fill);n("fill",a.color);var l=null!=e.fillOpacity?e.fillOpacity*a.opacity*o:a.opacity*o;(i||l<1)&&n("fill-opacity",l)}else n("fill",q0);if(function(n){var e=n.stroke;return null!=e&&e!==q0}(e)){var u=Ql(e.stroke);n("stroke",u.color);var d=e.strokeNoScale?t.getLineScale():1,p=d?(e.lineWidth||0)/d:0,g=null!=e.strokeOpacity?e.strokeOpacity*u.opacity*o:u.opacity*o,m=e.strokeFirst;if((i||1!==p)&&n("stroke-width",p),(i||m)&&n("paint-order",m?"stroke":"fill"),(i||g<1)&&n("stroke-opacity",g),e.lineDash){var b=sg(t),w=b[0],k=b[1];w&&(k=$4(k||0),n("stroke-dasharray",w.join(",")),(k||i)&&n("stroke-dashoffset",k))}else i&&n("stroke-dasharray",q0);for(var C=0;C<W2.length;C++){var x=W2[C];if(i||e[x]!==zf[x]){var T=e[x]||zf[x];T&&n(Q4[C],T)}}}else i&&n("stroke",q0)}})(function(o,a){var l="fill"===o||"stroke"===o;l&&Rv(a)?lL(e,n,o,i):l&&mo(a)?cL(t,n,o,i):n[o]=a},e,t,!1),function(n,e,t){var i=n.style;if(function(n){return n&&(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY)}(i)){var o=function(n){var e=n.style,t=n.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),t[0],t[1]].join(",")}(n),a=t.shadowCache,l=a[o];if(!l){var u=n.getGlobalScale(),d=u[0],p=u[1];if(!d||!p)return;var g=i.shadowOffsetX||0,m=i.shadowOffsetY||0,b=i.shadowBlur,w=Ql(i.shadowColor),k=w.opacity,C=w.color,M=b/2/d+" "+b/2/p;l=t.zrId+"-s"+t.shadowIdx++,t.defs[l]=cr("filter",l,{id:l,x:"-100%",y:"-100%",width:"300%",height:"300%"},[cr("feDropShadow","",{dx:g/d,dy:m/p,stdDeviation:M,"flood-color":C,"flood-opacity":k})]),a[o]=l}e.filter=uf(l)}}(t,n,i)}function rL(n){return Ui(n[0]-1)&&Ui(n[1])&&Ui(n[2])&&Ui(n[3]-1)}function $2(n,e,t){if(e&&(!function(n){return Ui(n[4])&&Ui(n[5])}(e)||!rL(e))){var i=t?10:1e4;n.transform=rL(e)?"translate("+Z0(e[4]*i)/i+" "+Z0(e[5]*i)/i+")":function(n){return"matrix("+pr(n[0])+","+pr(n[1])+","+pr(n[2])+","+pr(n[3])+","+Ps(n[4])+","+Ps(n[5])+")"}(e)}}function iL(n,e,t){for(var i=n.points,o=[],a=0;a<i.length;a++)o.push(Z0(i[a][0]*t)/t),o.push(Z0(i[a][1]*t)/t);e.points=o.join(" ")}function oL(n){return!n.smooth}var dO={circle:[function(n){var e=gt(["cx","cy","r"],function(t){return"string"==typeof t?[t,t]:t});return function(t,i,o){for(var a=0;a<e.length;a++){var l=e[a],u=t[l[0]];null!=u&&(i[l[1]]=Z0(u*o)/o)}}}()],polyline:[iL,oL],polygon:[iL,oL]};function aL(n,e){var t=n.style,i=n.shape,o=dO[n.type],a={},l=e.animation,u="path",d=n.style.strokePercent,p=e.compress&&Nv(n)||4;if(!o||e.willUpdate||o[1]&&!o[1](i)||l&&function(n){for(var e=n.animators,t=0;t<e.length;t++)if("shape"===e[t].targetName)return!0;return!1}(n)||d<1){var m=!n.path||n.shapeChanged();n.path||n.createPathProxy();var b=n.path;m&&(b.beginPath(),n.buildPath(b,n.shape),n.pathUpdated());var w=b.getVersion(),k=n,C=k.__svgPathBuilder;(k.__svgPathVersion!==w||!C||d!==k.__svgPathStrokePercent)&&(C||(C=k.__svgPathBuilder=new qE),C.reset(p),b.rebuildPath(C,d),C.generateStr(),k.__svgPathVersion=w,k.__svgPathStrokePercent=d),a.d=C.getStr()}else{u=n.type;var g=Math.pow(10,p);o[0](i,a,g)}return $2(a,n.transform),Z2(a,t,n,e),e.animation&&_A(n,a,e),cr(u,n.id+"",a)}function sL(n,e){return n instanceof re?aL(n,e):n instanceof or?function(n,e){var t=n.style,i=t.image;if(i&&!At(i)&&(eL(i)?i=i.src:nL(i)&&(i=i.toDataURL())),i){var o=t.x||0,a=t.y||0,d={href:i,width:t.width,height:t.height};return o&&(d.x=o),a&&(d.y=a),$2(d,n.transform),Z2(d,t,n,e),e.animation&&_A(n,d,e),cr("image",n.id+"",d)}}(n,e):n instanceof cd?function(n,e){var t=n.style,i=t.text;if(null!=i&&(i+=""),i&&!isNaN(t.x)&&!isNaN(t.y)){var o=t.font||Sa,a=t.x||0,l=function(n,e,t){return"top"===t?n+=e/2:"bottom"===t&&(n-=e/2),n}(t.y||0,Ku(o),t.textBaseline),d={"dominant-baseline":"central","text-anchor":ww[t.textAlign]||t.textAlign};if(xm(t)){var p="",g=t.fontStyle,m=v_(t.fontSize);if(!parseFloat(m))return;var w=t.fontWeight;p+="font-size:"+m+";font-family:"+(t.fontFamily||qb)+";",g&&"normal"!==g&&(p+="font-style:"+g+";"),w&&"normal"!==w&&(p+="font-weight:"+w+";"),d.style=p}else d.style="font: "+o;return i.match(/\s/)&&(d["xml:space"]="preserve"),a&&(d.x=a),l&&(d.y=l),$2(d,n.transform),Z2(d,t,n,e),e.animation&&_A(n,d,e),cr("text",n.id+"",d,void 0,i)}}(n,e):void 0}function lL(n,e,t,i){var a,o=n[t],l={gradientUnits:o.global?"userSpaceOnUse":"objectBoundingBox"};if(Aw(o))a="linearGradient",l.x1=o.x,l.y1=o.y,l.x2=o.x2,l.y2=o.y2;else{if(!Ut(o))return;a="radialGradient",l.cx=Kt(o.x,.5),l.cy=Kt(o.y,.5),l.r=Kt(o.r,.5)}for(var u=o.colorStops,d=[],p=0,g=u.length;p<g;++p){var m=100*Ps(u[p].offset)+"%",w=Ql(u[p].color),C=w.opacity,x={offset:m};x["stop-color"]=w.color,C<1&&(x["stop-opacity"]=C),d.push(cr("stop",p+"",x))}var M=Y2(cr(a,"",l,d)),I=i.gradientCache,L=I[M];L||(L=i.zrId+"-g"+i.gradientIdx++,I[M]=L,l.id=L,i.defs[L]=cr(a,L,l,d)),e[t]=uf(L)}function cL(n,e,t,i){var m,o=n.style[t],a=n.getBoundingRect(),l={},u=o.repeat,d="no-repeat"===u,p="repeat-x"===u,g="repeat-y"===u;if(Pv(o)){var b=o.imageWidth,w=o.imageHeight,k=void 0,C=o.image;if(At(C)?k=C:eL(C)?k=C.src:nL(C)&&(k=C.toDataURL()),"undefined"==typeof Image){var x="Image width/height must been given explictly in svg-ssr renderer.";hr(b,x),hr(w,x)}else if(null==b||null==w){var T=function(H,j){if(H){var q=H.elm,Z=b||j.width,K=w||j.height;"pattern"===H.tag&&(p?(K=1,Z/=a.width):g&&(Z=1,K/=a.height)),H.attrs.width=Z,H.attrs.height=K,q&&(q.setAttribute("width",Z),q.setAttribute("height",K))}},M=gm(k,null,n,function(H){d||T(R,H),T(m,H)});M&&M.width&&M.height&&(b=b||M.width,w=w||M.height)}m=cr("image","img",{href:k,width:b,height:w}),l.width=b,l.height=w}else o.svgElement&&(m=Lt(o.svgElement),l.width=o.svgWidth,l.height=o.svgHeight);if(m){var I,L;d?I=L=1:p?(L=1,I=l.width/a.width):g?(I=1,L=l.height/a.height):l.patternUnits="userSpaceOnUse",null!=I&&!isNaN(I)&&(l.width=I),null!=L&&!isNaN(L)&&(l.height=L);var N=Bv(o);N&&(l.patternTransform=N);var R=cr("pattern","",l,[m]),B=Y2(R),O=i.patternCache,F=O[B];F||(F=i.zrId+"-p"+i.patternIdx++,O[B]=F,l.id=F,R=i.defs[F]=cr("pattern",F,l,[m])),e[t]=uf(F)}}function vO(n,e,t){var i=t.clipPathCache,o=t.defs,a=i[n.id];if(!a){var l={id:a=t.zrId+"-c"+t.clipPathIdx++};i[n.id]=a,o[a]=cr("clipPath",a,l,[aL(n,t)])}e["clip-path"]=uf(a)}function uL(n){return document.createTextNode(n)}function rh(n,e,t){n.insertBefore(e,t)}function dL(n,e){n.removeChild(e)}function hL(n,e){n.appendChild(e)}function fL(n){return n.parentNode}function pL(n){return n.nextSibling}function K2(n,e){n.textContent=e}var yO=cr("","");function X2(n){return void 0===n}function hs(n){return void 0!==n}function bO(n,e,t){for(var i={},o=e;o<=t;++o){var a=n[o].key;void 0!==a&&(i[a]=o)}return i}function $0(n,e){return n.tag===e.tag&&n.key===e.key}function K0(n){var e,t=n.children,i=n.tag;if(hs(i)){var o=n.elm=KE(i);if(Q2(yO,n),pt(t))for(e=0;e<t.length;++e){var a=t[e];null!=a&&hL(o,K0(a))}else hs(n.text)&&!Rt(n.text)&&hL(o,uL(n.text))}else n.elm=uL(n.text);return n.elm}function vL(n,e,t,i,o){for(;i<=o;++i){var a=t[i];null!=a&&rh(n,K0(a),e)}}function kA(n,e,t,i){for(;t<=i;++t){var o=e[t];null!=o&&(hs(o.tag)?dL(fL(o.elm),o.elm):dL(n,o.elm))}}function Q2(n,e){var t,i=e.elm,o=n&&n.attrs||{},a=e.attrs||{};if(o!==a){for(t in a){var l=a[t];o[t]!==l&&(!0===l?i.setAttribute(t,""):!1===l?i.removeAttribute(t):120!==t.charCodeAt(0)?i.setAttribute(t,l):"xmlns:xlink"===t||"xmlns"===t?i.setAttributeNS("http://www.w3.org/2000/xmlns/",t,l):58===t.charCodeAt(3)?i.setAttributeNS("http://www.w3.org/XML/1998/namespace",t,l):58===t.charCodeAt(5)?i.setAttributeNS($E,t,l):i.setAttribute(t,l))}for(t in o)t in a||i.removeAttribute(t)}}function Tg(n,e){var t=e.elm=n.elm,i=n.children,o=e.children;n!==e&&(Q2(n,e),X2(e.text)?hs(i)&&hs(o)?i!==o&&function(n,e,t){for(var m,b,w,i=0,o=0,a=e.length-1,l=e[0],u=e[a],d=t.length-1,p=t[0],g=t[d];i<=a&&o<=d;)null==l?l=e[++i]:null==u?u=e[--a]:null==p?p=t[++o]:null==g?g=t[--d]:$0(l,p)?(Tg(l,p),l=e[++i],p=t[++o]):$0(u,g)?(Tg(u,g),u=e[--a],g=t[--d]):$0(l,g)?(Tg(l,g),rh(n,l.elm,pL(u.elm)),l=e[++i],g=t[--d]):$0(u,p)?(Tg(u,p),rh(n,u.elm,l.elm),u=e[--a],p=t[++o]):(X2(m)&&(m=bO(e,i,a)),X2(b=m[p.key])||(w=e[b]).tag!==p.tag?rh(n,K0(p),l.elm):(Tg(w,p),e[b]=void 0,rh(n,w.elm,l.elm)),p=t[++o]);(i<=a||o<=d)&&(i>a?vL(n,null==t[d+1]?null:t[d+1].elm,t,o,d):kA(n,e,i,a))}(t,i,o):hs(o)?(hs(n.text)&&K2(t,""),vL(t,null,o,0,o.length-1)):hs(i)?kA(t,i,0,i.length-1):hs(n.text)&&K2(t,""):n.text!==e.text&&(hs(i)&&kA(t,i,0,i.length-1),K2(t,e.text)))}var kO=0,AO=function(){function n(e,t,i){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=t,this._opts=i=st({},i),this.root=e,this._id="zr"+kO++,this._oldVNode=XE(i.width,i.height),e&&!i.ssr){var o=this._viewport=document.createElement("div");o.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=KE("svg");Q2(null,this._oldVNode),o.appendChild(a),e.appendChild(o)}this.resize(i.width,i.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",function(n,e){if($0(n,e))Tg(n,e);else{var t=n.elm,i=fL(t);K0(e),null!==i&&(rh(i,e.elm,pL(t)),kA(i,[n],0,0))}}(this._oldVNode,e),this._oldVNode=e}},n.prototype.renderOneToVNode=function(e){return sL(e,q2(this._id))},n.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),i=this._width,o=this._height,a=q2(this._id);a.animation=e.animation,a.willUpdate=e.willUpdate,a.compress=e.compress;var l=[],u=this._bgVNode=function(n,e,t,i){var o;if(t&&"none"!==t)if(o=cr("rect","bg",{width:n,height:e,x:"0",y:"0",id:"0"}),Rv(t))lL({fill:t},o.attrs,"fill",i);else if(mo(t))cL({style:{fill:t},dirty:vn,getBoundingRect:function(){return{width:n,height:e}}},o.attrs,"fill",i);else{var a=Ql(t),u=a.opacity;o.attrs.fill=a.color,u<1&&(o.attrs["fill-opacity"]=u)}return o}(i,o,this._backgroundColor,a);u&&l.push(u);var d=e.compress?null:this._mainVNode=cr("g","main",{},[]);this._paintList(t,a,d?d.children:l),d&&l.push(d);var p=gt(le(a.defs),function(b){return a.defs[b]});if(p.length&&l.push(cr("defs","defs",{},p)),e.animation){var g=function(n,e,t){var i=(t=t||{}).newline?"\n":"",o=" {"+i,a=i+"}",l=gt(le(n),function(d){return d+o+gt(le(n[d]),function(p){return p+":"+n[d][p]+";"}).join(i)+a}).join(i),u=gt(le(e),function(d){return"@keyframes "+d+o+gt(le(e[d]),function(p){return p+o+gt(le(e[d][p]),function(g){var m=e[d][p][g];return"d"===g&&(m='path("'+m+'")'),g+":"+m+";"}).join(i)+a}).join(i)+a}).join(i);return l||u?["<![CDATA[",l,u,"]]>"].join(i):""}(a.cssNodes,a.cssAnims,{newline:!0});if(g){var m=cr("style","stl",{},[],g);l.push(m)}}return XE(i,o,l,e.useViewBox)},n.prototype.renderToString=function(e){return Y2(this.renderToVNode({animation:Kt((e=e||{}).cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:Kt(e.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(e,t,i){for(var u,d,o=e.length,a=[],l=0,p=0,g=0;g<o;g++){var m=e[g];if(!m.invisible){var b=m.__clipPaths,w=b&&b.length||0,k=d&&d.length||0,C=void 0;for(C=Math.max(w-1,k-1);C>=0&&(!b||!d||b[C]!==d[C]);C--);for(var x=k-1;x>C;x--)u=a[--l-1];for(var T=C+1;T<w;T++){var M={};vO(b[T],M,t);var I=cr("g","clip-g-"+p++,M,[]);(u?u.children:i).push(I),a[l++]=I,u=I}d=b;var L=sL(m,t);L&&(u?u.children:i).push(L)}}},n.prototype.resize=function(e,t){var i=this._opts,o=this.root,a=this._viewport;if(null!=e&&(i.width=e),null!=t&&(i.height=t),o&&a&&(a.style.display="none",e=Jc(o,0,i),t=Jc(o,1,i),a.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,a){var l=a.style;l.width=e+"px",l.height=t+"px"}if(mo(this._backgroundColor))this.refresh();else{var u=this._svgDom;u&&(u.setAttribute("width",e),u.setAttribute("height",t));var d=this._bgVNode&&this._bgVNode.elm;d&&(d.setAttribute("width",e),d.setAttribute("height",t))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(e){var t=this.renderToString(),i="data:image/svg+xml;";return e?(t=Cw(t))&&i+"base64,"+t:i+"charset=UTF-8,"+encodeURIComponent(t)},n}();const xO=AO;function X0(n){return null==n?0:n.length||1}function yL(n){return n}var TO=function(){function n(e,t,i,o,a,l){this._old=e,this._new=t,this._oldKeyGetter=i||yL,this._newKeyGetter=o||yL,this.context=a,this._diffModeMultiple="multiple"===l}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,i={},o=new Array(e.length),a=new Array(t.length);this._initIndexMap(e,null,o,"_oldKeyGetter"),this._initIndexMap(t,i,a,"_newKeyGetter");for(var l=0;l<e.length;l++){var u=o[l],d=i[u],p=X0(d);if(p>1){var g=d.shift();1===d.length&&(i[u]=d[0]),this._update&&this._update(g,l)}else 1===p?(i[u]=null,this._update&&this._update(d,l)):this._remove&&this._remove(l)}this._performRestAdd(a,i)},n.prototype._executeMultiple=function(){var t=this._new,i={},o={},a=[],l=[];this._initIndexMap(this._old,i,a,"_oldKeyGetter"),this._initIndexMap(t,o,l,"_newKeyGetter");for(var u=0;u<a.length;u++){var d=a[u],p=i[d],g=o[d],m=X0(p),b=X0(g);if(m>1&&1===b)this._updateManyToOne&&this._updateManyToOne(g,p),o[d]=null;else if(1===m&&b>1)this._updateOneToMany&&this._updateOneToMany(g,p),o[d]=null;else if(1===m&&1===b)this._update&&this._update(g,p),o[d]=null;else if(m>1&&b>1)this._updateManyToMany&&this._updateManyToMany(g,p),o[d]=null;else if(m>1)for(var w=0;w<m;w++)this._remove&&this._remove(p[w]);else this._remove&&this._remove(p)}this._performRestAdd(l,o)},n.prototype._performRestAdd=function(e,t){for(var i=0;i<e.length;i++){var o=e[i],a=t[o],l=X0(a);if(l>1)for(var u=0;u<l;u++)this._add&&this._add(a[u]);else 1===l&&this._add&&this._add(a);t[o]=null}},n.prototype._initIndexMap=function(e,t,i,o){for(var a=this._diffModeMultiple,l=0;l<e.length;l++){var u="_ec_"+this[o](e[l],l);if(a||(i[l]=u),t){var d=t[u],p=X0(d);0===p?(t[u]=l,a&&i.push(u)):1===p?t[u]=[d,l]:d.push(l)}}},n}();const Tl=TO;var DO=function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function J2(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}function AA(n){return"category"===n?"ordinal":"time"===n?"time":"float"}const CA=function(e){this.otherDims={},null!=e&&st(this,e)};var LO=ye(),PO={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},bL=function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=kL(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return Kt(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=xk(this.source),i=!AL(e),o="",a=[],l=0,u=0;l<e;l++){var d=void 0,p=void 0,g=void 0,m=this.dimensions[u];if(m&&m.storeDimIndex===l)d=t?m.name:null,p=m.type,g=m.ordinalMeta,u++;else{var b=this.getSourceDimension(l);b&&(d=t?b.name:null,p=b.type)}a.push({property:d,type:p,ordinalMeta:g}),t&&null!=d&&(!m||!m.isCalculationCoord)&&(o+=i?d.replace(/\`/g,"`1").replace(/\$/g,"`2"):d),o+="$",o+=PO[p]||"f",g&&(o+=g.uid),o+="$"}var w=this.source;return{dimensions:a,hash:[w.seriesLayoutBy,w.startIndex,o].join("$$")}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,i=0;t<this._fullDimCount;t++){var o=void 0,a=this.dimensions[i];if(a&&a.storeDimIndex===t)a.isCalculationCoord||(o=a.name),i++;else{var l=this.getSourceDimension(t);l&&(o=l.name)}e.push(o)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function wL(n){return n instanceof bL}function _L(n){for(var e=Tt(),t=0;t<(n||[]).length;t++){var i=n[t],o=Rt(i)?i.name:i;null!=o&&null==e.get(o)&&e.set(o,t)}return e}function kL(n){var e=LO(n);return e.dimNameMap||(e.dimNameMap=_L(n.dimensionsDefine))}function AL(n){return n>30}var xL,xA,J0,tb,tD,SA,eD,Q0=Rt,su=gt,RO="undefined"==typeof Int32Array?Array:Int32Array,BO=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],zO=["_approximateExtent"],OO=function(){function n(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var i,o=!1;wL(e)?(i=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(o=!0,i=e),i=i||["x","y"];for(var a={},l=[],u={},d=!1,p={},g=0;g<i.length;g++){var m=i[g],b=At(m)?new CA({name:m}):m instanceof CA?m:new CA(m),w=b.name;b.type=b.type||"float",b.coordDim||(b.coordDim=w,b.coordDimIndex=0);var k=b.otherDims=b.otherDims||{};l.push(w),a[w]=b,null!=p[w]&&(d=!0),b.createInvertedIndices&&(u[w]=[]),0===k.itemName&&(this._nameDimIdx=g),0===k.itemId&&(this._idDimIdx=g),o&&(b.storeDimIndex=g)}if(this.dimensions=l,this._dimInfos=a,this._initGetDimensionInfo(d),this.hostModel=t,this._invertedIndicesMap=u,this._dimOmitted){var C=this._dimIdxToName=Tt();V(l,function(x){C.set(a[x].storeDimIndex,x)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(null==t)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var i=this._dimIdxToName.get(t);if(null!=i)return i;var o=this._schema.getSourceDimension(t);return o?o.name:void 0},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(null!=t)return t;if(null==e)return-1;var i=this._getDimInfo(e);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if(_e(e)||null!=e&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){return this.getDimensionIndex(e)},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(i){return t.hasOwnProperty(i)?t[i]:void 0}:function(i){return t[i]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var i=this._dimSummary;if(null==t)return i.encodeFirstDimNotExtra[e];var o=i.encode[e];return o?o[t]:null},n.prototype.mapDimensionsAll=function(e){return(this._dimSummary.encode[e]||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,i){var a,o=this;if(e instanceof Sy&&(a=e),!a){var l=this.dimensions,u=rs(e)||tr(e)?new Tk(e,l.length):e;a=new Sy;var d=su(l,function(p){return{type:o._dimInfos[p].type,property:p}});a.initData(u,d,i)}this._store=a,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=function(n,e){var t={},i=t.encode={},o=Tt(),a=[],l=[],u={};V(n.dimensions,function(b){var w=n.getDimensionInfo(b),k=w.coordDim;if(k){var C=w.coordDimIndex;J2(i,k)[C]=b,w.isExtraCoord||(o.set(k,1),function(n){return!("ordinal"===n||"time"===n)}(w.type)&&(a[0]=b),J2(u,k)[C]=n.getDimensionIndex(w.name)),w.defaultTooltip&&l.push(b)}Qm.each(function(x,T){var M=J2(i,T),I=w.otherDims[T];null!=I&&!1!==I&&(M[I]=w.name)})});var d=[],p={};o.each(function(b,w){var k=i[w];p[w]=k[0],d=d.concat(k)}),t.dataDimsOnCoord=d,t.dataDimIndicesOnCoord=gt(d,function(b){return n.getDimensionInfo(b).storeDimIndex}),t.encodeFirstDimNotExtra=p;var g=i.label;g&&g.length&&(a=g.slice());var m=i.tooltip;return m&&m.length?l=m.slice():l.length||(l=a.slice()),i.defaultedLabel=a,i.defaultedTooltip=l,t.userOutput=new DO(u,e),t}(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var i=this._store.appendValues(e,t.length),o=i.start,a=i.end,l=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var u=o;u<a;u++)this._nameList[u]=t[u-o],l&&eD(this,u)},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,i=0;i<t.length;i++){var o=this._dimInfos[t[i]];o.ordinalMeta&&e.collectOrdinalMeta(o.storeDimIndex,o.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return null==this._idDimIdx&&e.getSource().sourceFormat!==Io&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var o=this._store.getProvider();this._updateOrdinalMeta();var a=this._nameList,l=this._idList;if(o.getSource().sourceFormat===Zr&&!o.pure)for(var p=[],g=e;g<t;g++){var m=o.getItem(g,p);if(!this.hasItemOption&&Hw(m)&&(this.hasItemOption=!0),m){var b=m.name;null==a[g]&&null!=b&&(a[g]=mn(b,null));var w=m.id;null==l[g]&&null!=w&&(l[g]=mn(w,null))}}if(this._shouldMakeIdFromName())for(g=e;g<t;g++)eD(this,g);xL(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){Q0(e)?st(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),i=this._nameList[t];return null==i&&null!=this._nameDimIdx&&(i=J0(this,this._nameDimIdx,t)),null==i&&(i=""),i},n.prototype._getCategory=function(e,t){var i=this._store.get(e,t),o=this._store.getOrdinalMeta(e);return o?o.categories[i]:i},n.prototype.getId=function(e){return xA(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var o=this._dimInfos[e];if(o)return this._store.get(o.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var o=this._dimInfos[e];if(o)return this._store.getByRawIndex(o.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var i=this,o=this._store;return pt(e)?o.getValues(su(e,function(a){return i._getStoreDimIndex(a)}),t):o.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,i=0,o=t.length;i<o;i++)if(isNaN(this._store.get(t[i],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,i=this._store.count();t<i;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var o=(e&&this._invertedIndicesMap[e])[t];return null==o||isNaN(o)?-1:o},n.prototype.indicesOfNearest=function(e,t,i){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,i)},n.prototype.each=function(e,t,i){Mt(e)&&(i=t,t=e,e=[]);var o=i||this,a=su(tb(e),this._getStoreDimIndex,this);this._store.each(a,o?Ct(t,o):t)},n.prototype.filterSelf=function(e,t,i){Mt(e)&&(i=t,t=e,e=[]);var o=i||this,a=su(tb(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,o?Ct(t,o):t),this},n.prototype.selectRange=function(e){var t=this,i={},o=le(e),a=[];return V(o,function(l){var u=t._getStoreDimIndex(l);i[u]=e[l],a.push(u)}),this._store=this._store.selectRange(i),this},n.prototype.mapArray=function(e,t,i){Mt(e)&&(i=t,t=e,e=[]);var o=[];return this.each(e,function(){o.push(t&&t.apply(this,arguments))},i=i||this),o},n.prototype.map=function(e,t,i,o){var a=i||o||this,l=su(tb(e),this._getStoreDimIndex,this),u=SA(this);return u._store=this._store.map(l,a?Ct(t,a):t),u},n.prototype.modify=function(e,t,i,o){var l=i||o||this,u=su(tb(e),this._getStoreDimIndex,this);this._store.modify(u,l?Ct(t,l):t)},n.prototype.downSample=function(e,t,i,o){var a=SA(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),t,i,o),a},n.prototype.lttbDownSample=function(e,t){var i=SA(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),i},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,i=this.getRawDataItem(e);return new Ye(i,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new Tl(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(i){return xA(e,i)},function(i){return xA(t,i)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},Q0(e)?st(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var i=this._itemVisuals[e];return(i&&i[t])??this.getVisual(t)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var i=this._itemVisuals,o=i[e];o||(o=i[e]={});var a=o[t];return null==a&&(pt(a=this.getVisual(t))?a=a.slice():Q0(a)&&(a=st({},a)),o[t]=a),a},n.prototype.setItemVisual=function(e,t,i){var o=this._itemVisuals[e]||{};this._itemVisuals[e]=o,Q0(t)?st(o,t):o[t]=i},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){Q0(e)?st(this._layout,e):this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,i){this._itemLayouts[e]=i?st(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){Of(this.hostModel&&this.hostModel.seriesIndex,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){V(this._graphicEls,function(i,o){i&&e&&e.call(t,i,o)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:su(this.dimensions,this._getDimInfo,this),this.hostModel)),tD(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var i=this[e];!Mt(i)||(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var o=i.apply(this,arguments);return t.apply(this,[o].concat(Nh(arguments)))})},n.internalField=(xL=function(e){var t=e._invertedIndicesMap;V(t,function(i,o){var a=e._dimInfos[o],l=a.ordinalMeta,u=e._store;if(l){i=t[o]=new RO(l.categories.length);for(var d=0;d<i.length;d++)i[d]=-1;for(d=0;d<u.count();d++)i[u.get(a.storeDimIndex,d)]=d}})},J0=function(e,t,i){return mn(e._getCategory(t,i),null)},xA=function(e,t){var i=e._idList[t];return null==i&&null!=e._idDimIdx&&(i=J0(e,e._idDimIdx,t)),null==i&&(i="e\0\0"+t),i},tb=function(e){return pt(e)||(e=null!=e?[e]:[]),e},SA=function(e){var t=new n(e._schema?e._schema:su(e.dimensions,e._getDimInfo,e),e.hostModel);return tD(t,e),t},tD=function(e,t){V(BO.concat(t.__wrappedMethods||[]),function(i){t.hasOwnProperty(i)&&(e[i]=t[i])}),e.__wrappedMethods=t.__wrappedMethods,V(zO,function(i){e[i]=Lt(t[i])}),e._calculationInfo=st({},t._calculationInfo)},void(eD=function(e,t){var i=e._nameList,o=e._idList,a=e._nameDimIdx,l=e._idDimIdx,u=i[t],d=o[t];if(null==u&&null!=a&&(i[t]=u=J0(e,a,t)),null==d&&null!=l&&(o[t]=d=J0(e,l,t)),null==d&&null!=u){var p=e._nameRepeatCount,g=p[u]=(p[u]||0)+1;d=u,g>1&&(d+="__ec__"+g),o[t]=d}})),n}();const ki=OO;function Dg(n,e){rs(n)||(n=Id(n));var t=(e=e||{}).coordDimensions||[],i=e.dimensionsDefine||n.dimensionsDefine||[],o=Tt(),a=[],l=function(n,e,t,i){var o=Math.max(n.dimensionsDetectedCount||1,e.length,t.length,i||0);return V(e,function(a){var l;Rt(a)&&(l=a.dimsDef)&&(o=Math.max(o,l.length))}),o}(n,t,i,e.dimensionsCount),u=e.canOmitUnusedDimensions&&AL(l),d=i===n.dimensionsDefine,p=d?kL(n):_L(i),g=e.encodeDefine;!g&&e.encodeDefaulter&&(g=e.encodeDefaulter(n,l));for(var m=Tt(g),b=new Cy(l),w=0;w<b.length;w++)b[w]=-1;function k(F){var H=b[F];if(H<0){var j=i[F],q=Rt(j)?j:{name:j},Z=new CA,K=q.name;return null!=K&&null!=p.get(K)&&(Z.name=Z.displayName=K),null!=q.type&&(Z.type=q.type),null!=q.displayName&&(Z.displayName=q.displayName),b[F]=a.length,Z.storeDimIndex=F,a.push(Z),Z}return a[H]}if(!u)for(w=0;w<l;w++)k(w);m.each(function(F,H){var j=De(F).slice();if(1===j.length&&!At(j[0])&&j[0]<0)m.set(H,!1);else{var q=m.set(H,[]);V(j,function(Z,K){var Q=At(Z)?p.get(Z):Z;null!=Q&&Q<l&&(q[K]=Q,x(k(Q),H,K))})}});var C=0;function x(F,H,j){null!=Qm.get(H)?F.otherDims[H]=j:(F.coordDim=H,F.coordDimIndex=j,o.set(H,!0))}V(t,function(F){var H,j,q,Z;if(At(F))H=F,Z={};else{H=(Z=F).name;var K=Z.ordinalMeta;Z.ordinalMeta=null,(Z=st({},Z)).ordinalMeta=K,j=Z.dimsDef,q=Z.otherDims,Z.name=Z.coordDim=Z.coordDimIndex=Z.dimsDef=Z.otherDims=null}var Q=m.get(H);if(!1!==Q){if(!(Q=De(Q)).length)for(var J=0;J<(j&&j.length||1);J++){for(;C<l&&null!=k(C).coordDim;)C++;C<l&&Q.push(C++)}V(Q,function(rt,nt){var ft=k(rt);if(d&&null!=Z.type&&(ft.type=Z.type),x(Et(ft,Z),H,nt),null==ft.name&&j){var yt=j[nt];!Rt(yt)&&(yt={name:yt}),ft.name=ft.displayName=yt.name,ft.defaultTooltip=yt.defaultTooltip}q&&Et(ft.otherDims,q)})}});var T=e.generateCoord,M=e.generateCoordCount,I=null!=M;M=T?M||1:0;var L=T||"value";function N(F){null==F.name&&(F.name=F.coordDim)}if(u)V(a,function(F){N(F)}),a.sort(function(F,H){return F.storeDimIndex-H.storeDimIndex});else for(var R=0;R<l;R++){var B=k(R);null==B.coordDim&&(B.coordDim=HO(L,o,I),B.coordDimIndex=0,(!T||M<=0)&&(B.isExtraCoord=!0),M--),N(B),null==B.type&&(1===ty(n,R)||B.isExtraCoord&&(null!=B.otherDims.itemName||null!=B.otherDims.seriesName))&&(B.type="ordinal")}return function(n){for(var e=Tt(),t=0;t<n.length;t++){var i=n[t],o=i.name,a=e.get(o)||0;a>0&&(i.name=o+(a-1)),a++,e.set(o,a)}}(a),new bL({source:n,dimensions:a,fullDimensionCount:l,dimensionOmitted:u})}function HO(n,e,t){if(t||e.hasKey(n)){for(var i=0;e.hasKey(n+i);)i++;n+=i}return e.set(n,!0),n}var jO=function(e){this.coordSysDims=[],this.axisMap=Tt(),this.categoryAxisMap=Tt(),this.coordSysName=e},UO={cartesian2d:function(n,e,t,i){var o=n.getReferringComponents("xAxis",Sn).models[0],a=n.getReferringComponents("yAxis",Sn).models[0];e.coordSysDims=["x","y"],t.set("x",o),t.set("y",a),Mg(o)&&(i.set("x",o),e.firstCategoryDimIndex=0),Mg(a)&&(i.set("y",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(n,e,t,i){var o=n.getReferringComponents("singleAxis",Sn).models[0];e.coordSysDims=["single"],t.set("single",o),Mg(o)&&(i.set("single",o),e.firstCategoryDimIndex=0)},polar:function(n,e,t,i){var o=n.getReferringComponents("polar",Sn).models[0],a=o.findAxisModel("radiusAxis"),l=o.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",a),t.set("angle",l),Mg(a)&&(i.set("radius",a),e.firstCategoryDimIndex=0),Mg(l)&&(i.set("angle",l),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(n,e,t,i){e.coordSysDims=["lng","lat"]},parallel:function(n,e,t,i){var o=n.ecModel,a=o.getComponent("parallel",n.get("parallelIndex")),l=e.coordSysDims=a.dimensions.slice();V(a.parallelAxisIndex,function(u,d){var p=o.getComponent("parallelAxis",u),g=l[d];t.set(g,p),Mg(p)&&(i.set(g,p),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=d))})}};function Mg(n){return"category"===n.get("type")}function lu(n,e){return!!e&&e===n.getCalculationInfo("stackedDimension")}function SL(n,e){return lu(n,e)?n.getCalculationInfo("stackResultDimension"):e}const Dl=function(n,e,t){t=t||{};var o,i=e.getSourceManager(),a=!1;n?(a=!0,o=Id(n)):a=(o=i.getSource()).sourceFormat===Zr;var l=function(n){var e=n.get("coordinateSystem"),t=new jO(e),i=UO[e];if(i)return i(n,t,t.axisMap,t.categoryAxisMap),t}(e),u=function(n,e){var o,t=n.get("coordinateSystem"),i=ll.get(t);return e&&e.coordSysDims&&(o=gt(e.coordSysDims,function(a){var l={name:a},u=e.axisMap.get(a);if(u){var d=u.get("type");l.type=AA(d)}return l})),o||(o=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]),o}(e,l),d=t.useEncodeDefaulter,p=Mt(d)?d:d?Gt(lk,u,e):null,m=Dg(o,{coordDimensions:u,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:p,canOmitUnusedDimensions:!a}),b=function(n,e,t){var i,o;return t&&V(n,function(a,l){var d=t.categoryAxisMap.get(a.coordDim);d&&(null==i&&(i=l),a.ordinalMeta=d.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),null!=a.otherDims.itemName&&(o=!0)}),!o&&null!=i&&(n[i].otherDims.itemName=0),i}(m.dimensions,t.createInvertedIndices,l),w=a?null:i.getSharedDataStore(m),k=function(n,e,t){var a,l,u,i=(t=t||{}).byIndex,o=t.stackedCoordDimension;!function(n){return!wL(n.schema)}(e)?(a=(l=e.schema).dimensions,u=e.store):a=e;var p,g,m,b,d=!(!n||!n.get("stack"));if(V(a,function(M,I){At(M)&&(a[I]=M={name:M}),d&&!M.isExtraCoord&&(!i&&!p&&M.ordinalMeta&&(p=M),!g&&"ordinal"!==M.type&&"time"!==M.type&&(!o||o===M.coordDim)&&(g=M))}),g&&!i&&!p&&(i=!0),g){m="__\0ecstackresult_"+n.id,b="__\0ecstackedover_"+n.id,p&&(p.createInvertedIndices=!0);var w=g.coordDim,k=g.type,C=0;V(a,function(M){M.coordDim===w&&C++});var x={name:m,coordDim:w,coordDimIndex:C,type:k,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},T={name:b,coordDim:b,coordDimIndex:C+1,type:k,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};l?(u&&(x.storeDimIndex=u.ensureCalculationDimension(b,k),T.storeDimIndex=u.ensureCalculationDimension(m,k)),l.appendCalculationDimension(x),l.appendCalculationDimension(T)):(a.push(x),a.push(T))}return{stackedDimension:g&&g.name,stackedByDimension:p&&p.name,isStackedByIndex:i,stackedOverDimension:b,stackResultDimension:m}}(e,{schema:m,store:w}),C=new ki(m,e);C.setCalculationInfo(k);var x=null!=b&&function(n){if(n.sourceFormat===Zr){var e=function(n){for(var e=0;e<n.length&&null==n[e];)e++;return n[e]}(n.data||[]);return!pt(Wa(e))}}(o)?function(T,M,I,L){return L===b?I:this.defaultDimValueGetter(T,M,I,L)}:null;return C.hasItemOption=!1,C.initData(a?o:w,null,x),C};var QO=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return tt(e,n),e.prototype.getInitialData=function(t){return Dl(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var i=new Vt,o=wn("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);i.add(o),o.setStyle(t.lineStyle);var a=this.getData().getVisual("symbol"),l=this.getData().getVisual("symbolRotate"),u="none"===a?"circle":a,d=.8*t.itemHeight,p=wn(u,(t.itemWidth-d)/2,(t.itemHeight-d)/2,d,d,t.itemStyle.fill);return i.add(p),p.setStyle(t.itemStyle),p.rotation=("inherit"===t.iconRotate?l:t.iconRotate||0)*Math.PI/180,p.setOrigin([t.itemWidth/2,t.itemHeight/2]),u.indexOf("empty")>-1&&(p.style.stroke=p.style.fill,p.style.fill="#fff",p.style.lineWidth=2),i},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(en);const JO=QO;function Ig(n,e){var t=n.mapDimensionsAll("defaultedLabel"),i=t.length;if(1===i){var o=fl(n,e,t[0]);return null!=o?o+"":null}if(i){for(var a=[],l=0;l<t.length;l++)a.push(fl(n,e,t[l]));return a.join(" ")}}function TL(n,e){var t=n.mapDimensionsAll("defaultedLabel");if(!pt(e))return e+"";for(var i=[],o=0;o<t.length;o++){var a=n.getDimensionIndex(t[o]);a>=0&&i.push(e[a])}return i.join(" ")}var t3=function(n){function e(t,i,o,a){var l=n.call(this)||this;return l.updateData(t,i,o,a),l}return tt(e,n),e.prototype._createSymbol=function(t,i,o,a,l){this.removeAll();var u=wn(t,-1,-1,2,2,null,l);u.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),u.drift=e3,this._symbolType=t,this.add(u)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){sa(this.childAt(0))},e.prototype.downplay=function(){vi(this.childAt(0))},e.prototype.setZ=function(t,i){var o=this.childAt(0);o.zlevel=t,o.z=i},e.prototype.setDraggable=function(t,i){var o=this.childAt(0);o.draggable=t,o.cursor=!i&&t?"move":o.cursor},e.prototype.updateData=function(t,i,o,a){this.silent=!1;var l=t.getItemVisual(i,"symbol")||"circle",u=t.hostModel,d=e.getSymbolSize(t,i),p=l!==this._symbolType,g=a&&a.disableAnimation;if(p){var m=t.getItemVisual(i,"symbolKeepAspect");this._createSymbol(l,t,i,d,m)}else{(b=this.childAt(0)).silent=!1;var w={scaleX:d[0]/2,scaleY:d[1]/2};g?b.attr(w):ke(b,w,u,i),Yr(b)}if(this._updateCommon(t,i,d,o,a),p){var b=this.childAt(0);g||(w={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:b.style.opacity}},b.scaleX=b.scaleY=0,b.style.opacity=0,Je(b,w,u,i))}g&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,i,o,a,l){var p,g,m,b,w,k,C,x,T,u=this.childAt(0),d=t.hostModel;if(a&&(p=a.emphasisItemStyle,g=a.blurItemStyle,m=a.selectItemStyle,b=a.focus,w=a.blurScope,C=a.labelStatesModels,x=a.hoverScale,T=a.cursorStyle,k=a.emphasisDisabled),!a||t.hasItemOption){var M=a&&a.itemModel?a.itemModel:t.getItemModel(i),I=M.getModel("emphasis");p=I.getModel("itemStyle").getItemStyle(),m=M.getModel(["select","itemStyle"]).getItemStyle(),g=M.getModel(["blur","itemStyle"]).getItemStyle(),b=I.get("focus"),w=I.get("blurScope"),k=I.get("disabled"),C=Nn(M),x=I.getShallow("scale"),T=M.getShallow("cursor")}var L=t.getItemVisual(i,"symbolRotate");u.attr("rotation",(L||0)*Math.PI/180||0);var N=Qc(t.getItemVisual(i,"symbolOffset"),o);N&&(u.x=N[0],u.y=N[1]),T&&u.attr("cursor",T);var R=t.getItemVisual(i,"style"),B=R.fill;if(u instanceof or){var O=u.style;u.useStyle(st({image:O.image,x:O.x,y:O.y,width:O.width,height:O.height},R))}else u.useStyle(u.__isEmptyBrush?st({},R):R),u.style.decal=null,u.setColor(B,l&&l.symbolInnerColor),u.style.strokeNoScale=!0;var F=t.getItemVisual(i,"liftZ"),H=this._z2;null!=F?null==H&&(this._z2=u.z2,u.z2+=F):null!=H&&(u.z2=H,this._z2=null);var j=l&&l.useNameLabel;sr(u,C,{labelFetcher:d,labelDataIndex:i,defaultText:function(Q){return j?t.getName(Q):Ig(t,Q)},inheritColor:B,defaultOpacity:R.opacity}),this._sizeX=o[0]/2,this._sizeY=o[1]/2;var Z=u.ensureState("emphasis");Z.style=p,u.ensureState("select").style=m,u.ensureState("blur").style=g;var K=null==x||!0===x?Math.max(1.1,3/this._sizeY):isFinite(x)&&x>0?+x:1;Z.scaleX=this._sizeX*K,Z.scaleY=this._sizeY*K,this.setSymbolScale(1),cn(this,b,w,k)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,i,o){var a=this.childAt(0),l=jt(this).dataIndex,u=o&&o.animation;if(this.silent=a.silent=!0,o&&o.fadeLabel){var d=a.getTextContent();d&&bn(d,{style:{opacity:0}},i,{dataIndex:l,removeOpt:u,cb:function(){a.removeTextContent()}})}else a.removeTextContent();bn(a,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:l,cb:t,removeOpt:u})},e.getSymbolSize=function(t,i){return Xc(t.getItemVisual(i,"symbolSize"))},e}(Vt);function e3(n,e){this.parent.drift(n,e)}const eb=t3;function nD(n,e,t,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(t))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&"none"!==n.getItemVisual(t,"symbol")}function DL(n){return null!=n&&!Rt(n)&&(n={isIgnore:n}),n||{}}function ML(n){var e=n.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Nn(e),cursorStyle:e.get("cursor")}}var n3=function(){function n(e){this.group=new Vt,this._SymbolCtor=e||eb}return n.prototype.updateData=function(e,t){this._progressiveEls=null,t=DL(t);var i=this.group,o=e.hostModel,a=this._data,l=this._SymbolCtor,u=t.disableAnimation,d=ML(e),p={disableAnimation:u},g=t.getSymbolPoint||function(m){return e.getItemLayout(m)};a||i.removeAll(),e.diff(a).add(function(m){var b=g(m);if(nD(e,b,m,t)){var w=new l(e,m,d,p);w.setPosition(b),e.setItemGraphicEl(m,w),i.add(w)}}).update(function(m,b){var w=a.getItemGraphicEl(b),k=g(m);if(nD(e,k,m,t)){var C=e.getItemVisual(m,"symbol")||"circle",x=w&&w.getSymbolType&&w.getSymbolType();if(!w||x&&x!==C)i.remove(w),(w=new l(e,m,d,p)).setPosition(k);else{w.updateData(e,m,d,p);var T={x:k[0],y:k[1]};u?w.attr(T):ke(w,T,o)}i.add(w),e.setItemGraphicEl(m,w)}else i.remove(w)}).remove(function(m){var b=a.getItemGraphicEl(m);b&&b.fadeOut(function(){i.remove(b)},o)}).execute(),this._getSymbolPoint=g,this._data=e},n.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(i,o){var a=e._getSymbolPoint(o);i.setPosition(a),i.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=ML(e),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t,i){function o(d){d.isGroup||(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],i=DL(i);for(var a=e.start;a<e.end;a++){var l=t.getItemLayout(a);if(nD(t,l,a,i)){var u=new this._SymbolCtor(t,a,this._seriesScope);u.traverse(o),u.setPosition(l),this.group.add(u),t.setItemGraphicEl(a,u),this._progressiveEls.push(u)}}},n.prototype.eachRendered=function(e){wi(this._progressiveEls||this.group,e)},n.prototype.remove=function(e){var t=this.group,i=this._data;i&&e?i.eachItemGraphicEl(function(o){o.fadeOut(function(){t.remove(o)},i.hostModel)}):t.removeAll()},n}();const nb=n3;function IL(n,e,t){var i=n.getBaseAxis(),o=n.getOtherAxis(i),a=function(n,e){var t=0,i=n.scale.getExtent();return"start"===e?t=i[0]:"end"===e?t=i[1]:_e(e)&&!isNaN(e)?t=e:i[0]>0?t=i[0]:i[1]<0&&(t=i[1]),t}(o,t),l=i.dim,u=o.dim,d=e.mapDimension(u),p=e.mapDimension(l),g="x"===u||"radius"===u?1:0,m=gt(n.dimensions,function(k){return e.mapDimension(k)}),b=!1,w=e.getCalculationInfo("stackResultDimension");return lu(e,m[0])&&(b=!0,m[0]=w),lu(e,m[1])&&(b=!0,m[1]=w),{dataDimsForPoint:m,valueStart:a,valueAxisDim:u,baseAxisDim:l,stacked:!!b,valueDim:d,baseDim:p,baseDataOffset:g,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function EL(n,e,t,i){var o=NaN;n.stacked&&(o=t.get(t.getCalculationInfo("stackedOverDimension"),i)),isNaN(o)&&(o=n.valueStart);var a=n.baseDataOffset,l=[];return l[a]=t.get(n.baseDim,i),l[1-a]=o,e.dataToPoint(l)}var LL="undefined"!=typeof Float32Array,i3=LL?Float32Array:Array;function fs(n){return pt(n)?LL?new Float32Array(n):n:new i3(n)}var cu=Math.min,uu=Math.max;function ih(n,e){return isNaN(n)||isNaN(e)}function rD(n,e,t,i,o,a,l,u,d){for(var p,g,m,b,w,k,C=t,x=0;x<i;x++){var T=e[2*C],M=e[2*C+1];if(C>=o||C<0)break;if(ih(T,M)){if(d){C+=a;continue}break}if(C===t)n[a>0?"moveTo":"lineTo"](T,M),m=T,b=M;else{var I=T-p,L=M-g;if(I*I+L*L<.5){C+=a;continue}if(l>0){for(var N=C+a,R=e[2*N],B=e[2*N+1];R===T&&B===M&&x<i;)x++,R=e[2*(N+=a)],B=e[2*N+1],I=(T=e[2*(C+=a)])-p,L=(M=e[2*C+1])-g;var O=x+1;if(d)for(;ih(R,B)&&O<i;)O++,R=e[2*(N+=a)],B=e[2*N+1];var F=.5,H=0,j=0,q=void 0,Z=void 0;if(O>=i||ih(R,B))w=T,k=M;else{H=R-p,j=B-g;var K=T-p,Q=R-T,J=M-g,rt=B-M,nt=void 0,ft=void 0;if("x"===u){var yt=H>0?1:-1;w=T-yt*(nt=Math.abs(K))*l,k=M,q=T+yt*(ft=Math.abs(Q))*l,Z=M}else if("y"===u){var kt=j>0?1:-1;w=T,k=M-kt*(nt=Math.abs(J))*l,q=T,Z=M+kt*(ft=Math.abs(rt))*l}else nt=Math.sqrt(K*K+J*J),w=T-H*l*(1-(F=(ft=Math.sqrt(Q*Q+rt*rt))/(ft+nt))),k=M-j*l*(1-F),Z=M+j*l*F,q=cu(q=T+H*l*F,uu(R,T)),Z=cu(Z,uu(B,M)),q=uu(q,cu(R,T)),k=M-(j=(Z=uu(Z,cu(B,M)))-M)*nt/ft,w=cu(w=T-(H=q-T)*nt/ft,uu(p,T)),k=cu(k,uu(g,M)),q=T+(H=T-(w=uu(w,cu(p,T))))*ft/nt,Z=M+(j=M-(k=uu(k,cu(g,M))))*ft/nt}n.bezierCurveTo(m,b,w,k,T,M),m=q,b=Z}else n.lineTo(T,M)}p=T,g=M,C+=a}return x}var PL=function(){this.smooth=0,this.smoothConstraint=!0},s3=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-polyline",i}return tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new PL},e.prototype.buildPath=function(t,i){var o=i.points,a=0,l=o.length/2;if(i.connectNulls){for(;l>0&&ih(o[2*l-2],o[2*l-1]);l--);for(;a<l&&ih(o[2*a],o[2*a+1]);a++);}for(;a<l;)a+=rD(t,o,a,l,l,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},e.prototype.getPointOn=function(t,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var u,d,a=this.path.data,l=Xi.CMD,p="x"===i,g=[],m=0;m<a.length;){var w=void 0,k=void 0,C=void 0,x=void 0,T=void 0,M=void 0,I=void 0;switch(a[m++]){case l.M:u=a[m++],d=a[m++];break;case l.L:if(w=a[m++],k=a[m++],(I=p?(t-u)/(w-u):(t-d)/(k-d))<=1&&I>=0){var L=p?(k-d)*I+d:(w-u)*I+u;return p?[t,L]:[L,t]}u=w,d=k;break;case l.C:w=a[m++],k=a[m++],C=a[m++],x=a[m++],T=a[m++],M=a[m++];var N=p?Ms(u,w,C,T,t,g):Ms(d,k,x,M,t,g);if(N>0)for(var R=0;R<N;R++){var B=g[R];if(B<=1&&B>=0)return L=p?wt(d,k,x,M,B):wt(u,w,C,T,B),p?[t,L]:[L,t]}u=T,d=M}}},e}(re),l3=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e}(PL),RL=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-polygon",i}return tt(e,n),e.prototype.getDefaultShape=function(){return new l3},e.prototype.buildPath=function(t,i){var o=i.points,a=i.stackedOnPoints,l=0,u=o.length/2,d=i.smoothMonotone;if(i.connectNulls){for(;u>0&&ih(o[2*u-2],o[2*u-1]);u--);for(;l<u&&ih(o[2*l],o[2*l+1]);l++);}for(;l<u;){var p=rD(t,o,l,u,u,1,i.smooth,d,i.connectNulls);rD(t,a,l+p-1,p,u,-1,i.stackedOnSmooth,d,i.connectNulls),l+=p+1,t.closePath()}},e}(re);function NL(n,e,t,i,o){var a=n.getArea(),l=a.x,u=a.y,d=a.width,p=a.height,g=t.get(["lineStyle","width"])||2;l-=g/2,u-=g/2,d+=g,p+=g,l=Math.floor(l),d=Math.round(d);var m=new Xt({shape:{x:l,y:u,width:d,height:p}});if(e){var b=n.getBaseAxis(),w=b.isHorizontal(),k=b.inverse;w?(k&&(m.shape.x+=d),m.shape.width=0):(k||(m.shape.y+=p),m.shape.height=0);var C=Mt(o)?function(x){o(x,m)}:null;Je(m,{shape:{width:d,height:p,x:l,y:u}},t,null,i,C)}return m}function BL(n,e,t){var i=n.getArea(),o=on(i.r0,1),a=on(i.r,1),l=new Mr({shape:{cx:on(n.cx,1),cy:on(n.cy,1),r0:o,r:a,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return e&&("angle"===n.getBaseAxis().dim?l.shape.endAngle=i.startAngle:l.shape.r=o,Je(l,{shape:{endAngle:i.endAngle,r:a}},t)),l}function TA(n,e,t,i,o){return n?"polar"===n.type?BL(n,e,t):"cartesian2d"===n.type?NL(n,e,t,i,o):null:null}function oh(n,e){return n.type===e}function zL(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return;return!0}}function OL(n){for(var e=1/0,t=1/0,i=-1/0,o=-1/0,a=0;a<n.length;){var l=n[a++],u=n[a++];isNaN(l)||(e=Math.min(l,e),i=Math.max(l,i)),isNaN(u)||(t=Math.min(u,t),o=Math.max(u,o))}return[[e,t],[i,o]]}function VL(n,e){var t=OL(n),i=t[0],o=t[1],a=OL(e),l=a[0],u=a[1];return Math.max(Math.abs(i[0]-l[0]),Math.abs(i[1]-l[1]),Math.abs(o[0]-u[0]),Math.abs(o[1]-u[1]))}function FL(n){return _e(n)?n:n?.5:0}function du(n,e,t,i){var o=e.getBaseAxis(),a="x"===o.dim||"radius"===o.dim?0:1,l=[],u=0,d=[],p=[],g=[],m=[];if(i){for(u=0;u<n.length;u+=2)!isNaN(n[u])&&!isNaN(n[u+1])&&m.push(n[u],n[u+1]);n=m}for(u=0;u<n.length-2;u+=2)switch(g[0]=n[u+2],g[1]=n[u+3],p[0]=n[u],p[1]=n[u+1],l.push(p[0],p[1]),t){case"end":d[a]=g[a],d[1-a]=p[1-a],l.push(d[0],d[1]);break;case"middle":var w=[];d[a]=w[a]=(p[a]+g[a])/2,d[1-a]=p[1-a],w[1-a]=g[1-a],l.push(d[0],d[1]),l.push(w[0],w[1]);break;default:d[a]=p[a],d[1-a]=g[1-a],l.push(d[0],d[1])}return l.push(n[u++],n[u++]),l}function p3(n,e){return isNaN(n)||isNaN(e)}function HL(n,e){return[n[2*e],n[2*e+1]]}function jL(n){if(n.get(["endLabel","show"]))return!0;for(var e=0;e<Sr.length;e++)if(n.get([Sr[e],"endLabel","show"]))return!0;return!1}function iD(n,e,t,i){if(oh(e,"cartesian2d")){var o=i.getModel("endLabel"),a=o.get("valueAnimation"),l=i.getData(),u={lastFrameIndex:0},d=jL(i)?function(w,k){n._endLabelOnDuring(w,k,l,u,a,o,e)}:null,p=e.getBaseAxis().isHorizontal(),g=NL(e,t,i,function(){var w=n._endLabel;w&&t&&null!=u.originalX&&w.attr({x:u.originalX,y:u.originalY})},d);if(!i.get("clip",!0)){var m=g.shape,b=Math.max(m.width,m.height);p?(m.y-=b,m.height+=2*b):(m.x-=b,m.width+=2*b)}return d&&d(1,g),g}return BL(e,t,i)}var y3=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.prototype.init=function(){var t=new Vt,i=new nb;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=t},e.prototype.render=function(t,i,o){var a=this,l=t.coordinateSystem,u=this.group,d=t.getData(),p=t.getModel("lineStyle"),g=t.getModel("areaStyle"),m=d.getLayout("points")||[],b="polar"===l.type,w=this._coordSys,k=this._symbolDraw,C=this._polyline,x=this._polygon,T=this._lineGroup,M=t.get("animation"),I=!g.isEmpty(),L=g.get("origin"),N=IL(l,d,L),R=I&&function(n,e,t){if(!t.valueDim)return[];for(var i=e.count(),o=fs(2*i),a=0;a<i;a++){var l=EL(t,n,e,a);o[2*a]=l[0],o[2*a+1]=l[1]}return o}(l,d,N),B=t.get("showSymbol"),O=t.get("connectNulls"),F=B&&!b&&function(n,e,t){var i=n.get("showAllSymbol"),o="auto"===i;if(!i||o){var a=t.getAxesByScale("ordinal")[0];if(a&&(!o||!function(n,e){var t=n.getExtent(),i=Math.abs(t[1]-t[0])/n.scale.count();isNaN(i)&&(i=0);for(var o=e.count(),a=Math.max(1,Math.round(o/5)),l=0;l<o;l+=a)if(1.5*eb.getSymbolSize(e,l)[n.isHorizontal()?1:0]>i)return!1;return!0}(a,e))){var l=e.mapDimension(a.dim),u={};return V(a.getViewLabels(),function(d){var p=a.scale.getRawOrdinalNumber(d.tickValue);u[p]=1}),function(d){return!u.hasOwnProperty(e.get(l,d))}}}}(t,d,l),H=this._data;H&&H.eachItemGraphicEl(function(Se,ue){Se.__temp&&(u.remove(Se),H.setItemGraphicEl(ue,null))}),B||k.remove(),u.add(T);var q,j=!b&&t.get("step");l&&l.getArea&&t.get("clip",!0)&&(null!=(q=l.getArea()).width?(q.x-=.1,q.y-=.1,q.width+=.2,q.height+=.2):q.r0&&(q.r0-=.5,q.r+=.5)),this._clipShapeForSymbol=q;var Z=function(n,e,t){var i=n.getVisual("visualMeta");if(i&&i.length&&n.count()&&"cartesian2d"===e.type){for(var o,a,l=i.length-1;l>=0;l--){var u=n.getDimensionInfo(i[l].dimension);if("x"===(o=u&&u.coordDim)||"y"===o){a=i[l];break}}if(a){var d=e.getAxis(o),p=gt(a.stops,function(I){return{coord:d.toGlobalCoord(d.dataToCoord(I.value)),color:I.color}}),g=p.length,m=a.outerColors.slice();g&&p[0].coord>p[g-1].coord&&(p.reverse(),m.reverse());var b=function(n,e){var o,a,t=[],i=n.length;function l(g,m,b){var w=g.coord,C=function(n,e,t){if(e&&e.length&&n>=0&&n<=1){var i=n*(e.length-1),o=Math.floor(i),a=Math.ceil(i),l=Hr(e[o]),u=Hr(e[a]),d=i-o;return jr([Gi(Xo(l[0],u[0],d)),Gi(Xo(l[1],u[1],d)),Gi(Xo(l[2],u[2],d)),Ce(Xo(l[3],u[3],d))],"rgba")}}((b-w)/(m.coord-w),[g.color,m.color]);return{coord:b,color:C}}for(var u=0;u<i;u++){var d=n[u],p=d.coord;if(p<0)o=d;else{if(p>e){a?t.push(l(a,d,e)):o&&t.push(l(o,d,0),l(o,d,e));break}o&&(t.push(l(o,d,0)),o=null),t.push(d),a=d}}return t}(p,"x"===o?t.getWidth():t.getHeight()),w=b.length;if(!w&&g)return p[0].coord<0?m[1]?m[1]:p[g-1].color:m[0]?m[0]:p[0].color;var C=b[0].coord-10,x=b[w-1].coord+10,T=x-C;if(T<.001)return"transparent";V(b,function(I){I.offset=(I.coord-C)/T}),b.push({offset:w?b[w-1].offset:.5,color:m[1]||"transparent"}),b.unshift({offset:w?b[0].offset:.5,color:m[0]||"transparent"});var M=new Vd(0,0,0,0,b,!0);return M[o]=C,M[o+"2"]=x,M}}}(d,l,o)||d.getVisual("style")[d.getVisual("drawType")];if(C&&w.type===l.type&&j===this._step){I&&!x?x=this._newPolygon(m,R):x&&!I&&(T.remove(x),x=this._polygon=null),b||this._initOrUpdateEndLabel(t,l,ts(Z));var K=T.getClipPath();K?Je(K,{shape:iD(this,l,!1,t).shape},t):T.setClipPath(iD(this,l,!0,t)),B&&k.updateData(d,{isIgnore:F,clipShape:q,disableAnimation:!0,getSymbolPoint:function(Se){return[m[2*Se],m[2*Se+1]]}}),(!zL(this._stackedOnPoints,R)||!zL(this._points,m))&&(M?this._doUpdateAnimation(d,R,l,o,j,L,O):(j&&(m=du(m,l,j,O),R&&(R=du(R,l,j,O))),C.setShape({points:m}),x&&x.setShape({points:m,stackedOnPoints:R})))}else B&&k.updateData(d,{isIgnore:F,clipShape:q,disableAnimation:!0,getSymbolPoint:function(Se){return[m[2*Se],m[2*Se+1]]}}),M&&this._initSymbolLabelAnimation(d,l,q),j&&(m=du(m,l,j,O),R&&(R=du(R,l,j,O))),C=this._newPolyline(m),I?x=this._newPolygon(m,R):x&&(T.remove(x),x=this._polygon=null),b||this._initOrUpdateEndLabel(t,l,ts(Z)),T.setClipPath(iD(this,l,!0,t));var J=t.getModel("emphasis"),rt=J.get("focus"),nt=J.get("blurScope"),ft=J.get("disabled");C.useStyle(Et(p.getLineStyle(),{fill:"none",stroke:Z,lineJoin:"bevel"})),ar(C,t,"lineStyle"),C.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])&&(C.getState("emphasis").style.lineWidth=+C.style.lineWidth+1),jt(C).seriesIndex=t.seriesIndex,cn(C,rt,nt,ft);var kt=FL(t.get("smooth")),Dt=t.get("smoothMonotone");if(C.setShape({smooth:kt,smoothMonotone:Dt,connectNulls:O}),x){var Nt=d.getCalculationInfo("stackedOnSeries"),Bt=0;x.useStyle(Et(g.getAreaStyle(),{fill:Z,opacity:.7,lineJoin:"bevel",decal:d.getVisual("style").decal})),Nt&&(Bt=FL(Nt.get("smooth"))),x.setShape({smooth:kt,stackedOnSmooth:Bt,smoothMonotone:Dt,connectNulls:O}),ar(x,t,"areaStyle"),jt(x).seriesIndex=t.seriesIndex,cn(x,rt,nt,ft)}var ce=function(Se){a._changePolyState(Se)};d.eachItemGraphicEl(function(Se){Se&&(Se.onHoverStateChange=ce)}),this._polyline.onHoverStateChange=ce,this._data=d,this._coordSys=l,this._stackedOnPoints=R,this._points=m,this._step=j,this._valueOrigin=L,t.get("triggerLineEvent")&&(this.packEventData(t,C),x&&this.packEventData(t,x))},e.prototype.packEventData=function(t,i){jt(i).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,i,o,a){var l=t.getData(),u=Os(l,a);if(this._changePolyState("emphasis"),!(u instanceof Array)&&null!=u&&u>=0){var d=l.getLayout("points"),p=l.getItemGraphicEl(u);if(!p){var g=d[2*u],m=d[2*u+1];if(isNaN(g)||isNaN(m)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(g,m))return;var b=t.get("zlevel")||0,w=t.get("z")||0;(p=new eb(l,u)).x=g,p.y=m,p.setZ(b,w);var k=p.getSymbolPath().getTextContent();k&&(k.zlevel=b,k.z=w,k.z2=this._polyline.z2+1),p.__temp=!0,l.setItemGraphicEl(u,p),p.stopSymbolAnimation(!0),this.group.add(p)}p.highlight()}else Be.prototype.highlight.call(this,t,i,o,a)},e.prototype.downplay=function(t,i,o,a){var l=t.getData(),u=Os(l,a);if(this._changePolyState("normal"),null!=u&&u>=0){var d=l.getItemGraphicEl(u);d&&(d.__temp?(l.setItemGraphicEl(u,null),this.group.remove(d)):d.downplay())}else Be.prototype.downplay.call(this,t,i,o,a)},e.prototype._changePolyState=function(t){var i=this._polygon;bc(this._polyline,t),i&&bc(i,t)},e.prototype._newPolyline=function(t){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new s3({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},e.prototype._newPolygon=function(t,i){var o=this._polygon;return o&&this._lineGroup.remove(o),o=new RL({shape:{points:t,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(o),this._polygon=o,o},e.prototype._initSymbolLabelAnimation=function(t,i,o){var a,l,u=i.getBaseAxis(),d=u.inverse;"cartesian2d"===i.type?(a=u.isHorizontal(),l=!1):"polar"===i.type&&(a="angle"===u.dim,l=!0);var p=t.hostModel,g=p.get("animationDuration");Mt(g)&&(g=g(null));var m=p.get("animationDelay")||0,b=Mt(m)?m(null):m;t.eachItemGraphicEl(function(w,k){var C=w;if(C){var T=void 0,M=void 0,I=void 0;if(o)if(l){var L=o,N=i.pointToCoord([w.x,w.y]);a?(T=L.startAngle,M=L.endAngle,I=-N[1]/180*Math.PI):(T=L.r0,M=L.r,I=N[0])}else a?(T=o.x,M=o.x+o.width,I=w.x):(T=o.y+o.height,M=o.y,I=w.y);var B=M===T?0:(I-T)/(M-T);d&&(B=1-B);var O=Mt(m)?m(k):g*B+b,F=C.getSymbolPath(),H=F.getTextContent();C.attr({scaleX:0,scaleY:0}),C.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:O}),H&&H.animateFrom({style:{opacity:0}},{duration:300,delay:O}),F.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,i,o){var a=t.getModel("endLabel");if(jL(t)){var l=t.getData(),u=this._polyline,d=l.getLayout("points");if(!d)return u.removeTextContent(),void(this._endLabel=null);var p=this._endLabel;p||((p=this._endLabel=new ge({z2:200})).ignoreClip=!0,u.setTextContent(this._endLabel),u.disableLabelAnimation=!0);var g=function(n){for(var e=n.length/2;e>0&&p3(n[2*e-2],n[2*e-1]);e--);return e-1}(d);g>=0&&(sr(u,Nn(t,"endLabel"),{inheritColor:o,labelFetcher:t,labelDataIndex:g,defaultText:function(m,b,w){return null!=w?TL(l,w):Ig(l,m)},enableTextSetter:!0},function(n,e){var t=e.getBaseAxis(),i=t.isHorizontal(),o=t.inverse,a=i?o?"right":"left":"center",l=i?"middle":o?"top":"bottom";return{normal:{align:n.get("align")||a,verticalAlign:n.get("verticalAlign")||l}}}(a,i)),u.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,i,o,a,l,u,d){var p=this._endLabel,g=this._polyline;if(p){t<1&&null==a.originalX&&(a.originalX=p.x,a.originalY=p.y);var m=o.getLayout("points"),b=o.hostModel,w=b.get("connectNulls"),k=u.get("precision"),C=u.get("distance")||0,x=d.getBaseAxis(),T=x.isHorizontal(),M=x.inverse,I=i.shape,L=M?T?I.x:I.y+I.height:T?I.x+I.width:I.y,N=(T?C:0)*(M?-1:1),R=(T?0:-C)*(M?-1:1),B=T?"x":"y",O=function(n,e,t){for(var a,l,i=n.length/2,o="x"===t?0:1,u=0,d=-1,p=0;p<i;p++)if(l=n[2*p+o],!isNaN(l)&&!isNaN(n[2*p+1-o])){if(0===p){a=l;continue}if(a<=e&&l>=e||a>=e&&l<=e){d=p;break}u=p,a=l}return{range:[u,d],t:(e-a)/(l-a)}}(m,L,B),F=O.range,H=F[1]-F[0],j=void 0;if(H>=1){if(H>1&&!w){var q=HL(m,F[0]);p.attr({x:q[0]+N,y:q[1]+R}),l&&(j=b.getRawValue(F[0]))}else{(q=g.getPointOn(L,B))&&p.attr({x:q[0]+N,y:q[1]+R});var Z=b.getRawValue(F[0]),K=b.getRawValue(F[1]);l&&(j=Ya(o,k,Z,K,O.t))}a.lastFrameIndex=F[0]}else{var Q=1===t||a.lastFrameIndex>0?F[0]:0;q=HL(m,Q),l&&(j=b.getRawValue(Q)),p.attr({x:q[0]+N,y:q[1]+R})}l&&Ac(p).setLabelText(j)}},e.prototype._doUpdateAnimation=function(t,i,o,a,l,u,d){var p=this._polyline,g=this._polygon,m=t.hostModel,b=function(n,e,t,i,o,a,l,u){for(var d=function(n,e){var t=[];return e.diff(n).add(function(i){t.push({cmd:"+",idx:i})}).update(function(i,o){t.push({cmd:"=",idx:o,idx1:i})}).remove(function(i){t.push({cmd:"-",idx:i})}).execute(),t}(n,e),p=[],g=[],m=[],b=[],w=[],k=[],C=[],x=IL(o,e,l),T=n.getLayout("points")||[],M=e.getLayout("points")||[],I=0;I<d.length;I++){var L=d[I],N=!0,R=void 0,B=void 0;switch(L.cmd){case"=":var O=T[R=2*L.idx],F=T[R+1],H=M[B=2*L.idx1],j=M[B+1];(isNaN(O)||isNaN(F))&&(O=H,F=j),p.push(O,F),g.push(H,j),m.push(t[R],t[R+1]),b.push(i[B],i[B+1]),C.push(e.getRawIndex(L.idx1));break;case"+":var q=L.idx,Z=x.dataDimsForPoint,K=o.dataToPoint([e.get(Z[0],q),e.get(Z[1],q)]);B=2*q,p.push(K[0],K[1]),g.push(M[B],M[B+1]);var Q=EL(x,o,e,q);m.push(Q[0],Q[1]),b.push(i[B],i[B+1]),C.push(e.getRawIndex(q));break;case"-":N=!1}N&&(w.push(L),k.push(k.length))}k.sort(function(ce,Se){return C[ce]-C[Se]});var J=p.length,rt=fs(J),nt=fs(J),ft=fs(J),yt=fs(J),kt=[];for(I=0;I<k.length;I++){var Dt=k[I],Nt=2*I,Bt=2*Dt;rt[Nt]=p[Bt],rt[Nt+1]=p[Bt+1],nt[Nt]=g[Bt],nt[Nt+1]=g[Bt+1],ft[Nt]=m[Bt],ft[Nt+1]=m[Bt+1],yt[Nt]=b[Bt],yt[Nt+1]=b[Bt+1],kt[I]=w[Dt]}return{current:rt,next:nt,stackedOnCurrent:ft,stackedOnNext:yt,status:kt}}(this._data,t,this._stackedOnPoints,i,this._coordSys,0,this._valueOrigin),w=b.current,k=b.stackedOnCurrent,C=b.next,x=b.stackedOnNext;if(l&&(w=du(b.current,o,l,d),k=du(b.stackedOnCurrent,o,l,d),C=du(b.next,o,l,d),x=du(b.stackedOnNext,o,l,d)),VL(w,C)>3e3||g&&VL(k,x)>3e3)return p.stopAnimation(),p.setShape({points:C}),void(g&&(g.stopAnimation(),g.setShape({points:C,stackedOnPoints:x})));p.shape.__points=b.current,p.shape.points=w;var T={shape:{points:C}};b.current!==w&&(T.shape.__points=b.next),p.stopAnimation(),ke(p,T,m),g&&(g.setShape({points:w,stackedOnPoints:k}),g.stopAnimation(),ke(g,{shape:{stackedOnPoints:x}},m),p.shape.points!==g.shape.points&&(g.shape.points=p.shape.points));for(var M=[],I=b.status,L=0;L<I.length;L++)if("="===I[L].cmd){var R=t.getItemGraphicEl(I[L].idx1);R&&M.push({el:R,ptIdx:L})}p.animators&&p.animators.length&&p.animators[0].during(function(){g&&g.dirtyShape();for(var B=p.shape.__points,O=0;O<M.length;O++){var F=M[O].el,H=2*M[O].ptIdx;F.x=B[H],F.y=B[H+1],F.markRedraw()}})},e.prototype.remove=function(t){var i=this.group,o=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),o&&o.eachItemGraphicEl(function(a,l){a.__temp&&(i.remove(a),o.setItemGraphicEl(l,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(Be);const b3=y3;function rb(n,e){return{seriesType:n,plan:pl(),reset:function(t){var i=t.getData(),o=t.coordinateSystem,l=e||t.pipelineContext.large;if(o){var u=gt(o.dimensions,function(w){return i.mapDimension(w)}).slice(0,2),d=u.length,p=i.getCalculationInfo("stackResultDimension");lu(i,u[0])&&(u[0]=p),lu(i,u[1])&&(u[1]=p);var g=i.getStore(),m=i.getDimensionIndex(u[0]),b=i.getDimensionIndex(u[1]);return d&&{progress:function(w,k){for(var x=l&&fs((w.end-w.start)*d),T=[],M=[],I=w.start,L=0;I<w.end;I++){var N=void 0;if(1===d){var R=g.get(m,I);N=o.dataToPoint(R,null,M)}else T[0]=g.get(m,I),T[1]=g.get(b,I),N=o.dataToPoint(T,null,M);l?(x[L++]=N[0],x[L++]=N[1]):k.setItemLayout(I,N.slice())}l&&k.setLayout("points",x)}}}}}}var w3={average:function(n){for(var e=0,t=0,i=0;i<n.length;i++)isNaN(n[i])||(e+=n[i],t++);return 0===t?NaN:e/t},sum:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t]||0;return e},max:function(n){for(var e=-1/0,t=0;t<n.length;t++)n[t]>e&&(e=n[t]);return isFinite(e)?e:NaN},min:function(n){for(var e=1/0,t=0;t<n.length;t++)n[t]<e&&(e=n[t]);return isFinite(e)?e:NaN},nearest:function(n){return n[0]}},_3=function(n){return Math.round(n.length/2)};function GL(n){return{seriesType:n,reset:function(e,t,i){var o=e.getData(),a=e.get("sampling"),l=e.coordinateSystem,u=o.count();if(u>10&&"cartesian2d"===l.type&&a){var d=l.getBaseAxis(),p=l.getOtherAxis(d),g=d.getExtent(),m=i.getDevicePixelRatio(),b=Math.abs(g[1]-g[0])*(m||1),w=Math.round(u/b);if(isFinite(w)&&w>1){"lttb"===a&&e.setData(o.lttbDownSample(o.mapDimension(p.dim),1/w));var k=void 0;At(a)?k=w3[a]:Mt(a)&&(k=a),k&&e.setData(o.downSample(o.mapDimension(p.dim),1/w,k,_3))}}}}}var oD="__ec_stack_";function aD(n){return n.get("stack")||oD+n.seriesIndex}function sD(n){return n.dim+n.index}function UL(n,e){var t=[];return e.eachSeriesByType(n,function(i){$L(i)&&t.push(i)}),t}function WL(n){var e=function(n){var e={};V(n,function(d){var g=d.coordinateSystem.getBaseAxis();if("time"===g.type||"value"===g.type)for(var m=d.getData(),b=g.dim+"_"+g.index,w=m.getDimensionIndex(m.mapDimension(g.dim)),k=m.getStore(),C=0,x=k.count();C<x;++C){var T=k.get(w,C);e[b]?e[b].push(T):e[b]=[T]}});var t={};for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];if(o){o.sort(function(d,p){return d-p});for(var a=null,l=1;l<o.length;++l){var u=o[l]-o[l-1];u>0&&(a=null===a?u:Math.min(a,u))}t[i]=a}}return t}(n),t=[];return V(n,function(i){var u,a=i.coordinateSystem.getBaseAxis(),l=a.getExtent();if("category"===a.type)u=a.getBandWidth();else if("value"===a.type||"time"===a.type){var p=e[a.dim+"_"+a.index],g=Math.abs(l[1]-l[0]),m=a.scale.getExtent(),b=Math.abs(m[1]-m[0]);u=p?g/b*p:g}else{var w=i.getData();u=Math.abs(l[1]-l[0])/w.count()}var k=_t(i.get("barWidth"),u),C=_t(i.get("barMaxWidth"),u),x=_t(i.get("barMinWidth")||(KL(i)?.5:1),u),T=i.get("barGap"),M=i.get("barCategoryGap");t.push({bandWidth:u,barWidth:k,barMaxWidth:C,barMinWidth:x,barGap:T,barCategoryGap:M,axisKey:sD(a),stackId:aD(i)})}),YL(t)}function YL(n){var e={};V(n,function(i,o){var a=i.axisKey,l=i.bandWidth,u=e[a]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},d=u.stacks;e[a]=u;var p=i.stackId;d[p]||u.autoWidthCount++,d[p]=d[p]||{width:0,maxWidth:0};var g=i.barWidth;g&&!d[p].width&&(d[p].width=g,g=Math.min(u.remainedWidth,g),u.remainedWidth-=g);var m=i.barMaxWidth;m&&(d[p].maxWidth=m);var b=i.barMinWidth;b&&(d[p].minWidth=b);var w=i.barGap;null!=w&&(u.gap=w);var k=i.barCategoryGap;null!=k&&(u.categoryGap=k)});var t={};return V(e,function(i,o){t[o]={};var a=i.stacks,l=i.bandWidth,u=i.categoryGap;if(null==u){var d=le(a).length;u=Math.max(35-4*d,15)+"%"}var p=_t(u,l),g=_t(i.gap,1),m=i.remainedWidth,b=i.autoWidthCount,w=(m-p)/(b+(b-1)*g);w=Math.max(w,0),V(a,function(T){var M=T.maxWidth,I=T.minWidth;if(T.width){var L=T.width;M&&(L=Math.min(L,M)),I&&(L=Math.max(L,I)),T.width=L,m-=L+g*L,b--}else L=w,M&&M<L&&(L=Math.min(M,m)),I&&I>L&&(L=I),L!==w&&(T.width=L,m-=L+g*L,b--)}),w=(m-p)/(b+(b-1)*g),w=Math.max(w,0);var C,k=0;V(a,function(T,M){T.width||(T.width=w),C=T,k+=T.width*(1+g)}),C&&(k-=C.width*g);var x=-k/2;V(a,function(T,M){t[o][M]=t[o][M]||{bandWidth:l,offset:x,width:T.width},x+=T.width*(1+g)})}),t}function qL(n,e){var t=UL(n,e),i=WL(t);V(t,function(o){var a=o.getData(),u=o.coordinateSystem.getBaseAxis(),d=aD(o),p=i[sD(u)][d];a.setLayout({bandWidth:p.bandWidth,offset:p.offset,size:p.width})})}function ZL(n){return{seriesType:n,plan:pl(),reset:function(e){if($L(e)){var t=e.getData(),i=e.coordinateSystem,o=i.getBaseAxis(),a=i.getOtherAxis(o),l=t.getDimensionIndex(t.mapDimension(a.dim)),u=t.getDimensionIndex(t.mapDimension(o.dim)),d=e.get("showBackground",!0),p=t.mapDimension(a.dim),g=t.getCalculationInfo("stackResultDimension"),m=lu(t,p)&&!!t.getCalculationInfo("stackedOnSeries"),b=a.isHorizontal(),w=function(n,e){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}(0,a),k=KL(e),C=e.get("barMinHeight")||0,x=g&&t.getDimensionIndex(g),T=t.getLayout("size"),M=t.getLayout("offset");return{progress:function(I,L){for(var j,N=I.count,R=k&&fs(3*N),B=k&&d&&fs(3*N),O=k&&fs(N),F=i.master.getRect(),H=b?F.width:F.height,q=L.getStore(),Z=0;null!=(j=I.next());){var K=q.get(m?x:l,j),Q=q.get(u,j),J=w,rt=void 0;m&&(rt=+K-q.get(l,j));var nt=void 0,ft=void 0,yt=void 0,kt=void 0;if(b){var Dt=i.dataToPoint([K,Q]);m&&(J=i.dataToPoint([rt,Q])[0]),nt=J,ft=Dt[1]+M,yt=Dt[0]-J,kt=T,Math.abs(yt)<C&&(yt=(yt<0?-1:1)*C)}else Dt=i.dataToPoint([Q,K]),m&&(J=i.dataToPoint([Q,rt])[1]),nt=Dt[0]+M,ft=J,yt=T,kt=Dt[1]-J,Math.abs(kt)<C&&(kt=(kt<=0?-1:1)*C);k?(R[Z]=nt,R[Z+1]=ft,R[Z+2]=b?yt:kt,B&&(B[Z]=b?F.x:nt,B[Z+1]=b?ft:F.y,B[Z+2]=H),O[j]=j):L.setItemLayout(j,{x:nt,y:ft,width:yt,height:kt}),Z+=3}k&&L.setLayout({largePoints:R,largeDataIndices:O,largeBackgroundPoints:B,valueAxisHorizontal:b})}}}}}}function $L(n){return n.coordinateSystem&&"cartesian2d"===n.coordinateSystem.type}function KL(n){return n.pipelineContext&&n.pipelineContext.large}var XL=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.getInitialData=function(t,i){return Dl(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,i,o){var a=this.coordinateSystem;if(a&&a.clampData){var l=a.dataToPoint(a.clampData(t));if(o)V(a.getAxes(),function(m,b){if("category"===m.type){var w=m.getTicksCoords(),k=a.clampData(t)[b];i&&("x1"===i[b]||"y1"===i[b])&&(k+=1),k>w.length-1&&(k=w.length-1),k<0&&(k=0),w[k]&&(l[b]=m.toGlobalCoord(w[k].coord))}});else{var u=this.getData(),d=u.getLayout("offset"),p=u.getLayout("size"),g=a.getBaseAxis().isHorizontal()?0:1;l[g]+=d+p/2}return l}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(en);en.registerClass(XL);const DA=XL;var T3=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.getInitialData=function(){return Dl(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),i=this.get("largeThreshold");return i>t&&(t=i),t},e.prototype.brushSelector=function(t,i,o){return o.rect(i.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Qa(DA.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(DA);const D3=T3;var M3=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},I3=function(n){function e(t){var i=n.call(this,t)||this;return i.type="sausage",i}return tt(e,n),e.prototype.getDefaultShape=function(){return new M3},e.prototype.buildPath=function(t,i){var o=i.cx,a=i.cy,l=Math.max(i.r0||0,0),u=Math.max(i.r,0),d=.5*(u-l),p=l+d,g=i.startAngle,m=i.endAngle,b=i.clockwise,w=2*Math.PI,k=b?m-g<w:g-m<w;k||(g=m-(b?w:-w));var C=Math.cos(g),x=Math.sin(g),T=Math.cos(m),M=Math.sin(m);k?(t.moveTo(C*l+o,x*l+a),t.arc(C*p+o,x*p+a,d,-Math.PI+g,g,!b)):t.moveTo(C*u+o,x*u+a),t.arc(o,a,u,g,m,!b),t.arc(T*p+o,M*p+a,d,m-2*Math.PI,m-Math.PI,!b),0!==l&&t.arc(o,a,l,m,g,b)},e}(re);const MA=I3;function IA(n,e,t){return e*Math.sin(n)*(t?-1:1)}function EA(n,e,t){return e*Math.cos(n)*(t?1:-1)}var lD=Math.max,cD=Math.min,R3=function(n){function e(){var t=n.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return tt(e,n),e.prototype.render=function(t,i,o,a){this._model=t,this._removeOnRenderedListener(o),this._updateDrawMode(t);var l=t.get("coordinateSystem");("cartesian2d"===l||"polar"===l)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,i,o):this._renderNormal(t,i,o,a))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,i){this._progressiveEls=[],this._incrementalRenderLarge(t,i)},e.prototype.eachRendered=function(t){wi(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;(null==this._isLargeDraw||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(t,i,o,a){var m,l=this.group,u=t.getData(),d=this._data,p=t.coordinateSystem,g=p.getBaseAxis();"cartesian2d"===p.type?m=g.isHorizontal():"polar"===p.type&&(m="angle"===g.dim);var b=t.isAnimationEnabled()?t:null,w=function(n,e){var t=n.get("realtimeSort",!0),i=e.getBaseAxis();if(t&&"category"===i.type&&"cartesian2d"===e.type)return{baseAxis:i,otherAxis:e.getOtherAxis(i)}}(t,p);w&&this._enableRealtimeSort(w,u,o);var k=t.get("clip",!0)||w,C=function(n,e){var t=n.getArea&&n.getArea();if(oh(n,"cartesian2d")){var i=n.getBaseAxis();if("category"!==i.type||!i.onBand){var o=e.getLayout("bandWidth");i.isHorizontal()?(t.x-=o,t.width+=2*o):(t.y-=o,t.height+=2*o)}}return t}(p,u);l.removeClipPath();var x=t.get("roundCap",!0),T=t.get("showBackground",!0),M=t.getModel("backgroundStyle"),I=M.get("borderRadius")||0,L=[],N=this._backgroundEls,R=a&&a.isInitSort,B=a&&"changeAxisOrder"===a.type;function O(j){var q=LA[p.type](u,j),Z=function(n,e,t){return new("polar"===n.type?Mr:Xt)({shape:lP(e,t,n),silent:!0,z2:0})}(p,m,q);return Z.useStyle(M.getItemStyle()),"cartesian2d"===p.type&&Z.setShape("r",I),L[j]=Z,Z}u.diff(d).add(function(j){var q=u.getItemModel(j),Z=LA[p.type](u,j,q);if(T&&O(j),u.hasValue(j)&&nP[p.type](Z)){var K=!1;k&&(K=QL[p.type](C,Z));var Q=JL[p.type](t,u,j,Z,m,b,g.model,!1,x);w&&(Q.forceLabelAnimation=!0),iP(Q,u,j,q,Z,t,m,"polar"===p.type),R?Q.attr({shape:Z}):w?tP(w,b,Q,Z,j,m,!1,!1):Je(Q,{shape:Z},t,j),u.setItemGraphicEl(j,Q),l.add(Q),Q.ignore=K}}).update(function(j,q){var Z=u.getItemModel(j),K=LA[p.type](u,j,Z);if(T){var Q=void 0;0===N.length?Q=O(q):((Q=N[q]).useStyle(M.getItemStyle()),"cartesian2d"===p.type&&Q.setShape("r",I),L[j]=Q);var J=LA[p.type](u,j);ke(Q,{shape:lP(m,J,p)},b,j)}var nt=d.getItemGraphicEl(q);if(u.hasValue(j)&&nP[p.type](K)){var ft=!1;if(k&&(ft=QL[p.type](C,K))&&l.remove(nt),nt?Yr(nt):nt=JL[p.type](t,u,j,K,m,b,g.model,!!nt,x),w&&(nt.forceLabelAnimation=!0),B){var yt=nt.getTextContent();if(yt){var kt=Ac(yt);null!=kt.prevValue&&(kt.prevValue=kt.value)}}else iP(nt,u,j,Z,K,t,m,"polar"===p.type);R?nt.attr({shape:K}):w?tP(w,b,nt,K,j,m,!0,B):ke(nt,{shape:K},t,j,null),u.setItemGraphicEl(j,nt),nt.ignore=ft,l.add(nt)}else l.remove(nt)}).remove(function(j){var q=d.getItemGraphicEl(j);q&&Do(q,t,j)}).execute();var F=this._backgroundGroup||(this._backgroundGroup=new Vt);F.removeAll();for(var H=0;H<L.length;++H)F.add(L[H]);l.add(F),this._backgroundEls=L,this._data=u},e.prototype._renderLarge=function(t,i,o){this._clear(),aP(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,i){this._removeBackground(),aP(i,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var i=t.get("clip",!0)&&TA(t.coordinateSystem,!1,t),o=this.group;i?o.setClipPath(i):o.removeClipPath()},e.prototype._enableRealtimeSort=function(t,i,o){var a=this;if(i.count()){var l=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(i,t,o),this._isFirstFrame=!1;else{var u=function(d){var p=i.getItemGraphicEl(d),g=p&&p.shape;return g&&Math.abs(l.isHorizontal()?g.height:g.width)||0};this._onRendered=function(){a._updateSortWithinSameData(i,u,l,o)},o.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,i,o){var a=[];return t.each(t.mapDimension(i.dim),function(l,u){var d=o(u);a.push({dataIndex:u,mappedValue:d=d??NaN,ordinalNumber:l})}),a.sort(function(l,u){return u.mappedValue-l.mappedValue}),{ordinalNumbers:gt(a,function(l){return l.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,i,o){for(var a=o.scale,l=t.mapDimension(o.dim),u=Number.MAX_VALUE,d=0,p=a.getOrdinalMeta().categories.length;d<p;++d){var g=t.rawIndexOf(l,a.getRawOrdinalNumber(d)),m=g<0?Number.MIN_VALUE:i(t.indexOfRawIndex(g));if(m>u)return!0;u=m}return!1},e.prototype._isOrderDifferentInView=function(t,i){for(var o=i.scale,a=o.getExtent(),l=Math.max(0,a[0]),u=Math.min(a[1],o.getOrdinalMeta().categories.length-1);l<=u;++l)if(t.ordinalNumbers[l]!==o.getRawOrdinalNumber(l))return!0},e.prototype._updateSortWithinSameData=function(t,i,o,a){if(this._isOrderChangedWithinSameData(t,i,o)){var l=this._dataSort(t,o,i);this._isOrderDifferentInView(l,o)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",axisId:o.index,sortInfo:l}))}},e.prototype._dispatchInitSort=function(t,i,o){var a=i.baseAxis,l=this._dataSort(t,a,function(u){return t.get(t.mapDimension(i.otherAxis.dim),u)});o.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:l})},e.prototype.remove=function(t,i){this._clear(this._model),this._removeOnRenderedListener(i)},e.prototype.dispose=function(t,i){this._removeOnRenderedListener(i)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var i=this.group,o=this._data;t&&t.isAnimationEnabled()&&o&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],o.eachItemGraphicEl(function(a){Do(a,t,jt(a).dataIndex)})):i.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(Be),QL={cartesian2d:function(n,e){var t=e.width<0?-1:1,i=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var o=n.x+n.width,a=n.y+n.height,l=lD(e.x,n.x),u=cD(e.x+e.width,o),d=lD(e.y,n.y),p=cD(e.y+e.height,a),g=u<l,m=p<d;return e.x=g&&l>o?u:l,e.y=m&&d>a?p:d,e.width=g?0:u-l,e.height=m?0:p-d,t<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),g||m},polar:function(n,e){var t=e.r0<=e.r?1:-1;if(t<0){var i=e.r;e.r=e.r0,e.r0=i}var o=cD(e.r,n.r),a=lD(e.r0,n.r0);e.r=o,e.r0=a;var l=o-a<0;return t<0&&(i=e.r,e.r=e.r0,e.r0=i),l}},JL={cartesian2d:function(n,e,t,i,o,a,l,u,d){var p=new Xt({shape:st({},i),z2:1});return p.__dataIndex=t,p.name="item",a&&(p.shape[o?"height":"width"]=0),p},polar:function(n,e,t,i,o,a,l,u,d){var p=!o&&d?MA:Mr,g=new p({shape:i,z2:1});g.name="item";var m=rP(o);if(g.calculateTextPosition=function(n,e){var t=(e=e||{}).isRoundCap;return function(i,o,a){var l=o.position;if(!l||l instanceof Array)return Xu(i,o,a);var u=n(l),d=null!=o.distance?o.distance:5,p=this.shape,g=p.cx,m=p.cy,b=p.r,w=p.r0,k=(b+w)/2,C=p.startAngle,x=p.endAngle,T=(C+x)/2,M=t?Math.abs(b-w)/2:0,I=Math.cos,L=Math.sin,N=g+b*I(C),R=m+b*L(C),B="left",O="top";switch(u){case"startArc":N=g+(w-d)*I(T),R=m+(w-d)*L(T),B="center",O="top";break;case"insideStartArc":N=g+(w+d)*I(T),R=m+(w+d)*L(T),B="center",O="bottom";break;case"startAngle":N=g+k*I(C)+IA(C,d+M,!1),R=m+k*L(C)+EA(C,d+M,!1),B="right",O="middle";break;case"insideStartAngle":N=g+k*I(C)+IA(C,-d+M,!1),R=m+k*L(C)+EA(C,-d+M,!1),B="left",O="middle";break;case"middle":N=g+k*I(T),R=m+k*L(T),B="center",O="middle";break;case"endArc":N=g+(b+d)*I(T),R=m+(b+d)*L(T),B="center",O="bottom";break;case"insideEndArc":N=g+(b-d)*I(T),R=m+(b-d)*L(T),B="center",O="top";break;case"endAngle":N=g+k*I(x)+IA(x,d+M,!0),R=m+k*L(x)+EA(x,d+M,!0),B="left",O="middle";break;case"insideEndAngle":N=g+k*I(x)+IA(x,-d+M,!0),R=m+k*L(x)+EA(x,-d+M,!0),B="right",O="middle";break;default:return Xu(i,o,a)}return(i=i||{}).x=N,i.y=R,i.align=B,i.verticalAlign=O,i}}(m,{isRoundCap:p===MA}),a){var w=o?"r":"endAngle",k={};g.shape[w]=o?0:i.startAngle,k[w]=i[w],(u?ke:Je)(g,{shape:k},a)}return g}};function tP(n,e,t,i,o,a,l,u){var d,p;a?(p={x:i.x,width:i.width},d={y:i.y,height:i.height}):(p={y:i.y,height:i.height},d={x:i.x,width:i.width}),u||(l?ke:Je)(t,{shape:d},e,o,null),(l?ke:Je)(t,{shape:p},e?n.baseAxis.model:null,o)}function eP(n,e){for(var t=0;t<e.length;t++)if(!isFinite(n[e[t]]))return!0;return!1}var B3=["x","y","width","height"],z3=["cx","cy","r","startAngle","endAngle"],nP={cartesian2d:function(n){return!eP(n,B3)},polar:function(n){return!eP(n,z3)}},LA={cartesian2d:function(n,e,t){var i=n.getItemLayout(e),o=t?function(n,e){var t=n.get(["itemStyle","borderColor"]);if(!t||"none"===t)return 0;var i=n.get(["itemStyle","borderWidth"])||0,o=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(i,o,a)}(t,i):0,a=i.width>0?1:-1,l=i.height>0?1:-1;return{x:i.x+a*o/2,y:i.y+l*o/2,width:i.width-a*o,height:i.height-l*o}},polar:function(n,e,t){var i=n.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function rP(n){return function(e){var t=e?"Arc":"Angle";return function(i){switch(i){case"start":case"insideStart":case"end":case"insideEnd":return i+t;default:return i}}}(n)}function iP(n,e,t,i,o,a,l,u){var d=e.getItemVisual(t,"style");u||n.setShape("r",i.get(["itemStyle","borderRadius"])||0),n.useStyle(d);var p=i.getShallow("cursor");p&&n.attr("cursor",p);var g=u?l?o.r>=o.r0?"endArc":"startArc":o.endAngle>=o.startAngle?"endAngle":"startAngle":l?o.height>=0?"bottom":"top":o.width>=0?"right":"left",m=Nn(i);sr(n,m,{labelFetcher:a,labelDataIndex:t,defaultText:Ig(a.getData(),t),inheritColor:d.fill,defaultOpacity:d.opacity,defaultOutsidePosition:g});var b=n.getTextContent();if(u&&b){var w=i.get(["label","position"]);n.textConfig.inside="middle"===w||null,function(n,e,t,i){if(_e(i))n.setTextConfig({rotation:i});else if(pt(e))n.setTextConfig({rotation:0});else{var d,o=n.shape,a=o.clockwise?o.startAngle:o.endAngle,l=o.clockwise?o.endAngle:o.startAngle,u=(a+l)/2,p=t(e);switch(p){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":d=u;break;case"startAngle":case"insideStartAngle":d=a;break;case"endAngle":case"insideEndAngle":d=l;break;default:return void n.setTextConfig({rotation:0})}var g=1.5*Math.PI-d;"middle"===p&&g>Math.PI/2&&g<1.5*Math.PI&&(g-=Math.PI),n.setTextConfig({rotation:g})}}(n,"outside"===w?g:w,rP(l),i.get(["label","rotate"]))}Om(b,m,a.getRawValue(t),function(C){return TL(e,C)});var k=i.getModel(["emphasis"]);cn(n,k.get("focus"),k.get("blurScope"),k.get("disabled")),ar(n,i),function(n){return null!=n.startAngle&&null!=n.endAngle&&n.startAngle===n.endAngle}(o)&&(n.style.fill="none",n.style.stroke="none",V(n.states,function(C){C.style&&(C.style.fill=C.style.stroke="none")}))}var F3=function(){},oP=function(n){function e(t){var i=n.call(this,t)||this;return i.type="largeBar",i}return tt(e,n),e.prototype.getDefaultShape=function(){return new F3},e.prototype.buildPath=function(t,i){for(var o=i.points,a=this.baseDimIdx,l=1-this.baseDimIdx,u=[],d=[],p=this.barWidth,g=0;g<o.length;g+=3)d[a]=p,d[l]=o[g+2],u[a]=o[g+a],u[l]=o[g+l],t.rect(u[0],u[1],d[0],d[1])},e}(re);function aP(n,e,t,i){var o=n.getData(),a=o.getLayout("valueAxisHorizontal")?1:0,l=o.getLayout("largeDataIndices"),u=o.getLayout("size"),d=n.getModel("backgroundStyle"),p=o.getLayout("largeBackgroundPoints");if(p){var g=new oP({shape:{points:p},incremental:!!i,silent:!0,z2:0});g.baseDimIdx=a,g.largeDataIndices=l,g.barWidth=u,g.useStyle(d.getItemStyle()),e.add(g),t&&t.push(g)}var m=new oP({shape:{points:o.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});m.baseDimIdx=a,m.largeDataIndices=l,m.barWidth=u,e.add(m),m.useStyle(o.getVisual("style")),jt(m).seriesIndex=n.seriesIndex,n.get("silent")||(m.on("mousedown",sP),m.on("mousemove",sP)),t&&t.push(m)}var sP=tg(function(n){var t=function(n,e,t){for(var i=n.baseDimIdx,o=1-i,a=n.shape.points,l=n.largeDataIndices,u=[],d=[],p=n.barWidth,g=0,m=a.length/3;g<m;g++){var b=3*g;if(d[i]=p,d[o]=a[b+2],u[i]=a[b+i],u[o]=a[b+o],d[o]<0&&(u[o]+=d[o],d[o]=-d[o]),e>=u[0]&&e<=u[0]+d[0]&&t>=u[1]&&t<=u[1]+d[1])return l[g]}return-1}(this,n.offsetX,n.offsetY);jt(this).dataIndex=t>=0?t:null},30,!1);function lP(n,e,t){if(oh(t,"cartesian2d")){var i=e,o=t.getArea();return{x:n?i.x:o.x,y:n?o.y:i.y,width:n?i.width:o.width,height:n?o.height:i.height}}return{cx:(o=t.getArea()).cx,cy:o.cy,r0:n?o.r0:e.r0,r:n?o.r:e.r,startAngle:n?e.startAngle:0,endAngle:n?e.endAngle:2*Math.PI}}const G3=R3;var PA=2*Math.PI,cP=Math.PI/180;function uP(n,e){return Bn(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function dP(n,e){var t=uP(n,e),i=n.get("center"),o=n.get("radius");pt(o)||(o=[0,o]);var g,m,a=_t(t.width,e.getWidth()),l=_t(t.height,e.getHeight()),u=Math.min(a,l),d=_t(o[0],u/2),p=_t(o[1],u/2),b=n.coordinateSystem;if(b){var w=b.dataToPoint(i);g=w[0]||0,m=w[1]||0}else pt(i)||(i=[i,i]),g=_t(i[0],a)+t.x,m=_t(i[1],l)+t.y;return{cx:g,cy:m,r0:d,r:p}}function W3(n,e,t){e.eachSeriesByType(n,function(i){var o=i.getData(),a=o.mapDimension("value"),l=uP(i,t),u=dP(i,t),d=u.cx,p=u.cy,g=u.r,m=u.r0,b=-i.get("startAngle")*cP,w=i.get("minAngle")*cP,k=0;o.each(a,function(H){!isNaN(H)&&k++});var C=o.getSum(a),x=Math.PI/(C||k)*2,T=i.get("clockwise"),M=i.get("roseType"),I=i.get("stillShowZeroSum"),L=o.getDataExtent(a);L[0]=0;var N=PA,R=0,B=b,O=T?1:-1;if(o.setLayout({viewRect:l,r:g}),o.each(a,function(H,j){var q;if(isNaN(H))o.setItemLayout(j,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:T,cx:d,cy:p,r0:m,r:M?NaN:g});else{(q="area"!==M?0===C&&I?x:H*x:PA/k)<w?(q=w,N-=w):R+=H;var Z=B+O*q;o.setItemLayout(j,{angle:q,startAngle:B,endAngle:Z,clockwise:T,cx:d,cy:p,r0:m,r:M?Ie(H,L,[m,g]):g}),B=Z}}),N<PA&&k)if(N<=.001){var F=PA/k;o.each(a,function(H,j){if(!isNaN(H)){var q=o.getItemLayout(j);q.angle=F,q.startAngle=b+O*j*F,q.endAngle=b+O*(j+1)*F}})}else x=N/R,B=b,o.each(a,function(H,j){if(!isNaN(H)){var q=o.getItemLayout(j),Z=q.angle===w?w:H*x;q.startAngle=B,q.endAngle=B+O*Z,B+=O*Z}})})}function ib(n){return{seriesType:n,reset:function(e,t){var i=t.findComponents({mainType:"legend"});if(i&&i.length){var o=e.getData();o.filterSelf(function(a){for(var l=o.getName(a),u=0;u<i.length;u++)if(!i[u].isSelected(l))return!1;return!0})}}}}var Y3=Math.PI/180;function hP(n,e,t,i,o,a,l,u,d,p){if(!(n.length<2)){for(var b=n.length,w=0;w<b;w++)"outer"===n[w].position&&"labelLine"===n[w].labelAlignTo&&(n[w].linePoints[1][0]+=n[w].label.x-p,n[w].label.x=p);A(n,d,d+l)&&function(C){for(var x={list:[],maxY:0},T={list:[],maxY:0},M=0;M<C.length;M++)if("none"===C[M].labelAlignTo){var I=C[M],L=I.label.y>t?T:x,N=Math.abs(I.label.y-t);if(N>=L.maxY){var R=I.label.x-e-I.len2*o,B=i+I.len,O=Math.abs(R)<B?Math.sqrt(N*N/(1-R*R/B/B)):B;L.rB=O,L.maxY=N}L.list.push(I)}g(x),g(T)}(n)}function g(C){for(var x=C.rB,T=x*x,M=0;M<C.list.length;M++){var I=C.list[M],L=Math.abs(I.label.y-t),N=i+I.len,R=N*N,B=Math.sqrt((1-Math.abs(L*L/T))*R),O=e+(B+I.len2)*o;fP(I,I.targetTextWidth-(O-I.label.x)*o,!0),I.label.x=O}}}function fP(n,e,t){if(void 0===t&&(t=!1),null==n.labelStyleWidth){var i=n.label,o=i.style,a=n.rect,l=o.backgroundColor,u=o.padding,d=u?u[1]+u[3]:0,p=o.overflow,g=a.width+(l?0:d);if(e<g||t){var m=a.height;if(p&&p.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",e-d);var b=i.getBoundingRect();i.setStyle("width",Math.ceil(b.width)),i.setStyle("backgroundColor",l)}else{var w=e-d;i.setStyle("width",e<g?w:t?w>n.unconstrainedWidth?null:w:null)}var C=i.getBoundingRect();a.width=C.width,a.height=C.height+((i.style.margin||0)+2.1),a.y-=(a.height-m)/2}}}function uD(n){return"center"===n.position}function Eg(n,e,t){var i=n.get("borderRadius");if(null==i)return t?{cornerRadius:0}:null;pt(i)||(i=[i,i,i,i]);var o=Math.abs(e.r||0-e.r0||0);return{cornerRadius:gt(i,function(a){return Ur(a,o)})}}var $3=function(n){function e(t,i,o){var a=n.call(this)||this;a.z2=2;var l=new ge;return a.setTextContent(l),a.updateData(t,i,o,!0),a}return tt(e,n),e.prototype.updateData=function(t,i,o,a){var l=this,u=t.hostModel,d=t.getItemModel(i),p=d.getModel("emphasis"),g=t.getItemLayout(i),m=st(Eg(d.getModel("itemStyle"),g,!0),g);if(isNaN(m.startAngle))l.setShape(m);else{if(a){l.setShape(m);var b=u.getShallow("animationType");u.ecModel.ssr?(Je(l,{scaleX:0,scaleY:0},u,{dataIndex:i,isFrom:!0}),l.originX=m.cx,l.originY=m.cy):"scale"===b?(l.shape.r=g.r0,Je(l,{shape:{r:g.r}},u,i)):null!=o?(l.setShape({startAngle:o,endAngle:o}),Je(l,{shape:{startAngle:g.startAngle,endAngle:g.endAngle}},u,i)):(l.shape.endAngle=g.startAngle,ke(l,{shape:{endAngle:g.endAngle}},u,i))}else Yr(l),ke(l,{shape:m},u,i);l.useStyle(t.getItemVisual(i,"style")),ar(l,d);var w=(g.startAngle+g.endAngle)/2,k=u.get("selectedOffset"),C=Math.cos(w)*k,x=Math.sin(w)*k,T=d.getShallow("cursor");T&&l.attr("cursor",T),this._updateLabel(u,t,i),l.ensureState("emphasis").shape=st({r:g.r+(p.get("scale")&&p.get("scaleSize")||0)},Eg(p.getModel("itemStyle"),g)),st(l.ensureState("select"),{x:C,y:x,shape:Eg(d.getModel(["select","itemStyle"]),g)}),st(l.ensureState("blur"),{shape:Eg(d.getModel(["blur","itemStyle"]),g)});var M=l.getTextGuideLine(),I=l.getTextContent();M&&st(M.ensureState("select"),{x:C,y:x}),st(I.ensureState("select"),{x:C,y:x}),cn(this,p.get("focus"),p.get("blurScope"),p.get("disabled"))}},e.prototype._updateLabel=function(t,i,o){var a=this,l=i.getItemModel(o),u=l.getModel("labelLine"),d=i.getItemVisual(o,"style"),p=d&&d.fill,g=d&&d.opacity;sr(a,Nn(l),{labelFetcher:i.hostModel,labelDataIndex:o,inheritColor:p,defaultOpacity:g,defaultText:t.getFormattedLabel(o,"normal")||i.getName(o)});var m=a.getTextContent();a.setTextConfig({position:null,rotation:null}),m.attr({z2:10});var b=t.get(["label","position"]);if("outside"!==b&&"outer"!==b)a.removeTextGuideLine();else{var w=this.getTextGuideLine();w||(w=new Jr,this.setTextGuideLine(w)),c(this,h(l),{stroke:p,opacity:go(u.get(["lineStyle","opacity"]),g,1)})}},e}(Mr),K3=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return tt(e,n),e.prototype.render=function(t,i,o,a){var p,l=t.getData(),u=this._data,d=this.group;if(!u&&l.count()>0){for(var g=l.getItemLayout(0),m=1;isNaN(g&&g.startAngle)&&m<l.count();++m)g=l.getItemLayout(m);g&&(p=g.startAngle)}if(this._emptyCircleSector&&d.remove(this._emptyCircleSector),0===l.count()&&t.get("showEmptyCircle")){var b=new Mr({shape:dP(t,o)});b.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=b,d.add(b)}l.diff(u).add(function(w){var k=new $3(l,w,p);l.setItemGraphicEl(w,k),d.add(k)}).update(function(w,k){var C=u.getItemGraphicEl(k);C.updateData(l,w,p),C.off("click"),d.add(C),l.setItemGraphicEl(w,C)}).remove(function(w){Do(u.getItemGraphicEl(w),t,w)}).execute(),function(n){var i,o,e=n.getData(),t=[],a=!1,l=(n.get("minShowLabelAngle")||0)*Y3,u=e.getLayout("viewRect"),d=e.getLayout("r"),p=u.width,g=u.x,m=u.y,b=u.height;function w(R){R.ignore=!0}e.each(function(R){var B=e.getItemGraphicEl(R),O=B.shape,F=B.getTextContent(),H=B.getTextGuideLine(),j=e.getItemModel(R),q=j.getModel("label"),Z=q.get("position")||j.get(["emphasis","label","position"]),K=q.get("distanceToLabelLine"),Q=q.get("alignTo"),J=_t(q.get("edgeDistance"),p),rt=q.get("bleedMargin"),nt=j.getModel("labelLine"),ft=nt.get("length");ft=_t(ft,p);var yt=nt.get("length2");if(yt=_t(yt,p),Math.abs(O.endAngle-O.startAngle)<l)return V(F.states,w),F.ignore=!0,void(H&&(V(H.states,w),H.ignore=!0));if(function(R){if(!R.ignore)return!0;for(var B in R.states)if(!1===R.states[B].ignore)return!0;return!1}(F)){var Bt,ce,Se,ue,kt=(O.startAngle+O.endAngle)/2,Dt=Math.cos(kt),Nt=Math.sin(kt);i=O.cx,o=O.cy;var Ht="inside"===Z||"inner"===Z;if("center"===Z)Bt=O.cx,ce=O.cy,ue="center";else{var fe=(Ht?(O.r+O.r0)/2*Dt:O.r*Dt)+i,ne=(Ht?(O.r+O.r0)/2*Nt:O.r*Nt)+o;if(Bt=fe+3*Dt,ce=ne+3*Nt,!Ht){var It=fe+Dt*(ft+d-O.r),Jt=ne+Nt*(ft+d-O.r),dn=It+(Dt<0?-1:1)*yt;Bt="edge"===Q?Dt<0?g+J:g+p-J:dn+(Dt<0?-K:K),ce=Jt,Se=[[fe,ne],[It,Jt],[dn,Jt]]}ue=Ht?"center":"edge"===Q?Dt>0?"right":"left":Dt>0?"left":"right"}var En=Math.PI,kn=0,si=q.get("rotate");if(_e(si))kn=si*(En/180);else if("center"===Z)kn=0;else if("radial"===si||!0===si)kn=Dt<0?-kt+En:-kt;else if("tangential"===si&&"outside"!==Z&&"outer"!==Z){var Oi=Math.atan2(Dt,Nt);Oi<0&&(Oi=2*En+Oi),Nt>0&&(Oi=En+Oi),kn=Oi-En}if(a=!!kn,F.x=Bt,F.y=ce,F.rotation=kn,F.setStyle({verticalAlign:"middle"}),Ht){F.setStyle({align:ue});var iE=F.states.select;iE&&(iE.x+=F.x,iE.y+=F.y)}else{var ku=F.getBoundingRect().clone();ku.applyTransform(F.getComputedTransform());var Y4=(F.style.margin||0)+2.1;ku.y-=Y4/2,ku.height+=Y4,t.push({label:F,labelLine:H,position:Z,len:ft,len2:yt,minTurnAngle:nt.get("minTurnAngle"),maxSurfaceAngle:nt.get("maxSurfaceAngle"),surfaceNormal:new Zt(Dt,Nt),linePoints:Se,textAlign:ue,labelDistance:K,labelAlignTo:Q,edgeDistance:J,bleedMargin:rt,rect:ku,unconstrainedWidth:ku.width,labelStyleWidth:F.style.width})}B.setTextConfig({inside:Ht})}}),!a&&n.get("avoidLabelOverlap")&&function(n,e,t,i,o,a,l,u){for(var d=[],p=[],g=Number.MAX_VALUE,m=-Number.MAX_VALUE,b=0;b<n.length;b++){var w=n[b].label;uD(n[b])||(w.x<e?(g=Math.min(g,w.x),d.push(n[b])):(m=Math.max(m,w.x),p.push(n[b])))}for(b=0;b<n.length;b++)if(!uD(k=n[b])&&k.linePoints){if(null!=k.labelStyleWidth)continue;w=k.label;var x,C=k.linePoints;k.targetTextWidth=x="edge"===k.labelAlignTo?w.x<e?C[2][0]-k.labelDistance-l-k.edgeDistance:l+o-k.edgeDistance-C[2][0]-k.labelDistance:"labelLine"===k.labelAlignTo?w.x<e?g-l-k.bleedMargin:l+o-m-k.bleedMargin:w.x<e?w.x-l-k.bleedMargin:l+o-w.x-k.bleedMargin,fP(k,x)}for(hP(p,e,t,i,1,0,a,0,u,m),hP(d,e,t,i,-1,0,a,0,u,g),b=0;b<n.length;b++){var k;if(!uD(k=n[b])&&k.linePoints){var M=(w=k.label).style.padding,N=k.rect.width+(w.style.backgroundColor?0:M?M[1]+M[3]:0),R=(C=k.linePoints)[1][0]-C[2][0];"edge"===k.labelAlignTo?C[2][0]=w.x<e?l+k.edgeDistance+N+k.labelDistance:l+o-k.edgeDistance-N-k.labelDistance:(C[2][0]=w.x<e?w.x+k.labelDistance:w.x-k.labelDistance,C[1][0]=C[2][0]+R),C[1][1]=C[2][1]=w.y}}}(t,i,o,d,p,b,g,m);for(var C=0;C<t.length;C++){var x=t[C],T=x.label,M=x.labelLine,I=isNaN(T.x)||isNaN(T.y);if(T){T.setStyle({align:x.textAlign}),I&&(V(T.states,w),T.ignore=!0);var L=T.states.select;L&&(L.x+=T.x,L.y+=T.y)}if(M){var N=x.linePoints;I||!N?(V(M.states,w),M.ignore=!0):(Vn(N,x.minTurnAngle),f(N,x.surfaceNormal,x.maxSurfaceAngle),M.setShape({points:N}),T.__hostTarget.textGuideLineConfig={anchor:new Zt(N[0][0],N[0][1])})}}}(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=l)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,i){var a=i.getData().getItemLayout(0);if(a){var l=t[0]-a.cx,u=t[1]-a.cy,d=Math.sqrt(l*l+u*u);return d<=a.r&&d>=a.r0}},e.type="pie",e}(Be);const X3=K3;function Lg(n,e,t){e=pt(e)&&{coordDimensions:e}||st({encodeDefine:n.getEncode()},e);var i=n.getSource(),o=Dg(i,e).dimensions,a=new ki(o,n);return a.initData(i,t),a}var Q3=function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},n.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},n.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},n}();const ob=Q3;var J3=ye(),tV=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new ob(Ct(this.getData,this),Ct(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return Lg(this,{coordDimensions:["value"],encodeDefaulter:Gt(Jm,this)})},e.prototype.getDataParams=function(t){var i=this.getData(),o=J3(i),a=o.seats;if(!a){var l=[];i.each(i.mapDimension("value"),function(d){l.push(d)}),a=o.seats=function(n,e){var t=xi(n,function(w,k){return w+(isNaN(k)?0:k)},0);if(0===t)return[];for(var i=Math.pow(10,e),o=gt(n,function(w){return(isNaN(w)?0:w)/t*i*100}),a=100*i,l=gt(o,function(w){return Math.floor(w)}),u=xi(l,function(w,k){return w+k},0),d=gt(o,function(w,k){return w-l[k]});u<a;){for(var p=Number.NEGATIVE_INFINITY,g=null,m=0,b=d.length;m<b;++m)d[m]>p&&(p=d[m],g=m);++l[g],d[g]=0,++u}return gt(l,function(w){return w/i})}(l,i.hostModel.get("percentPrecision"))}var u=n.prototype.getDataParams.call(this,t);return u.percent=a[t]||0,u.$vars.push("percent"),u},e.prototype._defaultLabelLine=function(t){Ua(t,"labelLine",["show"]);var i=t.labelLine,o=t.emphasis.labelLine;i.show=i.show&&t.label.show,o.show=o.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(en);const eV=tV;var iV=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return tt(e,n),e.prototype.getInitialData=function(t,i){return Dl(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,i,o){return o.point(i.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(en);const oV=iV;var aV=function(){},sV=function(n){function e(t){var i=n.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return tt(e,n),e.prototype.getDefaultShape=function(){return new aV},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,i){var m,o=i.points,a=i.size,l=this.symbolProxy,u=l.shape,d=t.getContext?t.getContext():t,g=this.softClipShape;if(d&&a[0]<4)this._ctx=d;else{for(this._ctx=null,m=this._off;m<o.length;){var b=o[m++],w=o[m++];isNaN(b)||isNaN(w)||g&&!g.contain(b,w)||(u.x=b-a[0]/2,u.y=w-a[1]/2,u.width=a[0],u.height=a[1],l.buildPath(t,u,!0))}this.incremental&&(this._off=m,this.notClear=!0)}},e.prototype.afterBrush=function(){var u,t=this.shape,i=t.points,o=t.size,a=this._ctx,l=this.softClipShape;if(a){for(u=this._off;u<i.length;){var d=i[u++],p=i[u++];isNaN(d)||isNaN(p)||l&&!l.contain(d,p)||a.fillRect(d-o[0]/2,p-o[1]/2,o[0],o[1])}this.incremental&&(this._off=u,this.notClear=!0)}},e.prototype.findDataIndex=function(t,i){for(var o=this.shape,a=o.points,l=o.size,u=Math.max(l[0],4),d=Math.max(l[1],4),p=a.length/2-1;p>=0;p--){var g=2*p,m=a[g]-u/2,b=a[g+1]-d/2;if(t>=m&&i>=b&&t<=m+u&&i<=b+d)return p}return-1},e.prototype.contain=function(t,i){var o=this.transformCoordToLocal(t,i);return this.getBoundingRect().contain(t=o[0],i=o[1])?(this.hoverDataIdx=this.findDataIndex(t,i))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var i=this.shape,o=i.points,a=i.size,l=a[0],u=a[1],d=1/0,p=1/0,g=-1/0,m=-1/0,b=0;b<o.length;){var w=o[b++],k=o[b++];d=Math.min(w,d),g=Math.max(w,g),p=Math.min(k,p),m=Math.max(k,m)}t=this._rect=new $t(d-l/2,p-u/2,g-d+l,m-p+u)}return t},e}(re),lV=function(){function n(){this.group=new Vt}return n.prototype.updateData=function(e,t){this._clear();var i=this._create();i.setShape({points:e.getLayout("points")}),this._setCommon(i,e,t)},n.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(i){null!=i.startIndex&&(t=new Float32Array(t.buffer,4*i.startIndex*2,2*(i.endIndex-i.startIndex))),i.setShape("points",t),i.reset()})},n.prototype.incrementalPrepareUpdate=function(e){this._clear()},n.prototype.incrementalUpdate=function(e,t,i){var o=this._newAdded[0],a=t.getLayout("points"),l=o&&o.shape.points;if(l&&l.length<2e4){var u=l.length,d=new Float32Array(u+a.length);d.set(l),d.set(a,u),o.endIndex=e.end,o.setShape({points:d})}else{this._newAdded=[];var p=this._create();p.startIndex=e.start,p.endIndex=e.end,p.incremental=!0,p.setShape({points:a}),this._setCommon(p,t,i)}},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new sV({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},n.prototype._setCommon=function(e,t,i){var o=t.hostModel;i=i||{};var a=t.getVisual("symbolSize");e.setShape("size",a instanceof Array?a:[a,a]),e.softClipShape=i.clipShape||null,e.symbolProxy=wn(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var l=e.shape.size[0]<4;e.useStyle(o.getModel("itemStyle").getItemStyle(l?["color","shadowBlur","shadowColor"]:["color"]));var u=t.getVisual("style"),d=u&&u.fill;d&&e.setColor(d);var p=jt(e);p.seriesIndex=o.seriesIndex,e.on("mousemove",function(g){p.dataIndex=null;var m=e.hoverDataIdx;m>=0&&(p.dataIndex=m+(e.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}();const cV=lV;var uV=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.render=function(t,i,o){var a=t.getData();this._updateSymbolDraw(a,t).updateData(a,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,i,o){var a=t.getData();this._updateSymbolDraw(a,t).incrementalPrepareUpdate(a),this._finished=!1},e.prototype.incrementalRender=function(t,i,o){this._symbolDraw.incrementalUpdate(t,i.getData(),{clipShape:this._getClipShape(i)}),this._finished=t.end===i.getData().count()},e.prototype.updateTransform=function(t,i,o){var a=t.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var l=rb("").reset(t,i,o);l.progress&&l.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){var i=t.coordinateSystem,o=i&&i.getArea&&i.getArea();return t.get("clip",!0)?o:null},e.prototype._updateSymbolDraw=function(t,i){var o=this._symbolDraw,l=i.pipelineContext.large;return(!o||l!==this._isLargeDraw)&&(o&&o.remove(),o=this._symbolDraw=l?new cV:new nb,this._isLargeDraw=l,this.group.removeAll()),this.group.add(o.group),o},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(Be);const dV=uV;var hV=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(be);const fV=hV;var ab=function(){function n(){}return n.prototype.getNeedCrossZero=function(){return!this.option.scale},n.prototype.getCoordSysModel=function(){},n}(),dD=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Sn).models[0]},e.type="cartesian2dAxis",e}(be);fn(dD,ab);var gP={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},pV=Pt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},gP),hD=Pt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},gP);const vP={category:pV,value:hD,time:Pt({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},hD),log:Et({logBase:10},hD)};var mV=0,yV=function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++mV}return n.createByAxisModel=function(e){var t=e.option,i=t.data,o=i&&gt(i,bV);return new n({categories:o,needCollect:!o,deduplication:!1!==t.dedplication})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,i=this._needCollect;if(!At(e)&&!i)return e;if(i&&!this._deduplication)return this.categories[t=this.categories.length]=e,t;var o=this._getOrCreateMap();return null==(t=o.get(e))&&(i?(this.categories[t=this.categories.length]=e,o.set(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=Tt(this.categories))},n}();function bV(n){return Rt(n)&&null!=n.value?n.value:n+""}const fD=yV;var wV={value:1,category:1,time:1,log:1};function Pg(n,e,t,i){V(wV,function(o,a){var l=Pt(Pt({},vP[a],!0),i,!0),u=function(d){function p(){var g=null!==d&&d.apply(this,arguments)||this;return g.type=e+"Axis."+a,g}return tt(p,d),p.prototype.mergeDefaultAndTheme=function(g,m){var b=Td(this),w=b?Ec(g):{};Pt(g,m.getTheme().get(a+"Axis")),Pt(g,this.getDefaultOption()),g.type=mP(g),b&&es(g,w,b)},p.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=fD.createByAxisModel(this))},p.prototype.getCategories=function(g){var m=this.option;if("category"===m.type)return g?m.data:this.__ordinalMeta.categories},p.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},p.type=e+"Axis."+a,p.defaultOption=l,p}(t);n.registerComponentModel(u)}),n.registerSubTypeDefaulter(e+"Axis",mP)}function mP(n){return n.type||(n.data?"category":"value")}var yP=function(){function n(e){this._setting=e||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},n.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){var i=this._extent;isNaN(e)||(i[0]=e),isNaN(t)||(i[1]=t)},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n}();xf(yP);const Ml=yP;function pD(n){return"interval"===n.type||"log"===n.type}function gD(n){var e=Math.pow(10,im(n)),t=n/e;return t?2===t?t=3:3===t?t=5:t*=2:t=1,on(t*e)}function bP(n){return Yi(n)+2}function wP(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function RA(n,e){return n>=e[0]&&n<=e[1]}function NA(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function BA(n,e){return n*(e[1]-e[0])+e[0]}var _P=function(n){function e(t){var i=n.call(this,t)||this;i.type="ordinal";var o=i.getSetting("ordinalMeta");return o||(o=new fD({})),pt(o)&&(o=new fD({categories:gt(o,function(a){return Rt(a)?a.value:a})})),i._ordinalMeta=o,i._extent=i.getSetting("extent")||[0,o.categories.length-1],i}return tt(e,n),e.prototype.parse=function(t){return null==t?NaN:At(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return RA(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return NA(t=this._getTickNumber(this.parse(t)),this._extent)},e.prototype.scale=function(t){return t=Math.round(BA(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],i=this._extent,o=i[0];o<=i[1];)t.push({value:o}),o++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var i=t.ordinalNumbers,o=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],l=0,u=this._ordinalMeta.categories.length,d=Math.min(u,i.length);l<d;++l){var p=i[l];o[l]=p,a[p]=l}for(var g=0;l<u;++l){for(;null!=a[g];)g++;o.push(g),a[g]=l}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var i=this._ticksByOrdinalNumber;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getRawOrdinalNumber=function(t){var i=this._ordinalNumbersByTick;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var i=this.getRawOrdinalNumber(t.value),o=this._ordinalMeta.categories[i];return null==o?"":o+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(Ml);Ml.registerClass(_P);const vD=_P;var ah=on,kP=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return tt(e,n),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return RA(t,this._extent)},e.prototype.normalize=function(t){return NA(t,this._extent)},e.prototype.scale=function(t){return BA(t,this._extent)},e.prototype.setExtent=function(t,i){var o=this._extent;isNaN(t)||(o[0]=parseFloat(t)),isNaN(i)||(o[1]=parseFloat(i))},e.prototype.unionExtent=function(t){var i=this._extent;t[0]<i[0]&&(i[0]=t[0]),t[1]>i[1]&&(i[1]=t[1]),this.setExtent(i[0],i[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=bP(t)},e.prototype.getTicks=function(t){var i=this._interval,o=this._extent,a=this._niceExtent,l=this._intervalPrecision,u=[];if(!i)return u;o[0]<a[0]&&u.push(t?{value:ah(a[0]-i,l)}:{value:o[0]});for(var p=a[0];p<=a[1]&&(u.push({value:p}),(p=ah(p+i,l))!==u[u.length-1].value);)if(u.length>1e4)return[];var g=u.length?u[u.length-1].value:a[1];return o[1]>g&&u.push(t?{value:ah(g+i,l)}:{value:o[1]}),u},e.prototype.getMinorTicks=function(t){for(var i=this.getTicks(!0),o=[],a=this.getExtent(),l=1;l<i.length;l++){for(var d=i[l-1],p=0,g=[],b=(i[l].value-d.value)/t;p<t-1;){var w=ah(d.value+(p+1)*b);w>a[0]&&w<a[1]&&g.push(w),p++}o.push(g)}return o},e.prototype.getLabel=function(t,i){if(null==t)return"";var o=i&&i.precision;return null==o?o=Yi(t.value)||0:"auto"===o&&(o=this._intervalPrecision),$_(ah(t.value,o,!0))},e.prototype.calcNiceTicks=function(t,i,o){t=t||5;var a=this._extent,l=a[1]-a[0];if(isFinite(l)){l<0&&(l=-l,a.reverse());var u=function(n,e,t,i){var o={},l=o.interval=Vw((n[1]-n[0])/e,!0);null!=t&&l<t&&(l=o.interval=t),null!=i&&l>i&&(l=o.interval=i);var u=o.intervalPrecision=bP(l);return function(n,e){!isFinite(n[0])&&(n[0]=e[0]),!isFinite(n[1])&&(n[1]=e[1]),wP(n,0,e),wP(n,1,e),n[0]>n[1]&&(n[0]=n[1])}(o.niceTickExtent=[on(Math.ceil(n[0]/l)*l,u),on(Math.floor(n[1]/l)*l,u)],n),o}(a,t,i,o);this._intervalPrecision=u.intervalPrecision,this._interval=u.interval,this._niceExtent=u.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var i=this._extent;if(i[0]===i[1])if(0!==i[0]){var o=Math.abs(i[0]);t.fixMax||(i[1]+=o/2),i[0]-=o/2}else i[1]=1;isFinite(i[1]-i[0])||(i[0]=0,i[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var l=this._interval;t.fixMin||(i[0]=ah(Math.floor(i[0]/l)*l)),t.fixMax||(i[1]=ah(Math.ceil(i[1]/l)*l))},e.prototype.setNiceExtent=function(t,i){this._niceExtent=[t,i]},e.type="interval",e}(Ml);Ml.registerClass(kP);const hu=kP;var AP=function(n){function e(t){var i=n.call(this,t)||this;return i.type="time",i}return tt(e,n),e.prototype.getLabel=function(t){var i=this.getSetting("useUTC");return tn(t.value,ua[function(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(da(this._minLevelUnit))]||ua.second,i,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,i,o){var a=this.getSetting("useUTC");return function(n,e,t,i,o){var a=null;if(At(t))a=t;else if(Mt(t))a=t(n.value,e,{level:n.level});else{var l=st({},Dc);if(n.level>0)for(var u=0;u<Ym.length;++u)l[Ym[u]]="{primary|"+l[Ym[u]]+"}";var d=t?!1===t.inherit?t:Et(t,l):l,p=U_(n.value,o);if(d[p])a=d[p];else if(d.inherit){for(u=cp.indexOf(p)-1;u>=0;--u)if(d[p]){a=d[p];break}a=a||l.none}if(pt(a)){var m=null==n.level?0:n.level>=0?n.level:a.length+n.level;a=a[m=Math.min(m,a.length-1)]}}return tn(new Date(n.value),a,o,i)}(t,i,o,this.getSetting("locale"),a)},e.prototype.getTicks=function(){var i=this._extent,o=[];if(!this._interval)return o;o.push({value:i[0],level:0});var a=this.getSetting("useUTC"),l=function(n,e,t,i){var a=cp,l=0;function u(H,j,q,Z,K,Q,J){for(var rt=new Date(j),nt=j,ft=rt[Z]();nt<q&&nt<=i[1];)J.push({value:nt}),rt[K](ft+=H),nt=rt.getTime();J.push({value:nt,notAdd:!0})}function d(H,j,q){var Z=[],K=!j.length;if(!function(n,e,t,i){var o=Ii(e),a=Ii(t),l=function(k){return W_(o,k,i)===W_(a,k,i)},u=function(){return l("year")},d=function(){return u()&&l("month")},p=function(){return d()&&l("day")},g=function(){return p()&&l("hour")},m=function(){return g()&&l("minute")},b=function(){return m()&&l("second")};switch(n){case"year":return u();case"month":return d();case"day":return p();case"hour":return g();case"minute":return m();case"second":return b();case"millisecond":return b()&&l("millisecond")}}(da(H),i[0],i[1],t)){K&&(j=[{value:MV(new Date(i[0]),H,t)},{value:i[1]}]);for(var Q=0;Q<j.length-1;Q++){var J=j[Q].value,rt=j[Q+1].value;if(J!==rt){var nt=void 0,ft=void 0,yt=void 0;switch(H){case"year":nt=Math.max(1,Math.round(e/lr/365)),ft=up(t),yt=Ja(t);break;case"half-year":case"quarter":case"month":nt=SV(e),ft=Mc(t),yt=qm(t);break;case"week":case"half-week":case"day":nt=xV(e),ft=Ic(t),yt=Y_(t),!0;break;case"half-day":case"quarter-day":case"hour":nt=TV(e),ft=nl(t),yt=Zm(t);break;case"minute":nt=CP(e,!0),ft=dp(t),yt=q_(t);break;case"second":nt=CP(e,!1),ft=Pi(t),yt=$m(t);break;case"millisecond":nt=DV(e),ft=Mo(t),yt=Z_(t)}u(nt,J,rt,ft,yt,0,Z),"year"===H&&q.length>1&&0===Q&&q.unshift({value:q[0].value-nt})}}for(Q=0;Q<Z.length;Q++)q.push(Z[Q]);return Z}}for(var p=[],g=[],m=0,b=0,w=0;w<a.length&&l++<1e4;++w){var k=da(a[w]);if(US(a[w])&&(d(a[w],p[p.length-1]||[],g),k!==(a[w+1]?da(a[w+1]):null))){if(g.length){b=m,g.sort(function(H,j){return H.value-j.value});for(var x=[],T=0;T<g.length;++T){var M=g[T].value;(0===T||g[T-1].value!==M)&&(x.push(g[T]),M>=i[0]&&M<=i[1]&&m++)}var I=(i[1]-i[0])/e;if(m>1.5*I&&b>I/1.5||(p.push(x),m>I||n===a[w]))break}g=[]}}var L=Le(gt(p,function(H){return Le(H,function(j){return j.value>=i[0]&&j.value<=i[1]&&!j.notAdd})}),function(H){return H.length>0}),N=[],R=L.length-1;for(w=0;w<L.length;++w)for(var B=L[w],O=0;O<B.length;++O)N.push({value:B[O].value,level:R-w});N.sort(function(H,j){return H.value-j.value});var F=[];for(w=0;w<N.length;++w)(0===w||N[w].value!==N[w-1].value)&&F.push(N[w]);return F}(this._minLevelUnit,this._approxInterval,a,i);return(o=o.concat(l)).push({value:i[1],level:0}),o},e.prototype.calcNiceExtent=function(t){var i=this._extent;if(i[0]===i[1]&&(i[0]-=lr,i[1]+=lr),i[1]===-1/0&&i[0]===1/0){var o=new Date;i[1]=+new Date(o.getFullYear(),o.getMonth(),o.getDate()),i[0]=i[1]-lr}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,i,o){var a=this._extent;this._approxInterval=(a[1]-a[0])/(t=t||10),null!=i&&this._approxInterval<i&&(this._approxInterval=i),null!=o&&this._approxInterval>o&&(this._approxInterval=o);var u=zA.length,d=Math.min(function(n,e,t,i){for(;t<i;){var o=t+i>>>1;n[o][1]<e?t=o+1:i=o}return t}(zA,this._approxInterval,0,u),u-1);this._interval=zA[d][1],this._minLevelUnit=zA[Math.max(d-1,0)][0]},e.prototype.parse=function(t){return _e(t)?t:+Ii(t)},e.prototype.contain=function(t){return RA(this.parse(t),this._extent)},e.prototype.normalize=function(t){return NA(this.parse(t),this._extent)},e.prototype.scale=function(t){return BA(t,this._extent)},e.type="time",e}(hu),zA=[["second",1e3],["minute",6e4],["hour",Li],["quarter-day",6*Li],["half-day",12*Li],["day",1.2*lr],["half-week",3.5*lr],["week",7*lr],["month",31*lr],["quarter",95*lr],["half-year",Tc/2],["year",Tc]];function xV(n,e){return(n/=lr)>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function SV(n){return(n/=2592e6)>6?6:n>3?3:n>2?2:1}function TV(n){return(n/=Li)>12?12:n>6?6:n>3.5?4:n>2?2:1}function CP(n,e){return(n/=e?6e4:1e3)>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function DV(n){return Vw(n,!0)}function MV(n,e,t){var i=new Date(n);switch(da(e)){case"year":case"month":i[qm(t)](0);case"day":i[Y_(t)](1);case"hour":i[Zm(t)](0);case"minute":i[q_(t)](0);case"second":i[$m(t)](0),i[Z_(t)](0)}return i.getTime()}Ml.registerClass(AP);const xP=AP;var SP=Ml.prototype,sb=hu.prototype,EV=on,LV=Math.floor,PV=Math.ceil,OA=Math.pow,wa=Math.log,mD=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new hu,t._interval=0,t}return tt(e,n),e.prototype.getTicks=function(t){var o=this._extent,a=this._originalScale.getExtent();return gt(sb.getTicks.call(this,t),function(u){var d=u.value,p=on(OA(this.base,d));return p=d===o[0]&&this._fixMin?VA(p,a[0]):p,{value:p=d===o[1]&&this._fixMax?VA(p,a[1]):p}},this)},e.prototype.setExtent=function(t,i){var o=wa(this.base);t=wa(Math.max(0,t))/o,i=wa(Math.max(0,i))/o,sb.setExtent.call(this,t,i)},e.prototype.getExtent=function(){var t=this.base,i=SP.getExtent.call(this);i[0]=OA(t,i[0]),i[1]=OA(t,i[1]);var a=this._originalScale.getExtent();return this._fixMin&&(i[0]=VA(i[0],a[0])),this._fixMax&&(i[1]=VA(i[1],a[1])),i},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var i=this.base;t[0]=wa(t[0])/wa(i),t[1]=wa(t[1])/wa(i),SP.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},e.prototype.calcNiceTicks=function(t){t=t||10;var i=this._extent,o=i[1]-i[0];if(!(o===1/0||o<=0)){var a=function(n){return Math.pow(10,im(n))}(o);for(t/o*a<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var u=[on(PV(i[0]/a)*a),on(LV(i[1]/a)*a)];this._interval=a,this._niceExtent=u}},e.prototype.calcNiceExtent=function(t){sb.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return RA(t=wa(t)/wa(this.base),this._extent)},e.prototype.normalize=function(t){return NA(t=wa(t)/wa(this.base),this._extent)},e.prototype.scale=function(t){return t=BA(t,this._extent),OA(this.base,t)},e.type="log",e}(Ml),TP=mD.prototype;function VA(n,e){return EV(n,Yi(e))}TP.getMinorTicks=sb.getMinorTicks,TP.getLabel=sb.getLabel,Ml.registerClass(mD);const RV=mD;var NV=function(){function n(e,t,i){this._prepareParams(e,t,i)}return n.prototype._prepareParams=function(e,t,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var o=this._isOrdinal="ordinal"===e.type;this._needCrossZero="interval"===e.type&&t.getNeedCrossZero&&t.getNeedCrossZero();var a=this._modelMinRaw=t.get("min",!0);Mt(a)?this._modelMinNum=FA(e,a({min:i[0],max:i[1]})):"dataMin"!==a&&(this._modelMinNum=FA(e,a));var l=this._modelMaxRaw=t.get("max",!0);if(Mt(l)?this._modelMaxNum=FA(e,l({min:i[0],max:i[1]})):"dataMax"!==l&&(this._modelMaxNum=FA(e,l)),o)this._axisDataLen=t.getCategories().length;else{var u=t.get("boundaryGap"),d=pt(u)?u:[u||0,u||0];this._boundaryGapInner="boolean"==typeof d[0]||"boolean"==typeof d[1]?[0,0]:[Ur(d[0],1),Ur(d[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,i=this._dataMax,o=this._axisDataLen,a=this._boundaryGapInner,l=e?null:i-t||Math.abs(t),u="dataMin"===this._modelMinRaw?t:this._modelMinNum,d="dataMax"===this._modelMaxRaw?i:this._modelMaxNum,p=null!=u,g=null!=d;null==u&&(u=e?o?0:NaN:t-a[0]*l),null==d&&(d=e?o?o-1:NaN:i+a[1]*l),(null==u||!isFinite(u))&&(u=NaN),(null==d||!isFinite(d))&&(d=NaN);var m=Iu(u)||Iu(d)||e&&!o;this._needCrossZero&&(u>0&&d>0&&!p&&(u=0),u<0&&d<0&&!g&&(d=0));var b=this._determinedMin,w=this._determinedMax;return null!=b&&(u=b,p=!0),null!=w&&(d=w,g=!0),{min:u,max:d,minFixed:p,maxFixed:g,isBlank:m}},n.prototype.modifyDataMinMax=function(e,t){this[zV[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){this[BV[e]]=t},n.prototype.freeze=function(){this.frozen=!0},n}(),BV={min:"_determinedMin",max:"_determinedMax"},zV={min:"_dataMin",max:"_dataMax"};function DP(n,e,t){var i=n.rawExtentInfo;return i||(i=new NV(n,e,t),n.rawExtentInfo=i,i)}function FA(n,e){return null==e?null:Iu(e)?NaN:n.parse(e)}function MP(n,e){var t=n.type,i=DP(n,e,n.getExtent()).calculate();n.setBlank(i.isBlank);var o=i.min,a=i.max,l=e.ecModel;if(l&&"time"===t){var u=UL("bar",l),d=!1;if(V(u,function(m){d=d||m.getBaseAxis()===e.axis}),d){var p=WL(u),g=function(n,e,t,i){var o=t.axis.getExtent(),a=o[1]-o[0],l=function(n,e,t){if(n&&e){var i=n[sD(e)];return i}}(i,t.axis);if(void 0===l)return{min:n,max:e};var u=1/0;V(l,function(w){u=Math.min(w.offset,u)});var d=-1/0;V(l,function(w){d=Math.max(w.offset+w.width,d)}),u=Math.abs(u),d=Math.abs(d);var p=u+d,g=e-n,b=g/(1-(u+d)/a)-g;return{min:n-=b*(u/p),max:e+=b*(d/p)}}(o,a,e,p);o=g.min,a=g.max}}return{extent:[o,a],fixMin:i.minFixed,fixMax:i.maxFixed}}function Rg(n,e){var t=e,i=MP(n,t),o=i.extent,a=t.get("splitNumber");n instanceof RV&&(n.base=t.get("logBase"));var l=n.type,u=t.get("interval"),d="interval"===l||"time"===l;n.setExtent(o[0],o[1]),n.calcNiceExtent({splitNumber:a,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:d?t.get("minInterval"):null,maxInterval:d?t.get("maxInterval"):null}),null!=u&&n.setInterval&&n.setInterval(u)}function HA(n,e){if(e=e||n.get("type"))switch(e){case"category":return new vD({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new xP({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(Ml.getClass(e)||hu)}}function lb(n){var i,e=n.getLabelModel().get("formatter"),t="category"===n.type?n.scale.getExtent()[0]:null;return"time"===n.scale.type?(i=e,function(o,a){return n.scale.getFormattedLabel(o,a,i)}):At(e)?function(i){return function(o){var a=n.scale.getLabel(o);return i.replace("{value}",a??"")}}(e):Mt(e)?function(i){return function(o,a){return null!=t&&(a=o.value-t),i(yD(n,o),a,null!=o.level?{level:o.level}:null)}}(e):function(i){return n.scale.getLabel(i)}}function yD(n,e){return"category"===n.type?n.scale.getLabel(e):e.value}function HV(n,e){var t=e*Math.PI/180,i=n.width,o=n.height,a=i*Math.abs(Math.cos(t))+Math.abs(o*Math.sin(t)),l=i*Math.abs(Math.sin(t))+Math.abs(o*Math.cos(t));return new $t(n.x,n.y,a,l)}function bD(n){return n.get("interval")??"auto"}function IP(n){return"category"===n.type&&0===bD(n.getLabelModel())}function jA(n,e){var t={};return V(n.mapDimensionsAll(e),function(i){t[SL(n,i)]=!0}),le(t)}var GV=function(){function n(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return n.prototype.getAxis=function(e){return this._axes[e]},n.prototype.getAxes=function(){return gt(this._dimList,function(e){return this._axes[e]},this)},n.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Le(this.getAxes(),function(t){return t.scale.type===e})},n.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},n}(),wD=["x","y"];function EP(n){return"interval"===n.type||"time"===n.type}var WV=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=wD,t}return tt(e,n),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,i=this.getAxis("y").scale;if(EP(t)&&EP(i)){var o=t.getExtent(),a=i.getExtent(),l=this.dataToPoint([o[0],a[0]]),u=this.dataToPoint([o[1],a[1]]),d=o[1]-o[0],p=a[1]-a[0];if(d&&p){var g=(u[0]-l[0])/d,m=(u[1]-l[1])/p,k=this._transform=[g,0,0,m,l[0]-o[0]*g,l[1]-a[0]*m];this._invTransform=Cs([],k)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var i=this.getAxis("x"),o=this.getAxis("y");return i.contain(i.toLocalCoord(t[0]))&&o.contain(o.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,i){var o=this.dataToPoint(t),a=this.dataToPoint(i),l=this.getArea(),u=new $t(o[0],o[1],a[0]-o[0],a[1]-o[1]);return l.intersect(u)},e.prototype.dataToPoint=function(t,i,o){o=o||[];var a=t[0],l=t[1];if(this._transform&&null!=a&&isFinite(a)&&null!=l&&isFinite(l))return Yn(o,t,this._transform);var u=this.getAxis("x"),d=this.getAxis("y");return o[0]=u.toGlobalCoord(u.dataToCoord(a,i)),o[1]=d.toGlobalCoord(d.dataToCoord(l,i)),o},e.prototype.clampData=function(t,i){var o=this.getAxis("x").scale,a=this.getAxis("y").scale,l=o.getExtent(),u=a.getExtent(),d=o.parse(t[0]),p=a.parse(t[1]);return(i=i||[])[0]=Math.min(Math.max(Math.min(l[0],l[1]),d),Math.max(l[0],l[1])),i[1]=Math.min(Math.max(Math.min(u[0],u[1]),p),Math.max(u[0],u[1])),i},e.prototype.pointToData=function(t,i){var o=[];if(this._invTransform)return Yn(o,t,this._invTransform);var a=this.getAxis("x"),l=this.getAxis("y");return o[0]=a.coordToData(a.toLocalCoord(t[0]),i),o[1]=l.coordToData(l.toLocalCoord(t[1]),i),o},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),o=Math.min(t[0],t[1]),a=Math.min(i[0],i[1]),l=Math.max(t[0],t[1])-o,u=Math.max(i[0],i[1])-a;return new $t(o,a,l,u)},e}(GV);const YV=WV;var cb=ye();function LP(n,e){var a,l,t=PP(n,"labels"),i=bD(e);return RP(t,i)||(Mt(i)?a=zP(n,i):(l="auto"===i?function(n){return cb(n).autoInterval??(cb(n).autoInterval=n.calculateCategoryInterval())}(n):i,a=BP(n,l)),NP(t,i,{labels:a,labelCategoryInterval:l}))}function PP(n,e){return cb(n)[e]||(cb(n)[e]=[])}function RP(n,e){for(var t=0;t<n.length;t++)if(n[t].key===e)return n[t].value}function NP(n,e,t){return n.push({key:e,value:t}),t}function BP(n,e,t){var i=lb(n),o=n.scale,a=o.getExtent(),l=n.getLabelModel(),u=[],d=Math.max((e||0)+1,1),p=a[0],g=o.count();0!==p&&d>1&&g/d>2&&(p=Math.round(Math.ceil(p/d)*d));var m=IP(n),b=l.get("showMinLabel")||m,w=l.get("showMaxLabel")||m;b&&p!==a[0]&&C(a[0]);for(var k=p;k<=a[1];k+=d)C(k);function C(x){var T={value:x};u.push(t?x:{formattedLabel:i(T),rawLabel:o.getLabel(T),tickValue:x})}return w&&k-d!==a[1]&&C(a[1]),u}function zP(n,e,t){var i=n.scale,o=lb(n),a=[];return V(i.getTicks(),function(l){var u=i.getLabel(l),d=l.value;e(l.value,u)&&a.push(t?d:{formattedLabel:o(l),rawLabel:u,tickValue:d})}),a}var OP=[0,1],eF=function(){function n(e,t,i){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=i||[0,0]}return n.prototype.contain=function(e){var t=this._extent,i=Math.min(t[0],t[1]),o=Math.max(t[0],t[1]);return e>=i&&e<=o},n.prototype.containData=function(e){return this.scale.contain(e)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return Qu(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var i=this._extent;i[0]=e,i[1]=t},n.prototype.dataToCoord=function(e,t){var i=this._extent,o=this.scale;return e=o.normalize(e),this.onBand&&"ordinal"===o.type&&VP(i=i.slice(),o.count()),Ie(e,OP,i,t)},n.prototype.coordToData=function(e,t){var i=this._extent,o=this.scale;this.onBand&&"ordinal"===o.type&&VP(i=i.slice(),o.count());var a=Ie(e,i,OP,t);return this.scale.scale(a)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){var t=(e=e||{}).tickModel||this.getTickModel(),a=gt(function(n,e){return"category"===n.type?function(n,e){var a,l,t=PP(n,"ticks"),i=bD(e),o=RP(t,i);if(o)return o;if((!e.get("show")||n.scale.isBlank())&&(a=[]),Mt(i))a=zP(n,i,!0);else if("auto"===i){var u=LP(n,n.getLabelModel());l=u.labelCategoryInterval,a=gt(u.labels,function(d){return d.tickValue})}else a=BP(n,l=i,!0);return NP(t,i,{ticks:a,tickCategoryInterval:l})}(n,e):{ticks:gt(n.scale.getTicks(),function(t){return t.value})}}(this,t).ticks,function(u){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(u):u),tickValue:u}},this);return function(n,e,t,i){var o=e.length;if(n.onBand&&!t&&o){var l,a=n.getExtent();if(1===o)e[0].coord=a[0],l=e[1]={coord:a[0]};else{var p=(e[o-1].coord-e[0].coord)/(e[o-1].tickValue-e[0].tickValue);V(e,function(w){w.coord-=p/2});var g=n.scale.getExtent();e.push(l={coord:e[o-1].coord+p*(1+g[1]-e[o-1].tickValue)})}var m=a[0]>a[1];b(e[0].coord,a[0])&&(i?e[0].coord=a[0]:e.shift()),i&&b(a[0],e[0].coord)&&e.unshift({coord:a[0]}),b(a[1],l.coord)&&(i?l.coord=a[1]:e.pop()),i&&b(l.coord,a[1])&&e.push({coord:a[1]})}function b(w,k){return w=on(w),k=on(k),m?w>k:w<k}}(this,a,t.get("alignWithLabel"),e.clamp),a},n.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),gt(this.scale.getMinorTicks(t),function(a){return gt(a,function(l){return{coord:this.dataToCoord(l),tickValue:l}},this)},this)},n.prototype.getViewLabels=function(){return function(n){return"category"===n.type?function(n){var e=n.getLabelModel(),t=LP(n,e);return!e.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}(n):function(n){var e=n.scale.getTicks(),t=lb(n);return{labels:gt(e,function(i,o){return{level:i.level,formattedLabel:t(i,o),rawLabel:n.scale.getLabel(i),tickValue:i.value}})}}(n)}(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),i=t[1]-t[0]+(this.onBand?1:0);0===i&&(i=1);var o=Math.abs(e[1]-e[0]);return Math.abs(o)/i},n.prototype.calculateCategoryInterval=function(){return function(n){var e=function(n){var e=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(n),t=lb(n),i=(e.axisRotate-e.labelRotate)/180*Math.PI,o=n.scale,a=o.getExtent(),l=o.count();if(a[1]-a[0]<1)return 0;var u=1;l>40&&(u=Math.max(1,Math.floor(l/40)));for(var d=a[0],p=n.dataToCoord(d+1)-n.dataToCoord(d),g=Math.abs(p*Math.cos(i)),m=Math.abs(p*Math.sin(i)),b=0,w=0;d<=a[1];d+=u){var C,x=oc(t({value:d}),e.font,"center","top");C=1.3*x.height,b=Math.max(b,1.3*x.width,7),w=Math.max(w,C,7)}var T=b/g,M=w/m;isNaN(T)&&(T=1/0),isNaN(M)&&(M=1/0);var I=Math.max(0,Math.floor(Math.min(T,M))),L=cb(n.model),N=n.getExtent(),R=L.lastAutoInterval,B=L.lastTickCount;return null!=R&&null!=B&&Math.abs(R-I)<=1&&Math.abs(B-l)<=1&&R>I&&L.axisExtent0===N[0]&&L.axisExtent1===N[1]?I=R:(L.lastTickCount=l,L.lastAutoInterval=I,L.axisExtent0=N[0],L.axisExtent1=N[1]),I}(this)},n}();function VP(n,e){var o=(n[1]-n[0])/e/2;n[0]+=o,n[1]-=o}const _a=eF;var rF=function(n){function e(t,i,o,a,l){var u=n.call(this,t,i,o)||this;return u.index=0,u.type=a||"value",u.position=l||"bottom",u}return tt(e,n),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),t&&i[0]>i[1]&&i.reverse(),i},e.prototype.pointToData=function(t,i){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),i)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(_a);const iF=rF;function _D(n,e,t){t=t||{};var i=n.coordinateSystem,o=e.axis,a={},l=o.getAxesOnZeroOf()[0],u=o.position,d=l?"onZero":u,p=o.dim,g=i.getRect(),m=[g.x,g.x+g.width,g.y,g.y+g.height],b={left:0,right:1,top:0,bottom:1,onZero:2},w=e.get("offset")||0,k="x"===p?[m[2]-w,m[3]+w]:[m[0]-w,m[1]+w];if(l){var C=l.toGlobalCoord(l.dataToCoord(0));k[b.onZero]=Math.max(Math.min(C,k[1]),k[0])}a.position=["y"===p?k[b[d]]:m[0],"x"===p?k[b[d]]:m[3]],a.rotation=Math.PI/2*("x"===p?0:1),a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[u],a.labelOffset=l?k[b[u]]-k[b.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),pn(t.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var T=e.get(["axisLabel","rotate"]);return a.labelRotate="top"===d?-T:T,a.z2=1,a}function FP(n){return"cartesian2d"===n.get("coordinateSystem")}function HP(n){var e={xAxisModel:null,yAxisModel:null};return V(e,function(t,i){var o=i.replace(/Model$/,""),a=n.getReferringComponents(o,Sn).models[0];e[i]=a}),e}var kD=Math.log;function jP(n,e,t){var i=hu.prototype,o=i.getTicks.call(t),a=i.getTicks.call(t,!0),l=o.length-1,u=i.getInterval.call(t),d=MP(n,e),p=d.extent,g=d.fixMin,m=d.fixMax;if("log"===n.type){var b=kD(n.base);p=[kD(p[0])/b,kD(p[1])/b]}n.setExtent(p[0],p[1]),n.calcNiceExtent({splitNumber:l,fixMin:g,fixMax:m});var w=i.getExtent.call(n);g&&(p[0]=w[0]),m&&(p[1]=w[1]);var k=i.getInterval.call(n),C=p[0],x=p[1];if(g&&m)k=(x-C)/l;else if(g)for(x=p[0]+k*l;x<p[1]&&isFinite(x)&&isFinite(p[1]);)k=gD(k),x=p[0]+k*l;else if(m)for(C=p[1]-k*l;C>p[0]&&isFinite(C)&&isFinite(p[0]);)k=gD(k),C=p[1]-k*l;else{n.getTicks().length-1>l&&(k=gD(k));var M=k*l;(C=on((x=Math.ceil(p[1]/k)*k)-M))<0&&p[0]>=0?(C=0,x=on(M)):x>0&&p[1]<=0&&(x=0,C=-on(M))}var I=(o[0].value-a[0].value)/u,L=(o[l].value-a[l].value)/u;i.setExtent.call(n,C+k*I,x+k*L),i.setInterval.call(n,k),(I||L)&&i.setNiceExtent.call(n,C+k,x-k)}var oF=function(){function n(e,t,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=wD,this._initCartesian(e,t,i),this.model=e}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(e,t){var i=this._axesMap;function o(l){var u,d=le(l),p=d.length;if(p){for(var g=[],m=p-1;m>=0;m--){var w=l[+d[m]],k=w.model,C=w.scale;pD(C)&&k.get("alignTicks")&&null==k.get("interval")?g.push(w):(Rg(C,k),pD(C)&&(u=w))}g.length&&(u||Rg((u=g.pop()).scale,u.model),V(g,function(x){jP(x.scale,x.model,u.scale)}))}}this._updateScale(e,this.model),o(i.x),o(i.y);var a={};V(i.x,function(l){GP(i,"y",l,a)}),V(i.y,function(l){GP(i,"x",l,a)}),this.resize(this.model,t)},n.prototype.resize=function(e,t,i){var o=e.getBoxLayoutParams(),a=!i&&e.get("containLabel"),l=Bn(o,{width:t.getWidth(),height:t.getHeight()});this._rect=l;var u=this._axesList;function d(){V(u,function(p){var g=p.isHorizontal(),m=g?[0,l.width]:[0,l.height],b=p.inverse?1:0;p.setExtent(m[b],m[1-b]),function(n,e){var t=n.getExtent(),i=t[0]+t[1];n.toGlobalCoord="x"===n.dim?function(o){return o+e}:function(o){return i-o+e},n.toLocalCoord="x"===n.dim?function(o){return o-e}:function(o){return i-o+e}}(p,g?l.x:l.y)})}d(),a&&(V(u,function(p){if(!p.model.get(["axisLabel","inside"])){var g=function(n){var t=n.scale;if(n.model.get(["axisLabel","show"])&&!t.isBlank()){var i,o,a=t.getExtent();o=t instanceof vD?t.count():(i=t.getTicks()).length;var d,l=n.getLabelModel(),u=lb(n),p=1;o>40&&(p=Math.ceil(o/40));for(var g=0;g<o;g+=p){var b=u(i?i[g]:{value:a[0]+g},g),k=HV(l.getTextRect(b),l.get("rotate")||0);d?d.union(k):d=k}return d}}(p);if(g){var m=p.isHorizontal()?"height":"width",b=p.model.get(["axisLabel","margin"]);l[m]-=g[m]+b,"top"===p.position?l.y+=g.height+b:"left"===p.position&&(l.x+=g.width+b)}}}),d()),V(this._coordsList,function(p){p.calcAffineTransform()})},n.prototype.getAxis=function(e,t){var i=this._axesMap[e];if(null!=i)return i[t||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(e,t){if(null!=e&&null!=t)return this._coordsMap["x"+e+"y"+t];Rt(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var o=0,a=this._coordsList;o<a.length;o++)if(a[o].getAxis("x").index===e||a[o].getAxis("y").index===t)return a[o]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(e,t,i){var o=this._findConvertTarget(t);return o.cartesian?o.cartesian.dataToPoint(i):o.axis?o.axis.toGlobalCoord(o.axis.dataToCoord(i)):null},n.prototype.convertFromPixel=function(e,t,i){var o=this._findConvertTarget(t);return o.cartesian?o.cartesian.pointToData(i):o.axis?o.axis.coordToData(o.axis.toLocalCoord(i)):null},n.prototype._findConvertTarget=function(e){var u,d,t=e.seriesModel,i=e.xAxisModel||t&&t.getReferringComponents("xAxis",Sn).models[0],o=e.yAxisModel||t&&t.getReferringComponents("yAxis",Sn).models[0],a=e.gridModel;return t?qt(this._coordsList,u=t.coordinateSystem)<0&&(u=null):i&&o?u=this.getCartesian(i.componentIndex,o.componentIndex):i?d=this.getAxis("x",i.componentIndex):o?d=this.getAxis("y",o.componentIndex):a&&a.coordinateSystem===this&&(u=this._coordsList[0]),{cartesian:u,axis:d}},n.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},n.prototype._initCartesian=function(e,t,i){var o=this,a=this,l={left:!1,right:!1,top:!1,bottom:!1},u={x:{},y:{}},d={x:0,y:0};if(t.eachComponent("xAxis",p("x"),this),t.eachComponent("yAxis",p("y"),this),!d.x||!d.y)return this._axesMap={},void(this._axesList=[]);function p(g){return function(m,b){if(AD(m,e)){var w=m.get("position");"x"===g?"top"!==w&&"bottom"!==w&&(w=l.bottom?"top":"bottom"):"left"!==w&&"right"!==w&&(w=l.left?"right":"left"),l[w]=!0;var k=new iF(g,HA(m),[0,0],m.get("type"),w);k.onBand="category"===k.type&&m.get("boundaryGap"),k.inverse=m.get("inverse"),m.axis=k,k.model=m,k.grid=a,k.index=b,a._axesList.push(k),u[g][b]=k,d[g]++}}}this._axesMap=u,V(u.x,function(g,m){V(u.y,function(b,w){var k="x"+m+"y"+w,C=new YV(k);C.master=o,C.model=e,o._coordsMap[k]=C,o._coordsList.push(C),C.addAxis(g),C.addAxis(b)})})},n.prototype._updateScale=function(e,t){function i(o,a){V(jA(o,a.dim),function(l){a.scale.unionExtentFromData(o,l)})}V(this._axesList,function(o){if(o.scale.setExtent(1/0,-1/0),"category"===o.type){var a=o.model.get("categorySortInfo");o.scale.setSortInfo(a)}}),e.eachSeries(function(o){if(FP(o)){var a=HP(o),l=a.xAxisModel,u=a.yAxisModel;if(!AD(l,t)||!AD(u,t))return;var d=this.getCartesian(l.componentIndex,u.componentIndex),p=o.getData(),g=d.getAxis("x"),m=d.getAxis("y");i(p,g),i(p,m)}},this)},n.prototype.getTooltipAxes=function(e){var t=[],i=[];return V(this.getCartesians(),function(o){var a=null!=e&&"auto"!==e?o.getAxis(e):o.getBaseAxis(),l=o.getOtherAxis(a);qt(t,a)<0&&t.push(a),qt(i,l)<0&&i.push(l)}),{baseAxes:t,otherAxes:i}},n.create=function(e,t){var i=[];return e.eachComponent("grid",function(o,a){var l=new n(o,e,t);l.name="grid_"+a,l.resize(o,t,!0),o.coordinateSystem=l,i.push(l)}),e.eachSeries(function(o){if(FP(o)){var a=HP(o),l=a.xAxisModel,u=a.yAxisModel,d=l.getCoordSysModel();o.coordinateSystem=d.coordinateSystem.getCartesian(l.componentIndex,u.componentIndex)}}),i},n.dimensions=wD,n}();function AD(n,e){return n.getCoordSysModel()===e}function GP(n,e,t,i){t.getAxesOnZeroOf=function(){return a?[a]:[]};var a,o=n[e],l=t.model,u=l.get(["axisLine","onZero"]),d=l.get(["axisLine","onZeroAxisIndex"]);if(u){if(null!=d)UP(o[d])&&(a=o[d]);else for(var p in o)if(o.hasOwnProperty(p)&&UP(o[p])&&!i[g(o[p])]){a=o[p];break}a&&(i[g(a)]=!0)}function g(m){return m.dim+"_"+m.index}}function UP(n){return n&&"category"!==n.type&&"time"!==n.type&&function(n){var e=n.scale.getExtent(),t=e[0],i=e[1];return!(t>0&&i>0||t<0&&i<0)}(n)}const sF=oF;var fu=Math.PI,sh=function(){function n(e,t){this.group=new Vt,this.opt=t,this.axisModel=e,Et(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new Vt({x:t.position[0],y:t.position[1],rotation:t.rotation});i.updateTransform(),this._transformGroup=i}return n.prototype.hasBuilder=function(e){return!!WP[e]},n.prototype.add=function(e){WP[e](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(e,t,i){var a,l,o=rm(t-e);return _f(o)?(l=i>0?"top":"bottom",a="center"):_f(o-fu)?(l=i>0?"bottom":"top",a="center"):(l="middle",a=o>0&&o<fu?i>0?"right":"left":i>0?"left":"right"),{rotation:o,textAlign:a,textVerticalAlign:l}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n}(),WP={axisLine:function(n,e,t,i){var o=e.get(["axisLine","show"]);if("auto"===o&&n.handleAutoShown&&(o=n.handleAutoShown("axisLine")),o){var a=e.axis.getExtent(),l=i.transform,u=[a[0],0],d=[a[1],0],p=u[0]>d[0];l&&(Yn(u,u,l),Yn(d,d,l));var g=st({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),m=new zn({shape:{x1:u[0],y1:u[1],x2:d[0],y2:d[1]},style:g,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});yl(m.shape,m.style.lineWidth),m.anid="line",t.add(m);var b=e.get(["axisLine","symbol"]);if(null!=b){var w=e.get(["axisLine","symbolSize"]);At(b)&&(b=[b,b]),(At(w)||_e(w))&&(w=[w,w]);var k=Qc(e.get(["axisLine","symbolOffset"])||0,w),C=w[0],x=w[1];V([{rotate:n.rotation+Math.PI/2,offset:k[0],r:0},{rotate:n.rotation-Math.PI/2,offset:k[1],r:Math.sqrt((u[0]-d[0])*(u[0]-d[0])+(u[1]-d[1])*(u[1]-d[1]))}],function(T,M){if("none"!==b[M]&&null!=b[M]){var I=wn(b[M],-C/2,-x/2,C,x,g.stroke,!0),L=T.r+T.offset,N=p?d:u;I.attr({rotation:T.rotate,x:N[0]+L*Math.cos(n.rotation),y:N[1]-L*Math.sin(n.rotation),silent:!0,z2:11}),t.add(I)}})}}},axisTickLabel:function(n,e,t,i){var o=function(n,e,t,i){var o=t.axis,a=t.getModel("axisTick"),l=a.get("show");if("auto"===l&&i.handleAutoShown&&(l=i.handleAutoShown("axisTick")),l&&!o.scale.isBlank()){for(var u=a.getModel("lineStyle"),d=i.tickDirection*a.get("length"),g=ZP(o.getTicksCoords(),e.transform,d,Et(u.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),m=0;m<g.length;m++)n.add(g[m]);return g}}(t,i,e,n),a=function(n,e,t,i){var o=t.axis;if(pn(i.axisLabelShow,t.get(["axisLabel","show"]))&&!o.scale.isBlank()){var l=t.getModel("axisLabel"),u=l.get("margin"),d=o.getViewLabels(),p=(pn(i.labelRotate,l.get("rotate"))||0)*fu/180,g=sh.innerTextLayout(i.rotation,p,i.labelDirection),m=t.getCategories&&t.getCategories(!0),b=[],w=sh.isLabelSilent(t),k=t.get("triggerEvent");return V(d,function(C,x){var T="ordinal"===o.scale.type?o.scale.getRawOrdinalNumber(C.tickValue):C.tickValue,M=C.formattedLabel,I=C.rawLabel,L=l;if(m&&m[T]){var N=m[T];Rt(N)&&N.textStyle&&(L=new Ye(N.textStyle,l,t.ecModel))}var R=L.getTextColor()||t.get(["axisLine","lineStyle","color"]),B=o.dataToCoord(T),O=new ge({x:B,y:i.labelOffset+i.labelDirection*u,rotation:g.rotation,silent:w,z2:10+(C.level||0),style:We(L,{text:M,align:L.getShallow("align",!0)||g.textAlign,verticalAlign:L.getShallow("verticalAlign",!0)||L.getShallow("baseline",!0)||g.textVerticalAlign,fill:Mt(R)?R("category"===o.type?I:"value"===o.type?T+"":T,x):R})});if(O.anid="label_"+T,k){var F=sh.makeAxisEventDataBase(t);F.targetType="axisLabel",F.value=I,F.tickIndex=x,"category"===o.type&&(F.dataIndex=T),jt(O).eventData=F}e.add(O),O.updateTransform(),b.push(O),n.add(O),O.decomposeTransform()}),b}}(t,i,e,n);(function(n,e,t){if(!IP(n.axis)){var i=n.get(["axisLabel","showMinLabel"]),o=n.get(["axisLabel","showMaxLabel"]),a=(e=e||[])[0],l=e[1],u=e[e.length-1],d=e[e.length-2],p=(t=t||[])[0],g=t[1],m=t[t.length-1],b=t[t.length-2];!1===i?(Bo(a),Bo(p)):YP(a,l)&&(i?(Bo(l),Bo(g)):(Bo(a),Bo(p))),!1===o?(Bo(u),Bo(m)):YP(d,u)&&(o?(Bo(d),Bo(b)):(Bo(u),Bo(m)))}})(e,a,o),function(n,e,t,i){var o=t.axis,a=t.getModel("minorTick");if(a.get("show")&&!o.scale.isBlank()){var l=o.getMinorTicksCoords();if(l.length)for(var u=a.getModel("lineStyle"),d=i*a.get("length"),p=Et(u.getLineStyle(),Et(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),g=0;g<l.length;g++)for(var m=ZP(l[g],e.transform,d,p,"minorticks_"+g),b=0;b<m.length;b++)n.add(m[b])}}(t,i,e,n.tickDirection),e.get(["axisLabel","hideOverlap"])&&S(v(gt(a,function(u){return{label:u,priority:u.z2,defaultAttr:{ignore:u.ignore}}})))},axisName:function(n,e,t,i){var o=pn(n.axisName,e.get("name"));if(o){var b,k,a=e.get("nameLocation"),l=n.nameDirection,u=e.getModel("nameTextStyle"),d=e.get("nameGap")||0,p=e.axis.getExtent(),g=p[0]>p[1]?-1:1,m=["start"===a?p[0]-g*d:"end"===a?p[1]+g*d:(p[0]+p[1])/2,qP(a)?n.labelOffset+l*d:0],w=e.get("nameRotate");null!=w&&(w=w*fu/180),qP(a)?b=sh.innerTextLayout(n.rotation,w??n.rotation,l):(b=function(n,e,t,i){var a,l,o=rm(t-n),u=i[0]>i[1],d="start"===e&&!u||"start"!==e&&u;return _f(o-fu/2)?(l=d?"bottom":"top",a="center"):_f(o-1.5*fu)?(l=d?"top":"bottom",a="center"):(l="middle",a=o<1.5*fu&&o>fu/2?d?"left":"right":d?"right":"left"),{rotation:o,textAlign:a,textVerticalAlign:l}}(n.rotation,a,w||0,p),null!=(k=n.axisNameAvailableWidth)&&(k=Math.abs(k/Math.sin(b.rotation)),!isFinite(k)&&(k=null)));var C=u.getFont(),x=e.get("nameTruncate",!0)||{},T=x.ellipsis,M=pn(n.nameTruncateMaxWidth,x.maxWidth,k),I=new ge({x:m[0],y:m[1],rotation:b.rotation,silent:sh.isLabelSilent(e),style:We(u,{text:o,font:C,overflow:"truncate",width:M,ellipsis:T,fill:u.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:u.get("align")||b.textAlign,verticalAlign:u.get("verticalAlign")||b.textVerticalAlign}),z2:1});if(qc({el:I,componentModel:e,itemName:o}),I.__fullText=o,I.anid="name",e.get("triggerEvent")){var L=sh.makeAxisEventDataBase(e);L.targetType="axisName",L.name=o,jt(I).eventData=L}i.add(I),I.updateTransform(),t.add(I),I.decomposeTransform()}}};function Bo(n){n&&(n.ignore=!0)}function YP(n,e){var t=n&&n.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(t&&i){var o=Lu([]);return fr(o,o,-n.rotation),t.applyTransform(Te([],o,n.getLocalTransform())),i.applyTransform(Te([],o,e.getLocalTransform())),t.intersect(i)}}function qP(n){return"middle"===n||"center"===n}function ZP(n,e,t,i,o){for(var a=[],l=[],u=[],d=0;d<n.length;d++){var p=n[d].coord;l[0]=p,l[1]=0,u[0]=p,u[1]=t,e&&(Yn(l,l,e),Yn(u,u,e));var g=new zn({shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:i,z2:2,autoBatch:!0,silent:!0});yl(g.shape,g.style.lineWidth),g.anid=o+"_"+n[d].tickValue,a.push(g)}return a}const Il=sh;function CD(n,e){return"all"===n||pt(n)&&qt(n,e)>=0||n===e}function yF(n){var e=xD(n);if(e){var t=e.axisPointerModel,i=e.axis.scale,o=t.option,a=t.get("status"),l=t.get("value");null!=l&&(l=i.parse(l));var u=SD(t);null==a&&(o.status=u?"show":"hide");var d=i.getExtent().slice();d[0]>d[1]&&d.reverse(),(null==l||l>d[1])&&(l=d[1]),l<d[0]&&(l=d[0]),o.value=l,u&&(o.status=e.axis.scale.isBlank()?"hide":"show")}}function xD(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[ub(n)]}function SD(n){return!!n.get(["handle","show"])}function ub(n){return n.type+"||"+n.id}var $P={},wF=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.render=function(t,i,o,a){this.axisPointerClass&&yF(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,o,!0)},e.prototype.updateAxisPointer=function(t,i,o,a){this._doUpdateAxisPointerClass(t,o,!1)},e.prototype.remove=function(t,i){var o=this._axisPointer;o&&o.remove(i)},e.prototype.dispose=function(t,i){this._disposeAxisPointer(i),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,i,o){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var l=function(n){var e=xD(n);return e&&e.axisPointerModel}(t);l?(this._axisPointer||(this._axisPointer=new a)).render(t,l,i,o):this._disposeAxisPointer(i)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,i){$P[t]=i},e.getAxisPointerClass=function(t){return t&&$P[t]},e.type="axis",e}(nn);const lh=wF;var TD=ye();function KP(n,e,t,i){var o=t.axis;if(!o.scale.isBlank()){var a=t.getModel("splitArea"),l=a.getModel("areaStyle"),u=l.get("color"),d=i.coordinateSystem.getRect(),p=o.getTicksCoords({tickModel:a,clamp:!0});if(p.length){var g=u.length,m=TD(n).splitAreaColors,b=Tt(),w=0;if(m)for(var k=0;k<p.length;k++){var C=m.get(p[k].tickValue);if(null!=C){w=(C+(g-1)*k)%g;break}}var x=o.toGlobalCoord(p[0].coord),T=l.getAreaStyle();for(u=pt(u)?u:[u],k=1;k<p.length;k++){var M=o.toGlobalCoord(p[k].coord),I=void 0,L=void 0,N=void 0,R=void 0;o.isHorizontal()?(L=d.y,R=d.height,x=(I=x)+(N=M-I)):(I=d.x,N=d.width,x=(L=x)+(R=M-L));var B=p[k-1].tickValue;null!=B&&b.set(B,w),e.add(new Xt({anid:null!=B?"area_"+B:null,shape:{x:I,y:L,width:N,height:R},style:Et({fill:u[w]},T),autoBatch:!0,silent:!0})),w=(w+1)%g}TD(n).splitAreaColors=b}}}function XP(n){TD(n).splitAreaColors=null}var _F=["axisLine","axisTickLabel","axisName"],kF=["splitArea","splitLine","minorSplitLine"],QP=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return tt(e,n),e.prototype.render=function(t,i,o,a){this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new Vt,this.group.add(this._axisGroup),t.get("show")){var u=t.getCoordSysModel(),d=_D(u,t),p=new Il(t,st({handleAutoShown:function(m){for(var b=u.coordinateSystem.getCartesians(),w=0;w<b.length;w++)if(pD(b[w].getOtherAxis(t.axis).scale))return!0;return!1}},d));V(_F,p.add,p),this._axisGroup.add(p.getGroup()),V(kF,function(m){t.get([m,"show"])&&AF[m](this,this._axisGroup,t,u)},this),a&&"changeAxisOrder"===a.type&&a.isInitSort||Fd(l,this._axisGroup,t),n.prototype.render.call(this,t,i,o,a)}},e.prototype.remove=function(){XP(this)},e.type="cartesianAxis",e}(lh),AF={splitLine:function(n,e,t,i){var o=t.axis;if(!o.scale.isBlank()){var a=t.getModel("splitLine"),l=a.getModel("lineStyle"),u=l.get("color");u=pt(u)?u:[u];for(var d=i.coordinateSystem.getRect(),p=o.isHorizontal(),g=0,m=o.getTicksCoords({tickModel:a}),b=[],w=[],k=l.getLineStyle(),C=0;C<m.length;C++){var x=o.toGlobalCoord(m[C].coord);p?(b[0]=x,b[1]=d.y,w[0]=x,w[1]=d.y+d.height):(b[0]=d.x,b[1]=x,w[0]=d.x+d.width,w[1]=x);var T=g++%u.length,I=new zn({anid:null!=m[C].tickValue?"line_"+m[C].tickValue:null,autoBatch:!0,shape:{x1:b[0],y1:b[1],x2:w[0],y2:w[1]},style:Et({stroke:u[T]},k),silent:!0});yl(I.shape,k.lineWidth),e.add(I)}}},minorSplitLine:function(n,e,t,i){var o=t.axis,l=t.getModel("minorSplitLine").getModel("lineStyle"),u=i.coordinateSystem.getRect(),d=o.isHorizontal(),p=o.getMinorTicksCoords();if(p.length)for(var g=[],m=[],b=l.getLineStyle(),w=0;w<p.length;w++)for(var k=0;k<p[w].length;k++){var C=o.toGlobalCoord(p[w][k].coord);d?(g[0]=C,g[1]=u.y,m[0]=C,m[1]=u.y+u.height):(g[0]=u.x,g[1]=C,m[0]=u.x+u.width,m[1]=C);var x=new zn({anid:"minor_line_"+p[w][k].tickValue,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:m[0],y2:m[1]},style:b,silent:!0});yl(x.shape,b.lineWidth),e.add(x)}},splitArea:function(n,e,t,i){KP(n,e,t,i)}},JP=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.type="xAxis",e}(QP),CF=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=JP.type,t}return tt(e,n),e.type="yAxis",e}(QP),xF=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="grid",t}return tt(e,n),e.prototype.render=function(t,i){this.group.removeAll(),t.get("show")&&this.group.add(new Xt({shape:t.coordinateSystem.getRect(),style:Et({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(nn),t5={offset:0};function e5(n){n.registerComponentView(xF),n.registerComponentModel(fV),n.registerCoordinateSystem("cartesian2d",sF),Pg(n,"x",dD,t5),Pg(n,"y",dD,t5),n.registerComponentView(JP),n.registerComponentView(CF),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function TF(n){n.eachSeriesByType("radar",function(e){var t=e.getData(),i=[],o=e.coordinateSystem;if(o){var a=o.getIndicatorAxes();V(a,function(l,u){t.each(t.mapDimension(a[u].dim),function(d,p){i[p]=i[p]||[];var g=o.dataToPoint(d,u);i[p][u]=n5(g)?g:r5(o)})}),t.each(function(l){var u=function(n,e,t){if(n&&e)for(var i=0,o=n.length;i<o;i++)if(e.call(undefined,n[i],i,n))return n[i]}(i[l],function(d){return n5(d)})||r5(o);i[l].push(u.slice()),t.setItemLayout(l,i[l])})}})}function n5(n){return!isNaN(n[0])&&!isNaN(n[1])}function r5(n){return[n.cx,n.cy]}function DF(n){var e=n.polar;if(e){pt(e)||(e=[e]);var t=[];V(e,function(i,o){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),n.radar=n.radar||[],pt(n.radar)||(n.radar=[n.radar]),n.radar.push(i)):t.push(i)}),n.polar=t}V(n.series,function(i){i&&"radar"===i.type&&i.polarIndex&&(i.radarIndex=i.polarIndex)})}var MF=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.render=function(t,i,o){var a=t.coordinateSystem,l=this.group,u=t.getData(),d=this._data;function p(b,w){var k=b.getItemVisual(w,"symbol")||"circle";if("none"!==k){var C=Xc(b.getItemVisual(w,"symbolSize")),x=wn(k,-1,-1,2,2),T=b.getItemVisual(w,"symbolRotate")||0;return x.attr({style:{strokeNoScale:!0},z2:100,scaleX:C[0]/2,scaleY:C[1]/2,rotation:T*Math.PI/180||0}),x}}function g(b,w,k,C,x,T){k.removeAll();for(var M=0;M<w.length-1;M++){var I=p(C,x);I&&(I.__dimIdx=M,b[M]?(I.setPosition(b[M]),Wn[T?"initProps":"updateProps"](I,{x:w[M][0],y:w[M][1]},t,x)):I.setPosition(w[M]),k.add(I))}}function m(b){return gt(b,function(w){return[a.cx,a.cy]})}u.diff(d).add(function(b){var w=u.getItemLayout(b);if(w){var k=new Qr,C=new Jr,x={shape:{points:w}};k.shape.points=m(w),C.shape.points=m(w),Je(k,x,t,b),Je(C,x,t,b);var T=new Vt,M=new Vt;T.add(C),T.add(k),T.add(M),g(C.shape.points,w,M,u,b,!0),u.setItemGraphicEl(b,T)}}).update(function(b,w){var k=d.getItemGraphicEl(w),C=k.childAt(0),x=k.childAt(1),T=k.childAt(2),M={shape:{points:u.getItemLayout(b)}};!M.shape.points||(g(C.shape.points,M.shape.points,T,u,b,!1),Yr(x),Yr(C),ke(C,M,t),ke(x,M,t),u.setItemGraphicEl(b,k))}).remove(function(b){l.remove(d.getItemGraphicEl(b))}).execute(),u.eachItemGraphicEl(function(b,w){var k=u.getItemModel(w),C=b.childAt(0),x=b.childAt(1),T=b.childAt(2),M=u.getItemVisual(w,"style"),I=M.fill;l.add(b),C.useStyle(Et(k.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:I})),ar(C,k,"lineStyle"),ar(x,k,"areaStyle");var L=k.getModel("areaStyle"),N=L.isEmpty()&&L.parentModel.isEmpty();x.ignore=N,V(["emphasis","select","blur"],function(O){var F=k.getModel([O,"areaStyle"]),H=F.isEmpty()&&F.parentModel.isEmpty();x.ensureState(O).ignore=H&&N}),x.useStyle(Et(L.getAreaStyle(),{fill:I,opacity:.7,decal:M.decal}));var R=k.getModel("emphasis"),B=R.getModel("itemStyle").getItemStyle();T.eachChild(function(O){if(O instanceof or){var F=O.style;O.useStyle(st({image:F.image,x:F.x,y:F.y,width:F.width,height:F.height},M))}else O.useStyle(M),O.setColor(I),O.style.strokeNoScale=!0;O.ensureState("emphasis").style=Lt(B);var j=u.getStore().get(u.getDimensionIndex(O.__dimIdx),w);(null==j||isNaN(j))&&(j=""),sr(O,Nn(k),{labelFetcher:u.hostModel,labelDataIndex:w,labelDimIndex:O.__dimIdx,defaultText:j,inheritColor:I,defaultOpacity:M.opacity})}),cn(b,R.get("focus"),R.get("blurScope"),R.get("disabled"))}),this._data=u},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(Be);const IF=MF;var EF=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return tt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new ob(Ct(this.getData,this),Ct(this.getRawData,this))},e.prototype.getInitialData=function(t,i){return Lg(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,i,o){var a=this.getData(),u=this.coordinateSystem.getIndicatorAxes(),d=this.getData().getName(t),p=""===d?this.name:d,g=Zk(this,t);return Mn("section",{header:p,sortBlocks:!0,blocks:gt(u,function(m){var b=a.get(a.mapDimension(m.dim),t);return Mn("nameValue",{markerType:"subItem",markerColor:g,name:m.name,value:b,sortParam:b})})})},e.prototype.getTooltipPosition=function(t){if(null!=t)for(var i=this.getData(),o=this.coordinateSystem,a=i.getValues(gt(o.dimensions,function(p){return i.mapDimension(p)}),t),l=0,u=a.length;l<u;l++)if(!isNaN(a[l])){var d=o.getIndicatorAxes();return o.coordToPoint(d[l].dataToCoord(a[l]),l)}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(en);const LF=EF;var db=vP.value;function GA(n,e){return Et({show:e},n)}var PF=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),i=this.get("splitNumber"),o=this.get("scale"),a=this.get("axisLine"),l=this.get("axisTick"),u=this.get("axisLabel"),d=this.get("axisName"),p=this.get(["axisName","show"]),g=this.get(["axisName","formatter"]),m=this.get("axisNameGap"),b=this.get("triggerEvent"),w=gt(this.get("indicator")||[],function(k){null!=k.max&&k.max>0&&!k.min?k.min=0:null!=k.min&&k.min<0&&!k.max&&(k.max=0);var C=d;null!=k.color&&(C=Et({color:k.color},d));var x=Pt(Lt(k),{boundaryGap:t,splitNumber:i,scale:o,axisLine:a,axisTick:l,axisLabel:u,name:k.text,showName:p,nameLocation:"end",nameGap:m,nameTextStyle:C,triggerEvent:b},!1);At(g)?x.name=g.replace("{value}",x.name??""):Mt(g)&&(x.name=g(x.name,x));var M=new Ye(x,null,this.ecModel);return fn(M,ab.prototype),M.mainType="radar",M.componentIndex=this.componentIndex,M},this);this._indicatorModels=w},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Pt({lineStyle:{color:"#bbb"}},db.axisLine),axisLabel:GA(db.axisLabel,!1),axisTick:GA(db.axisTick,!1),splitLine:GA(db.splitLine,!0),splitArea:GA(db.splitArea,!0),indicator:[]},e}(be);const RF=PF;var NF=["axisLine","axisTickLabel","axisName"],BF=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.render=function(t,i,o){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var i=t.coordinateSystem;V(gt(i.getIndicatorAxes(),function(l){var u=l.model.get("showName")?l.name:"";return new Il(l.model,{axisName:u,position:[i.cx,i.cy],rotation:l.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(l){V(NF,l.add,l),this.group.add(l.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var i=t.coordinateSystem,o=i.getIndicatorAxes();if(o.length){var a=t.get("shape"),l=t.getModel("splitLine"),u=t.getModel("splitArea"),d=l.getModel("lineStyle"),p=u.getModel("areaStyle"),g=l.get("show"),m=u.get("show"),b=d.get("color"),w=p.get("color"),k=pt(b)?b:[b],C=pt(w)?w:[w],x=[],T=[];if("circle"===a)for(var I=o[0].getTicksCoords(),L=i.cx,N=i.cy,R=0;R<I.length;R++)g&&x[M(x,k,R)].push(new no({shape:{cx:L,cy:N,r:I[R].coord}})),m&&R<I.length-1&&T[M(T,C,R)].push(new zd({shape:{cx:L,cy:N,r0:I[R].coord,r:I[R+1].coord}}));else{var O,F=gt(o,function(Q,J){var rt=Q.getTicksCoords();return O=null==O?rt.length-1:Math.min(rt.length-1,O),gt(rt,function(nt){return i.coordToPoint(nt.coord,J)})}),H=[];for(R=0;R<=O;R++){for(var j=[],q=0;q<o.length;q++)j.push(F[q][R]);j[0]&&j.push(j[0].slice()),g&&x[M(x,k,R)].push(new Jr({shape:{points:j}})),m&&H&&T[M(T,C,R-1)].push(new Qr({shape:{points:j.concat(H)}})),H=j.slice().reverse()}}var Z=d.getLineStyle(),K=p.getAreaStyle();V(T,function(Q,J){this.group.add(bi(Q,{style:Et({stroke:"none",fill:C[J%C.length]},K),silent:!0}))},this),V(x,function(Q,J){this.group.add(bi(Q,{style:Et({fill:"none",stroke:k[J%k.length]},Z),silent:!0}))},this)}function M(Q,J,rt){var nt=rt%J.length;return Q[nt]=Q[nt]||[],nt}},e.type="radar",e}(nn);const zF=BF;var OF=function(n){function e(t,i,o){var a=n.call(this,t,i,o)||this;return a.type="value",a.angle=0,a.name="",a}return tt(e,n),e}(_a);const VF=OF;var FF=function(){function n(e,t,i){this.dimensions=[],this._model=e,this._indicatorAxes=gt(e.getIndicatorModels(),function(o,a){var l="indicator_"+a,u=new VF(l,new hu);return u.name=o.get("name"),u.model=o,o.axis=u,this.dimensions.push(l),u},this),this.resize(e,i)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(e,t){return this.coordToPoint(this._indicatorAxes[t].dataToCoord(e),t)},n.prototype.coordToPoint=function(e,t){var o=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(o),this.cy-e*Math.sin(o)]},n.prototype.pointToData=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,o=Math.sqrt(t*t+i*i);t/=o,i/=o;for(var u,a=Math.atan2(-i,t),l=1/0,d=-1,p=0;p<this._indicatorAxes.length;p++){var g=this._indicatorAxes[p],m=Math.abs(a-g.angle);m<l&&(u=g,d=p,l=m)}return[d,+(u&&u.coordToData(o))]},n.prototype.resize=function(e,t){var i=e.get("center"),o=t.getWidth(),a=t.getHeight(),l=Math.min(o,a)/2;this.cx=_t(i[0],o),this.cy=_t(i[1],a),this.startAngle=e.get("startAngle")*Math.PI/180;var u=e.get("radius");(At(u)||_e(u))&&(u=[0,u]),this.r0=_t(u[0],l),this.r=_t(u[1],l),V(this._indicatorAxes,function(d,p){d.setExtent(this.r0,this.r);var g=this.startAngle+p*Math.PI*2/this._indicatorAxes.length;g=Math.atan2(Math.sin(g),Math.cos(g)),d.angle=g},this)},n.prototype.update=function(e,t){var i=this._indicatorAxes,o=this._model;V(i,function(u){u.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(u,d){if("radar"===u.get("coordinateSystem")&&e.getComponent("radar",u.get("radarIndex"))===o){var p=u.getData();V(i,function(g){g.scale.unionExtentFromData(p,p.mapDimension(g.dim))})}},this);var a=o.get("splitNumber"),l=new hu;l.setExtent(0,a),l.setInterval(1),V(i,function(u,d){jP(u.scale,u.model,l)})},n.prototype.convertToPixel=function(e,t,i){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(e,t,i){return console.warn("Not implemented."),null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.create=function(e,t){var i=[];return e.eachComponent("radar",function(o){var a=new n(o,e,t);i.push(a),o.coordinateSystem=a}),e.eachSeriesByType("radar",function(o){"radar"===o.get("coordinateSystem")&&(o.coordinateSystem=i[o.get("radarIndex")||0])}),i},n.dimensions=[],n}();const HF=FF;function jF(n){n.registerCoordinateSystem("radar",HF),n.registerComponentModel(RF),n.registerComponentView(zF),n.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(i){t.setItemVisual(i,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}var i5="\0_ec_interaction_mutex";function o5(n,e){return!!DD(n)[e]}function DD(n){return n[i5]||(n[i5]={})}ao({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},vn);var YF=function(n){function e(t){var i=n.call(this)||this;i._zr=t;var o=Ct(i._mousedownHandler,i),a=Ct(i._mousemoveHandler,i),l=Ct(i._mouseupHandler,i),u=Ct(i._mousewheelHandler,i),d=Ct(i._pinchHandler,i);return i.enable=function(p,g){this.disable(),this._opt=Et(Lt(g)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==p&&(p=!0),(!0===p||"move"===p||"pan"===p)&&(t.on("mousedown",o),t.on("mousemove",a),t.on("mouseup",l)),(!0===p||"scale"===p||"zoom"===p)&&(t.on("mousewheel",u),t.on("pinch",d))},i.disable=function(){t.off("mousedown",o),t.off("mousemove",a),t.off("mouseup",l),t.off("mousewheel",u),t.off("pinch",d)},i}return tt(e,n),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!pv(t)){for(var i=t.target;i;){if(i.draggable)return;i=i.__hostTarget||i.parent}var o=t.offsetX,a=t.offsetY;this.pointerChecker&&this.pointerChecker(t,o,a)&&(this._x=o,this._y=a,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&UA("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!o5(this._zr,"globalPan")){var i=t.offsetX,o=t.offsetY,a=this._x,l=this._y,u=i-a,d=o-l;this._x=i,this._y=o,this._opt.preventDefaultMouseMove&&Wo(t.event),a5(this,"pan","moveOnMouseMove",t,{dx:u,dy:d,oldX:a,oldY:l,newX:i,newY:o,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){pv(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var i=UA("zoomOnMouseWheel",t,this._opt),o=UA("moveOnMouseWheel",t,this._opt),a=t.wheelDelta,l=Math.abs(a),u=t.offsetX,d=t.offsetY;if(0!==a&&(i||o)){if(i){var p=l>3?1.4:l>1?1.2:1.1;MD(this,"zoom","zoomOnMouseWheel",t,{scale:a>0?p:1/p,originX:u,originY:d,isAvailableBehavior:null})}if(o){var m=Math.abs(a);MD(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(a>0?1:-1)*(m>3?.4:m>1?.15:.05),originX:u,originY:d,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){o5(this._zr,"globalPan")||MD(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(di);function MD(n,e,t,i,o){n.pointerChecker&&n.pointerChecker(i,o.originX,o.originY)&&(Wo(i.event),a5(n,e,t,i,o))}function a5(n,e,t,i,o){o.isAvailableBehavior=Ct(UA,null,t,i),n.trigger(e,o)}function UA(n,e,t){var i=t[n];return!n||i&&(!At(i)||e.event[i+"Key"])}const hb=YF;function ID(n,e,t){var i=n.target;i.x+=e,i.y+=t,i.dirty()}function ED(n,e,t,i){var o=n.target,a=n.zoomLimit,l=n.zoom=n.zoom||1;if(l*=e,a){var u=a.min||0;l=Math.max(Math.min(a.max||1/0,l),u)}var p=l/n.zoom;n.zoom=l,o.x-=(t-o.x)*(p-1),o.y-=(i-o.y)*(p-1),o.scaleX*=p,o.scaleY*=p,o.dirty()}var qF={axisPointer:1,tooltip:1,brush:1};function WA(n,e,t){var i=e.getComponentByElement(n.topTarget),o=i&&i.coordinateSystem;return i&&i!==t&&!qF.hasOwnProperty(i.mainType)&&o&&o.model!==t}function s5(n){At(n)&&(n=(new DOMParser).parseFromString(n,"text/xml"));var t=n;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var LD,YA={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},l5=le(YA),qA={"alignment-baseline":"textBaseline","stop-color":"stopColor"},c5=le(qA),ZF=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(e,t){t=t||{};var i=s5(e);this._defsUsePending=[];var o=new Vt;this._root=o;var g,m,a=[],l=i.getAttribute("viewBox")||"",u=parseFloat(i.getAttribute("width")||t.width),d=parseFloat(i.getAttribute("height")||t.height);isNaN(u)&&(u=null),isNaN(d)&&(d=null),co(i,o,null,!0,!1);for(var p=i.firstChild;p;)this._parseNode(p,o,a,null,!1,!1),p=p.nextSibling;if(function(n,e){for(var t=0;t<e.length;t++){var i=e[t];i[0].style[i[1]]=n[i[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],l){var b=ZA(l);b.length>=4&&(g={x:parseFloat(b[0]||0),y:parseFloat(b[1]||0),width:parseFloat(b[2]),height:parseFloat(b[3])})}if(g&&null!=u&&null!=d&&(m=m5(g,{x:0,y:0,width:u,height:d}),!t.ignoreViewBox)){var w=o;(o=new Vt).add(w),w.scaleX=w.scaleY=m.scale,w.x=m.x,w.y=m.y}return!t.ignoreRootClip&&null!=u&&null!=d&&o.setClipPath(new Xt({shape:{x:0,y:0,width:u,height:d}})),{root:o,width:u,height:d,viewBoxRect:g,viewBoxTransform:m,named:a}},n.prototype._parseNode=function(e,t,i,o,a,l){var d,u=e.nodeName.toLowerCase(),p=o;if("defs"===u&&(a=!0),"text"===u&&(l=!0),"defs"===u||"switch"===u)d=t;else{if(!a){var g=LD[u];if(g&&xt(LD,u)){d=g.call(this,e,t);var m=e.getAttribute("name");if(m){var b={name:m,namedFrom:null,svgNodeTagLower:u,el:d};i.push(b),"g"===u&&(p=b)}else o&&i.push({name:o.name,namedFrom:o,svgNodeTagLower:u,el:d});t.add(d)}}var w=u5[u];if(w&&xt(u5,u)){var k=w.call(this,e),C=e.getAttribute("id");C&&(this._defs[C]=k)}}if(d&&d.isGroup)for(var x=e.firstChild;x;)1===x.nodeType?this._parseNode(x,d,i,p,a,l):3===x.nodeType&&l&&this._parseText(x,d),x=x.nextSibling},n.prototype._parseText=function(e,t){var i=new cd({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});zo(t,i),co(e,i,this._defsUsePending,!1,!1),function(n,e){var t=e.__selfStyle;if(t){var i=t.textBaseline,o=i;i&&"auto"!==i&&"baseline"!==i?"before-edge"===i||"text-before-edge"===i?o="top":"after-edge"===i||"text-after-edge"===i?o="bottom":("central"===i||"mathematical"===i)&&(o="middle"):o="alphabetic",n.style.textBaseline=o}var a=e.__inheritedStyle;if(a){var l=a.textAlign,u=l;l&&("middle"===l&&(u="center"),n.style.textAlign=u)}}(i,t);var o=i.style,a=o.fontSize;a&&a<9&&(o.fontSize=9,i.scaleX*=a/9,i.scaleY*=a/9);var l=(o.fontSize||o.fontFamily)&&[o.fontStyle,o.fontWeight,(o.fontSize||12)+"px",o.fontFamily||"sans-serif"].join(" ");o.font=l;var u=i.getBoundingRect();return this._textX+=u.width,t.add(i),i},n.internalField=void(LD={g:function(e,t){var i=new Vt;return zo(t,i),co(e,i,this._defsUsePending,!1,!1),i},rect:function(e,t){var i=new Xt;return zo(t,i),co(e,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(e,t){var i=new no;return zo(t,i),co(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),i.silent=!0,i},line:function(e,t){var i=new zn;return zo(t,i),co(e,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(e,t){var i=new jy;return zo(t,i),co(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(e,t){var o,i=e.getAttribute("points");i&&(o=f5(i));var a=new Qr({shape:{points:o||[]},silent:!0});return zo(t,a),co(e,a,this._defsUsePending,!1,!1),a},polyline:function(e,t){var o,i=e.getAttribute("points");i&&(o=f5(i));var a=new Jr({shape:{points:o||[]},silent:!0});return zo(t,a),co(e,a,this._defsUsePending,!1,!1),a},image:function(e,t){var i=new or;return zo(t,i),co(e,i,this._defsUsePending,!1,!1),i.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),i.silent=!0,i},text:function(e,t){var i=e.getAttribute("x")||"0",o=e.getAttribute("y")||"0",a=e.getAttribute("dx")||"0",l=e.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(a),this._textY=parseFloat(o)+parseFloat(l);var u=new Vt;return zo(t,u),co(e,u,this._defsUsePending,!1,!0),u},tspan:function(e,t){var i=e.getAttribute("x"),o=e.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=o&&(this._textY=parseFloat(o));var a=e.getAttribute("dx")||"0",l=e.getAttribute("dy")||"0",u=new Vt;return zo(t,u),co(e,u,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(l),u},path:function(e,t){var o=Fy(e.getAttribute("d")||"");return zo(t,o),co(e,o,this._defsUsePending,!1,!1),o.silent=!0,o}}),n}(),u5={lineargradient:function(n){var e=parseInt(n.getAttribute("x1")||"0",10),t=parseInt(n.getAttribute("y1")||"0",10),i=parseInt(n.getAttribute("x2")||"10",10),o=parseInt(n.getAttribute("y2")||"0",10),a=new Vd(e,t,i,o);return d5(n,a),h5(n,a),a},radialgradient:function(n){var e=parseInt(n.getAttribute("cx")||"0",10),t=parseInt(n.getAttribute("cy")||"0",10),i=parseInt(n.getAttribute("r")||"0",10),o=new Xy(e,t,i);return d5(n,o),h5(n,o),o}};function d5(n,e){"userSpaceOnUse"===n.getAttribute("gradientUnits")&&(e.global=!0)}function h5(n,e){for(var t=n.firstChild;t;){if(1===t.nodeType&&"stop"===t.nodeName.toLocaleLowerCase()){var o,i=t.getAttribute("offset");o=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var a={};v5(t,a,a);var l=a.stopColor||t.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:o,color:l})}t=t.nextSibling}}function zo(n,e){n&&n.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),Et(e.__inheritedStyle,n.__inheritedStyle))}function f5(n){for(var e=ZA(n),t=[],i=0;i<e.length;i+=2){var o=parseFloat(e[i]),a=parseFloat(e[i+1]);t.push([o,a])}return t}function co(n,e,t,i,o){var a=e,l=a.__inheritedStyle=a.__inheritedStyle||{},u={};1===n.nodeType&&(function(n,e){var t=n.getAttribute("transform");if(t){t=t.replace(/,/g," ");var i=[],o=null;t.replace(JF,function(m,b,w){return i.push(b,w),""});for(var a=i.length-1;a>0;a-=2){var u=i[a-1],d=ZA(i[a]);switch(o=o||[1,0,0,1,0,0],u){case"translate":jn(o,o,[parseFloat(d[0]),parseFloat(d[1]||"0")]);break;case"scale":Ti(o,o,[parseFloat(d[0]),parseFloat(d[1]||d[0])]);break;case"rotate":fr(o,o,-parseFloat(d[0])*PD);break;case"skewX":Te(o,[1,0,Math.tan(parseFloat(d[0])*PD),1,0,0],o);break;case"skewY":Te(o,[1,Math.tan(parseFloat(d[0])*PD),0,1,0,0],o);break;case"matrix":o[0]=parseFloat(d[0]),o[1]=parseFloat(d[1]),o[2]=parseFloat(d[2]),o[3]=parseFloat(d[3]),o[4]=parseFloat(d[4]),o[5]=parseFloat(d[5])}}e.setLocalTransform(o)}}(n,e),v5(n,l,u),i||function(n,e,t){for(var i=0;i<l5.length;i++)null!=(a=n.getAttribute(o=l5[i]))&&(e[YA[o]]=a);for(i=0;i<c5.length;i++){var o,a;null!=(a=n.getAttribute(o=c5[i]))&&(t[qA[o]]=a)}}(n,l,u)),a.style=a.style||{},null!=l.fill&&(a.style.fill=p5(a,"fill",l.fill,t)),null!=l.stroke&&(a.style.stroke=p5(a,"stroke",l.stroke,t)),V(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(d){null!=l[d]&&(a.style[d]=parseFloat(l[d]))}),V(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(d){null!=l[d]&&(a.style[d]=l[d])}),o&&(a.__selfStyle=u),l.lineDash&&(a.style.lineDash=gt(ZA(l.lineDash),function(d){return parseFloat(d)})),("hidden"===l.visibility||"collapse"===l.visibility)&&(a.invisible=!0),"none"===l.display&&(a.ignore=!0)}var KF=/^url\(\s*#(.*?)\)/;function p5(n,e,t,i){var o=t&&t.match(KF);if(!o)return"none"===t&&(t=null),t;var a=Si(o[1]);i.push([n,e,a])}var QF=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function ZA(n){return n.match(QF)||[]}var JF=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,PD=Math.PI/180,g5=/([^\s:;]+)\s*:\s*([^:;]+)/g;function v5(n,e,t){var i=n.getAttribute("style");if(i){g5.lastIndex=0;for(var o;null!=(o=g5.exec(i));){var a=o[1],l=xt(YA,a)?YA[a]:null;l&&(e[l]=o[2]);var u=xt(qA,a)?qA[a]:null;u&&(t[u]=o[2])}}}function m5(n,e){var o=Math.min(e.width/n.width,e.height/n.height);return{scale:o,x:-(n.x+n.width/2)*o+(e.x+e.width/2),y:-(n.y+n.height/2)*o+(e.y+e.height/2)}}function y5(n,e){return Math.abs(n-e)<1e-8}function ch(n,e,t){var i=0,o=n[0];if(!o)return!1;for(var a=1;a<n.length;a++){var l=n[a];i+=oa(o[0],o[1],l[0],l[1],e,t),o=l}var u=n[0];return(!y5(o[0],u[0])||!y5(o[1],u[1]))&&(i+=oa(o[0],o[1],u[0],u[1],e,t)),0!==i}var i6=[];function RD(n,e){for(var t=0;t<n.length;t++)Yn(n[t],n[t],e)}function b5(n,e,t,i){for(var o=0;o<n.length;o++){var a=n[o];i&&(a=i.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(Uo(e,e,a),Ma(t,t,a))}}var w5=function(){function n(e){this.name=e}return n.prototype.setCenter=function(e){this._center=e},n.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},n}(),_5=function(e,t){this.type="polygon",this.exterior=e,this.interiors=t},k5=function(e){this.type="linestring",this.points=e},A5=function(n){function e(t,i,o){var a=n.call(this,t)||this;return a.type="geoJSON",a.geometries=i,a._center=o&&[o[0],o[1]],a}return tt(e,n),e.prototype.calcCenter=function(){for(var i,t=this.geometries,o=0,a=0;a<t.length;a++){var l=t[a],u=l.exterior,d=u&&u.length;d>o&&(i=l,o=d)}if(i)return function(n){for(var e=0,t=0,i=0,o=n.length,a=n[o-1][0],l=n[o-1][1],u=0;u<o;u++){var d=n[u][0],p=n[u][1],g=a*p-d*l;e+=g,t+=(a+d)*g,i+=(l+p)*g,a=d,l=p}return e?[t/e/3,i/e/3,e]:[n[0][0]||0,n[0][1]||0]}(i.exterior);var p=this.getBoundingRect();return[p.x+p.width/2,p.y+p.height/2]},e.prototype.getBoundingRect=function(t){var i=this._rect;if(i&&!t)return i;var o=[1/0,1/0],a=[-1/0,-1/0];return V(this.geometries,function(u){"polygon"===u.type?b5(u.exterior,o,a,t):V(u.points,function(d){b5(d,o,a,t)})}),isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])||(o[0]=o[1]=a[0]=a[1]=0),i=new $t(o[0],o[1],a[0]-o[0],a[1]-o[1]),t||(this._rect=i),i},e.prototype.contain=function(t){var i=this.getBoundingRect(),o=this.geometries;if(!i.contain(t[0],t[1]))return!1;t:for(var a=0,l=o.length;a<l;a++){var u=o[a];if("polygon"===u.type){var p=u.interiors;if(ch(u.exterior,t[0],t[1])){for(var g=0;g<(p?p.length:0);g++)if(ch(p[g],t[0],t[1]))continue t;return!0}}}return!1},e.prototype.transformTo=function(t,i,o,a){var l=this.getBoundingRect(),u=l.width/l.height;o?a||(a=o/u):o=u*a;for(var d=new $t(t,i,o,a),p=l.calculateTransform(d),g=this.geometries,m=0;m<g.length;m++){var b=g[m];"polygon"===b.type?(RD(b.exterior,p),V(b.interiors,function(w){RD(w,p)})):V(b.points,function(w){RD(w,p)})}(l=this._rect).copy(d),this._center=[l.x+l.width/2,l.y+l.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var i=new e(t,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},e}(w5),a6=function(n){function e(t,i){var o=n.call(this,t)||this;return o.type="geoSVG",o._elOnlyForCalculate=i,o}return tt(e,n),e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,i=t.getBoundingRect(),o=[i.x+i.width/2,i.y+i.height/2],a=Lu(i6),l=t;l&&!l.isGeoSVGGraphicRoot;)Te(a,l.getLocalTransform(),a),l=l.parent;return Cs(a,a),Yn(o,o,a),o},e}(w5),s6=Tt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),l6=function(){function n(e,t){this.type="geoSVG",this._usedGraphicMap=Tt(),this._freedGraphics=[],this._mapName=e,this._parsedXML=s5(t)}return n.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=function(n){var e=[],t=Tt();return V(n,function(i){if(null==i.namedFrom){var o=new a6(i.name,i.el);e.push(o),t.set(i.name,o)}}),{regions:e,regionsMap:t}}(e.named),o=t.regionsMap;this._regions=t.regions,this._regionsMap=o}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(e){var t,i;try{t=e&&function(n,e){return(new ZF).parse(n,{ignoreViewBox:!0,ignoreRootClip:!0})}(e)||{},hr(null!=(i=t.root))}catch(x){throw new Error("Invalid svg format\n"+x.message)}var o=new Vt;o.add(i),o.isGeoSVGGraphicRoot=!0;var a=t.width,l=t.height,u=t.viewBoxRect,d=this._boundingRect;if(!d){var p=void 0,g=void 0,m=void 0,b=void 0;if(null!=a?(p=0,m=a):u&&(p=u.x,m=u.width),null!=l?(g=0,b=l):u&&(g=u.y,b=u.height),null==p||null==g){var w=i.getBoundingRect();null==p&&(p=w.x,m=w.width),null==g&&(g=w.y,b=w.height)}d=this._boundingRect=new $t(p,g,m,b)}if(u){var k=m5(u,d);i.scaleX=i.scaleY=k.scale,i.x=k.x,i.y=k.y}o.setClipPath(new Xt({shape:d.plain()}));var C=[];return V(t.named,function(x){null!=s6.get(x.svgNodeTagLower)&&(C.push(x),function(n){n.silent=!1,n.isGroup&&n.traverse(function(e){e.silent=!1})}(x.el))}),{root:o,boundingRect:d,named:C}},n.prototype.useGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,i),i)},n.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);i&&(t.removeKey(e),this._freedGraphics.push(i))},n}();function ND(n,e,t){for(var i=0;i<n.length;i++)n[i]=C5(n[i],e[i],t)}function C5(n,e,t){for(var i=[],o=e[0],a=e[1],l=0;l<n.length;l+=2){var u=n.charCodeAt(l)-64,d=n.charCodeAt(l+1)-64;u=u>>1^-(1&u),d=d>>1^-(1&d),o=u+=o,a=d+=a,i.push([u/t,d/t])}return i}for(var BD=[126,25],uh=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],dh=0;dh<uh.length;dh++)for(var Ng=0;Ng<uh[dh].length;Ng++)uh[dh][Ng][0]/=10.5,uh[dh][Ng][1]/=-14,uh[dh][Ng][0]+=BD[0],uh[dh][Ng][1]+=BD[1];var p6={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},v6=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],b6=function(){function n(e,t,i){this.type="geoJSON",this._parsedMap=Tt(),this._mapName=e,this._specialAreas=i,this._geoJSON=function(n){return At(n)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n}(t)}return n.prototype.load=function(e,t){var i=this._parsedMap.get(t=t||"name");if(!i){var o=this._parseToRegions(t);i=this._parsedMap.set(t,{regions:o,boundingRect:w6(o)})}var a=Tt(),l=[];return V(i.regions,function(u){var d=u.name;e&&xt(e,d)&&(u=u.cloneShallow(d=e[d])),l.push(u),a.set(d,u)}),{regions:l,boundingRect:i.boundingRect||new $t(0,0,0,0),regionsMap:a}},n.prototype._parseToRegions=function(e){var o,t=this._mapName,i=this._geoJSON;try{o=i?function(n,e){return n=function(n){if(!n.UTF8Encoding)return n;var e=n,t=e.UTF8Scale;return null==t&&(t=1024),V(e.features,function(o){var a=o.geometry,l=a.encodeOffsets,u=a.coordinates;if(l)switch(a.type){case"LineString":a.coordinates=C5(u,l,t);break;case"Polygon":case"MultiLineString":ND(u,l,t);break;case"MultiPolygon":V(u,function(d,p){return ND(d,l[p],t)})}}),e.UTF8Encoding=!1,e}(n),gt(Le(n.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var i=t.properties,o=t.geometry,a=[];switch(o.type){case"Polygon":var l=o.coordinates;a.push(new _5(l[0],l.slice(1)));break;case"MultiPolygon":V(o.coordinates,function(d){d[0]&&a.push(new _5(d[0],d.slice(1)))});break;case"LineString":a.push(new k5([o.coordinates]));break;case"MultiLineString":a.push(new k5(o.coordinates))}var u=new A5(i[e||"name"],a,i.cp);return u.properties=i,u})}(i,e):[]}catch(a){throw new Error("Invalid geoJson format\n"+a.message)}return function(n,e){if("china"===n){for(var t=0;t<e.length;t++)if("\u5357\u6d77\u8bf8\u5c9b"===e[t].name)return;e.push(new A5("\u5357\u6d77\u8bf8\u5c9b",gt(uh,function(i){return{type:"polygon",exterior:i}}),BD))}}(t,o),V(o,function(a){var l=a.name;(function(n,e){if("china"===n){var t=p6[e.name];if(t){var i=e.getCenter();i[0]+=t[0]/10.5,i[1]+=-t[1]/14,e.setCenter(i)}}})(t,a),function(n,e){"china"===n&&"\u53f0\u6e7e"===e.name&&e.geometries.push({type:"polygon",exterior:v6[0]})}(t,a);var u=this._specialAreas&&this._specialAreas[l];u&&a.transformTo(u.left,u.top,u.width,u.height)},this),o},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function w6(n){for(var e,t=0;t<n.length;t++){var i=n[t].getBoundingRect();(e=e||i.clone()).union(i)}return e}var fb=Tt();const El_getGeoResource=function(n){return fb.get(n)},El_load=function(n,e,t){var i=fb.get(n);if(i)return i.load(e,t)};var zD=["rect","circle","line","ellipse","polygon","polyline","path"],k6=Tt(zD),A6=Tt(zD.concat(["g"])),C6=Tt(zD.concat(["g"])),S5=ye();function $A(n){var e=n.getItemStyle(),t=n.get("areaColor");return null!=t&&(e.fill=t),e}function T5(n){var e=n.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var x6=function(){function n(e){var t=new Vt;this.uid=xc("ec_map_draw"),this._controller=new hb(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new Vt),t.add(this._svgGroup=new Vt)}return n.prototype.draw=function(e,t,i,o,a){var l="geo"===e.mainType,u=e.getData&&e.getData();l&&t.eachComponent({mainType:"series",subType:"map"},function(T){!u&&T.getHostGeoModel()===e&&(u=T.getData())});var d=e.coordinateSystem,p=this._regionsGroup,g=this.group,m=d.getTransformInfo(),b=m.raw,w=m.roam;!p.childAt(0)||a?(g.x=w.x,g.y=w.y,g.scaleX=w.scaleX,g.scaleY=w.scaleY,g.dirty()):ke(g,w,e);var C=u&&u.getVisual("visualMeta")&&u.getVisual("visualMeta").length>0,x={api:i,geo:d,mapOrGeoModel:e,data:u,isVisualEncodedByVisualMap:C,isGeo:l,transformInfoRaw:b};"geoJSON"===d.resourceType?this._buildGeoJSON(x):"geoSVG"===d.resourceType&&this._buildSVG(x),this._updateController(e,t,i),this._updateMapSelectHandler(e,p,i,o)},n.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=Tt(),i=Tt(),o=this._regionsGroup,a=e.transformInfoRaw,l=e.mapOrGeoModel,u=e.data,d=e.geo.projection,p=d&&d.stream;function g(w,k){return k&&(w=k(w)),w&&[w[0]*a.scaleX+a.x,w[1]*a.scaleY+a.y]}function m(w){for(var k=[],C=!p&&d&&d.project,x=0;x<w.length;++x){var T=g(w[x],C);T&&k.push(T)}return k}function b(w){return{shape:{points:m(w)}}}o.removeAll(),V(e.geo.regions,function(w){var k=w.name,C=t.get(k),x=i.get(k)||{},T=x.dataIdx,M=x.regionModel;C||(C=t.set(k,new Vt),o.add(C),T=u?u.indexOfName(k):null,M=e.isGeo?l.getRegionModel(k):u?u.getItemModel(T):null,i.set(k,{dataIdx:T,regionModel:M}));var I=[],L=[];V(w.geometries,function(B){if("polygon"===B.type){var O=[B.exterior].concat(B.interiors||[]);p&&(O=P5(O,p)),V(O,function(H){I.push(new Qr(b(H)))})}else{var F=B.points;p&&(F=P5(F,p,!0)),V(F,function(H){L.push(new Jr(b(H)))})}});var N=g(w.getCenter(),d&&d.project);function R(B,O){if(B.length){var F=new Gp({culling:!0,segmentIgnoreThreshold:1,shape:{paths:B}});C.add(F),D5(e,F,T,M),M5(e,F,k,M,l,T,N),O&&(T5(F),V(F.states,T5))}}R(I),R(L,!0)}),t.each(function(w,k){var C=i.get(k),T=C.regionModel;I5(e,w,k,T,l,C.dataIdx),E5(e,w,k,T,l),L5(e,w,k,T,l)},this)},n.prototype._buildSVG=function(e){var t=e.geo.map,i=e.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var o=this._svgDispatcherMap=Tt(),a=!1;V(this._svgGraphicRecord.named,function(l){var u=l.name,d=e.mapOrGeoModel,p=e.data,g=l.svgNodeTagLower,m=l.el,b=p?p.indexOfName(u):null,w=d.getRegionModel(u);null!=k6.get(g)&&m instanceof Rn&&D5(e,m,b,w),m instanceof Rn&&(m.culling=!0),m.z2EmphasisLift=0,l.namedFrom||(null!=C6.get(g)&&M5(e,m,u,w,d,b,null),I5(e,m,u,w,d,b),E5(e,m,u,w,d),null==A6.get(g))||("self"===L5(e,m,u,w,d)&&(a=!0),(o.get(u)||o.set(u,[])).push(m))},this),this._enableBlurEntireSVG(a,e)},n.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var o=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){Qs(a);var l=a.ensureState("blur").style||{};null==l.opacity&&null!=o&&(l.opacity=o),a.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var i=t.coordinateSystem;if("geoJSON"===i.resourceType){var o=this._regionsGroupByName;if(o){var a=o.get(e);return a?[a]:[]}}else if("geoSVG"===i.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},n.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},n.prototype._useSVG=function(e){var t=El_getGeoResource(e);if(t&&"geoSVG"===t.type){var i=t.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=e}},n.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=El_getGeoResource(e);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(e,t,i){var o=e.coordinateSystem,a=this._controller,l=this._controllerHost;l.zoomLimit=e.get("scaleLimit"),l.zoom=o.getZoom(),a.enable(e.get("roam")||!1);var u=e.mainType;function d(){var p={type:"geoRoam",componentType:u};return p[u+"Id"]=e.id,p}a.off("pan").on("pan",function(p){this._mouseDownFlag=!1,ID(l,p.dx,p.dy),i.dispatchAction(st(d(),{dx:p.dx,dy:p.dy,animation:{duration:0}}))},this),a.off("zoom").on("zoom",function(p){this._mouseDownFlag=!1,ED(l,p.scale,p.originX,p.originY),i.dispatchAction(st(d(),{zoom:p.scale,originX:p.originX,originY:p.originY,animation:{duration:0}}))},this),a.setPointerChecker(function(p,g,m){return o.containPoint([g,m])&&!WA(p,i,e)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=S5(t).ignore)})},n.prototype._updateMapSelectHandler=function(e,t,i,o){var a=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){a._mouseDownFlag=!0}),t.on("click",function(l){!a._mouseDownFlag||(a._mouseDownFlag=!1)}))},n}();function D5(n,e,t,i){var o=i.getModel("itemStyle"),a=i.getModel(["emphasis","itemStyle"]),l=i.getModel(["blur","itemStyle"]),u=i.getModel(["select","itemStyle"]),d=$A(o),p=$A(a),g=$A(u),m=$A(l),b=n.data;if(b){var w=b.getItemVisual(t,"style"),k=b.getItemVisual(t,"decal");n.isVisualEncodedByVisualMap&&w.fill&&(d.fill=w.fill),k&&(d.decal=nu(k,n.api))}e.setStyle(d),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=p,e.ensureState("select").style=g,e.ensureState("blur").style=m,Qs(e)}function M5(n,e,t,i,o,a,l){var u=n.data,d=n.isGeo,p=u&&isNaN(u.get(u.mapDimension("value"),a)),g=u&&u.getItemLayout(a);if(d||p||g&&g.showLabel){var m=d?t:a,b=void 0;(!u||a>=0)&&(b=o);var w=l?{normal:{align:"center",verticalAlign:"middle"}}:null;sr(e,Nn(i),{labelFetcher:b,labelDataIndex:m,defaultText:t},w);var k=e.getTextContent();if(k&&(S5(k).ignore=k.ignore,e.textConfig&&l)){var C=e.getBoundingRect().clone();e.textConfig.layoutRect=C,e.textConfig.position=[(l[0]-C.x)/C.width*100+"%",(l[1]-C.y)/C.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function I5(n,e,t,i,o,a){n.data?n.data.setItemGraphicEl(a,e):jt(e).eventData={componentType:"geo",componentIndex:o.componentIndex,geoIndex:o.componentIndex,name:t,region:i&&i.option||{}}}function E5(n,e,t,i,o){n.data||qc({el:e,componentModel:o,itemName:t,itemTooltipOption:i.get("tooltip")})}function L5(n,e,t,i,o){e.highDownSilentOnTouch=!!o.get("selectedMode");var a=i.getModel("emphasis"),l=a.get("focus");return cn(e,l,a.get("blurScope"),a.get("disabled")),n.isGeo&&function(n,e,t){var i=jt(n);i.componentMainType=e.mainType,i.componentIndex=e.componentIndex,i.componentHighDownName=t}(e,o,t),l}function P5(n,e,t){var o,i=[];function a(){o=[]}function l(){o.length&&(i.push(o),o=[])}var u=e({polygonStart:a,polygonEnd:l,lineStart:a,lineEnd:l,point:function(d,p){isFinite(d)&&isFinite(p)&&o.push([d,p])},sphere:function(){}});return!t&&u.polygonStart(),V(n,function(d){u.lineStart();for(var p=0;p<d.length;p++)u.point(d[p][0],d[p][1]);u.lineEnd()}),!t&&u.polygonEnd(),i}const R5=x6;var S6=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.render=function(t,i,o,a){if(!a||"mapToggleSelect"!==a.type||a.from!==this.uid){var l=this.group;if(l.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&a&&"geoRoam"===a.type&&this._mapDraw.resetForLabelLayout(),a&&"geoRoam"===a.type&&"series"===a.componentType&&a.seriesId===t.id)(u=this._mapDraw)&&l.add(u.group);else if(t.needsDrawMap){var u=this._mapDraw||new R5(o);l.add(u.group),u.draw(t,i,o,this,a),this._mapDraw=u}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&i.getComponent("legend")&&this._renderSymbols(t,i,o)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,i,o){var a=t.originalData,l=this.group;a.each(a.mapDimension("value"),function(u,d){if(!isNaN(u)){var p=a.getItemLayout(d);if(p&&p.point){var g=p.point,m=p.offset,b=new no({style:{fill:t.getData().getVisual("style").fill},shape:{cx:g[0]+9*m,cy:g[1],r:3},silent:!0,z2:8+(m?0:11)});if(!m){var w=t.mainSeries.getData(),k=a.getName(d),C=w.indexOfName(k),x=a.getItemModel(d),T=x.getModel("label"),M=w.getItemGraphicEl(C);sr(b,Nn(x),{labelFetcher:{getFormattedLabel:function(I,L){return t.getFormattedLabel(C,L)}},defaultText:k}),b.disableLabelAnimation=!0,T.get("position")||b.setTextConfig({position:"bottom"}),M.onHoverStateChange=function(I){bc(b,I)}}l.add(b)}}})},e.type="map",e}(Be);const T6=S6;var D6=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(i){if(null!=i){var o=this.getData().getName(i),a=this.coordinateSystem,l=a.getRegion(o);return l&&a.dataToPoint(l.getCenter())}},t}return tt(e,n),e.prototype.getInitialData=function(t){for(var i=Lg(this,{coordDimensions:["value"],encodeDefaulter:Gt(Jm,this)}),o=Tt(),a=[],l=0,u=i.count();l<u;l++){var d=i.getName(l);o.set(d,!0)}return V(El_load(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(g){var m=g.name;o.get(m)||a.push(m)}),i.appendValues([],a),i},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var i=this.getData();return i.get(i.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var i=this.getData();return i.getItemModel(i.indexOfName(t))},e.prototype.formatTooltip=function(t,i,o){for(var a=this.getData(),l=this.getRawValue(t),u=a.getName(t),d=this.seriesGroup,p=[],g=0;g<d.length;g++){var m=d[g].originalData.indexOfName(u),b=a.mapDimension("value");isNaN(d[g].originalData.get(b,m))||p.push(d[g].name)}return Mn("section",{header:p.join(", "),noHeader:!p.length,blocks:[Mn("nameValue",{name:u,value:l})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var i=t.icon||"roundRect",o=wn(i,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return o.setStyle(t.itemStyle),o.style.stroke="none",i.indexOf("empty")>-1&&(o.style.stroke=o.style.fill,o.style.fill="#fff",o.style.lineWidth=2),o},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(en);const M6=D6;function E6(n){var e={};n.eachSeriesByType("map",function(t){var i=t.getHostGeoModel(),o=i?"o"+i.id:"i"+t.getMapType();(e[o]=e[o]||[]).push(t)}),V(e,function(t,i){for(var o=function(n,e){var t={};return V(n,function(i){i.each(i.mapDimension("value"),function(o,a){var l="ec-"+i.getName(a);t[l]=t[l]||[],isNaN(o)||t[l].push(o)})}),n[0].map(n[0].mapDimension("value"),function(i,o){for(var a="ec-"+n[0].getName(o),l=0,u=1/0,d=-1/0,p=t[a].length,g=0;g<p;g++)u=Math.min(u,t[a][g]),d=Math.max(d,t[a][g]),l+=t[a][g];return 0===p?NaN:"min"===e?u:"max"===e?d:"average"===e?l/p:l})}(gt(t,function(l){return l.getData()}),t[0].get("mapValueCalculation")),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=0===a&&!t[a].getHostGeoModel(),t[a].setData(o.cloneShallow()),t[a].mainSeries=t[0]})}function L6(n){var e={};n.eachSeriesByType("map",function(t){var i=t.getMapType();if(!t.getHostGeoModel()&&!e[i]){var o={};V(t.seriesGroup,function(l){var u=l.coordinateSystem,d=l.originalData;l.get("showLegendSymbol")&&n.getComponent("legend")&&d.each(d.mapDimension("value"),function(p,g){var m=d.getName(g),b=u.getRegion(m);if(b&&!isNaN(p)){var w=o[m]||0,k=u.dataToPoint(b.getCenter());o[m]=w+1,d.setItemLayout(g,{point:k,offset:w})}})});var a=t.getData();a.each(function(l){var u=a.getName(l),d=a.getItemLayout(l)||{};d.showLabel=!o[u],a.setItemLayout(l,d)}),e[i]=!0}})}var N5=Yn,P6=function(n){function e(t){var i=n.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new bo,i._rawTransformable=new bo,i.name=t,i}return tt(e,n),e.prototype.setBoundingRect=function(t,i,o,a){return this._rect=new $t(t,i,o,a),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,i,o,a){this._transformTo(t,i,o,a),this._viewRect=new $t(t,i,o,a)},e.prototype._transformTo=function(t,i,o,a){var l=this.getBoundingRect(),u=this._rawTransformable;u.transform=l.calculateTransform(new $t(t,i,o,a));var d=u.parent;u.parent=null,u.decomposeTransform(),u.parent=d,this._updateTransform()},e.prototype.setCenter=function(t,i){!t||(this._center=[_t(t[0],i.getWidth()),_t(t[1],i.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var i=this.zoomLimit;i&&(null!=i.max&&(t=Math.min(i.max,t)),null!=i.min&&(t=Math.max(i.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,o=this.getDefaultCenter(),a=this.getCenter(),l=this.getZoom();a=Yn([],a,t),o=Yn([],o,t),i.originX=a[0],i.originY=a[1],i.x=o[0]-a[0],i.y=o[1]-a[1],i.scaleX=i.scaleY=l,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,i=this._rawTransformable;i.parent=t,t.updateTransform(),i.updateTransform(),qo(this.transform||(this.transform=[]),i.transform||[1,0,0,1,0,0]),this._rawTransform=i.getLocalTransform(),this.invTransform=this.invTransform||[],Cs(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,i=this._roamTransformable,o=new bo;return o.transform=i.transform,o.decomposeTransform(),{roam:{x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,i,o){var a=i?this._rawTransform:this.transform;return o=o||[],a?N5(o,t,a):er(o,t)},e.prototype.pointToData=function(t){var i=this.invTransform;return i?N5([],t,i):[t[0],t[1]]},e.prototype.convertToPixel=function(t,i,o){var a=B5(i);return a===this?a.dataToPoint(o):null},e.prototype.convertFromPixel=function(t,i,o){var a=B5(i);return a===this?a.pointToData(o):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(bo);function B5(n){var e=n.seriesModel;return e?e.coordinateSystem:null}const pb=P6;var R6={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},z5=["lng","lat"],O5=function(n){function e(t,i,o){var a=n.call(this,t)||this;a.dimensions=z5,a.type="geo",a._nameCoordMap=Tt(),a.map=i;var b,l=o.projection,u=El_load(i,o.nameMap,o.nameProperty),d=El_getGeoResource(i),g=(a.resourceType=d?d.type:null,a.regions=u.regions),m=R6[d.type];if(a._regionsMap=u.regionsMap,a.regions=u.regions,a.projection=l,l)for(var w=0;w<g.length;w++){var k=g[w].getBoundingRect(l);(b=b||k.clone()).union(k)}else b=u.boundingRect;return a.setBoundingRect(b.x,b.y,b.width,b.height),a.aspectScale=l?1:Kt(o.aspectScale,m.aspectScale),a._invertLongitute=!l&&m.invertLongitute,a}return tt(e,n),e.prototype._transformTo=function(t,i,o,a){var l=this.getBoundingRect(),u=this._invertLongitute;l=l.clone(),u&&(l.y=-l.y-l.height);var d=this._rawTransformable;d.transform=l.calculateTransform(new $t(t,i,o,a));var p=d.parent;d.parent=null,d.decomposeTransform(),d.parent=p,u&&(d.scaleY=-d.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var i=this.regions,o=0;o<i.length;o++){var a=i[o];if("geoJSON"===a.type&&a.contain(t))return i[o]}},e.prototype.addGeoCoord=function(t,i){this._nameCoordMap.set(t,i)},e.prototype.getGeoCoord=function(t){var i=this._regionsMap.get(t);return this._nameCoordMap.get(t)||i&&i.getCenter()},e.prototype.dataToPoint=function(t,i,o){if(At(t)&&(t=this.getGeoCoord(t)),t){var a=this.projection;return a&&(t=a.project(t)),t&&this.projectedToPoint(t,i,o)}},e.prototype.pointToData=function(t){var i=this.projection;return i&&(t=i.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(t){return n.prototype.pointToData.call(this,t)},e.prototype.projectedToPoint=function(t,i,o){return n.prototype.dataToPoint.call(this,t,i,o)},e.prototype.convertToPixel=function(t,i,o){var a=V5(i);return a===this?a.dataToPoint(o):null},e.prototype.convertFromPixel=function(t,i,o){var a=V5(i);return a===this?a.pointToData(o):null},e}(pb);function V5(n){var e=n.geoModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",Sn).models[0]||{}).coordinateSystem:null}fn(O5,pb);const F5=O5;function H5(n,e){var t=n.get("boundingCoords");if(null!=t){var i=t[0],o=t[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])){var a=this.projection;if(a){var l=i[0],u=i[1],d=o[0],p=o[1];i=[1/0,1/0],o=[-1/0,-1/0];var g=function(R,B,O,F){for(var H=O-R,j=F-B,q=0;q<=100;q++){var Z=q/100,K=a.project([R+H*Z,B+j*Z]);Uo(i,i,K),Ma(o,o,K)}};g(l,u,d,u),g(d,u,d,p),g(d,p,l,p),g(l,p,d,u)}this.setBoundingRect(i[0],i[1],o[0]-i[0],o[1]-i[1])}}var M,I,L,m=this.getBoundingRect(),b=n.get("layoutCenter"),w=n.get("layoutSize"),k=e.getWidth(),C=e.getHeight(),x=m.width/m.height*this.aspectScale,T=!1;if(b&&w&&(M=[_t(b[0],k),_t(b[1],C)],I=_t(w,Math.min(k,C)),!isNaN(M[0])&&!isNaN(M[1])&&!isNaN(I)&&(T=!0)),T)L={},x>1?(L.width=I,L.height=I/x):(L.height=I,L.width=I*x),L.y=M[1]-L.height/2,L.x=M[0]-L.width/2;else{var N=n.getBoxLayoutParams();N.aspect=x,L=Bn(N,{width:k,height:C})}this.setViewRect(L.x,L.y,L.width,L.height),this.setCenter(n.get("center"),e),this.setZoom(n.get("zoom"))}var B6=function(){function n(){this.dimensions=z5}return n.prototype.create=function(e,t){var i=[];function o(l){return{nameProperty:l.get("nameProperty"),aspectScale:l.get("aspectScale"),projection:l.get("projection")}}e.eachComponent("geo",function(l,u){var d=l.get("map"),p=new F5(d+u,d,st({nameMap:l.get("nameMap")},o(l)));p.zoomLimit=l.get("scaleLimit"),i.push(p),l.coordinateSystem=p,p.model=l,p.resize=H5,p.resize(l,t)}),e.eachSeries(function(l){if("geo"===l.get("coordinateSystem")){var d=l.get("geoIndex")||0;l.coordinateSystem=i[d]}});var a={};return e.eachSeriesByType("map",function(l){if(!l.getHostGeoModel()){var u=l.getMapType();a[u]=a[u]||[],a[u].push(l)}}),V(a,function(l,u){var d=gt(l,function(g){return g.get("nameMap")}),p=new F5(u,u,st({nameMap:iv(d)},o(l[0])));p.zoomLimit=pn.apply(null,gt(l,function(g){return g.get("scaleLimit")})),i.push(p),p.resize=H5,p.resize(l[0],t),V(l,function(g){g.coordinateSystem=p,function(n,e){V(e.get("geoCoord"),function(t,i){n.addGeoCoord(i,t)})}(p,g)})}),i},n.prototype.getFilledRegions=function(e,t,i,o){for(var a=(e||[]).slice(),l=Tt(),u=0;u<a.length;u++)l.set(a[u].name,a[u]);return V(El_load(t,i,o).regions,function(p){var g=p.name;!l.get(g)&&a.push({name:g})}),a},n}();const j5=new B6;var O6=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.init=function(t,i,o){var a=El_getGeoResource(t.map);if(a&&"geoJSON"===a.type){var l=t.itemStyle=t.itemStyle||{};"color"in l||(l.color="#eee")}this.mergeDefaultAndTheme(t,o),Ua(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,i=this.option;i.regions=j5.getFilledRegions(i.regions,i.map,i.nameMap,i.nameProperty);var o={};this._optionModelMap=xi(i.regions||[],function(a,l){var u=l.name;return u&&(a.set(u,new Ye(l,t,t.ecModel)),l.selected&&(o[u]=!0)),a},Tt()),i.selectedMap||(i.selectedMap=o)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Ye(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,i){var a=this.getRegionModel(t).get("normal"===i?["label","formatter"]:["emphasis","label","formatter"]),l={name:t};return Mt(a)?(l.status=i,a(l)):At(a)?a.replace("{a}",t??""):void 0},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var i=this.option,o=i.selectedMode;o&&("multiple"!==o&&(i.selectedMap=null),(i.selectedMap||(i.selectedMap={}))[t]=!0)},e.prototype.unSelect=function(t){var i=this.option.selectedMap;i&&(i[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var i=this.option.selectedMap;return!(!i||!i[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(be);const V6=O6;function G5(n,e){return n.pointToProjected?n.pointToProjected(e):n.pointToData(e)}function OD(n,e,t,i){var o=n.getZoom(),a=n.getCenter(),l=e.zoom,u=n.projectedToPoint?n.projectedToPoint(a):n.dataToPoint(a);if(null!=e.dx&&null!=e.dy&&(u[0]-=e.dx,u[1]-=e.dy,n.setCenter(G5(n,u),i)),null!=l){if(t){var d=t.min||0;l=Math.max(Math.min(o*l,t.max||1/0),d)/o}n.scaleX*=l,n.scaleY*=l;var m=(e.originY-n.y)*(l-1);n.x-=(e.originX-n.x)*(l-1),n.y-=m,n.updateTransform(),n.setCenter(G5(n,u),i),n.setZoom(l*o)}return{center:n.getCenter(),zoom:n.getZoom()}}var F6=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return tt(e,n),e.prototype.init=function(t,i){this._api=i},e.prototype.render=function(t,i,o,a){if(this._model=t,!t.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new R5(o));var l=this._mapDraw;l.draw(t,i,o,this,a),l.group.on("click",this._handleRegionClick,this),l.group.silent=t.get("silent"),this.group.add(l.group),this.updateSelectStatus(t,i,o)},e.prototype._handleRegionClick=function(t){var i;Lr(t.target,function(o){return null!=(i=jt(o).eventData)},!0),i&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:i.name})},e.prototype.updateSelectStatus=function(t,i,o){var a=this;this._mapDraw.group.traverse(function(l){var u=jt(l).eventData;if(u)return a._model.isSelected(u.name)?o.enterSelect(l):o.leaveSelect(l),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(nn);const H6=F6;function j6(n,e,t){!function(n,e,t){if(e.svg){var i=new l6(n,e.svg);fb.set(n,i)}else{var o=e.geoJson||e.geoJSON;o&&!e.features?t=e.specialAreas:o=e,i=new b6(n,o,t),fb.set(n,i)}}(n,e,t)}function U5(n){function e(t,i){i.update="geo:updateSelectStatus",n.registerAction(i,function(o,a){var l={},u=[];return a.eachComponent({mainType:"geo",query:o},function(d){d[t](o.name),V(d.coordinateSystem.regions,function(m){l[m.name]=d.isSelected(m.name)||!1});var g=[];V(l,function(m,b){l[b]&&g.push(b)}),u.push({geoIndex:d.componentIndex,name:g})}),{selected:l,allSelected:u,name:o.name}})}n.registerCoordinateSystem("geo",j5),n.registerComponentModel(V6),n.registerComponentView(H6),n.registerImpl("registerMap",j6),n.registerImpl("getMap",function(t){return function(n){var e=fb.get(n);return e&&"geoJSON"===e.type&&e.getMapForUser()}(t)}),e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,i,o){var a=t.componentType||"series";i.eachComponent({mainType:a,query:t},function(l){var u=l.coordinateSystem;if("geo"===u.type){var d=OD(u,t,l.get("scaleLimit"),o);l.setCenter&&l.setCenter(d.center),l.setZoom&&l.setZoom(d.zoom),"series"===a&&V(l.seriesGroup,function(p){p.setCenter(d.center),p.setZoom(d.zoom)})}})})}function W6(n,e){var t=n.isExpand?n.children:[],i=n.parentNode.children,o=n.hierNode.i?i[n.hierNode.i-1]:null;if(t.length){!function(n){for(var e=n.children,t=e.length,i=0,o=0;--t>=0;){var a=e[t];a.hierNode.prelim+=i,a.hierNode.modifier+=i,i+=a.hierNode.shift+(o+=a.hierNode.change)}}(n);var a=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;o?(n.hierNode.prelim=o.hierNode.prelim+e(n,o),n.hierNode.modifier=n.hierNode.prelim-a):n.hierNode.prelim=a}else o&&(n.hierNode.prelim=o.hierNode.prelim+e(n,o));n.parentNode.hierNode.defaultAncestor=function(n,e,t,i){if(e){for(var o=n,a=n,l=a.parentNode.children[0],u=e,d=o.hierNode.modifier,p=a.hierNode.modifier,g=l.hierNode.modifier,m=u.hierNode.modifier;u=VD(u),a=FD(a),u&&a;){o=VD(o),l=FD(l),o.hierNode.ancestor=n;var b=u.hierNode.prelim+m-a.hierNode.prelim-p+i(u,a);b>0&&(X6(K6(u,n,t),n,b),p+=b,d+=b),m+=u.hierNode.modifier,p+=a.hierNode.modifier,d+=o.hierNode.modifier,g+=l.hierNode.modifier}u&&!VD(o)&&(o.hierNode.thread=u,o.hierNode.modifier+=m-d),a&&!FD(l)&&(l.hierNode.thread=a,l.hierNode.modifier+=p-g,t=n)}return t}(n,o,n.parentNode.hierNode.defaultAncestor||i[0],e)}function Y6(n){n.setLayout({x:n.hierNode.prelim+n.parentNode.hierNode.modifier},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function W5(n){return arguments.length?n:Q6}function gb(n,e){return n-=Math.PI/2,{x:e*Math.cos(n),y:e*Math.sin(n)}}function VD(n){var e=n.children;return e.length&&n.isExpand?e[e.length-1]:n.hierNode.thread}function FD(n){var e=n.children;return e.length&&n.isExpand?e[0]:n.hierNode.thread}function K6(n,e,t){return n.hierNode.ancestor.parentNode===e.parentNode?n.hierNode.ancestor:t}function X6(n,e,t){var i=t/(e.hierNode.i-n.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,n.hierNode.change+=i}function Q6(n,e){return n.parentNode===e.parentNode?1:2}var J6=function(){this.parentPoint=[],this.childPoints=[]},t7=function(n){function e(t){return n.call(this,t)||this}return tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new J6},e.prototype.buildPath=function(t,i){var o=i.childPoints,a=o.length,l=i.parentPoint,u=o[0],d=o[a-1];if(1===a)return t.moveTo(l[0],l[1]),void t.lineTo(u[0],u[1]);var p=i.orient,g="TB"===p||"BT"===p?0:1,m=1-g,b=_t(i.forkPosition,1),w=[];w[g]=l[g],w[m]=l[m]+(d[m]-l[m])*b,t.moveTo(l[0],l[1]),t.lineTo(w[0],w[1]),t.moveTo(u[0],u[1]),w[g]=u[g],t.lineTo(w[0],w[1]),w[g]=d[g],t.lineTo(w[0],w[1]),t.lineTo(d[0],d[1]);for(var k=1;k<a-1;k++){var C=o[k];t.moveTo(C[0],C[1]),w[g]=C[g],t.lineTo(w[0],w[1])}},e}(re),e7=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new Vt,t}return tt(e,n),e.prototype.init=function(t,i){this._controller=new hb(i.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,i,o){var a=t.getData(),l=t.layoutInfo,u=this._mainGroup;"radial"===t.get("layout")?(u.x=l.x+l.width/2,u.y=l.y+l.height/2):(u.x=l.x,u.y=l.y),this._updateViewCoordSys(t,o),this._updateController(t,i,o);var p=this._data;a.diff(p).add(function(g){Y5(a,g)&&q5(a,g,null,u,t)}).update(function(g,m){var b=p.getItemGraphicEl(m);Y5(a,g)?q5(a,g,b,u,t):b&&K5(p,m,b,u,t)}).remove(function(g){var m=p.getItemGraphicEl(g);m&&K5(p,g,m,u,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&a.eachItemGraphicEl(function(g,m){g.off("click").on("click",function(){o.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:m})})}),this._data=a},e.prototype._updateViewCoordSys=function(t,i){var o=t.getData(),a=[];o.each(function(m){var b=o.getItemLayout(m);b&&!isNaN(b.x)&&!isNaN(b.y)&&a.push([+b.x,+b.y])});var l=[],u=[];sd(a,l,u);var d=this._min,p=this._max;u[0]-l[0]==0&&(l[0]=d?d[0]:l[0]-1,u[0]=p?p[0]:u[0]+1),u[1]-l[1]==0&&(l[1]=d?d[1]:l[1]-1,u[1]=p?p[1]:u[1]+1);var g=t.coordinateSystem=new pb;g.zoomLimit=t.get("scaleLimit"),g.setBoundingRect(l[0],l[1],u[0]-l[0],u[1]-l[1]),g.setCenter(t.get("center"),i),g.setZoom(t.get("zoom")),this.group.attr({x:g.x,y:g.y,scaleX:g.scaleX,scaleY:g.scaleY}),this._min=l,this._max=u},e.prototype._updateController=function(t,i,o){var a=this,l=this._controller,u=this._controllerHost,d=this.group;l.setPointerChecker(function(p,g,m){var b=d.getBoundingRect();return b.applyTransform(d.transform),b.contain(g,m)&&!WA(p,o,t)}),l.enable(t.get("roam")),u.zoomLimit=t.get("scaleLimit"),u.zoom=t.coordinateSystem.getZoom(),l.off("pan").off("zoom").on("pan",function(p){ID(u,p.dx,p.dy),o.dispatchAction({seriesId:t.id,type:"treeRoam",dx:p.dx,dy:p.dy})}).on("zoom",function(p){ED(u,p.scale,p.originX,p.originY),o.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:p.scale,originX:p.originX,originY:p.originY}),a._updateNodeAndLinkScale(t),o.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(t){var i=t.getData(),o=this._getNodeGlobalScale(t);i.eachItemGraphicEl(function(a,l){a.setSymbolScale(o)})},e.prototype._getNodeGlobalScale=function(t){var i=t.coordinateSystem;if("view"!==i.type)return 1;var o=this._nodeScaleRatio,a=i.scaleX||1;return((i.getZoom()-1)*o+1)/a},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(Be);function Y5(n,e){var t=n.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function q5(n,e,t,i,o){var a=!t,l=n.tree.getNodeByDataIndex(e),u=l.getModel(),d=l.getVisual("style").fill,p=!1===l.isExpand&&0!==l.children.length?d:"#fff",g=n.tree.root,m=l.parentNode===g?l:l.parentNode||l,b=n.getItemGraphicEl(m.dataIndex),w=m.getLayout(),k=b?{x:b.__oldX,y:b.__oldY,rawX:b.__radialOldRawX,rawY:b.__radialOldRawY}:w,C=l.getLayout();a?((t=new eb(n,e,null,{symbolInnerColor:p,useNameLabel:!0})).x=k.x,t.y=k.y):t.updateData(n,e,null,{symbolInnerColor:p,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=C.rawX,t.__radialRawY=C.rawY,i.add(t),n.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,ke(t,{x:C.x,y:C.y},o);var x=t.getSymbolPath();if("radial"===o.get("layout")){var T=g.children[0],M=T.getLayout(),I=T.children.length,L=void 0,N=void 0;if(C.x===M.x&&!0===l.isExpand&&T.children.length){var R={x:(T.children[0].getLayout().x+T.children[I-1].getLayout().x)/2,y:(T.children[0].getLayout().y+T.children[I-1].getLayout().y)/2};(L=Math.atan2(R.y-M.y,R.x-M.x))<0&&(L=2*Math.PI+L),(N=R.x<M.x)&&(L-=Math.PI)}else(L=Math.atan2(C.y-M.y,C.x-M.x))<0&&(L=2*Math.PI+L),0===l.children.length||0!==l.children.length&&!1===l.isExpand?(N=C.x<M.x)&&(L-=Math.PI):(N=C.x>M.x)||(L-=Math.PI);var B=N?"left":"right",O=u.getModel("label"),F=O.get("rotate"),H=F*(Math.PI/180),j=x.getTextContent();j&&(x.setTextConfig({position:O.get("position")||B,rotation:null==F?-L:H,origin:"center"}),j.setStyle("verticalAlign","middle"))}var q=u.get(["emphasis","focus"]),Z="relative"===q?Eu(l.getAncestorsIndices(),l.getDescendantIndices()):"ancestor"===q?l.getAncestorsIndices():"descendant"===q?l.getDescendantIndices():null;Z&&(jt(t).focus=Z),function(n,e,t,i,o,a,l,u){var d=e.getModel(),p=n.get("edgeShape"),g=n.get("layout"),m=n.getOrient(),b=n.get(["lineStyle","curveness"]),w=n.get("edgeForkPosition"),k=d.getModel("lineStyle").getLineStyle(),C=i.__edge;if("curve"===p)e.parentNode&&e.parentNode!==t&&(C||(C=i.__edge=new Od({shape:HD(g,m,b,o,o)})),ke(C,{shape:HD(g,m,b,a,l)},n));else if("polyline"===p&&"orthogonal"===g&&e!==t&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var x=e.children,T=[],M=0;M<x.length;M++){var I=x[M].getLayout();T.push([I.x,I.y])}C||(C=i.__edge=new t7({shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]],orient:m,forkPosition:w}})),ke(C,{shape:{parentPoint:[l.x,l.y],childPoints:T}},n)}C&&("polyline"!==p||e.isExpand)&&(C.useStyle(Et({strokeNoScale:!0,fill:null},k)),ar(C,d,"lineStyle"),Qs(C),u.add(C))}(o,l,g,t,k,w,C,i),t.__edge&&(t.onHoverStateChange=function(K){if("blur"!==K){var Q=l.parentNode&&n.getItemGraphicEl(l.parentNode.dataIndex);Q&&1===Q.hoverState||bc(t.__edge,K)}})}function Z5(n,e,t,i,o){var l=$5(e.tree.root,n),u=l.source,d=l.sourceLayout,p=e.getItemGraphicEl(n.dataIndex);if(p){var g=e.getItemGraphicEl(u.dataIndex),b=p.__edge||(!1===u.isExpand||1===u.children.length?g.__edge:void 0),w=i.get("edgeShape"),k=i.get("layout"),C=i.get("orient"),x=i.get(["lineStyle","curveness"]);b&&("curve"===w?bn(b,{shape:HD(k,C,x,d,d),style:{opacity:0}},i,{cb:function(){t.remove(b)},removeOpt:o}):"polyline"===w&&"orthogonal"===i.get("layout")&&bn(b,{shape:{parentPoint:[d.x,d.y],childPoints:[[d.x,d.y]]},style:{opacity:0}},i,{cb:function(){t.remove(b)},removeOpt:o}))}}function $5(n,e){for(var i,t=e.parentNode===n?e:e.parentNode||e;null==(i=t.getLayout());)t=t.parentNode===n?t:t.parentNode||t;return{source:t,sourceLayout:i}}function K5(n,e,t,i,o){var a=n.tree.getNodeByDataIndex(e),u=$5(n.tree.root,a).sourceLayout,d={duration:o.get("animationDurationUpdate"),easing:o.get("animationEasingUpdate")};bn(t,{x:u.x+1,y:u.y+1},o,{cb:function(){i.remove(t),n.setItemGraphicEl(e,null)},removeOpt:d}),t.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:d}),a.children.forEach(function(p){Z5(p,n,i,o,d)}),Z5(a,n,i,o,d)}function HD(n,e,t,i,o){var a,l,u,d,p,g,m,b;if("radial"===n){g=o.rawX,b=o.rawY;var w=gb(p=i.rawX,m=i.rawY),k=gb(p,m+(b-m)*t),C=gb(g,b+(m-b)*t),x=gb(g,b);return{x1:w.x||0,y1:w.y||0,x2:x.x||0,y2:x.y||0,cpx1:k.x||0,cpy1:k.y||0,cpx2:C.x||0,cpy2:C.y||0}}return p=i.x,m=i.y,g=o.x,b=o.y,("LR"===e||"RL"===e)&&(a=p+(g-p)*t,l=m,u=g+(p-g)*t,d=b),("TB"===e||"BT"===e)&&(a=p,l=m+(b-m)*t,u=g,d=b+(m-b)*t),{x1:p,y1:m,x2:g,y2:b,cpx1:a,cpy1:l,cpx2:u,cpy2:d}}const r7=e7;var Oo=ye();function o7(n,e){if(function(n){return Oo(n).mainData===n}(this)){var t=st({},Oo(this).datas);t[this.dataType]=e,X5(e,t,n)}else jD(e,this.dataType,Oo(this).mainData,n);return e}function a7(n,e){return n.struct&&n.struct.update(),e}function s7(n,e){return V(Oo(e).datas,function(t,i){t!==e&&jD(t.cloneShallow(),i,e,n)}),e}function l7(n){var e=Oo(this).mainData;return null==n||null==e?e:Oo(e).datas[n]}function c7(){var n=Oo(this).mainData;return null==n?[{data:n}]:gt(le(Oo(n).datas),function(e){return{type:e,data:Oo(n).datas[e]}})}function X5(n,e,t){Oo(n).datas={},V(e,function(i,o){jD(i,o,n,t)})}function jD(n,e,t,i){Oo(t).datas[e]=n,Oo(n).mainData=t,n.dataType=e,i.struct&&(n[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=n),n.getLinkedData=l7,n.getLinkedDataAll=c7}const Q5=function(n){var e=n.mainData,t=n.datas;t||(t={main:e},n.datasAttr={main:"data"}),n.datas=n.mainData=null,X5(e,t,n),V(t,function(i){V(e.TRANSFERABLE_METHODS,function(o){i.wrapMethod(o,Gt(o7,n))})}),e.wrapMethod("cloneShallow",Gt(s7,n)),V(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,Gt(a7,n))}),hr(t[e.dataType]===e)};var d7=function(){function n(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(e,t,i){Mt(e)&&(i=t,t=e,e=null),At(e=e||{})&&(e={order:e});var l,o=e.order||"preorder",a=this[e.attr||"children"];"preorder"===o&&(l=t.call(i,this));for(var u=0;!l&&u<a.length;u++)a[u].eachNode(e,t,i);"postorder"===o&&t.call(i,this)},n.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var i=0;i<this.children.length;i++){var o=this.children[i];o.updateDepthAndHeight(e+1),o.height>t&&(t=o.height)}this.height=t+1},n.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,i=this.children,o=i.length;t<o;t++){var a=i[t].getNodeById(e);if(a)return a}},n.prototype.contains=function(e){if(e===this)return!0;for(var t=0,i=this.children,o=i.length;t<o;t++){var a=i[t].contains(e);if(a)return a}},n.prototype.getAncestors=function(e){for(var t=[],i=e?this:this.parentNode;i;)t.push(i),i=i.parentNode;return t.reverse(),t},n.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},n.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},n.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},n.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},n.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},n.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},n.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},n}(),h7=function(){function n(e){this.type="tree",this._nodes=[],this.hostModel=e}return n.prototype.eachNode=function(e,t,i){this.root.eachNode(e,t,i)},n.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},n.prototype.getNodeById=function(e){return this.root.getNodeById(e)},n.prototype.update=function(){for(var e=this.data,t=this._nodes,i=0,o=t.length;i<o;i++)t[i].dataIndex=-1;for(i=0,o=e.count();i<o;i++)t[e.getRawIndex(i)].dataIndex=i},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(e,t,i){var o=new n(t),a=[],l=1;!function u(g,m){var b=g.value;l=Math.max(l,pt(b)?b.length:1),a.push(g);var w=new d7(mn(g.name,""),o);m?function(n,e){n.parentNode!==e&&(e.children.push(n),n.parentNode=e)}(w,m):o.root=w,o._nodes.push(w);var k=g.children;if(k)for(var C=0;C<k.length;C++)u(k[C],w)}(e),o.root.updateDepthAndHeight(0);var d=Dg(a,{coordDimensions:["value"],dimensionsCount:l}).dimensions,p=new ki(d,t);return p.initData(a),i&&i(p),Q5({mainData:p,struct:o,structAttr:"tree"}),o.update(),o},n}();const GD=h7;function vb(n,e,t){if(n&&qt(e,n.type)>=0){var i=t.getData().tree.root,o=n.targetNode;if(At(o)&&(o=i.getNodeById(o)),o&&i.contains(o))return{node:o};var a=n.targetNodeId;if(null!=a&&(o=i.getNodeById(a)))return{node:o}}}function J5(n){for(var e=[];n;)(n=n.parentNode)&&e.push(n);return e.reverse()}function UD(n,e){return qt(J5(n),e)>=0}function KA(n,e){for(var t=[];n;){var i=n.dataIndex;t.push({name:n.name,dataIndex:i,value:e.getRawValue(i)}),n=n.parentNode}return t.reverse(),t}var p7=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return tt(e,n),e.prototype.getInitialData=function(t){var i={name:t.name,children:t.data},a=new Ye(t.leaves||{},this,this.ecModel),l=GD.createTree(i,this,function(m){m.wrapMethod("getItemModel",function(b,w){var k=l.getNodeByDataIndex(w);return k&&k.children.length&&k.isExpand||(b.parentModel=a),b})}),d=0;l.eachNode("preorder",function(m){m.depth>d&&(d=m.depth)});var g=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:d;return l.root.eachNode("preorder",function(m){var b=m.hostTree.data.getRawDataItem(m.dataIndex);m.isExpand=b&&null!=b.collapsed?!b.collapsed:m.depth<=g}),l.data},e.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,i,o){for(var a=this.getData().tree,l=a.root.children[0],u=a.getNodeByDataIndex(t),d=u.getValue(),p=u.name;u&&u!==l;)p=u.parentNode.name+"."+p,u=u.parentNode;return Mn("nameValue",{name:p,value:d,noValue:isNaN(d)||null==d})},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=KA(o,this),i.collapsed=!o.isExpand,i},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(en);const g7=p7;function mb(n,e){for(var i,t=[n];i=t.pop();)if(e(i),i.isExpand){var o=i.children;if(o.length)for(var a=o.length-1;a>=0;a--)t.push(o[a])}}function m7(n,e){n.eachSeriesByType("tree",function(t){!function(n,e){var t=function(n,e){return Bn(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(n,e);n.layoutInfo=t;var i=n.get("layout"),o=0,a=0,l=null;"radial"===i?(o=2*Math.PI,a=Math.min(t.height,t.width)/2,l=W5(function(I,L){return(I.parentNode===L.parentNode?1:2)/I.depth})):(o=t.width,a=t.height,l=W5());var u=n.getData().tree.root,d=u.children[0];if(d){(function(n){var e=n;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var i,o,t=[e];i=t.pop();)if(o=i.children,i.isExpand&&o.length)for(var l=o.length-1;l>=0;l--){var u=o[l];u.hierNode={defaultAncestor:null,ancestor:u,prelim:0,modifier:0,change:0,shift:0,i:l,thread:null},t.push(u)}})(u),function(n,e,t){for(var a,i=[n],o=[];a=i.pop();)if(o.push(a),a.isExpand){var l=a.children;if(l.length)for(var u=0;u<l.length;u++)i.push(l[u])}for(;a=o.pop();)e(a,t)}(d,W6,l),u.hierNode.modifier=-d.hierNode.prelim,mb(d,Y6);var p=d,g=d,m=d;mb(d,function(I){var L=I.getLayout().x;L<p.getLayout().x&&(p=I),L>g.getLayout().x&&(g=I),I.depth>m.depth&&(m=I)});var b=p===g?1:l(p,g)/2,w=b-p.getLayout().x,k=0,C=0,x=0,T=0;if("radial"===i)k=o/(g.getLayout().x+b+w),C=a/(m.depth-1||1),mb(d,function(I){var L=gb(x=(I.getLayout().x+w)*k,T=(I.depth-1)*C);I.setLayout({x:L.x,y:L.y,rawX:x,rawY:T},!0)});else{var M=n.getOrient();"RL"===M||"LR"===M?(C=a/(g.getLayout().x+b+w),k=o/(m.depth-1||1),mb(d,function(I){T=(I.getLayout().x+w)*C,I.setLayout({x:x="LR"===M?(I.depth-1)*k:o-(I.depth-1)*k,y:T},!0)})):("TB"===M||"BT"===M)&&(k=o/(g.getLayout().x+b+w),C=a/(m.depth-1||1),mb(d,function(I){x=(I.getLayout().x+w)*k,I.setLayout({x,y:T="TB"===M?(I.depth-1)*C:a-(I.depth-1)*C},!0)}))}}}(t,e)})}function b7(n){n.eachSeriesByType("tree",function(e){var t=e.getData();t.tree.eachNode(function(o){var l=o.getModel().getModel("itemStyle").getItemStyle();st(t.ensureUniqueItemVisual(o.dataIndex,"style"),l)})})}var tR=["treemapZoomToNode","treemapRender","treemapMove"];function eR(n){var e=n.getData(),i={};e.tree.eachNode(function(o){for(var a=o;a&&a.depth>1;)a=a.parentNode;var l=gp(n.ecModel,a.name||a.dataIndex+"",i);o.setVisual("decal",l)})}var A7=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return tt(e,n),e.prototype.getInitialData=function(t,i){var o={name:t.name,children:t.data};nR(o);var a=t.levels||[],l=this.designatedVisualItemStyle={},u=new Ye({itemStyle:l},this,i);a=t.levels=function(n,e){var t=De(e.get("color")),i=De(e.get(["aria","decal","decals"]));if(t){var o,a;V(n=n||[],function(u){var d=new Ye(u),p=d.get("color"),g=d.get("decal");(d.get(["itemStyle","color"])||p&&"none"!==p)&&(o=!0),(d.get(["itemStyle","decal"])||g&&"none"!==g)&&(a=!0)});var l=n[0]||(n[0]={});return o||(l.color=t.slice()),!a&&i&&(l.decal=i.slice()),n}}(a,i);var d=gt(a||[],function(m){return new Ye(m,u,i)},this),p=GD.createTree(o,this,function(m){m.wrapMethod("getItemModel",function(b,w){var k=p.getNodeByDataIndex(w);return b.parentModel=(k?d[k.depth]:null)||u,b})});return p.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,i,o){var a=this.getData(),l=this.getRawValue(t);return Mn("nameValue",{name:a.getName(t),value:l})},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=KA(o,this),i.treePathInfo=i.treeAncestors,i},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},st(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var i=this._idIndexMap;i||(i=this._idIndexMap=Tt(),this._idIndexMapCount=0);var o=i.get(t);return null==o&&i.set(t,o=this._idIndexMapCount++),o},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;(!t||t!==i&&!i.contains(t))&&(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){eR(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(en);function nR(n){var e=0;V(n.children,function(i){nR(i);var o=i.value;pt(o)&&(o=o[0]),e+=o});var t=n.value;pt(t)&&(t=t[0]),(null==t||isNaN(t))&&(t=e),t<0&&(t=0),pt(n.value)?n.value[0]=t:n.value=t}const x7=A7;var T7=function(){function n(e){this.group=new Vt,e.add(this.group)}return n.prototype.render=function(e,t,i,o){var a=e.getModel("breadcrumb"),l=this.group;if(l.removeAll(),a.get("show")&&i){var u=a.getModel("itemStyle"),d=a.getModel("emphasis"),p=u.getModel("textStyle"),g=d.getModel(["itemStyle","textStyle"]),m={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,m,p),this._renderContent(e,m,u,d,p,g,o),Sd(l,m.pos,m.box)}},n.prototype._prepare=function(e,t,i){for(var o=e;o;o=o.parentNode){var a=mn(o.getModel().get("name"),""),l=i.getTextRect(a),u=Math.max(l.width+16,t.emptyItemWidth);t.totalWidth+=u+8,t.renderList.push({node:o,text:a,width:u})}},n.prototype._renderContent=function(e,t,i,o,a,l,u){for(var d=0,p=t.emptyItemWidth,g=e.get(["breadcrumb","height"]),m=function(n,e,t){var i=e.width,o=e.height,a=_t(n.left,i),l=_t(n.top,o),u=_t(n.right,i),d=_t(n.bottom,o);return(isNaN(a)||isNaN(parseFloat(n.left)))&&(a=0),(isNaN(u)||isNaN(parseFloat(n.right)))&&(u=i),(isNaN(l)||isNaN(parseFloat(n.top)))&&(l=0),(isNaN(d)||isNaN(parseFloat(n.bottom)))&&(d=o),t=rl(t||0),{width:Math.max(u-a-t[1]-t[3],0),height:Math.max(d-l-t[0]-t[2],0)}}(t.pos,t.box),b=t.totalWidth,w=t.renderList,k=o.getModel("itemStyle").getItemStyle(),C=w.length-1;C>=0;C--){var x=w[C],T=x.node,M=x.width,I=x.text;b>m.width&&(b-=M-p,M=p,I=null);var L=new Qr({shape:{points:D7(d,0,M,g,C===w.length-1,0===C)},style:Et(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new ge({style:We(a,{text:I})}),textConfig:{position:"inside"},z2:1e5,onclick:Gt(u,T)});L.disableLabelAnimation=!0,L.getTextContent().ensureState("emphasis").style=We(l,{text:I}),L.ensureState("emphasis").style=k,cn(L,o.get("focus"),o.get("blurScope"),o.get("disabled")),this.group.add(L),M7(L,e,T),d+=M+8}},n.prototype.remove=function(){this.group.removeAll()},n}();function D7(n,e,t,i,o,a){var l=[[o?n:n-5,e],[n+t,e],[n+t,e+i],[o?n:n-5,e+i]];return!a&&l.splice(2,0,[n+t+5,e+i/2]),!o&&l.push([n,e+i/2]),l}function M7(n,e,t){jt(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&KA(t,e)}}const I7=T7;var E7=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(e,t,i,o,a){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:i,delay:o,easing:a}),!0)},n.prototype.finished=function(e){return this._finishedCallback=e,this},n.prototype.start=function(){for(var e=this,t=this._storage.length,i=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},o=0,a=this._storage.length;o<a;o++){var l=this._storage[o];l.el.animateTo(l.target,{duration:l.duration,delay:l.delay,easing:l.easing,setToFinal:!0,done:i,aborted:i})}return this},n}(),YD=Vt,iR=Xt,sR="upperLabel",hh=Hs([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),lR=function(n){var e=hh(n);return e.stroke=e.fill=e.lineWidth=null,e},XA=ye(),B7=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage={nodeGroup:[],background:[],content:[]},t}return tt(e,n),e.prototype.render=function(t,i,o,a){if(!(qt(i.findComponents({mainType:"series",subType:"treemap",query:a}),t)<0)){this.seriesModel=t,this.api=o,this.ecModel=i;var d=vb(a,["treemapZoomToNode","treemapRootToNode"],t),p=a&&a.type,g=t.layoutInfo,m=!this._oldTree,b=this._storage,w="treemapRootToNode"===p&&d&&b?{rootNodeGroup:b.nodeGroup[d.node.getRawIndex()],direction:a.direction}:null,k=this._giveContainerGroup(g),C=t.get("animation"),x=this._doRender(k,t,w);!C||m||p&&"treemapZoomToNode"!==p&&"treemapRootToNode"!==p?x.renderFinally():this._doAnimation(k,x,t,w),this._resetController(o),this._renderBreadcrumb(t,o,d)}},e.prototype._giveContainerGroup=function(t){var i=this._containerGroup;return i||(i=this._containerGroup=new YD,this._initEvents(i),this.group.add(i)),i.x=t.x,i.y=t.y,i},e.prototype._doRender=function(t,i,o){var a=i.getData().tree,l=this._oldTree,u={nodeGroup:[],background:[],content:[]},d={nodeGroup:[],background:[],content:[]},p=this._storage,g=[];function m(x,T,M,I){return function(n,e,t,i,o,a,l,u,d,p){if(l){var g=l.getLayout(),m=n.getData(),b=l.getModel();if(m.setItemGraphicEl(l.dataIndex,null),g&&g.isInView){var w=g.width,k=g.height,C=g.borderWidth,x=g.invisible,T=l.getRawIndex(),M=u&&u.getRawIndex(),I=l.viewChildren,L=g.upperHeight,N=I&&I.length,R=b.getModel("itemStyle"),B=b.getModel(["emphasis","itemStyle"]),O=b.getModel(["blur","itemStyle"]),F=b.getModel(["select","itemStyle"]),H=R.get("borderRadius")||0,j=Bt("nodeGroup",YD);if(j){if(d.add(j),j.x=g.x||0,j.y=g.y||0,j.markRedraw(),XA(j).nodeWidth=w,XA(j).nodeHeight=k,g.isAboveViewRoot)return j;var q=Bt("background",iR,p,20);q&&function(ue,Ht,fe){var ne=jt(Ht);if(ne.dataIndex=l.dataIndex,ne.seriesIndex=n.seriesIndex,Ht.setShape({x:0,y:0,width:w,height:k,r:H}),x)kt(Ht);else{Ht.invisible=!1;var It=l.getVisual("style"),Jt=It.stroke,dn=lR(R);dn.fill=Jt;var Ae=hh(B);Ae.fill=B.get("borderColor");var En=hh(O);En.fill=O.get("borderColor");var kn=hh(F);kn.fill=F.get("borderColor"),fe?Dt(Ht,Jt,It.opacity,{x:C,y:0,width:w-2*C,height:L}):Ht.removeTextContent(),Ht.setStyle(dn),Ht.ensureState("emphasis").style=Ae,Ht.ensureState("blur").style=En,Ht.ensureState("select").style=kn,Qs(Ht)}ue.add(Ht)}(j,q,N&&g.upperLabelHeight);var Z=b.getModel("emphasis"),K=Z.get("focus"),Q=Z.get("blurScope"),J=Z.get("disabled"),rt="ancestor"===K?l.getAncestorsIndices():"descendant"===K?l.getDescendantIndices():K;if(N)yd(j)&&ca(j,!1),q&&(ca(q,!J),m.setItemGraphicEl(l.dataIndex,q),Kf(q,rt,Q));else{var nt=Bt("content",iR,p,30);nt&&function(ue,Ht){var fe=jt(Ht);fe.dataIndex=l.dataIndex,fe.seriesIndex=n.seriesIndex;var ne=Math.max(w-2*C,0),It=Math.max(k-2*C,0);if(Ht.culling=!0,Ht.setShape({x:C,y:C,width:ne,height:It,r:H}),x)kt(Ht);else{Ht.invisible=!1;var Jt=l.getVisual("style"),dn=Jt.fill,Ae=lR(R);Ae.fill=dn,Ae.decal=Jt.decal;var En=hh(B),kn=hh(O),si=hh(F);Dt(Ht,dn,Jt.opacity,null),Ht.setStyle(Ae),Ht.ensureState("emphasis").style=En,Ht.ensureState("blur").style=kn,Ht.ensureState("select").style=si,Qs(Ht)}ue.add(Ht)}(j,nt),q.disableMorphing=!0,q&&yd(q)&&ca(q,!1),ca(j,!J),m.setItemGraphicEl(l.dataIndex,j),Kf(j,rt,Q)}return j}}}function kt(ue){!ue.invisible&&a.push(ue)}function Dt(ue,Ht,fe,ne){var It=b.getModel(ne?sR:"label"),Jt=mn(b.get("name"),null),dn=It.getShallow("show");sr(ue,Nn(b,ne?sR:"label"),{defaultText:dn?Jt:null,inheritColor:Ht,defaultOpacity:fe,labelFetcher:n,labelDataIndex:l.dataIndex});var Ae=ue.getTextContent();if(Ae){var En=Ae.style,kn=Bh(En.padding||0);ne&&(ue.setTextConfig({layoutRect:ne}),Ae.disableLabelLayout=!0),Ae.beforeUpdate=function(){var Bl=Math.max((ne?ne.width:ue.shape.width)-kn[1]-kn[3],0),Oi=Math.max((ne?ne.height:ue.shape.height)-kn[0]-kn[2],0);(En.width!==Bl||En.height!==Oi)&&Ae.setStyle({width:Bl,height:Oi})},En.truncateMinChar=2,En.lineOverflow="truncate",Nt(En,ne,g);var si=Ae.getState("emphasis");Nt(si?si.style:null,ne,g)}}function Nt(ue,Ht,fe){var ne=ue?ue.text:null;if(!Ht&&fe.isLeafRoot&&null!=ne){var It=n.get("drillDownIcon",!0);ue.text=It?It+" "+ne:ne}}function Bt(ue,Ht,fe,ne){var It=null!=M&&t[ue][M],Jt=o[ue];return It?(t[ue][M]=null,function(ue,Ht){var fe=ue[T]={};Ht instanceof YD?(fe.oldX=Ht.x,fe.oldY=Ht.y):fe.oldShape=st({},Ht.shape)}(Jt,It)):x||((It=new Ht)instanceof Rn&&(It.z2=function(n,e){return 100*n+e}(fe,ne)),function(ue,Ht){var fe=ue[T]={},ne=l.parentNode,It=Ht instanceof Vt;if(ne&&(!i||"drillDown"===i.direction)){var Jt=0,dn=0,Ae=o.background[ne.getRawIndex()];!i&&Ae&&Ae.oldShape&&(Jt=Ae.oldShape.width,dn=Ae.oldShape.height),It?(fe.oldX=0,fe.oldY=dn):fe.oldShape={x:Jt,y:dn,width:0,height:0}}fe.fadein=!It}(Jt,It)),e[ue][T]=It}}(i,d,p,o,u,g,x,T,M,I)}!function w(x,T,M,I,L){function N(B){return B.getId()}function R(B,O){var F=null!=B?x[B]:null,H=null!=O?T[O]:null,j=m(F,H,M,L);j&&w(F&&F.viewChildren||[],H&&H.viewChildren||[],j,I,L+1)}I?(T=x,V(x,function(B,O){!B.isRemoved()&&R(O,O)})):new Tl(T,x,N,N).add(R).update(R).remove(Gt(R,null)).execute()}(a.root?[a.root]:[],l&&l.root?[l.root]:[],t,a===l||!l,0);var x,T,b=(T={nodeGroup:[],background:[],content:[]},(x=p)&&V(x,function(M,I){var L=T[I];V(M,function(N){N&&(L.push(N),XA(N).willDelete=!0)})}),T);return this._oldTree=a,this._storage=d,{lastsForAnimation:u,willDeleteEls:b,renderFinally:function(){V(b,function(x){V(x,function(T){T.parent&&T.parent.remove(T)})}),V(g,function(x){x.invisible=!0,x.dirty()})}}},e.prototype._doAnimation=function(t,i,o,a){var l=o.get("animationDurationUpdate"),u=o.get("animationEasing"),d=(Mt(l)?0:l)||0,p=(Mt(u)?null:u)||"cubicOut",g=new E7;V(i.willDeleteEls,function(m,b){V(m,function(w,k){if(!w.invisible){var x,C=w.parent,T=XA(C);if(a&&"drillDown"===a.direction)x=C===a.rootNodeGroup?{shape:{x:0,y:0,width:T.nodeWidth,height:T.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var M=0,I=0;T.willDelete||(M=T.nodeWidth/2,I=T.nodeHeight/2),x="nodeGroup"===b?{x:M,y:I,style:{opacity:0}}:{shape:{x:M,y:I,width:0,height:0},style:{opacity:0}}}x&&g.add(w,x,d,0,p)}})}),V(this._storage,function(m,b){V(m,function(w,k){var C=i.lastsForAnimation[b][k],x={};!C||(w instanceof Vt?null!=C.oldX&&(x.x=w.x,x.y=w.y,w.x=C.oldX,w.y=C.oldY):(C.oldShape&&(x.shape=st({},w.shape),w.setShape(C.oldShape)),C.fadein?(w.setStyle("opacity",0),x.style={opacity:1}):1!==w.style.opacity&&(x.style={opacity:1})),g.add(w,x,d,0,p))})},this),this._state="animating",g.finished(Ct(function(){this._state="ready",i.renderFinally()},this)).start()},e.prototype._resetController=function(t){var i=this._controller;i||((i=this._controller=new hb(t.getZr())).enable(this.seriesModel.get("roam")),i.on("pan",Ct(this._onPan,this)),i.on("zoom",Ct(this._onZoom,this)));var o=new $t(0,0,t.getWidth(),t.getHeight());i.setPointerChecker(function(a,l,u){return o.contain(l,u)})},e.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var i=this.seriesModel.getData().tree.root;if(!i)return;var o=i.getLayout();if(!o)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x+t.dx,y:o.y+t.dy,width:o.width,height:o.height}})}},e.prototype._onZoom=function(t){var i=t.originX,o=t.originY;if("animating"!==this._state){var a=this.seriesModel.getData().tree.root;if(!a)return;var l=a.getLayout();if(!l)return;var u=new $t(l.x,l.y,l.width,l.height),d=this.seriesModel.layoutInfo,p=[1,0,0,1,0,0];jn(p,p,[-(i-=d.x),-(o-=d.y)]),Ti(p,p,[t.scale,t.scale]),jn(p,p,[i,o]),u.applyTransform(p),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:u.x,y:u.y,width:u.width,height:u.height}})}},e.prototype._initEvents=function(t){var i=this;t.on("click",function(o){if("ready"===i._state){var a=i.seriesModel.get("nodeClick",!0);if(a){var l=i.findTarget(o.offsetX,o.offsetY);if(l){var u=l.node;if(u.getLayout().isLeafRoot)i._rootToNode(l);else if("zoomToNode"===a)i._zoomToNode(l);else if("link"===a){var d=u.hostTree.data.getItemModel(u.dataIndex),p=d.get("link",!0),g=d.get("target",!0)||"blank";p&&Cd(p,g)}}}}},this)},e.prototype._renderBreadcrumb=function(t,i,o){var a=this;o||(o=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(i.getWidth()/2,i.getHeight()/2))||(o={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new I7(this.group))).render(t,i,o.node,function(l){"animating"!==a._state&&(UD(t.getViewRoot(),l)?a._rootToNode({node:l}):a._zoomToNode({node:l}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,i){var o;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(l){var u=this._storage.background[l.getRawIndex()];if(u){var d=u.transformCoordToLocal(t,i),p=u.shape;if(!(p.x<=d[0]&&d[0]<=p.x+p.width&&p.y<=d[1]&&d[1]<=p.y+p.height))return!1;o={node:l,offsetX:d[0],offsetY:d[1]}}},this),o},e.type="treemap",e}(Be);const V7=B7;var bb=V,F7=Rt,qD=function(){function n(e){var t=e.mappingMethod,i=e.type,o=this.option=Lt(e);this.type=i,this.mappingMethod=t,this._normalizeData=G7[t];var a=n.visualHandlers[i];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[t],"piecewise"===t?(ZD(o),function(n){var e=n.pieceList;n.hasSpecialVisual=!1,V(e,function(t,i){t.originIndex=i,null!=t.visual&&(n.hasSpecialVisual=!0)})}(o)):"category"===t?o.categories?function(n){var e=n.categories,t=n.categoryMap={},i=n.visual;if(bb(e,function(l,u){t[l]=u}),!pt(i)){var o=[];Rt(i)?bb(i,function(l,u){o[t[u]??-1]=l}):o[-1]=i,i=uR(n,o)}for(var a=e.length-1;a>=0;a--)null==i[a]&&(delete t[e[a]],e.pop())}(o):ZD(o,!0):(hr("linear"!==t||o.dataExtent),ZD(o))}return n.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},n.prototype.getNormalizer=function(){return Ct(this._normalizeData,this)},n.listVisualTypes=function(){return le(n.visualHandlers)},n.isValidType=function(e){return n.visualHandlers.hasOwnProperty(e)},n.eachVisual=function(e,t,i){Rt(e)?V(e,t,i):t.call(i,e)},n.mapVisual=function(e,t,i){var o,a=pt(e)?[]:Rt(e)?{}:(o=!0,null);return n.eachVisual(e,function(l,u){var d=t.call(i,l,u);o?a=d:a[u]=d}),a},n.retrieveVisuals=function(e){var i,t={};return e&&bb(n.visualHandlers,function(o,a){e.hasOwnProperty(a)&&(t[a]=e[a],i=!0)}),i?t:null},n.prepareVisualTypes=function(e){if(pt(e))e=e.slice();else{if(!F7(e))return[];var t=[];bb(e,function(i,o){t.push(o)}),e=t}return e.sort(function(i,o){return"color"===o&&"color"!==i&&0===i.indexOf("color")?1:-1}),e},n.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},n.findPieceIndex=function(e,t,i){for(var o,a=1/0,l=0,u=t.length;l<u;l++){var d=t[l].value;if(null!=d){if(d===e||At(d)&&d===e+"")return l;i&&b(d,l)}}for(l=0,u=t.length;l<u;l++){var p=t[l],g=p.interval,m=p.close;if(g){if(g[0]===-1/0){if(tC(m[1],e,g[1]))return l}else if(g[1]===1/0){if(tC(m[0],g[0],e))return l}else if(tC(m[0],g[0],e)&&tC(m[1],e,g[1]))return l;i&&b(g[0],l),i&&b(g[1],l)}}if(i)return e===1/0?t.length-1:e===-1/0?0:o;function b(w,k){var C=Math.abs(w-e);C<a&&(a=C,o=k)}},n.visualHandlers={color:{applyVisual:wb("color"),getColorMapper:function(){var e=this.option;return Ct("category"===e.mappingMethod?function(t,i){return!i&&(t=this._normalizeData(t)),_b.call(this,t)}:function(t,i,o){var a=!!o;return!i&&(t=this._normalizeData(t)),o=cf(t,e.parsedVisual,o),a?o:jr(o,"rgba")},this)},_normalizedToVisual:{linear:function(e){return jr(cf(e,this.option.parsedVisual),"rgba")},category:_b,piecewise:function(e,t){var i=KD.call(this,t);return null==i&&(i=jr(cf(e,this.option.parsedVisual),"rgba")),i},fixed:fh}},colorHue:JA(function(e,t){return $l(e,t)}),colorSaturation:JA(function(e,t){return $l(e,null,t)}),colorLightness:JA(function(e,t){return $l(e,null,null,t)}),colorAlpha:JA(function(e,t){return Kl(e,t)}),decal:{applyVisual:wb("decal"),_normalizedToVisual:{linear:null,category:_b,piecewise:null,fixed:null}},opacity:{applyVisual:wb("opacity"),_normalizedToVisual:$D([0,1])},liftZ:{applyVisual:wb("liftZ"),_normalizedToVisual:{linear:fh,category:fh,piecewise:fh,fixed:fh}},symbol:{applyVisual:function(e,t,i){i("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:cR,category:_b,piecewise:function(e,t){var i=KD.call(this,t);return null==i&&(i=cR.call(this,e)),i},fixed:fh}},symbolSize:{applyVisual:wb("symbolSize"),_normalizedToVisual:$D([0,1])}},n}();function ZD(n,e){var t=n.visual,i=[];Rt(t)?bb(t,function(a){i.push(a)}):null!=t&&i.push(t),!e&&1===i.length&&!{color:1,symbol:1}.hasOwnProperty(n.type)&&(i[1]=i[0]),uR(n,i)}function JA(n){return{applyVisual:function(e,t,i){var o=this.mapValueToVisual(e);i("color",n(t("color"),o))},_normalizedToVisual:$D([0,1])}}function cR(n){var e=this.option.visual;return e[Math.round(Ie(n,[0,1],[0,e.length-1],!0))]||{}}function wb(n){return function(e,t,i){i(n,this.mapValueToVisual(e))}}function _b(n){var e=this.option.visual;return e[this.option.loop&&-1!==n?n%e.length:n]}function fh(){return this.option.visual[0]}function $D(n){return{linear:function(e){return Ie(e,n,this.option.visual,!0)},category:_b,piecewise:function(e,t){var i=KD.call(this,t);return null==i&&(i=Ie(e,n,this.option.visual,!0)),i},fixed:fh}}function KD(n){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var o=t[qD.findPieceIndex(n,t)];if(o&&o.visual)return o.visual[this.type]}}function uR(n,e){return n.visual=e,"color"===n.type&&(n.parsedVisual=gt(e,function(t){return Hr(t)||[0,0,0,1]})),e}var G7={linear:function(n){return Ie(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var e=this.option.pieceList,t=qD.findPieceIndex(n,e,!0);if(null!=t)return Ie(t,[0,e.length-1],[0,1],!0)},category:function(n){return(this.option.categories?this.option.categoryMap[n]:n)??-1},fixed:vn};function tC(n,e,t){return n?e<=t:e<t}const Br=qD;var dR=ye();const W7={seriesType:"treemap",reset:function(n){var t=n.getData().tree.root;t.isRemoved()||hR(t,{},n.getViewRoot().getAncestors(),n)}};function hR(n,e,t,i){var o=n.getModel(),a=n.getLayout(),l=n.hostTree.data;if(a&&!a.invisible&&a.isInView){var b,u=o.getModel("itemStyle"),d=function(n,e,t){var i=st({},e),o=t.designatedVisualItemStyle;return V(["color","colorAlpha","colorSaturation"],function(a){o[a]=e[a];var l=n.get(a);o[a]=null,null!=l&&(i[a]=l)}),i}(u,e,i),p=l.ensureUniqueItemVisual(n.dataIndex,"style"),g=u.get("borderColor"),m=u.get("borderColorSaturation");null!=m&&(g=function(n,e){return null!=e?$l(e,null,null,n):null}(m,b=fR(d))),p.stroke=g;var w=n.viewChildren;if(w&&w.length){var k=function(n,e,t,i,o,a){if(a&&a.length){var l=QD(e,"color")||null!=o.color&&"none"!==o.color&&(QD(e,"colorAlpha")||QD(e,"colorSaturation"));if(l){var u=e.get("visualMin"),d=e.get("visualMax"),p=t.dataExtent.slice();null!=u&&u<p[0]&&(p[0]=u),null!=d&&d>p[1]&&(p[1]=d);var g=e.get("colorMappingBy"),m={type:l.name,dataExtent:p,visual:l.range};"color"!==m.type||"index"!==g&&"id"!==g?m.mappingMethod="linear":(m.mappingMethod="category",m.loop=!0);var b=new Br(m);return dR(b).drColorMappingBy=g,b}}}(0,o,a,0,d,w);V(w,function(C,x){if(C.depth>=t.length||C===t[C.depth]){var T=function(n,e,t,i,o,a){var l=st({},e);if(o){var u=o.type,d="color"===u&&dR(o).drColorMappingBy,p="index"===d?i:"id"===d?a.mapIdToIndex(t.getId()):t.getValue(n.get("visualDimension"));l[u]=o.mapValueToVisual(p)}return l}(o,d,C,x,k,i);hR(C,T,t,i)}})}else b=fR(d),p.fill=b}}function fR(n){var e=XD(n,"color");if(e){var t=XD(n,"colorAlpha"),i=XD(n,"colorSaturation");return i&&(e=$l(e,null,null,i)),t&&(e=Kl(e,t)),e}}function XD(n,e){var t=n[e];if(null!=t&&"none"!==t)return t}function QD(n,e){var t=n.get(e);return pt(t)&&t.length?{name:e,range:t}:null}var kb=Math.max,eC=Math.min,pR=pn,JD=V,gR=["itemStyle","borderWidth"],K7=["itemStyle","gapWidth"],X7=["upperLabel","show"],Q7=["upperLabel","height"];const J7={seriesType:"treemap",reset:function(n,e,t,i){var o=t.getWidth(),a=t.getHeight(),l=n.option,u=Bn(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),d=l.size||[],p=_t(pR(u.width,d[0]),o),g=_t(pR(u.height,d[1]),a),m=i&&i.type,w=vb(i,["treemapZoomToNode","treemapRootToNode"],n),k="treemapRender"===m||"treemapMove"===m?i.rootRect:null,C=n.getViewRoot(),x=J5(C);if("treemapMove"!==m){var T="treemapZoomToNode"===m?function(n,e,t,i,o){var a=(e||{}).node,l=[i,o];if(!a||a===t)return l;for(var u,d=i*o,p=d*n.option.zoomToNodeRatio;u=a.parentNode;){for(var g=0,m=u.children,b=0,w=m.length;b<w;b++)g+=m[b].getValue();var k=a.getValue();if(0===k)return l;p*=g/k;var C=u.getModel(),x=C.get(gR);(p+=4*x*x+(3*x+Math.max(x,bR(C)))*Math.pow(p,.5))>qi&&(p=qi),a=u}p<d&&(p=d);var M=Math.pow(p/d,.5);return[i*M,o*M]}(n,w,C,p,g):k?[k.width,k.height]:[p,g],M=l.sort;M&&"asc"!==M&&"desc"!==M&&(M="desc");var I={squareRatio:l.squareRatio,sort:M,leafDepth:l.leafDepth};C.hostTree.clearLayouts();var L={x:0,y:0,width:T[0],height:T[1],area:T[0]*T[1]};C.setLayout(L),vR(C,I,!1,0),L=C.getLayout(),JD(x,function(R,B){var O=(x[B+1]||C).getValue();R.setLayout(st({dataExtent:[O,O],borderWidth:0,upperHeight:0},L))})}var N=n.getData().tree.root;N.setLayout(function(n,e,t){if(e)return{x:e.x,y:e.y};var i={x:0,y:0};if(!t)return i;var o=t.node,a=o.getLayout();if(!a)return i;for(var l=[a.width/2,a.height/2],u=o;u;){var d=u.getLayout();l[0]+=d.x,l[1]+=d.y,u=u.parentNode}return{x:n.width/2-l[0],y:n.height/2-l[1]}}(u,k,w),!0),n.setLayoutInfo(u),yR(N,new $t(-u.x,-u.y,o,a),x,C,0)}};function vR(n,e,t,i){var o,a;if(!n.isRemoved()){var l=n.getLayout();o=l.width,a=l.height;var u=n.getModel(),d=u.get(gR),p=u.get(K7)/2,g=bR(u),m=Math.max(d,g),b=d-p,w=m-p;n.setLayout({borderWidth:d,upperHeight:m,upperLabelHeight:g},!0);var k=(o=kb(o-2*b,0))*(a=kb(a-b-w,0)),C=function(n,e,t,i,o,a){var l=n.children||[],u=i.sort;"asc"!==u&&"desc"!==u&&(u=null);var d=null!=i.leafDepth&&i.leafDepth<=a;if(o&&!d)return n.viewChildren=[];l=Le(l,function(w){return!w.isRemoved()}),function(n,e){e&&n.sort(function(t,i){var o="asc"===e?t.getValue()-i.getValue():i.getValue()-t.getValue();return 0===o?"asc"===e?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:o})}(l,u);var p=function(n,e,t){for(var i=0,o=0,a=e.length;o<a;o++)i+=e[o].getValue();var u,l=n.get("visualDimension");return e&&e.length?"value"===l&&t?(u=[e[e.length-1].getValue(),e[0].getValue()],"asc"===t&&u.reverse()):(u=[1/0,-1/0],JD(e,function(d){var p=d.getValue(l);p<u[0]&&(u[0]=p),p>u[1]&&(u[1]=p)})):u=[NaN,NaN],{sum:i,dataExtent:u}}(e,l,u);if(0===p.sum)return n.viewChildren=[];if(p.sum=function(n,e,t,i,o){if(!i)return t;for(var a=n.get("visibleMin"),l=o.length,u=l,d=l-1;d>=0;d--){var p=o["asc"===i?l-d-1:d].getValue();p/t*e<a&&(u=d,t-=p)}return o.splice("asc"===i?0:u,l-u),t}(e,t,p.sum,u,l),0===p.sum)return n.viewChildren=[];for(var g=0,m=l.length;g<m;g++){var b=l[g].getValue()/p.sum*t;l[g].setLayout({area:b})}return d&&(l.length&&n.setLayout({isLeafRoot:!0},!0),l.length=0),n.viewChildren=l,n.setLayout({dataExtent:p.dataExtent},!0),l}(n,u,k,e,t,i);if(C.length){var x={x:b,y:w,width:o,height:a},T=eC(o,a),M=1/0,I=[];I.area=0;for(var L=0,N=C.length;L<N;){var R=C[L];I.push(R),I.area+=R.getLayout().area;var B=i8(I,T,e.squareRatio);B<=M?(L++,M=B):(I.area-=I.pop().getLayout().area,mR(I,T,x,p,!1),T=eC(x.width,x.height),I.length=I.area=0,M=1/0)}if(I.length&&mR(I,T,x,p,!0),!t){var O=u.get("childrenVisibleMin");null!=O&&k<O&&(t=!0)}for(L=0,N=C.length;L<N;L++)vR(C[L],e,t,i+1)}}}function i8(n,e,t){for(var i=0,o=1/0,a=0,l=void 0,u=n.length;a<u;a++)(l=n[a].getLayout().area)&&(l<o&&(o=l),l>i&&(i=l));var d=n.area*n.area,p=e*e*t;return d?kb(p*i/d,d/(p*o)):1/0}function mR(n,e,t,i,o){var a=e===t.width?0:1,l=1-a,u=["x","y"],d=["width","height"],p=t[u[a]],g=e?n.area/e:0;(o||g>t[d[l]])&&(g=t[d[l]]);for(var m=0,b=n.length;m<b;m++){var w=n[m],k={},C=g?w.getLayout().area/g:0,x=k[d[l]]=kb(g-2*i,0),T=t[u[a]]+t[d[a]]-p,M=m===b-1||T<C?T:C,I=k[d[a]]=kb(M-2*i,0);k[u[l]]=t[u[l]]+eC(i,x/2),k[u[a]]=p+eC(i,I/2),p+=M,w.setLayout(k,!0)}t[u[l]]+=g,t[d[l]]-=g}function yR(n,e,t,i,o){var a=n.getLayout(),l=t[o],u=l&&l===n;if(!(l&&!u||o===t.length&&n!==i)){n.setLayout({isInView:!0,invisible:!u&&!e.intersect(a),isAboveViewRoot:u},!0);var d=new $t(e.x-a.x,e.y-a.y,e.width,e.height);JD(n.viewChildren||[],function(p){yR(p,d,t,i,o+1)})}}function bR(n){return n.get(X7)?n.get(Q7):0}function l8(n){var e=n.findComponents({mainType:"legend"});!e||!e.length||n.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),a=t.getGraph().data,l=i.mapArray(i.getName);a.filterSelf(function(u){var p=a.getItemModel(u).getShallow("category");if(null!=p){_e(p)&&(p=l[p]);for(var g=0;g<e.length;g++)if(!e[g].isSelected(p))return!1}return!0})})}function c8(n){var e={};n.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),o=t.getData(),a={};i.each(function(l){var u=i.getName(l);a["ec-"+u]=l;var d=i.getItemModel(l),p=d.getModel("itemStyle").getItemStyle();p.fill||(p.fill=t.getColorFromPalette(u,e)),i.setItemVisual(l,"style",p);for(var g=["symbol","symbolSize","symbolKeepAspect"],m=0;m<g.length;m++){var b=d.getShallow(g[m],!0);null!=b&&i.setItemVisual(l,g[m],b)}}),i.count()&&o.each(function(l){var d=o.getItemModel(l).getShallow("category");if(null!=d){At(d)&&(d=a["ec-"+d]);var p=i.getItemVisual(d,"style");st(o.ensureUniqueItemVisual(l,"style"),p);for(var m=["symbol","symbolSize","symbolKeepAspect"],b=0;b<m.length;b++)o.setItemVisual(l,m[b],i.getItemVisual(d,m[b]))}})})}function nC(n){return n instanceof Array||(n=[n,n]),n}function u8(n){n.eachSeriesByType("graph",function(e){var t=e.getGraph(),i=e.getEdgeData(),o=nC(e.get("edgeSymbol")),a=nC(e.get("edgeSymbolSize"));i.setVisual("fromSymbol",o&&o[0]),i.setVisual("toSymbol",o&&o[1]),i.setVisual("fromSymbolSize",a&&a[0]),i.setVisual("toSymbolSize",a&&a[1]),i.setVisual("style",e.getModel("lineStyle").getLineStyle()),i.each(function(l){var u=i.getItemModel(l),d=t.getEdgeByIndex(l),p=nC(u.getShallow("symbol",!0)),g=nC(u.getShallow("symbolSize",!0)),m=u.getModel("lineStyle").getLineStyle(),b=i.ensureUniqueItemVisual(l,"style");switch(st(b,m),b.stroke){case"source":var w=d.node1.getVisual("style");b.stroke=w&&w.fill;break;case"target":w=d.node2.getVisual("style"),b.stroke=w&&w.fill}p[0]&&d.setVisual("fromSymbol",p[0]),p[1]&&d.setVisual("toSymbol",p[1]),g[0]&&d.setVisual("fromSymbolSize",g[0]),g[1]&&d.setVisual("toSymbolSize",g[1])})})}var rC=function(n){return n.get("autoCurveness")||null},wR=function(n,e){var t=rC(n),i=20,o=[];if(_e(t))i=t;else if(pt(t))return void(n.__curvenessList=t);e>i&&(i=e);var a=i%2?i+2:i+3;o=[];for(var l=0;l<a;l++)o.push((l%2?l+1:l)/10*(l%2?-1:1));n.__curvenessList=o},Ab=function(n,e,t){var i=[n.id,n.dataIndex].join("."),o=[e.id,e.dataIndex].join(".");return[t.uid,i,o].join("--\x3e")},_R=function(n){var e=n.split("--\x3e");return[e[0],e[2],e[1]].join("--\x3e")},eM=function(n,e){var t=e.__edgeMap;return t[n]?t[n].length:0};function nM(n,e,t,i){var o=rC(e),a=pt(o);if(!o)return null;var l=function(n,e){var t=Ab(n.node1,n.node2,e);return e.__edgeMap[t]}(n,e);if(!l)return null;for(var u=-1,d=0;d<l.length;d++)if(l[d]===t){u=d;break}var p=function(n,e){return eM(Ab(n.node1,n.node2,e),e)+eM(Ab(n.node2,n.node1,e),e)}(n,e);wR(e,p),n.lineStyle=n.lineStyle||{};var g=Ab(n.node1,n.node2,e),m=e.__curvenessList,b=a||p%2?0:1;if(l.isForward)return m[b+u];var w=_R(g),k=eM(w,e),C=m[u+k+b];return i?a?o&&0===o[0]?(k+b)%2?C:-C:((k%2?0:1)+b)%2?C:-C:(k+b)%2?C:-C:m[u+k+b]}function kR(n){var e=n.coordinateSystem;if(!e||"view"===e.type){var t=n.getGraph();t.eachNode(function(i){var o=i.getModel();i.setLayout([+o.get("x"),+o.get("y")])}),rM(t,n)}}function rM(n,e){n.eachEdge(function(t,i){var o=go(t.getModel().get(["lineStyle","curveness"]),-nM(t,e,i,!0),0),a=Fi(t.node1.getLayout()),l=Fi(t.node2.getLayout()),u=[a,l];+o&&u.push([(a[0]+l[0])/2-(a[1]-l[1])*o,(a[1]+l[1])/2-(l[0]-a[0])*o]),t.setLayout(u)})}function g8(n,e){n.eachSeriesByType("graph",function(t){var i=t.get("layout"),o=t.coordinateSystem;if(o&&"view"!==o.type){var a=t.getData(),l=[];V(o.dimensions,function(b){l=l.concat(a.mapDimensionsAll(b))});for(var u=0;u<a.count();u++){for(var d=[],p=!1,g=0;g<l.length;g++){var m=a.get(l[g],u);isNaN(m)||(p=!0),d.push(m)}a.setItemLayout(u,p?o.dataToPoint(d):[NaN,NaN])}rM(a.graph,t)}else(!i||"none"===i)&&kR(t)})}function Cb(n){var e=n.coordinateSystem;if("view"!==e.type)return 1;var t=n.option.nodeScaleRatio,i=e.scaleX;return((e.getZoom()-1)*t+1)/i}function xb(n){var e=n.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var AR=Math.PI,iM=[];function oM(n,e,t,i){var o=n.coordinateSystem;if(!o||"view"===o.type){var a=o.getBoundingRect(),l=n.getData(),u=l.graph,d=a.width/2+a.x,p=a.height/2+a.y,g=Math.min(a.width,a.height)/2,m=l.count();if(l.setLayout({cx:d,cy:p}),m){if(t){var b=o.pointToData(i),C=[b[0]-d,b[1]-p];Gl(C,C),Da(C,C,g),t.setLayout([d+C[0],p+C[1]],!0),CR(t,n.get(["circular","rotateLabel"]),d,p)}v8[e](n,u,l,g,d,p,m),u.eachEdge(function(T,M){var R,I=go(T.getModel().get(["lineStyle","curveness"]),nM(T,n,M),0),L=Fi(T.node1.getLayout()),N=Fi(T.node2.getLayout());+I&&(R=[d*(I*=3)+(L[0]+N[0])/2*(1-I),p*I+(L[1]+N[1])/2*(1-I)]),T.setLayout([L,N,R])})}}}var v8={value:function(n,e,t,i,o,a,l){var u=0,d=t.getSum("value"),p=2*Math.PI/(d||l);e.eachNode(function(g){var m=g.getValue("value"),b=p*(d?m:1)/2;u+=b,g.setLayout([i*Math.cos(u)+o,i*Math.sin(u)+a]),u+=b})},symbolSize:function(n,e,t,i,o,a,l){var u=0;iM.length=l;var d=Cb(n);e.eachNode(function(m){var b=xb(m);isNaN(b)&&(b=2),b<0&&(b=0),b*=d;var w=Math.asin(b/2/i);isNaN(w)&&(w=AR/2),iM[m.dataIndex]=w,u+=2*w});var p=(2*AR-u)/l/2,g=0;e.eachNode(function(m){var b=p+iM[m.dataIndex];g+=b,(!m.getLayout()||!m.getLayout().fixed)&&m.setLayout([i*Math.cos(g)+o,i*Math.sin(g)+a]),g+=b})}};function CR(n,e,t,i){var o=n.getGraphicEl();if(o){var l=n.getModel().get(["label","rotate"])||0,u=o.getSymbolPath();if(e){var d=n.getLayout(),p=Math.atan2(d[1]-i,d[0]-t);p<0&&(p=2*Math.PI+p);var g=d[0]<t;g&&(p-=Math.PI);var m=g?"left":"right";u.setTextConfig({rotation:-p,position:m,origin:"center"});var b=u.ensureState("emphasis");st(b.textConfig||(b.textConfig={}),{position:m})}else u.setTextConfig({rotation:l*=Math.PI/180})}}function m8(n){n.eachSeriesByType("graph",function(e){"circular"===e.get("layout")&&oM(e,"symbolSize")})}var Bg=Vh;function b8(n){n.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var i=e.preservedPoints||{},o=e.getGraph(),a=o.data,l=o.edgeData,u=e.getModel("force"),d=u.get("initLayout");e.preservedPoints?a.each(function(I){var L=a.getId(I);a.setItemLayout(I,i[L]||[NaN,NaN])}):d&&"none"!==d?"circular"===d&&oM(e,"value"):kR(e);var p=a.getDataExtent("value"),g=l.getDataExtent("value"),m=u.get("repulsion"),b=u.get("edgeLength"),w=pt(m)?m:[m,m],k=pt(b)?b:[b,b];k=[k[1],k[0]];var C=a.mapArray("value",function(I,L){var N=a.getItemLayout(L),R=Ie(I,p,w);return isNaN(R)&&(R=(w[0]+w[1])/2),{w:R,rep:R,fixed:a.getItemModel(L).get("fixed"),p:!N||isNaN(N[0])||isNaN(N[1])?null:N}}),x=l.mapArray("value",function(I,L){var N=o.getEdgeByIndex(L),R=Ie(I,g,k);isNaN(R)&&(R=(k[0]+k[1])/2);var B=N.getModel(),O=go(N.getModel().get(["lineStyle","curveness"]),-nM(N,e,L,!0),0);return{n1:C[N.node1.dataIndex],n2:C[N.node2.dataIndex],d:R,curveness:O,ignoreForceLayout:B.get("ignoreForceLayout")}}),T=t.getBoundingRect(),M=function(n,e,t){for(var i=n,o=e,a=t.rect,l=a.width,u=a.height,d=[a.x+l/2,a.y+u/2],p=t.gravity??.1,g=0;g<i.length;g++){var m=i[g];m.p||(m.p=Go(l*(Math.random()-.5)+d[0],u*(Math.random()-.5)+d[1])),m.pp=Fi(m.p),m.edges=null}var k,C,b=t.friction??.6,w=b;return{warmUp:function(){w=.8*b},setFixed:function(x){i[x].fixed=!0},setUnfixed:function(x){i[x].fixed=!1},beforeStep:function(x){k=x},afterStep:function(x){C=x},step:function(x){k&&k(i,o);for(var T=[],M=i.length,I=0;I<o.length;I++){var L=o[I];if(!L.ignoreForceLayout){Ta(T,(R=L.n2).p,(N=L.n1).p);var B=Fh(T)-L.d,O=R.w/(N.w+R.w);isNaN(O)&&(O=0),Gl(T,T),!N.fixed&&Bg(N.p,N.p,T,O*B*w),!R.fixed&&Bg(R.p,R.p,T,-(1-O)*B*w)}}for(I=0;I<M;I++)(F=i[I]).fixed||(Ta(T,d,F.p),Bg(F.p,F.p,T,p*w));for(I=0;I<M;I++)for(var N=i[I],H=I+1;H<M;H++){var R;Ta(T,(R=i[H]).p,N.p),0===(B=Fh(T))&&(Qb(T,Math.random()-.5,Math.random()-.5),B=1);var j=(N.rep+R.rep)/B/B;!N.fixed&&Bg(N.pp,N.pp,T,j),!R.fixed&&Bg(R.pp,R.pp,T,-j)}var q=[];for(I=0;I<M;I++){var F;(F=i[I]).fixed||(Ta(q,F.p,F.pp),Bg(F.p,F.p,q,w),er(F.pp,F.p))}var Z=(w*=.992)<.01;C&&C(i,o,Z),x&&x(Z)}}}(C,x,{rect:T,gravity:u.get("gravity"),friction:u.get("friction")});M.beforeStep(function(I,L){for(var N=0,R=I.length;N<R;N++)I[N].fixed&&er(I[N].p,o.getNodeByIndex(N).getLayout())}),M.afterStep(function(I,L,N){for(var R=0,B=I.length;R<B;R++)I[R].fixed||o.getNodeByIndex(R).setLayout(I[R].p),i[a.getId(R)]=I[R].p;for(R=0,B=L.length;R<B;R++){var O=L[R],F=o.getEdgeByIndex(R),H=O.n1.p,j=O.n2.p,q=F.getLayout();(q=q?q.slice():[])[0]=q[0]||[],q[1]=q[1]||[],er(q[0],H),er(q[1],j),+O.curveness&&(q[2]=[(H[0]+j[0])/2-(H[1]-j[1])*O.curveness,(H[1]+j[1])/2-(j[0]-H[0])*O.curveness]),F.setLayout(q)}}),e.forceLayout=M,e.preservedPoints=i,M.step()}else e.forceLayout=null})}function _8(n,e){var t=[];return n.eachSeriesByType("graph",function(i){var o=i.get("coordinateSystem");if(!o||"view"===o){var a=i.getData(),u=[],d=[];sd(a.mapArray(function(x){var T=a.getItemModel(x);return[+T.get("x"),+T.get("y")]}),u,d),d[0]-u[0]==0&&(d[0]+=1,u[0]-=1),d[1]-u[1]==0&&(d[1]+=1,u[1]-=1);var p=(d[0]-u[0])/(d[1]-u[1]),g=function(n,e,t){return Bn(st(n.getBoxLayoutParams(),{aspect:t}),{width:e.getWidth(),height:e.getHeight()})}(i,e,p);isNaN(p)&&(u=[g.x,g.y],d=[g.x+g.width,g.y+g.height]);var m=d[0]-u[0],b=d[1]-u[1],w=g.width,k=g.height,C=i.coordinateSystem=new pb;C.zoomLimit=i.get("scaleLimit"),C.setBoundingRect(u[0],u[1],m,b),C.setViewRect(g.x,g.y,w,k),C.setCenter(i.get("center"),e),C.setZoom(i.get("zoom")),t.push(C)}}),t}var xR=zn.prototype,aM=Od.prototype,SR=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function sM(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}!function(n){tt(function(){return null!==n&&n.apply(this,arguments)||this},n)}(SR);var k8=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-line",i}return tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new SR},e.prototype.buildPath=function(t,i){sM(i)?xR.buildPath.call(this,t,i):aM.buildPath.call(this,t,i)},e.prototype.pointAt=function(t){return sM(this.shape)?xR.pointAt.call(this,t):aM.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var i=this.shape,o=sM(i)?[i.x2-i.x1,i.y2-i.y1]:aM.tangentAt.call(this,t);return Gl(o,o)},e}(re);const A8=k8;var lM=["fromSymbol","toSymbol"];function TR(n){return"_"+n+"Type"}function DR(n,e,t){var i=e.getItemVisual(t,n);if(i&&"none"!==i){var o=e.getItemVisual(t,n+"Size"),a=e.getItemVisual(t,n+"Rotate"),l=e.getItemVisual(t,n+"Offset"),u=e.getItemVisual(t,n+"KeepAspect"),d=Xc(o),p=Qc(l||0,d),g=wn(i,-d[0]/2+p[0],-d[1]/2+p[1],d[0],d[1],null,u);return g.__specifiedRotation=null==a||isNaN(a)?void 0:+a*Math.PI/180||0,g.name=n,g}}function cM(n,e){n.x1=e[0][0],n.y1=e[0][1],n.x2=e[1][0],n.y2=e[1][1],n.percent=1;var t=e[2];t?(n.cpx1=t[0],n.cpy1=t[1]):(n.cpx1=NaN,n.cpy1=NaN)}var x8=function(n){function e(t,i,o){var a=n.call(this)||this;return a._createLine(t,i,o),a}return tt(e,n),e.prototype._createLine=function(t,i,o){var a=t.hostModel,u=function(n){var e=new A8({name:"line",subPixelOptimize:!0});return cM(e.shape,n),e}(t.getItemLayout(i));u.shape.percent=0,Je(u,{shape:{percent:1}},a,i),this.add(u),V(lM,function(d){var p=DR(d,t,i);this.add(p),this[TR(d)]=t.getItemVisual(i,d)},this),this._updateCommonStl(t,i,o)},e.prototype.updateData=function(t,i,o){var a=t.hostModel,l=this.childOfName("line"),u=t.getItemLayout(i),d={shape:{}};cM(d.shape,u),ke(l,d,a,i),V(lM,function(p){var g=t.getItemVisual(i,p),m=TR(p);if(this[m]!==g){this.remove(this.childOfName(p));var b=DR(p,t,i);this.add(b)}this[m]=g},this),this._updateCommonStl(t,i,o)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,i,o){var a=t.hostModel,l=this.childOfName("line"),u=o&&o.emphasisLineStyle,d=o&&o.blurLineStyle,p=o&&o.selectLineStyle,g=o&&o.labelStatesModels,m=o&&o.emphasisDisabled,b=o&&o.focus,w=o&&o.blurScope;if(!o||t.hasItemOption){var k=t.getItemModel(i),C=k.getModel("emphasis");u=C.getModel("lineStyle").getLineStyle(),d=k.getModel(["blur","lineStyle"]).getLineStyle(),p=k.getModel(["select","lineStyle"]).getLineStyle(),m=C.get("disabled"),b=C.get("focus"),w=C.get("blurScope"),g=Nn(k)}var x=t.getItemVisual(i,"style"),T=x.stroke;l.useStyle(x),l.style.fill=null,l.style.strokeNoScale=!0,l.ensureState("emphasis").style=u,l.ensureState("blur").style=d,l.ensureState("select").style=p,V(lM,function(R){var B=this.childOfName(R);if(B){B.setColor(T),B.style.opacity=x.opacity;for(var O=0;O<Sr.length;O++){var F=Sr[O],H=l.getState(F);if(H){var j=H.style||{},q=B.ensureState(F),Z=q.style||(q.style={});null!=j.stroke&&(Z[B.__isEmptyBrush?"stroke":"fill"]=j.stroke),null!=j.opacity&&(Z.opacity=j.opacity)}}B.markRedraw()}},this);var M=a.getRawValue(i);sr(this,g,{labelDataIndex:i,labelFetcher:{getFormattedLabel:function(R,B){return a.getFormattedLabel(R,B,t.dataType)}},inheritColor:T||"#000",defaultOpacity:x.opacity,defaultText:(null==M?t.getName(i):isFinite(M)?on(M):M)+""});var I=this.getTextContent();if(I){var L=g.normal;I.__align=I.style.align,I.__verticalAlign=I.style.verticalAlign,I.__position=L.get("position")||"middle";var N=L.get("distance");pt(N)||(N=[N,N]),I.__labelDistance=N}this.setTextConfig({position:null,local:!0,inside:!1}),cn(this,b,w,m)},e.prototype.highlight=function(){sa(this)},e.prototype.downplay=function(){vi(this)},e.prototype.updateLayout=function(t,i){this.setLinePoints(t.getItemLayout(i))},e.prototype.setLinePoints=function(t){var i=this.childOfName("line");cM(i.shape,t),i.dirty()},e.prototype.beforeUpdate=function(){var t=this,i=t.childOfName("fromSymbol"),o=t.childOfName("toSymbol"),a=t.getTextContent();if(i||o||a&&!a.ignore){for(var l=1,u=this.parent;u;)u.scaleX&&(l/=u.scaleX),u=u.parent;var d=t.childOfName("line");if(this.__dirty||d.__dirty){var p=d.shape.percent,g=d.pointAt(0),m=d.pointAt(p),b=Ta([],m,g);if(Gl(b,b),i&&(i.setPosition(g),w(i,0),i.scaleX=i.scaleY=l*p,i.markRedraw()),o&&(o.setPosition(m),w(o,1),o.scaleX=o.scaleY=l*p,o.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var k=void 0,C=void 0,x=a.__labelDistance,T=x[0]*l,M=x[1]*l,I=p/2,L=d.tangentAt(I),N=[L[1],-L[0]],R=d.pointAt(I);N[1]>0&&(N[0]=-N[0],N[1]=-N[1]);var B=L[0]<0?-1:1;if("start"!==a.__position&&"end"!==a.__position){var O=-Math.atan2(L[1],L[0]);m[0]<g[0]&&(O=Math.PI+O),a.rotation=O}var F=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":F=-M,C="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":F=M,C="top";break;default:F=0,C="middle"}switch(a.__position){case"end":a.x=b[0]*T+m[0],a.y=b[1]*M+m[1],k=b[0]>.8?"left":b[0]<-.8?"right":"center",C=b[1]>.8?"top":b[1]<-.8?"bottom":"middle";break;case"start":a.x=-b[0]*T+g[0],a.y=-b[1]*M+g[1],k=b[0]>.8?"right":b[0]<-.8?"left":"center",C=b[1]>.8?"bottom":b[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=T*B+g[0],a.y=g[1]+F,k=L[0]<0?"right":"left",a.originX=-T*B,a.originY=-F;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=R[0],a.y=R[1]+F,k="center",a.originY=-F;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-T*B+m[0],a.y=m[1]+F,k=L[0]>=0?"right":"left",a.originX=T*B,a.originY=-F}a.scaleX=a.scaleY=l,a.setStyle({verticalAlign:a.__verticalAlign||C,align:a.__align||k})}}}function w(H,j){var q=H.__specifiedRotation;if(null==q){var Z=d.tangentAt(j);H.attr("rotation",(1===j?-1:1)*Math.PI/2-Math.atan2(Z[1],Z[0]))}else H.attr("rotation",q)}},e}(Vt);const uM=x8;var S8=function(){function n(e){this.group=new Vt,this._LineCtor=e||uM}return n.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var i=this,o=i.group,a=i._lineData;i._lineData=e,a||o.removeAll();var l=MR(e);e.diff(a).add(function(u){t._doAdd(e,u,l)}).update(function(u,d){t._doUpdate(a,e,d,u,l)}).remove(function(u){o.remove(a.getItemGraphicEl(u))}).execute()},n.prototype.updateLayout=function(){var e=this._lineData;!e||e.eachItemGraphicEl(function(t,i){t.updateLayout(e,i)},this)},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=MR(e),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t){function i(u){!u.isGroup&&!function(n){return n.animators&&n.animators.length>0}(u)&&(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var o=e.start;o<e.end;o++)if(dM(t.getItemLayout(o))){var l=new this._LineCtor(t,o,this._seriesScope);l.traverse(i),this.group.add(l),t.setItemGraphicEl(o,l),this._progressiveEls.push(l)}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(e){wi(this._progressiveEls||this.group,e)},n.prototype._doAdd=function(e,t,i){if(dM(e.getItemLayout(t))){var a=new this._LineCtor(e,t,i);e.setItemGraphicEl(t,a),this.group.add(a)}},n.prototype._doUpdate=function(e,t,i,o,a){var l=e.getItemGraphicEl(i);dM(t.getItemLayout(o))?(l?l.updateData(t,o,a):l=new this._LineCtor(t,o,a),t.setItemGraphicEl(o,l),this.group.add(l)):this.group.remove(l)},n}();function MR(n){var e=n.hostModel,t=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:Nn(e)}}function IR(n){return isNaN(n[0])||isNaN(n[1])}function dM(n){return n&&!IR(n[0])&&!IR(n[1])}const hM=S8;var fM=[],pM=[],gM=[],zg=Pn,vM=ks,ER=Math.abs;function LR(n,e,t){for(var u,i=n[0],o=n[1],a=n[2],l=1/0,d=t*t,p=.1,g=.1;g<=.9;g+=.1)fM[0]=zg(i[0],o[0],a[0],g),fM[1]=zg(i[1],o[1],a[1],g),(m=ER(vM(fM,e)-d))<l&&(l=m,u=g);for(var b=0;b<32;b++){var w=u+p;pM[0]=zg(i[0],o[0],a[0],u),pM[1]=zg(i[1],o[1],a[1],u),gM[0]=zg(i[0],o[0],a[0],w),gM[1]=zg(i[1],o[1],a[1],w);var m=vM(pM,e)-d;if(ER(m)<.01)break;var k=vM(gM,e)-d;p/=2,m<0?k>=0?u+=p:u-=p:k>=0?u-=p:u+=p}return u}function mM(n,e){var t=[],i=ql,o=[[],[],[]],a=[[],[]],l=[];e/=2,n.eachEdge(function(u,d){var p=u.getLayout(),g=u.getVisual("fromSymbol"),m=u.getVisual("toSymbol");p.__original||(p.__original=[Fi(p[0]),Fi(p[1])],p[2]&&p.__original.push(Fi(p[2])));var b=p.__original;if(null!=p[2]){if(er(o[0],b[0]),er(o[1],b[2]),er(o[2],b[1]),g&&"none"!==g){var w=xb(u.node1),k=LR(o,b[0],w*e);i(o[0][0],o[1][0],o[2][0],k,t),o[0][0]=t[3],o[1][0]=t[4],i(o[0][1],o[1][1],o[2][1],k,t),o[0][1]=t[3],o[1][1]=t[4]}m&&"none"!==m&&(w=xb(u.node2),k=LR(o,b[1],w*e),i(o[0][0],o[1][0],o[2][0],k,t),o[1][0]=t[1],o[2][0]=t[2],i(o[0][1],o[1][1],o[2][1],k,t),o[1][1]=t[1],o[2][1]=t[2]),er(p[0],o[0]),er(p[1],o[2]),er(p[2],o[1])}else er(a[0],b[0]),er(a[1],b[1]),Ta(l,a[1],a[0]),Gl(l,l),g&&"none"!==g&&(w=xb(u.node1),Vh(a[0],a[0],l,w*e)),m&&"none"!==m&&(w=xb(u.node2),Vh(a[1],a[1],l,-w*e)),er(p[0],a[0]),er(p[1],a[1])})}function PR(n){return"view"===n.type}var D8=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.init=function(t,i){var o=new nb,a=new hM,l=this.group;this._controller=new hb(i.getZr()),this._controllerHost={target:l},l.add(o.group),l.add(a.group),this._symbolDraw=o,this._lineDraw=a,this._firstRender=!0},e.prototype.render=function(t,i,o){var a=this,l=t.coordinateSystem;this._model=t;var u=this._symbolDraw,d=this._lineDraw,p=this.group;if(PR(l)){var g={x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY};this._firstRender?p.attr(g):ke(p,g,t)}mM(t.getGraph(),Cb(t));var m=t.getData();u.updateData(m);var b=t.getEdgeData();d.updateData(b),this._updateNodeAndLinkScale(),this._updateController(t,i,o),clearTimeout(this._layoutTimeout);var w=t.forceLayout,k=t.get(["force","layoutAnimation"]);w&&this._startForceLayoutIteration(w,k);var C=t.get("layout");m.graph.eachNode(function(I){var L=I.dataIndex,N=I.getGraphicEl(),R=I.getModel();if(N){N.off("drag").off("dragend");var B=R.get("draggable");B&&N.on("drag",function(F){switch(C){case"force":w.warmUp(),!a._layouting&&a._startForceLayoutIteration(w,k),w.setFixed(L),m.setItemLayout(L,[N.x,N.y]);break;case"circular":m.setItemLayout(L,[N.x,N.y]),I.setLayout({fixed:!0},!0),oM(t,"symbolSize",I,[F.offsetX,F.offsetY]),a.updateLayout(t);break;default:m.setItemLayout(L,[N.x,N.y]),rM(t.getGraph(),t),a.updateLayout(t)}}).on("dragend",function(){w&&w.setUnfixed(L)}),N.setDraggable(B,!!R.get("cursor")),"adjacency"===R.get(["emphasis","focus"])&&(jt(N).focus=I.getAdjacentDataIndices())}}),m.graph.eachEdge(function(I){var L=I.getGraphicEl(),N=I.getModel().get(["emphasis","focus"]);!L||"adjacency"===N&&(jt(L).focus={edge:[I.dataIndex],node:[I.node1.dataIndex,I.node2.dataIndex]})});var x="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),T=m.getLayout("cx"),M=m.getLayout("cy");m.graph.eachNode(function(I){CR(I,x,T,M)}),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,i){var o=this;!function a(){t.step(function(l){o.updateLayout(o._model),(o._layouting=!l)&&(i?o._layoutTimeout=setTimeout(a,16):a())})}()},e.prototype._updateController=function(t,i,o){var a=this,l=this._controller,u=this._controllerHost,d=this.group;l.setPointerChecker(function(p,g,m){var b=d.getBoundingRect();return b.applyTransform(d.transform),b.contain(g,m)&&!WA(p,o,t)}),PR(t.coordinateSystem)?(l.enable(t.get("roam")),u.zoomLimit=t.get("scaleLimit"),u.zoom=t.coordinateSystem.getZoom(),l.off("pan").off("zoom").on("pan",function(p){ID(u,p.dx,p.dy),o.dispatchAction({seriesId:t.id,type:"graphRoam",dx:p.dx,dy:p.dy})}).on("zoom",function(p){ED(u,p.scale,p.originX,p.originY),o.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:p.scale,originX:p.originX,originY:p.originY}),a._updateNodeAndLinkScale(),mM(t.getGraph(),Cb(t)),a._lineDraw.updateLayout(),o.updateLabelLayout()})):l.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,i=t.getData(),o=Cb(t);i.eachItemGraphicEl(function(a,l){a&&a.setSymbolScale(o)})},e.prototype.updateLayout=function(t){mM(t.getGraph(),Cb(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(Be);const M8=D8;function Og(n){return"_EC_"+n}var I8=function(){function n(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(e,t){var i=this._nodesMap;if(!i[Og(e=null==e?""+t:""+e)]){var o=new ph(e,t);return o.hostGraph=this,this.nodes.push(o),i[Og(e)]=o,o}},n.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},n.prototype.getNodeById=function(e){return this._nodesMap[Og(e)]},n.prototype.addEdge=function(e,t,i){var o=this._nodesMap,a=this._edgesMap;if(_e(e)&&(e=this.nodes[e]),_e(t)&&(t=this.nodes[t]),e instanceof ph||(e=o[Og(e)]),t instanceof ph||(t=o[Og(t)]),e&&t){var l=e.id+"-"+t.id,u=new RR(e,t,i);return u.hostGraph=this,this._directed&&(e.outEdges.push(u),t.inEdges.push(u)),e.edges.push(u),e!==t&&t.edges.push(u),this.edges.push(u),a[l]=u,u}},n.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},n.prototype.getEdge=function(e,t){e instanceof ph&&(e=e.id),t instanceof ph&&(t=t.id);var i=this._edgesMap;return this._directed?i[e+"-"+t]:i[e+"-"+t]||i[t+"-"+e]},n.prototype.eachNode=function(e,t){for(var i=this.nodes,o=i.length,a=0;a<o;a++)i[a].dataIndex>=0&&e.call(t,i[a],a)},n.prototype.eachEdge=function(e,t){for(var i=this.edges,o=i.length,a=0;a<o;a++)i[a].dataIndex>=0&&i[a].node1.dataIndex>=0&&i[a].node2.dataIndex>=0&&e.call(t,i[a],a)},n.prototype.breadthFirstTraverse=function(e,t,i,o){if(t instanceof ph||(t=this._nodesMap[Og(t)]),t){for(var a="out"===i?"outEdges":"in"===i?"inEdges":"edges",l=0;l<this.nodes.length;l++)this.nodes[l].__visited=!1;if(!e.call(o,t,null))for(var u=[t];u.length;){var d=u.shift(),p=d[a];for(l=0;l<p.length;l++){var g=p[l],m=g.node1===d?g.node2:g.node1;if(!m.__visited){if(e.call(o,m,d))return;u.push(m),m.__visited=!0}}}}},n.prototype.update=function(){for(var e=this.data,t=this.edgeData,i=this.nodes,o=this.edges,a=0,l=i.length;a<l;a++)i[a].dataIndex=-1;for(a=0,l=e.count();a<l;a++)i[e.getRawIndex(a)].dataIndex=a;for(t.filterSelf(function(u){var d=o[t.getRawIndex(u)];return d.node1.dataIndex>=0&&d.node2.dataIndex>=0}),a=0,l=o.length;a<l;a++)o[a].dataIndex=-1;for(a=0,l=t.count();a<l;a++)o[t.getRawIndex(a)].dataIndex=a},n.prototype.clone=function(){for(var e=new n(this._directed),t=this.nodes,i=this.edges,o=0;o<t.length;o++)e.addNode(t[o].id,t[o].dataIndex);for(o=0;o<i.length;o++){var a=i[o];e.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return e},n}(),ph=function(){function n(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=t??-1}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},n.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var i=this.edges[t];i.dataIndex<0||(e.edge.push(i.dataIndex),e.node.push(i.node1.dataIndex,i.node2.dataIndex))}return e},n}(),RR=function(){function n(e,t,i){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=i??-1}return n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n}();function NR(n,e){return{getValue:function(t){var i=this[n][e];return i.getStore().get(i.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,i){this.dataIndex>=0&&this[n][e].setItemVisual(this.dataIndex,t,i)},getVisual:function(t){return this[n][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,i){this.dataIndex>=0&&this[n][e].setItemLayout(this.dataIndex,t,i)},getLayout:function(){return this[n][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][e].getRawIndex(this.dataIndex)}}}fn(ph,NR("hostGraph","data")),fn(RR,NR("hostGraph","edgeData"));const E8=I8;function BR(n,e,t,i,o){for(var a=new E8(i),l=0;l<n.length;l++)a.addNode(pn(n[l].id,n[l].name,l),l);var u=[],d=[],p=0;for(l=0;l<e.length;l++){var g=e[l],m=g.source,b=g.target;a.addEdge(m,b,p)&&(d.push(g),u.push(pn(mn(g.id,null),m+" > "+b)),p++)}var k,w=t.get("coordinateSystem");if("cartesian2d"===w||"polar"===w)k=Dl(n,t);else{var C=ll.get(w),x=C&&C.dimensions||[];qt(x,"value")<0&&x.concat(["value"]);var T=Dg(n,{coordDimensions:x,encodeDefine:t.getEncode()}).dimensions;(k=new ki(T,t)).initData(n)}var M=new ki(["value"],t);return M.initData(d,u),o&&o(k,M),Q5({mainData:k,struct:a,structAttr:"graph",datas:{node:k,edge:M},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var L8=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return tt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments);var i=this;function o(){return i._categoriesData}this.legendVisualProvider=new ob(o,o),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){n.prototype.mergeDefaultAndTheme.apply(this,arguments),Ua(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,i){var o=t.edges||t.links||[],a=t.data||t.nodes||[],l=this;if(a&&o){!function(n){!rC(n)||(n.__curvenessList=[],n.__edgeMap={},wR(n))}(this);var u=BR(a,o,this,!0,function(p,g){p.wrapMethod("getItemModel",function(k){var T=l._categoriesModels[k.getShallow("category")];return T&&(T.parentModel=k.parentModel,k.parentModel=T),k});var m=Ye.prototype.getModel;function b(k,C){var x=m.call(this,k,C);return x.resolveParentPath=w,x}function w(k){if(k&&("label"===k[0]||"label"===k[1])){var C=k.slice();return"label"===k[0]?C[0]="edgeLabel":"label"===k[1]&&(C[1]="edgeLabel"),C}return k}g.wrapMethod("getItemModel",function(k){return k.resolveParentPath=w,k.getModel=b,k})});return V(u.edges,function(p){!function(n,e,t,i){if(rC(t)){var o=Ab(n,e,t),a=t.__edgeMap,l=a[_R(o)];a[o]&&!l?a[o].isForward=!0:l&&a[o]&&(l.isForward=!0,a[o].isForward=!1),a[o]=a[o]||[],a[o].push(i)}}(p.node1,p.node2,this,p.dataIndex)},this),u.data}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,i,o){if("edge"===o){var a=this.getData(),l=this.getDataParams(t,o),u=a.graph.getEdgeByIndex(t),d=a.getName(u.node1.dataIndex),p=a.getName(u.node2.dataIndex),g=[];return null!=d&&g.push(d),null!=p&&g.push(p),Mn("nameValue",{name:g.join(" > "),value:l.value,noValue:null==l.value})}return Ep({series:this,dataIndex:t,multipleSeries:i})},e.prototype._updateCategoriesData=function(){var t=gt(this.option.categories||[],function(o){return null!=o.value?o:st({value:0},o)}),i=new ki(["value"],this);i.initData(t),this._categoriesData=i,this._categoriesModels=i.mapArray(function(o){return i.getItemModel(o)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(en);const P8=L8;var R8={type:"graphRoam",event:"graphRoam",update:"none"},B8=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},z8=function(n){function e(t){var i=n.call(this,t)||this;return i.type="pointer",i}return tt(e,n),e.prototype.getDefaultShape=function(){return new B8},e.prototype.buildPath=function(t,i){var o=Math.cos,a=Math.sin,l=i.r,u=i.width,d=i.angle,p=i.x-o(d)*u*(u>=l/3?1:2),g=i.y-a(d)*u*(u>=l/3?1:2);d=i.angle-Math.PI/2,t.moveTo(p,g),t.lineTo(i.x+o(d)*u,i.y+a(d)*u),t.lineTo(i.x+o(i.angle)*l,i.y+a(i.angle)*l),t.lineTo(i.x-o(d)*u,i.y-a(d)*u),t.lineTo(p,g)},e}(re);const O8=z8;function iC(n,e){var t=null==n?"":n+"";return e&&(At(e)?t=e.replace("{value}",t):Mt(e)&&(t=e(n))),t}var F8=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.render=function(t,i,o){this.group.removeAll();var a=t.get(["axisLine","lineStyle","color"]),l=function(n,e){var t=n.get("center"),i=e.getWidth(),o=e.getHeight(),a=Math.min(i,o);return{cx:_t(t[0],e.getWidth()),cy:_t(t[1],e.getHeight()),r:_t(n.get("radius"),a/2)}}(t,o);this._renderMain(t,i,o,a,l),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,i,o,a,l){var u=this.group,d=t.get("clockwise"),p=-t.get("startAngle")/180*Math.PI,g=-t.get("endAngle")/180*Math.PI,m=t.getModel("axisLine"),w=m.get("roundCap")?MA:Mr,k=m.get("show"),C=m.getModel("lineStyle"),x=C.get("width"),T=[p,g];r_(T,!d);for(var M=(g=T[1])-(p=T[0]),I=p,L=[],N=0;k&&N<a.length;N++){var B=new w({shape:{startAngle:I,endAngle:g=p+M*Math.min(Math.max(a[N][0],0),1),cx:l.cx,cy:l.cy,clockwise:d,r0:l.r-x,r:l.r},silent:!0});B.setStyle({fill:a[N][1]}),B.setStyle(C.getLineStyle(["color","width"])),L.push(B),I=g}L.reverse(),V(L,function(F){return u.add(F)});var O=function(F){if(F<=0)return a[0][1];var H;for(H=0;H<a.length;H++)if(a[H][0]>=F&&(0===H?0:a[H-1][0])<F)return a[H][1];return a[H-1][1]};this._renderTicks(t,i,o,O,l,p,g,d,x),this._renderTitleAndDetail(t,i,o,O,l),this._renderAnchor(t,l),this._renderPointer(t,i,o,O,l,p,g,d,x)},e.prototype._renderTicks=function(t,i,o,a,l,u,d,p,g){for(var K,Q,m=this.group,b=l.cx,w=l.cy,k=l.r,C=+t.get("min"),x=+t.get("max"),T=t.getModel("splitLine"),M=t.getModel("axisTick"),I=t.getModel("axisLabel"),L=t.get("splitNumber"),N=M.get("splitNumber"),R=_t(T.get("length"),k),B=_t(M.get("length"),k),O=u,F=(d-u)/L,H=F/N,j=T.getModel("lineStyle").getLineStyle(),q=M.getModel("lineStyle").getLineStyle(),Z=T.get("distance"),J=0;J<=L;J++){if(K=Math.cos(O),Q=Math.sin(O),T.get("show")){var nt=new zn({shape:{x1:K*(k-(rt=Z?Z+g:g))+b,y1:Q*(k-rt)+w,x2:K*(k-R-rt)+b,y2:Q*(k-R-rt)+w},style:j,silent:!0});"auto"===j.stroke&&nt.setStyle({stroke:a(J/L)}),m.add(nt)}if(I.get("show")){var rt=I.get("distance")+Z,ft=iC(on(J/L*(x-C)+C),I.get("formatter")),yt=a(J/L),kt=K*(k-R-rt)+b,Dt=Q*(k-R-rt)+w,Nt=I.get("rotate"),Bt=0;"radial"===Nt?(Bt=-O+2*Math.PI)>Math.PI/2&&(Bt+=Math.PI):"tangential"===Nt?Bt=-O-Math.PI/2:_e(Nt)&&(Bt=Nt*Math.PI/180),m.add(new ge(0===Bt?{style:We(I,{text:ft,x:kt,y:Dt,verticalAlign:Q<-.8?"top":Q>.8?"bottom":"middle",align:K<-.4?"left":K>.4?"right":"center"},{inheritColor:yt}),silent:!0}:{style:We(I,{text:ft,x:kt,y:Dt,verticalAlign:"middle",align:"center"},{inheritColor:yt}),silent:!0,originX:kt,originY:Dt,rotation:Bt}))}if(M.get("show")&&J!==L){rt=(rt=M.get("distance"))?rt+g:g;for(var ce=0;ce<=N;ce++){K=Math.cos(O),Q=Math.sin(O);var Se=new zn({shape:{x1:K*(k-rt)+b,y1:Q*(k-rt)+w,x2:K*(k-B-rt)+b,y2:Q*(k-B-rt)+w},silent:!0,style:q});"auto"===q.stroke&&Se.setStyle({stroke:a((J+ce/N)/L)}),m.add(Se),O+=H}O-=H}else O+=F}},e.prototype._renderPointer=function(t,i,o,a,l,u,d,p,g){var m=this.group,b=this._data,w=this._progressEls,k=[],C=t.get(["pointer","show"]),x=t.getModel("progress"),T=x.get("show"),M=t.getData(),I=M.mapDimension("value"),L=+t.get("min"),N=+t.get("max"),R=[L,N],B=[u,d];function O(H,j){var kt,Z=M.getItemModel(H).getModel("pointer"),K=_t(Z.get("width"),l.r),Q=_t(Z.get("length"),l.r),J=t.get(["pointer","icon"]),rt=Z.get("offsetCenter"),nt=_t(rt[0],l.r),ft=_t(rt[1],l.r),yt=Z.get("keepAspect");return(kt=J?wn(J,nt-K/2,ft-Q,K,Q,null,yt):new O8({shape:{angle:-Math.PI/2,width:K,r:Q,x:nt,y:ft}})).rotation=-(j+Math.PI/2),kt.x=l.cx,kt.y=l.cy,kt}function F(H,j){var Z=x.get("roundCap")?MA:Mr,K=x.get("overlap"),Q=K?x.get("width"):g/M.count(),nt=new Z({shape:{startAngle:u,endAngle:j,cx:l.cx,cy:l.cy,clockwise:p,r0:K?l.r-Q:l.r-(H+1)*Q,r:K?l.r:l.r-H*Q}});return K&&(nt.z2=N-M.get(I,H)%N),nt}(T||C)&&(M.diff(b).add(function(H){var j=M.get(I,H);if(C){var q=O(H,u);Je(q,{rotation:-((isNaN(+j)?B[0]:Ie(j,R,B,!0))+Math.PI/2)},t),m.add(q),M.setItemGraphicEl(H,q)}if(T){var Z=F(H,u),K=x.get("clip");Je(Z,{shape:{endAngle:Ie(j,R,B,K)}},t),m.add(Z),Of(t.seriesIndex,M.dataType,H,Z),k[H]=Z}}).update(function(H,j){var q=M.get(I,H);if(C){var Z=b.getItemGraphicEl(j),K=Z?Z.rotation:u,Q=O(H,K);Q.rotation=K,ke(Q,{rotation:-((isNaN(+q)?B[0]:Ie(q,R,B,!0))+Math.PI/2)},t),m.add(Q),M.setItemGraphicEl(H,Q)}if(T){var J=w[j],nt=F(H,J?J.shape.endAngle:u),ft=x.get("clip");ke(nt,{shape:{endAngle:Ie(q,R,B,ft)}},t),m.add(nt),Of(t.seriesIndex,M.dataType,H,nt),k[H]=nt}}).execute(),M.each(function(H){var j=M.getItemModel(H),q=j.getModel("emphasis"),Z=q.get("focus"),K=q.get("blurScope"),Q=q.get("disabled");if(C){var J=M.getItemGraphicEl(H),rt=M.getItemVisual(H,"style"),nt=rt.fill;if(J instanceof or){var ft=J.style;J.useStyle(st({image:ft.image,x:ft.x,y:ft.y,width:ft.width,height:ft.height},rt))}else J.useStyle(rt),"pointer"!==J.type&&J.setColor(nt);J.setStyle(j.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===J.style.fill&&J.setStyle("fill",a(Ie(M.get(I,H),R,[0,1],!0))),J.z2EmphasisLift=0,ar(J,j),cn(J,Z,K,Q)}if(T){var yt=k[H];yt.useStyle(M.getItemVisual(H,"style")),yt.setStyle(j.getModel(["progress","itemStyle"]).getItemStyle()),yt.z2EmphasisLift=0,ar(yt,j),cn(yt,Z,K,Q)}}),this._progressEls=k)},e.prototype._renderAnchor=function(t,i){var o=t.getModel("anchor");if(o.get("show")){var l=o.get("size"),u=o.get("icon"),d=o.get("offsetCenter"),p=o.get("keepAspect"),g=wn(u,i.cx-l/2+_t(d[0],i.r),i.cy-l/2+_t(d[1],i.r),l,l,null,p);g.z2=o.get("showAbove")?1:0,g.setStyle(o.getModel("itemStyle").getItemStyle()),this.group.add(g)}},e.prototype._renderTitleAndDetail=function(t,i,o,a,l){var u=this,d=t.getData(),p=d.mapDimension("value"),g=+t.get("min"),m=+t.get("max"),b=new Vt,w=[],k=[],C=t.isAnimationEnabled(),x=t.get(["pointer","showAbove"]);d.diff(this._data).add(function(T){w[T]=new ge({silent:!0}),k[T]=new ge({silent:!0})}).update(function(T,M){w[T]=u._titleEls[M],k[T]=u._detailEls[M]}).execute(),d.each(function(T){var M=d.getItemModel(T),I=d.get(p,T),L=new Vt,N=a(Ie(I,[g,m],[0,1],!0)),R=M.getModel("title");if(R.get("show")){var B=R.get("offsetCenter"),O=l.cx+_t(B[0],l.r),F=l.cy+_t(B[1],l.r);(H=w[T]).attr({z2:x?0:2,style:We(R,{x:O,y:F,text:d.getName(T),align:"center",verticalAlign:"middle"},{inheritColor:N})}),L.add(H)}var j=M.getModel("detail");if(j.get("show")){var q=j.get("offsetCenter"),Z=l.cx+_t(q[0],l.r),K=l.cy+_t(q[1],l.r),Q=_t(j.get("width"),l.r),J=_t(j.get("height"),l.r),rt=t.get(["progress","show"])?d.getItemVisual(T,"style").fill:N,H=k[T],nt=j.get("formatter");H.attr({z2:x?0:2,style:We(j,{x:Z,y:K,text:iC(I,nt),width:isNaN(Q)?null:Q,height:isNaN(J)?null:J,align:"center",verticalAlign:"middle"},{inheritColor:rt})}),Om(H,{normal:j},I,function(yt){return iC(yt,nt)}),C&&N_(H,T,d,t,{getFormattedLabel:function(yt,kt,Dt,Nt,Bt,ce){return iC(ce?ce.interpolatedValue:I,nt)}}),L.add(H)}b.add(L)}),this.group.add(b),this._titleEls=w,this._detailEls=k},e.type="gauge",e}(Be);const H8=F8;var j8=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return tt(e,n),e.prototype.getInitialData=function(t,i){return Lg(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(en);const G8=j8;var W8=["itemStyle","opacity"],Y8=function(n){function e(t,i){var o=n.call(this)||this,a=o,l=new Jr,u=new ge;return a.setTextContent(u),o.setTextGuideLine(l),o.updateData(t,i,!0),o}return tt(e,n),e.prototype.updateData=function(t,i,o){var a=this,l=t.hostModel,u=t.getItemModel(i),d=t.getItemLayout(i),p=u.getModel("emphasis"),g=u.get(W8);g=g??1,o||Yr(a),a.useStyle(t.getItemVisual(i,"style")),a.style.lineJoin="round",o?(a.setShape({points:d.points}),a.style.opacity=0,Je(a,{style:{opacity:g}},l,i)):ke(a,{style:{opacity:g},shape:{points:d.points}},l,i),ar(a,u),this._updateLabel(t,i),cn(this,p.get("focus"),p.get("blurScope"),p.get("disabled"))},e.prototype._updateLabel=function(t,i){var o=this,a=this.getTextGuideLine(),l=o.getTextContent(),u=t.hostModel,d=t.getItemModel(i),g=t.getItemLayout(i).label,m=t.getItemVisual(i,"style"),b=m.fill;sr(l,Nn(d),{labelFetcher:t.hostModel,labelDataIndex:i,defaultOpacity:m.opacity,defaultText:t.getName(i)},{normal:{align:g.textAlign,verticalAlign:g.verticalAlign}}),o.setTextConfig({local:!0,inside:!!g.inside,insideStroke:b,outsideFill:b});var w=g.linePoints;a.setShape({points:w}),o.textGuideLineConfig={anchor:w?new Zt(w[0][0],w[0][1]):null},ke(l,{style:{x:g.x,y:g.y}},u,i),l.attr({rotation:g.rotation,originX:g.x,originY:g.y,z2:10}),c(o,h(d),{stroke:b})},e}(Qr),q8=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return tt(e,n),e.prototype.render=function(t,i,o){var a=t.getData(),l=this._data,u=this.group;a.diff(l).add(function(d){var p=new Y8(a,d);a.setItemGraphicEl(d,p),u.add(p)}).update(function(d,p){var g=l.getItemGraphicEl(p);g.updateData(a,d),u.add(g),a.setItemGraphicEl(d,g)}).remove(function(d){Do(l.getItemGraphicEl(d),t,d)}).execute(),this._data=a},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(Be);const Z8=q8;var $8=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new ob(Ct(this.getData,this),Ct(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,i){return Lg(this,{coordDimensions:["value"],encodeDefaulter:Gt(Jm,this)})},e.prototype._defaultLabelLine=function(t){Ua(t,"labelLine",["show"]);var i=t.labelLine,o=t.emphasis.labelLine;i.show=i.show&&t.label.show,o.show=o.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var i=this.getData(),o=n.prototype.getDataParams.call(this,t),a=i.mapDimension("value"),l=i.getSum(a);return o.percent=l?+(i.get(a,t)/l*100).toFixed(2):0,o.$vars.push("percent"),o},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(en);const K8=$8;function tH(n,e){n.eachSeriesByType("funnel",function(t){var i=t.getData(),o=i.mapDimension("value"),a=t.get("sort"),l=function(n,e){return Bn(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),u=t.get("orient"),d=l.width,p=l.height,g=function(n,e){for(var t=n.mapDimension("value"),i=n.mapArray(t,function(d){return d}),o=[],a="ascending"===e,l=0,u=n.count();l<u;l++)o[l]=l;return Mt(e)?o.sort(e):"none"!==e&&o.sort(function(d,p){return a?i[d]-i[p]:i[p]-i[d]}),o}(i,a),m=l.x,b=l.y,w="horizontal"===u?[_t(t.get("minSize"),p),_t(t.get("maxSize"),p)]:[_t(t.get("minSize"),d),_t(t.get("maxSize"),d)],k=i.getDataExtent(o),C=t.get("min"),x=t.get("max");null==C&&(C=Math.min(k[0],0)),null==x&&(x=k[1]);var T=t.get("funnelAlign"),M=t.get("gap"),L=(("horizontal"===u?d:p)-M*(i.count()-1))/i.count(),N=function(K,Q){if("horizontal"===u){var rt=Ie(i.get(o,K)||0,[C,x],w,!0),nt=void 0;switch(T){case"top":nt=b;break;case"center":nt=b+(p-rt)/2;break;case"bottom":nt=b+(p-rt)}return[[Q,nt],[Q,nt+rt]]}var kt,yt=Ie(i.get(o,K)||0,[C,x],w,!0);switch(T){case"left":kt=m;break;case"center":kt=m+(d-yt)/2;break;case"right":kt=m+d-yt}return[[kt,Q],[kt+yt,Q]]};"ascending"===a&&(L=-L,M=-M,"horizontal"===u?m+=d:b+=p,g=g.reverse());for(var R=0;R<g.length;R++){var B=g[R],O=g[R+1],F=i.getItemModel(B);if("horizontal"===u){var H=F.get(["itemStyle","width"]);null==H?H=L:(H=_t(H,d),"ascending"===a&&(H=-H));var j=N(B,m),q=N(O,m+H);m+=H+M,i.setItemLayout(B,{points:j.concat(q.slice().reverse())})}else{var Z=F.get(["itemStyle","height"]);null==Z?Z=L:(Z=_t(Z,p),"ascending"===a&&(Z=-Z)),j=N(B,b),q=N(O,b+Z),b+=Z+M,i.setItemLayout(B,{points:j.concat(q.slice().reverse())})}}!function(n){var t=n.hostModel.get("orient");n.each(function(i){var m,b,w,k,o=n.getItemModel(i),l=o.getModel("label").get("position"),u=o.getModel("labelLine"),d=n.getItemLayout(i),p=d.points,g="inner"===l||"inside"===l||"center"===l||"insideLeft"===l||"insideRight"===l;if(g)"insideLeft"===l?(b=(p[0][0]+p[3][0])/2+5,w=(p[0][1]+p[3][1])/2,m="left"):"insideRight"===l?(b=(p[1][0]+p[2][0])/2-5,w=(p[1][1]+p[2][1])/2,m="right"):(b=(p[0][0]+p[1][0]+p[2][0]+p[3][0])/4,w=(p[0][1]+p[1][1]+p[2][1]+p[3][1])/4,m="center"),k=[[b,w],[b,w]];else{var C=void 0,x=void 0,T=void 0,M=void 0,I=u.get("length");"left"===l?(x=(p[3][1]+p[0][1])/2,b=(T=(C=(p[3][0]+p[0][0])/2)-I)-5,m="right"):"right"===l?(x=(p[1][1]+p[2][1])/2,b=(T=(C=(p[1][0]+p[2][0])/2)+I)+5,m="left"):"top"===l?(C=(p[3][0]+p[0][0])/2,w=(M=(x=(p[3][1]+p[0][1])/2)-I)-5,m="center"):"bottom"===l?(C=(p[1][0]+p[2][0])/2,w=(M=(x=(p[1][1]+p[2][1])/2)+I)+5,m="center"):"rightTop"===l?(C="horizontal"===t?p[3][0]:p[1][0],x="horizontal"===t?p[3][1]:p[1][1],"horizontal"===t?(w=(M=x-I)-5,m="center"):(b=(T=C+I)+5,m="top")):"rightBottom"===l?(C=p[2][0],x=p[2][1],"horizontal"===t?(w=(M=x+I)+5,m="center"):(b=(T=C+I)+5,m="bottom")):"leftTop"===l?(C=p[0][0],x="horizontal"===t?p[0][1]:p[1][1],"horizontal"===t?(w=(M=x-I)-5,m="center"):(b=(T=C-I)-5,m="right")):"leftBottom"===l?(C="horizontal"===t?p[1][0]:p[3][0],x="horizontal"===t?p[1][1]:p[2][1],"horizontal"===t?(w=(M=x+I)+5,m="center"):(b=(T=C-I)-5,m="right")):(C=(p[1][0]+p[2][0])/2,x=(p[1][1]+p[2][1])/2,"horizontal"===t?(w=(M=x+I)+5,m="center"):(b=(T=C+I)+5,m="left")),"horizontal"===t?b=T=C:w=M=x,k=[[C,x],[T,M]]}d.label={linePoints:k,x:b,y:w,verticalAlign:"middle",textAlign:m,inside:g}})}(i)})}var rH=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new Vt,t._initialized=!1,t}return tt(e,n),e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,i,o,a){this._progressiveEls=null;var l=this._dataGroup,u=t.getData(),d=this._data,p=t.coordinateSystem,g=p.dimensions,m=VR(t);if(u.diff(d).add(function(x){yM(OR(u,l,x,g,p),u,x,m)}).update(function(x,T){var M=d.getItemGraphicEl(T),I=zR(u,x,g,p);u.setItemGraphicEl(x,M),ke(M,{shape:{points:I}},t,x),Yr(M),yM(M,u,x,m)}).remove(function(x){var T=d.getItemGraphicEl(x);l.remove(T)}).execute(),!this._initialized){this._initialized=!0;var C=function(n,e,t){var i=n.model,o=n.getRect(),a=new Xt({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),l="horizontal"===i.get("layout")?"width":"height";return a.setShape(l,0),Je(a,{shape:{width:o.width,height:o.height}},e,t),a}(p,t,function(){setTimeout(function(){l.removeClipPath()})});l.setClipPath(C)}this._data=u},e.prototype.incrementalPrepareRender=function(t,i,o){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,i,o){for(var a=i.getData(),l=i.coordinateSystem,u=l.dimensions,d=VR(i),p=this._progressiveEls=[],g=t.start;g<t.end;g++){var m=OR(a,this._dataGroup,g,u,l);m.incremental=!0,yM(m,a,g,d),p.push(m)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(Be);function zR(n,e,t,i){for(var o=[],a=0;a<t.length;a++){var l=t[a],u=n.get(n.mapDimension(l),e);oH(u,i.getAxis(l).type)||o.push(i.dataToPoint(u,l))}return o}function OR(n,e,t,i,o){var a=zR(n,t,i,o),l=new Jr({shape:{points:a},z2:10});return e.add(l),n.setItemGraphicEl(t,l),l}function VR(n){var e=n.get("smooth",!0);return!0===e&&(e=.3),Iu(e=ta(e))&&(e=0),{smooth:e}}function yM(n,e,t,i){n.useStyle(e.getItemVisual(t,"style")),n.style.fill=null,n.setShape("smooth",i.smooth);var o=e.getItemModel(t),a=o.getModel("emphasis");ar(n,o,"lineStyle"),cn(n,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function oH(n,e){return"category"===e?null==n:null==n||isNaN(n)}const aH=rH;var sH=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return tt(e,n),e.prototype.getInitialData=function(t,i){return Dl(null,this,{useEncodeDefaulter:Ct(lH,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var i=this.coordinateSystem,o=this.getData(),a=[];return i.eachActiveState(o,function(l,u){t===l&&a.push(o.getRawIndex(u))}),a},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(en);function lH(n){var e=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(e){var t={};return V(e.dimensions,function(i){var o=function(n){return+n.replace("dim","")}(i);t[i]=o}),t}}const uH=sH;var dH=["lineStyle","opacity"],hH={seriesType:"parallel",reset:function(n,e){var t=n.coordinateSystem,i={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(o,a){t.eachActiveState(a,function(l,u){var d=i[l];if("normal"===l&&a.hasItemOption){var p=a.getItemModel(u).get(dH,!0);null!=p&&(d=p)}a.ensureUniqueItemVisual(u,"style").opacity=d},o.start,o.end)}}}};const fH=hH;function pH(n){(function(n){if(!n.parallel){var e=!1;V(n.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(n.parallel=[{}])}})(n),function(n){V(De(n.parallelAxis),function(t){if(Rt(t)){var i=t.parallelIndex||0,o=De(n.parallel)[i];o&&o.parallelAxisDefault&&Pt(t,o.parallelAxisDefault,!1)}})}(n)}var yH=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.render=function(t,i,o){this._model=t,this._api=o,this._handlers||(this._handlers={},V(bH,function(a,l){o.getZr().on(l,this._handlers[l]=Ct(a,this))},this)),wl(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,i){jd(this,"_throttledDispatchExpand"),V(this._handlers,function(o,a){i.getZr().off(a,o)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(st({type:"parallelAxisExpand"},t))},e.type="parallel",e}(nn),bH={mousedown:function(n){bM(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var e=this._mouseDownPoint;if(bM(this,"click")&&e){var t=[n.offsetX,n.offsetY];if(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)>5)return;var o=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);"none"!==o.behavior&&this._dispatchExpand({axisExpandWindow:o.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!this._mouseDownPoint&&bM(this,"mousemove")){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),i=t.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:t.axisExpandWindow,animation:"jump"===i?null:{duration:0}})}}};function bM(n,e){var t=n._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}const wH=yH;var _H=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){t&&Pt(this.option,t,!0),this._initDimensions()},e.prototype.contains=function(t,i){var o=t.get("parallelIndex");return null!=o&&i.getComponent("parallel",o)===this},e.prototype.setAxisExpand=function(t){V(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){t.hasOwnProperty(i)&&(this.option[i]=t[i])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],i=this.parallelAxisIndex=[];V(Le(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this),function(a){t.push("dim"+a.get("dim")),i.push(a.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(be);const kH=_H;var AH=function(n){function e(t,i,o,a,l){var u=n.call(this,t,i,o)||this;return u.type=a||"value",u.axisIndex=l,u}return tt(e,n),e.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},e}(_a);const CH=AH;function gh(n,e,t,i,o,a){n=n||0;var l=t[1]-t[0];if(null!=o&&(o=Vg(o,[0,l])),null!=a&&(a=Math.max(a,o??0)),"all"===i){var u=Math.abs(e[1]-e[0]);u=Vg(u,[0,l]),o=a=Vg(u,[o,a]),i=0}e[0]=Vg(e[0],t),e[1]=Vg(e[1],t);var d=wM(e,i);e[i]+=n;var m,p=o||0,g=t.slice();return d.sign<0?g[0]+=p:g[1]-=p,e[i]=Vg(e[i],g),m=wM(e,i),null!=o&&(m.sign!==d.sign||m.span<o)&&(e[1-i]=e[i]+d.sign*o),m=wM(e,i),null!=a&&m.span>a&&(e[1-i]=e[i]+m.sign*a),e}function wM(n,e){var t=n[e]-n[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function Vg(n,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,n))}var _M=V,FR=Math.min,HR=Math.max,jR=Math.floor,xH=Math.ceil,GR=on,SH=Math.PI,TH=function(){function n(e,t,i){this.type="parallel",this._axesMap=Tt(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,i)}return n.prototype._init=function(e,t,i){var a=e.parallelAxisIndex;_M(e.dimensions,function(l,u){var d=a[u],p=t.getComponent("parallelAxis",d),g=this._axesMap.set(l,new CH(l,HA(p),[0,0],p.get("type"),d));g.onBand="category"===g.type&&p.get("boundaryGap"),g.inverse=p.get("inverse"),p.axis=g,g.model=p,g.coordinateSystem=p.coordinateSystem=this},this)},n.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},n.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),i=t.axisBase,o=t.layoutBase,a=t.pixelDimIndex,l=e[1-a],u=e[a];return l>=i&&l<=i+t.axisLength&&u>=o&&u<=o+t.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(i){if(e.contains(i,t)){var o=i.getData();_M(this.dimensions,function(a){var l=this._axesMap.get(a);l.scale.unionExtentFromData(o,o.mapDimension(a)),Rg(l.scale,l.model)},this)}},this)},n.prototype.resize=function(e,t){this._rect=Bn(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var k,e=this._model,t=this._rect,i=["x","y"],o=["width","height"],a=e.get("layout"),l="horizontal"===a?0:1,u=t[o[l]],d=[0,u],p=this.dimensions.length,g=oC(e.get("axisExpandWidth"),d),m=oC(e.get("axisExpandCount")||0,[0,p]),b=e.get("axisExpandable")&&p>3&&p>m&&m>1&&g>0&&u>0,w=e.get("axisExpandWindow");w?(k=oC(w[1]-w[0],d),w[1]=w[0]+k):(k=oC(g*(m-1),d),(w=[g*(e.get("axisExpandCenter")||jR(p/2))-k/2])[1]=w[0]+k);var x=(u-k)/(p-m);x<3&&(x=0);var T=[jR(GR(w[0]/g,1))+1,xH(GR(w[1]/g,1))-1];return{layout:a,pixelDimIndex:l,layoutBase:t[i[l]],layoutLength:u,axisBase:t[i[1-l]],axisLength:t[o[1-l]],axisExpandable:b,axisExpandWidth:g,axisCollapseWidth:x,axisExpandWindow:w,axisCount:p,winInnerIndices:T,axisExpandWindow0Pos:x/g*w[0]}},n.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,i=this.dimensions,o=this._makeLayoutInfo(),a=o.layout;t.each(function(l){var u=[0,o.axisLength],d=l.inverse?1:0;l.setExtent(u[d],u[1-d])}),_M(i,function(l,u){var d=(o.axisExpandable?MH:DH)(u,o),p={horizontal:{x:d.position,y:o.axisLength},vertical:{x:0,y:d.position}},m=[p[a].x+e.x,p[a].y+e.y],b={horizontal:SH/2,vertical:0}[a],w=[1,0,0,1,0,0];fr(w,w,b),jn(w,w,m),this._axesLayout[l]={position:m,rotation:b,transform:w,axisNameAvailableWidth:d.axisNameAvailableWidth,axisLabelShow:d.axisLabelShow,nameTruncateMaxWidth:d.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(e){return this._axesMap.get(e)},n.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},n.prototype.eachActiveState=function(e,t,i,o){null==i&&(i=0),null==o&&(o=e.count());var a=this._axesMap,l=this.dimensions,u=[],d=[];V(l,function(x){u.push(e.mapDimension(x)),d.push(a.get(x).model)});for(var p=this.hasAxisBrushed(),g=i;g<o;g++){var m=void 0;if(p){m="active";for(var b=e.getValues(u,g),w=0,k=l.length;w<k;w++)if("inactive"===d[w].getActiveState(b[w])){m="inactive";break}}else m="normal";t(m,g)}},n.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,i=!1,o=0,a=e.length;o<a;o++)"normal"!==t.get(e[o]).model.getActiveState()&&(i=!0);return i},n.prototype.axisCoordToPoint=function(e,t){return io([e,0],this._axesLayout[t].transform)},n.prototype.getAxisLayout=function(e){return Lt(this._axesLayout[e])},n.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),i=t.pixelDimIndex,o=t.axisExpandWindow.slice(),a=o[1]-o[0],l=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:o};var d,u=e[i]-t.layoutBase-t.axisExpandWindow0Pos,p="slide",g=t.axisCollapseWidth,m=this._model.get("axisExpandSlideTriggerArea"),b=null!=m[0];if(g)b&&g&&u<a*m[0]?(p="jump",d=u-a*m[2]):b&&g&&u>a*(1-m[0])?(p="jump",d=u-a*(1-m[2])):(d=u-a*m[1])>=0&&(d=u-a*(1-m[1]))<=0&&(d=0),(d*=t.axisExpandWidth/g)?gh(d,o,l,"all"):p="none";else{var w=o[1]-o[0];(o=[HR(0,l[1]*u/w-w/2)])[1]=FR(l[1],o[0]+w),o[0]=o[1]-w}return{axisExpandWindow:o,behavior:p}},n}();function oC(n,e){return FR(HR(n,e[0]),e[1])}function DH(n,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*n,axisNameAvailableWidth:t,axisLabelShow:!0}}function MH(n,e){var u,g,i=e.axisExpandWidth,a=e.axisCollapseWidth,l=e.winInnerIndices,d=a,p=!1;return n<l[0]?(u=n*a,g=a):n<=l[1]?(u=e.axisExpandWindow0Pos+n*i-e.axisExpandWindow[0],d=i,p=!0):(u=e.layoutLength-(e.axisCount-1-n)*a,g=a),{position:u,axisNameAvailableWidth:d,axisLabelShow:p,nameTruncateMaxWidth:g}}const IH=TH;var LH={create:function(n,e){var t=[];return n.eachComponent("parallel",function(i,o){var a=new IH(i,n,e);a.name="parallel_"+o,a.resize(i,e),i.coordinateSystem=a,a.model=i,t.push(a)}),n.eachSeries(function(i){if("parallel"===i.get("coordinateSystem")){var o=i.getReferringComponents("parallel",Sn).models[0];i.coordinateSystem=o.coordinateSystem}}),t}};const PH=LH;var UR=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return tt(e,n),e.prototype.getAreaSelectStyle=function(){return Hs([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var i=this.activeIntervals=Lt(t);if(i)for(var o=i.length-1;o>=0;o--)lt(i[o])},e.prototype.getActiveState=function(t){var i=this.activeIntervals;if(!i.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===i.length){var o=i[0];if(o[0]<=t&&t<=o[1])return"active"}else for(var a=0,l=i.length;a<l;a++)if(i[a][0]<=t&&t<=i[a][1])return"active";return"inactive"},e}(be);fn(UR,ab);const WR=UR;var vh=!0,Sb=Math.min,Fg=Math.max,RH=Math.pow,YR="globalPan",OH={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},VH={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},qR={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},FH=0,HH=function(n){function e(t){var i=n.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=t,i.group=new Vt,i._uid="brushController_"+FH++,V(ZH,function(o,a){this._handlers[a]=Ct(o,this)},i),i}return tt(e,n),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var i=this._zr;this._enableGlobalPan||function(n,e,t){DD(n).globalPan=t}(i,0,this._uid),V(this._handlers,function(o,a){i.on(a,o)}),this._brushType=t.brushType,this._brushOption=Pt(Lt(qR),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;(function(n,e,t){var i=DD(n);i[e]===t&&(i[e]=null)})(t,YR,this._uid),V(this._handlers,function(i,o){t.off(o,i)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var i=this._panels={};V(t,function(o){i[o.panelId]=Lt(o)})}else this._panels=null;return this},e.prototype.mount=function(t){this._enableGlobalPan=(t=t||{}).enableGlobalPan;var i=this.group;return this._zr.add(i),i.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=i.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=gt(t,function(b){return Pt(Lt(qR),b,!0)});var o=this._covers,a=this._covers=[],l=this,u=this._creatingCover;return new Tl(o,t,function(b,w){return d(b.__brushOption,w)},d).add(g).update(g).remove(function(b){o[b]!==u&&l.group.remove(o[b])}).execute(),this;function d(b,w){return(null!=b.id?b.id:"\0-brush-index-"+w)+"-"+b.brushType}function g(b,w){var k=t[b];if(null!=w&&o[w]===u)a[b]=o[w];else{var C=a[b]=null!=w?(o[w].__brushOption=k,o[w]):$R(l,ZR(l,k));kM(l,C)}}},e.prototype.unmount=function(){return this.enableBrush(!1),xM(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(di);function ZR(n,e){var t=aC[e.brushType].createCover(n,e);return t.__brushOption=e,XR(t,e),n.group.add(t),t}function $R(n,e){var t=AM(e);return t.endCreating&&(t.endCreating(n,e),XR(e,e.__brushOption)),e}function KR(n,e){var t=e.__brushOption;AM(e).updateCoverShape(n,e,t.range,t)}function XR(n,e){var t=e.z;null==t&&(t=1e4),n.traverse(function(i){i.z=t,i.z2=t})}function kM(n,e){AM(e).updateCommon(n,e),KR(n,e)}function AM(n){return aC[n.__brushOption.brushType]}function CM(n,e,t){var i=n._panels;if(!i)return vh;var o,a=n._transform;return V(i,function(l){l.isTargetByCursor(e,t,a)&&(o=l)}),o}function QR(n,e){var t=n._panels;if(!t)return vh;var i=e.__brushOption.panelId;return null!=i?t[i]:vh}function xM(n){var e=n._covers,t=e.length;return V(e,function(i){n.group.remove(i)},n),e.length=0,!!t}function mh(n,e){var t=gt(n._covers,function(i){var o=i.__brushOption,a=Lt(o.range);return{brushType:o.brushType,panelId:o.panelId,range:a}});n.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function JR(n){var e=n.length-1;return e<0&&(e=0),[n[0],n[e]]}function tN(n,e,t,i){var o=new Vt;return o.add(new Xt({name:"main",style:TM(t),silent:!0,draggable:!0,cursor:"move",drift:Gt(rN,n,e,o,["n","s","w","e"]),ondragend:Gt(mh,e,{isEnd:!0})})),V(i,function(a){o.add(new Xt({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Gt(rN,n,e,o,a),ondragend:Gt(mh,e,{isEnd:!0})}))}),o}function eN(n,e,t,i){var o=i.brushStyle.lineWidth||0,a=Fg(o,6),l=t[0][0],u=t[1][0],d=l-o/2,p=u-o/2,g=t[0][1],m=t[1][1],b=g-a+o/2,w=m-a+o/2,k=g-l,C=m-u,x=k+o,T=C+o;Ll(n,e,"main",l,u,k,C),i.transformable&&(Ll(n,e,"w",d,p,a,T),Ll(n,e,"e",b,p,a,T),Ll(n,e,"n",d,p,x,a),Ll(n,e,"s",d,w,x,a),Ll(n,e,"nw",d,p,a,a),Ll(n,e,"ne",b,p,a,a),Ll(n,e,"sw",d,w,a,a),Ll(n,e,"se",b,w,a,a))}function SM(n,e){var t=e.__brushOption,i=t.transformable,o=e.childAt(0);o.useStyle(TM(t)),o.attr({silent:!i,cursor:i?"move":"default"}),V([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var l=e.childOfName(a.join("")),u=1===a.length?DM(n,a[0]):function(n,e){var t=[DM(n,e[0]),DM(n,e[1])];return("e"===t[0]||"w"===t[0])&&t.reverse(),t.join("")}(n,a);l&&l.attr({silent:!i,invisible:!i,cursor:i?VH[u]+"-resize":null})})}function Ll(n,e,t,i,o,a,l){var u=e.childOfName(t);u&&u.setShape(function(n){var e=Sb(n[0][0],n[1][0]),t=Sb(n[0][1],n[1][1]);return{x:e,y:t,width:Fg(n[0][0],n[1][0])-e,height:Fg(n[0][1],n[1][1])-t}}(MM(n,e,[[i,o],[i+a,o+l]])))}function TM(n){return Et({strokeNoScale:!0},n.brushStyle)}function nN(n,e,t,i){var o=[Sb(n,t),Sb(e,i)],a=[Fg(n,t),Fg(e,i)];return[[o[0],a[0]],[o[1],a[1]]]}function DM(n,e){var o=Kp({w:"left",e:"right",n:"top",s:"bottom"}[e],function(n){return bl(n.group)}(n));return{left:"w",right:"e",top:"n",bottom:"s"}[o]}function rN(n,e,t,i,o,a){var l=t.__brushOption,u=n.toRectRange(l.range),d=iN(e,o,a);V(i,function(p){var g=OH[p];u[g[0]][g[1]]+=d[g[0]]}),l.range=n.fromRectRange(nN(u[0][0],u[1][0],u[0][1],u[1][1])),kM(e,t),mh(e,{isEnd:!1})}function WH(n,e,t,i){var o=e.__brushOption.range,a=iN(n,t,i);V(o,function(l){l[0]+=a[0],l[1]+=a[1]}),kM(n,e),mh(n,{isEnd:!1})}function iN(n,e,t){var i=n.group,o=i.transformCoordToLocal(e,t),a=i.transformCoordToLocal(0,0);return[o[0]-a[0],o[1]-a[1]]}function MM(n,e,t){var i=QR(n,e);return i&&i!==vh?i.clipPath(t,n._transform):Lt(t)}function IM(n){var e=n.event;e.preventDefault&&e.preventDefault()}function EM(n,e,t){return n.childOfName("main").contain(e,t)}function oN(n,e,t,i){var u,o=n._creatingCover,a=n._creatingPanel,l=n._brushOption;if(n._track.push(t.slice()),function(n){var e=n._track;if(!e.length)return!1;var t=e[e.length-1],i=e[0],o=t[0]-i[0],a=t[1]-i[1];return RH(o*o+a*a,.5)>6}(n)||o){if(a&&!o){"single"===l.brushMode&&xM(n);var d=Lt(l);d.brushType=aN(d.brushType,a),d.panelId=a===vh?null:a.panelId,o=n._creatingCover=ZR(n,d),n._covers.push(o)}if(o){var p=aC[aN(n._brushType,a)];o.__brushOption.range=p.getCreatingRange(MM(n,o,n._track)),i&&($R(n,o),p.updateCommon(n,o)),KR(n,o),u={isEnd:i}}}else i&&"single"===l.brushMode&&l.removeOnClick&&CM(n,e,t)&&xM(n)&&(u={isEnd:i,removeOnClick:!0});return u}function aN(n,e){return"auto"===n?e.defaultBrushType:n}var ZH={mousedown:function(n){if(this._dragging)sN(this,n);else if(!n.target||!n.target.draggable){IM(n);var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null,(this._creatingPanel=CM(this,n,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(n){var i=this.group.transformCoordToLocal(n.offsetX,n.offsetY);if(function(n,e,t){if(n._brushType&&!function(n,e,t){var i=n._zr;return e<0||e>i.getWidth()||t<0||t>i.getHeight()}(n,e.offsetX,e.offsetY)){var i=n._zr,o=n._covers,a=CM(n,e,t);if(!n._dragging)for(var l=0;l<o.length;l++){var u=o[l].__brushOption;if(a&&(a===vh||u.panelId===a.panelId)&&aC[u.brushType].contain(o[l],t[0],t[1]))return}a&&i.setCursorStyle("crosshair")}}(this,n,i),this._dragging){IM(n);var o=oN(this,n,i,!1);o&&mh(this,o)}},mouseup:function(n){sN(this,n)}};function sN(n,e){if(n._dragging){IM(e);var o=n.group.transformCoordToLocal(e.offsetX,e.offsetY),a=oN(n,e,o,!0);n._dragging=!1,n._track=[],n._creatingCover=null,a&&mh(n,a)}}var aC={lineX:lN(0),lineY:lN(1),rect:{createCover:function(n,e){function t(i){return i}return tN({toRectRange:t,fromRectRange:t},n,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var e=JR(n);return nN(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(n,e,t,i){eN(n,e,t,i)},updateCommon:SM,contain:EM},polygon:{createCover:function(n,e){var t=new Vt;return t.add(new Jr({name:"main",style:TM(e),silent:!0})),t},getCreatingRange:function(n){return n},endCreating:function(n,e){e.remove(e.childAt(0)),e.add(new Qr({name:"main",draggable:!0,drift:Gt(WH,n,e),ondragend:Gt(mh,n,{isEnd:!0})}))},updateCoverShape:function(n,e,t,i){e.childAt(0).setShape({points:MM(n,e,t)})},updateCommon:SM,contain:EM}};function lN(n){return{createCover:function(e,t){return tN({toRectRange:function(i){var o=[i,[0,100]];return n&&o.reverse(),o},fromRectRange:function(i){return i[n]}},e,t,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(e){var t=JR(e);return[Sb(t[0][n],t[1][n]),Fg(t[0][n],t[1][n])]},updateCoverShape:function(e,t,i,o){var a,l=QR(e,t);if(l!==vh&&l.getLinearBrushOtherExtent)a=l.getLinearBrushOtherExtent(n);else{var u=e._zr;a=[0,[u.getWidth(),u.getHeight()][1-n]]}var d=[i,a];n&&d.reverse(),eN(e,t,d,o)},updateCommon:SM,contain:EM}}const LM=HH;function cN(n){return n=PM(n),function(e){return n0(e,n)}}function uN(n,e){return n=PM(n),function(t){var i=e??t,a=i?n.x:n.y;return[a,a+((i?n.width:n.height)||0)]}}function dN(n,e,t){var i=PM(n);return function(o,a){return i.contain(a[0],a[1])&&!WA(o,e,t)}}function PM(n){return $t.create(n)}var KH=["axisLine","axisTickLabel","axisName"],XH=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.init=function(t,i){n.prototype.init.apply(this,arguments),(this._brushController=new LM(i.getZr())).on("brush",Ct(this._onBrush,this))},e.prototype.render=function(t,i,o,a){if(!function(n,e,t){return t&&"axisAreaSelect"===t.type&&e.findComponents({mainType:"parallelAxis",query:t})[0]===n}(t,i,a)){this.axisModel=t,this.api=o,this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new Vt,this.group.add(this._axisGroup),t.get("show")){var u=function(n,e){return e.getComponent("parallel",n.get("parallelIndex"))}(t,i),d=u.coordinateSystem,p=t.getAreaSelectStyle(),g=p.width,w=st({strokeContainThreshold:g},d.getAxisLayout(t.axis.dim)),k=new Il(t,w);V(KH,k.add,k),this._axisGroup.add(k.getGroup()),this._refreshBrushController(w,p,t,u,g,o),Fd(l,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,i,o,a,l,u){var d=o.axis.getExtent(),p=d[1]-d[0],g=Math.min(30,.1*Math.abs(p)),m=$t.create({x:d[0],y:-l/2,width:p,height:l});m.x-=g,m.width+=2*g,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:cN(m),isTargetByCursor:dN(m,u,a),getLinearBrushOtherExtent:uN(m,0)}]).enableBrush({brushType:"lineX",brushStyle:i,removeOnClick:!0}).updateCovers(function(n){var e=n.axis;return gt(n.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}(o))},e.prototype._onBrush=function(t){var o=this.axisModel,a=o.axis,l=gt(t.areas,function(u){return[a.coordToData(u.range[0],!0),a.coordToData(u.range[1],!0)]});(!o.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:o.id,intervals:l})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(nn);const e9=XH;var n9={type:"axisAreaSelect",event:"axisAreaSelected"},i9={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function hN(n){n.registerComponentView(wH),n.registerComponentModel(kH),n.registerCoordinateSystem("parallel",PH),n.registerPreprocessor(pH),n.registerComponentModel(WR),n.registerComponentView(e9),Pg(n,"parallel",WR,i9),function(n){n.registerAction(n9,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(i){i.axis.model.setActiveIntervals(e.intervals)})}),n.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(i){i.setAxisExpand(e)})})}(n)}var a9=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},s9=function(n){function e(t){return n.call(this,t)||this}return tt(e,n),e.prototype.getDefaultShape=function(){return new a9},e.prototype.buildPath=function(t,i){var o=i.extent;t.moveTo(i.x1,i.y1),t.bezierCurveTo(i.cpx1,i.cpy1,i.cpx2,i.cpy2,i.x2,i.y2),"vertical"===i.orient?(t.lineTo(i.x2+o,i.y2),t.bezierCurveTo(i.cpx2+o,i.cpy2,i.cpx1+o,i.cpy1,i.x1+o,i.y1)):(t.lineTo(i.x2,i.y2+o),t.bezierCurveTo(i.cpx2,i.cpy2+o,i.cpx1,i.cpy1+o,i.x1,i.y1+o)),t.closePath()},e.prototype.highlight=function(){sa(this)},e.prototype.downplay=function(){vi(this)},e}(re),l9=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._focusAdjacencyDisabled=!1,t}return tt(e,n),e.prototype.render=function(t,i,o){var a=this,l=t.getGraph(),u=this.group,d=t.layoutInfo,p=d.width,g=d.height,m=t.getData(),b=t.getData("edge"),w=t.get("orient");this._model=t,u.removeAll(),u.x=d.x,u.y=d.y,l.eachEdge(function(k){var C=new s9,x=jt(C);x.dataIndex=k.dataIndex,x.seriesIndex=t.seriesIndex,x.dataType="edge";var Z,K,Q,J,rt,nt,ft,yt,T=k.getModel(),M=T.getModel("lineStyle"),I=M.get("curveness"),L=k.node1.getLayout(),N=k.node1.getModel(),R=N.get("localX"),B=N.get("localY"),O=k.node2.getLayout(),F=k.node2.getModel(),H=F.get("localX"),j=F.get("localY"),q=k.getLayout();switch(C.shape.extent=Math.max(1,q.dy),C.shape.orient=w,"vertical"===w?(rt=Z=(null!=R?R*p:L.x)+q.sy,nt=(K=(null!=B?B*g:L.y)+L.dy)*(1-I)+(J=null!=j?j*g:O.y)*I,ft=Q=(null!=H?H*p:O.x)+q.ty,yt=K*I+J*(1-I)):(rt=(Z=(null!=R?R*p:L.x)+L.dx)*(1-I)+(Q=null!=H?H*p:O.x)*I,nt=K=(null!=B?B*g:L.y)+q.sy,ft=Z*I+Q*(1-I),yt=J=(null!=j?j*g:O.y)+q.ty),C.setShape({x1:Z,y1:K,x2:Q,y2:J,cpx1:rt,cpy1:nt,cpx2:ft,cpy2:yt}),C.useStyle(M.getItemStyle()),C.style.fill){case"source":C.style.fill=k.node1.getVisual("color"),C.style.decal=k.node1.getVisual("style").decal;break;case"target":C.style.fill=k.node2.getVisual("color"),C.style.decal=k.node2.getVisual("style").decal;break;case"gradient":var kt=k.node1.getVisual("color"),Dt=k.node2.getVisual("color");At(kt)&&At(Dt)&&(C.style.fill=new Vd(0,0,+("horizontal"===w),+("vertical"===w),[{color:kt,offset:0},{color:Dt,offset:1}]))}sr(C,Nn(T,"edgeLabel"),{labelFetcher:t,labelDataIndex:k.dataIndex,defaultText:""+T.get("value")}),C.setTextConfig({position:"inside"});var Nt=T.getModel("emphasis");ar(C,T,"lineStyle",function(ce){return ce.getItemStyle()}),u.add(C),b.setItemGraphicEl(k.dataIndex,C);var Bt=Nt.get("focus");cn(C,"adjacency"===Bt?k.getAdjacentDataIndices():Bt,Nt.get("blurScope"),Nt.get("disabled")),jt(C).dataType="edge"}),l.eachNode(function(k){var C=k.getLayout(),x=k.getModel(),T=x.get("localX"),M=x.get("localY"),I=x.getModel("emphasis"),L=new Xt({shape:{x:null!=T?T*p:C.x,y:null!=M?M*g:C.y,width:C.dx,height:C.dy},style:x.getModel("itemStyle").getItemStyle(),z2:10});sr(L,Nn(x),{labelFetcher:t,labelDataIndex:k.dataIndex,defaultText:k.id}),L.disableLabelAnimation=!0,L.setStyle("fill",k.getVisual("color")),L.setStyle("decal",k.getVisual("style").decal),ar(L,x),u.add(L),m.setItemGraphicEl(k.dataIndex,L),jt(L).dataType="node";var N=I.get("focus");cn(L,"adjacency"===N?k.getAdjacentDataIndices():N,I.get("blurScope"),I.get("disabled"))}),m.eachItemGraphicEl(function(k,C){m.getItemModel(C).get("draggable")&&(k.drift=function(T,M){a._focusAdjacencyDisabled=!0,this.shape.x+=T,this.shape.y+=M,this.dirty(),o.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:m.getRawIndex(C),localX:this.shape.x/p,localY:this.shape.y/g})},k.ondragend=function(){a._focusAdjacencyDisabled=!1},k.draggable=!0,k.cursor="move")}),!this._data&&t.isAnimationEnabled()&&u.setClipPath(function(n,e,t){var i=new Xt({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return Je(i,{shape:{width:n.width+20}},e,function(){u.removeClipPath()}),i}(u.getBoundingRect(),t)),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(Be);const u9=l9;var d9=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.getInitialData=function(t,i){var o=t.edges||t.links,a=t.data||t.nodes,l=t.levels;this.levelModels=[];for(var u=this.levelModels,d=0;d<l.length;d++)null!=l[d].depth&&l[d].depth>=0&&(u[l[d].depth]=new Ye(l[d],this,i));if(a&&o)return BR(a,o,this,!0,function(m,b){m.wrapMethod("getItemModel",function(w,k){var C=w.parentModel,x=C.getData().getItemLayout(k);if(x){var M=C.levelModels[x.depth];M&&(w.parentModel=M)}return w}),b.wrapMethod("getItemModel",function(w,k){var C=w.parentModel,T=C.getGraph().getEdgeByIndex(k).node1.getLayout();if(T){var I=C.levelModels[T.depth];I&&(w.parentModel=I)}return w})}).data},e.prototype.setNodePosition=function(t,i){var a=(this.option.data||this.option.nodes)[t];a.localX=i[0],a.localY=i[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,i,o){function a(w){return isNaN(w)||null==w}if("edge"===o){var l=this.getDataParams(t,o),u=l.data,d=l.value;return Mn("nameValue",{name:u.source+" -- "+u.target,value:d,noValue:a(d)})}var m=this.getGraph().getNodeByIndex(t).getLayout().value,b=this.getDataParams(t,o).data.name;return Mn("nameValue",{name:null!=b?b+"":null,value:m,noValue:a(m)})},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,i){var o=n.prototype.getDataParams.call(this,t,i);if(null==o.value&&"node"===i){var l=this.getGraph().getNodeByIndex(t).getLayout().value;o.value=l}return o},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(en);const h9=d9;function f9(n,e){n.eachSeriesByType("sankey",function(t){var i=t.get("nodeWidth"),o=t.get("nodeGap"),a=function(n,e){return Bn(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=a;var l=a.width,u=a.height,d=t.getGraph(),p=d.nodes,g=d.edges;!function(n){V(n,function(e){var t=gu(e.outEdges,sC),i=gu(e.inEdges,sC),o=e.getValue()||0,a=Math.max(t,i,o);e.setLayout({value:a},!0)})}(p),function(n,e,t,i,o,a,l,u,d){(function(n,e,t,i,o,a,l){for(var u=[],d=[],p=[],g=[],m=0,b=0;b<e.length;b++)u[b]=1;for(b=0;b<n.length;b++)d[b]=n[b].inEdges.length,0===d[b]&&p.push(n[b]);for(var w=-1;p.length;){for(var k=0;k<p.length;k++){var C=p[k],x=C.hostGraph.data.getRawDataItem(C.dataIndex),T=null!=x.depth&&x.depth>=0;T&&x.depth>w&&(w=x.depth),C.setLayout({depth:T?x.depth:m},!0),C.setLayout("vertical"===a?{dy:t}:{dx:t},!0);for(var M=0;M<C.outEdges.length;M++){var I=C.outEdges[M];u[e.indexOf(I)]=0;var N=I.node2;0==--d[n.indexOf(N)]&&g.indexOf(N)<0&&g.push(N)}}++m,p=g,g=[]}for(b=0;b<u.length;b++)if(1===u[b])throw new Error("Sankey is a DAG, the original data has cycle!");var B=w>m-1?w:m-1;l&&"left"!==l&&function(n,e,t,i){if("right"===e){for(var o=[],a=n,l=0;a.length;){for(var u=0;u<a.length;u++){var d=a[u];d.setLayout({skNodeHeight:l},!0);for(var p=0;p<d.inEdges.length;p++){var g=d.inEdges[p];o.indexOf(g.node1)<0&&o.push(g.node1)}}a=o,o=[],++l}V(n,function(m){fN(m)||m.setLayout({depth:Math.max(0,i-m.getLayout().skNodeHeight)},!0)})}else"justify"===e&&function(n,e){V(n,function(t){!fN(t)&&!t.outEdges.length&&t.setLayout({depth:e},!0)})}(n,i)}(n,l,0,B),function(n,e,t){V(n,function(i){var o=i.getLayout().depth*e;i.setLayout("vertical"===t?{y:o}:{x:o},!0)})}(n,"vertical"===a?(o-t)/B:(i-t)/B,a)})(n,e,t,o,a,u,d),function(n,e,t,i,o,a,l){var u=function(n,e){var t=[],i="vertical"===e?"y":"x",o=hm(n,function(a){return a.getLayout()[i]});return o.keys.sort(function(a,l){return a-l}),V(o.keys,function(a){t.push(o.buckets.get(a))}),t}(n,l);(function(n,e,t,i,o,a){var l=1/0;V(n,function(u){var d=u.length,p=0;V(u,function(m){p+=m.getLayout().value});var g="vertical"===a?(i-(d-1)*o)/p:(t-(d-1)*o)/p;g<l&&(l=g)}),V(n,function(u){V(u,function(d,p){var g=d.getLayout().value*l;"vertical"===a?(d.setLayout({x:p},!0),d.setLayout({dx:g},!0)):(d.setLayout({y:p},!0),d.setLayout({dy:g},!0))})}),V(e,function(u){var d=+u.getValue()*l;u.setLayout({dy:d},!0)})})(u,e,t,i,o,l),RM(u,o,t,i,l);for(var d=1;a>0;a--)C9(u,d*=.99,l),RM(u,o,t,i,l),M9(u,d,l),RM(u,o,t,i,l)}(n,e,a,o,i,l,u),function(n,e){var t="vertical"===e?"x":"y";V(n,function(i){i.outEdges.sort(function(o,a){return o.node2.getLayout()[t]-a.node2.getLayout()[t]}),i.inEdges.sort(function(o,a){return o.node1.getLayout()[t]-a.node1.getLayout()[t]})}),V(n,function(i){var o=0,a=0;V(i.outEdges,function(l){l.setLayout({sy:o},!0),o+=l.getLayout().dy}),V(i.inEdges,function(l){l.setLayout({ty:a},!0),a+=l.getLayout().dy})})}(n,u)}(p,g,i,o,l,u,0!==Le(p,function(C){return 0===C.getLayout().value}).length?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))})}function fN(n){var e=n.hostGraph.data.getRawDataItem(n.dataIndex);return null!=e.depth&&e.depth>=0}function RM(n,e,t,i,o){var a="vertical"===o?"x":"y";V(n,function(l){l.sort(function(C,x){return C.getLayout()[a]-x.getLayout()[a]});for(var u,d,p,g=0,m=l.length,b="vertical"===o?"dx":"dy",w=0;w<m;w++)(p=g-(d=l[w]).getLayout()[a])>0&&(u=d.getLayout()[a]+p,d.setLayout("vertical"===o?{x:u}:{y:u},!0)),g=d.getLayout()[a]+d.getLayout()[b]+e;if((p=g-e-("vertical"===o?i:t))>0)for(u=d.getLayout()[a]-p,d.setLayout("vertical"===o?{x:u}:{y:u},!0),g=u,w=m-2;w>=0;--w)(p=(d=l[w]).getLayout()[a]+d.getLayout()[b]+e-g)>0&&(u=d.getLayout()[a]-p,d.setLayout("vertical"===o?{x:u}:{y:u},!0)),g=d.getLayout()[a]})}function C9(n,e,t){V(n.slice().reverse(),function(i){V(i,function(o){if(o.outEdges.length){var a=gu(o.outEdges,x9,t)/gu(o.outEdges,sC);if(isNaN(a)){var l=o.outEdges.length;a=l?gu(o.outEdges,S9,t)/l:0}if("vertical"===t){var u=o.getLayout().x+(a-pu(o,t))*e;o.setLayout({x:u},!0)}else{var d=o.getLayout().y+(a-pu(o,t))*e;o.setLayout({y:d},!0)}}})})}function x9(n,e){return pu(n.node2,e)*n.getValue()}function S9(n,e){return pu(n.node2,e)}function T9(n,e){return pu(n.node1,e)*n.getValue()}function D9(n,e){return pu(n.node1,e)}function pu(n,e){return"vertical"===e?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function sC(n){return n.getValue()}function gu(n,e,t){for(var i=0,o=n.length,a=-1;++a<o;){var l=+e(n[a],t);isNaN(l)||(i+=l)}return i}function M9(n,e,t){V(n,function(i){V(i,function(o){if(o.inEdges.length){var a=gu(o.inEdges,T9,t)/gu(o.inEdges,sC);if(isNaN(a)){var l=o.inEdges.length;a=l?gu(o.inEdges,D9,t)/l:0}if("vertical"===t){var u=o.getLayout().x+(a-pu(o,t))*e;o.setLayout({x:u},!0)}else{var d=o.getLayout().y+(a-pu(o,t))*e;o.setLayout({y:d},!0)}}})})}function E9(n){n.eachSeriesByType("sankey",function(e){var t=e.getGraph(),i=t.nodes,o=t.edges;if(i.length){var a=1/0,l=-1/0;V(i,function(u){var d=u.getLayout().value;d<a&&(a=d),d>l&&(l=d)}),V(i,function(u){var p=new Br({type:"color",mappingMethod:"linear",dataExtent:[a,l],visual:e.get("color")}).mapValueToVisual(u.getLayout().value),g=u.getModel().get(["itemStyle","color"]);null!=g?(u.setVisual("color",g),u.setVisual("style",{fill:g})):(u.setVisual("color",p),u.setVisual("style",{fill:p}))})}o.length&&V(o,function(u){var d=u.getModel().get("lineStyle");u.setVisual("style",d)})})}var pN=function(){function n(){}return n.prototype.getInitialData=function(e,t){var i,d,o=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),l=o.get("type"),u=a.get("type");"category"===l?(e.layout="horizontal",i=o.getOrdinalMeta(),d=!0):"category"===u?(e.layout="vertical",i=a.getOrdinalMeta(),d=!0):e.layout=e.layout||"horizontal";var p=["x","y"],g="horizontal"===e.layout?0:1,m=this._baseAxisDim=p[g],b=p[1-g],w=[o,a],k=w[g].get("type"),C=w[1-g].get("type"),x=e.data;if(x&&d){var T=[];V(x,function(L,N){var R;pt(L)?(R=L.slice(),L.unshift(N)):pt(L.value)?((R=st({},L)).value=R.value.slice(),L.value.unshift(N)):R=L,T.push(R)}),e.data=T}var M=this.defaultValueDimensions,I=[{name:m,type:AA(k),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:b,type:AA(C),dimsDef:M.slice()}];return Lg(this,{coordDimensions:I,dimensionsCount:M.length+1,encodeDefaulter:Gt(lk,I,this)})},n.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},n}(),gN=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return tt(e,n),e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(en);fn(gN,pN,!0);const P9=gN;var R9=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.render=function(t,i,o){var a=t.getData(),l=this.group,u=this._data;this._data||l.removeAll();var d="horizontal"===t.get("layout")?1:0;a.diff(u).add(function(p){if(a.hasValue(p)){var m=vN(a.getItemLayout(p),a,p,d,!0);a.setItemGraphicEl(p,m),l.add(m)}}).update(function(p,g){var m=u.getItemGraphicEl(g);if(a.hasValue(p)){var b=a.getItemLayout(p);m?(Yr(m),mN(b,m,a,p)):m=vN(b,a,p,d),l.add(m),a.setItemGraphicEl(p,m)}else l.remove(m)}).remove(function(p){var g=u.getItemGraphicEl(p);g&&l.remove(g)}).execute(),this._data=a},e.prototype.remove=function(t){var i=this.group,o=this._data;this._data=null,o&&o.eachItemGraphicEl(function(a){a&&i.remove(a)})},e.type="boxplot",e}(Be),N9=function(){},B9=function(n){function e(t){var i=n.call(this,t)||this;return i.type="boxplotBoxPath",i}return tt(e,n),e.prototype.getDefaultShape=function(){return new N9},e.prototype.buildPath=function(t,i){var o=i.points,a=0;for(t.moveTo(o[a][0],o[a][1]),a++;a<4;a++)t.lineTo(o[a][0],o[a][1]);for(t.closePath();a<o.length;a++)t.moveTo(o[a][0],o[a][1]),a++,t.lineTo(o[a][0],o[a][1])},e}(re);function vN(n,e,t,i,o){var a=n.ends,l=new B9({shape:{points:o?z9(a,i,n):a}});return mN(n,l,e,t,o),l}function mN(n,e,t,i,o){(0,Wn[o?"initProps":"updateProps"])(e,{shape:{points:n.ends}},t.hostModel,i),e.useStyle(t.getItemVisual(i,"style")),e.style.strokeNoScale=!0,e.z2=100;var u=t.getItemModel(i),d=u.getModel("emphasis");ar(e,u),cn(e,d.get("focus"),d.get("blurScope"),d.get("disabled"))}function z9(n,e,t){return gt(n,function(i){return(i=i.slice())[e]=t.initBaseline,i})}const O9=R9;var Tb=V;function V9(n){var e=function(n){var e=[],t=[];return n.eachSeriesByType("boxplot",function(i){var o=i.getBaseAxis(),a=qt(t,o);a<0&&(t[a=t.length]=o,e[a]={axis:o,seriesModels:[]}),e[a].seriesModels.push(i)}),e}(n);Tb(e,function(t){var i=t.seriesModels;!i.length||(function(n){var u,e=n.axis,t=n.seriesModels,i=t.length,o=n.boxWidthList=[],a=n.boxOffsetList=[],l=[];if("category"===e.type)u=e.getBandWidth();else{var d=0;Tb(t,function(k){d=Math.max(d,k.getData().count())});var p=e.getExtent();u=Math.abs(p[1]-p[0])/d}Tb(t,function(k){var C=k.get("boxWidth");pt(C)||(C=[C,C]),l.push([_t(C[0],u)||0,_t(C[1],u)||0])});var g=.8*u-2,m=g/i*.3,b=(g-m*(i-1))/i,w=b/2-g/2;Tb(t,function(k,C){a.push(w),w+=m+b,o.push(Math.min(Math.max(b,l[C][0]),l[C][1]))})}(t),Tb(i,function(o,a){!function(n,e,t){var i=n.coordinateSystem,o=n.getData(),a=t/2,l="horizontal"===n.get("layout")?0:1,u=1-l,d=["x","y"],p=o.mapDimension(d[l]),g=o.mapDimensionsAll(d[u]);if(!(null==p||g.length<5))for(var m=0;m<o.count();m++){var b=o.get(p,m),w=I(b,g[2],m),k=I(b,g[0],m),C=I(b,g[1],m),x=I(b,g[3],m),T=I(b,g[4],m),M=[];L(M,C,!1),L(M,x,!0),M.push(k,C,T,x),N(M,k),N(M,T),N(M,w),o.setItemLayout(m,{initBaseline:w[u],ends:M})}function I(R,B,O){var j,F=o.get(B,O),H=[];return H[l]=R,H[u]=F,isNaN(R)||isNaN(F)?j=[NaN,NaN]:(j=i.dataToPoint(H))[l]+=e,j}function L(R,B,O){var F=B.slice(),H=B.slice();F[l]+=a,H[l]-=a,O?R.push(F,H):R.push(H,F)}function N(R,B){var O=B.slice(),F=B.slice();O[l]-=a,F[l]+=a,R.push(O,F)}}(o,t.boxOffsetList[a],t.boxWidthList[a])}))})}var U9={type:"echarts:boxplot",transform:function(e){var t=e.upstream;t.sourceFormat!==Kn&&Me("");var o=function(n,e){for(var t=[],i=[],o=(e=e||{}).boundIQR,a="none"===o||0===o,l=0;l<n.length;l++){var u=lt(n[l].slice()),d=zs(u,.25),p=zs(u,.5),g=zs(u,.75),m=u[0],b=u[u.length-1],w=(o??1.5)*(g-d),k=a?m:Math.max(m,d-w),C=a?b:Math.min(b,g+w),x=e.itemNameFormatter,T=Mt(x)?x({value:l}):At(x)?x.replace("{value}",l+""):l+"";t.push([T,k,d,p,g,C]);for(var M=0;M<u.length;M++){var I=u[M];(I<k||I>C)&&i.push([T,I])}}return{boxData:t,outliers:i}}(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:o.boxData},{data:o.outliers}]}},Y9=["color","borderColor"],q9=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.render=function(t,i,o){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,i,o){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,i,o,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,i):this._incrementalRenderNormal(t,i)},e.prototype.eachRendered=function(t){wi(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;(null==this._isLargeDraw||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(t){var i=t.getData(),o=this._data,a=this.group,l=i.getLayout("isSimpleBox"),u=t.get("clip",!0),d=t.coordinateSystem,p=d.getArea&&d.getArea();this._data||a.removeAll(),i.diff(o).add(function(g){if(i.hasValue(g)){var m=i.getItemLayout(g);if(u&&yN(p,m))return;var b=NM(m,0,!0);Je(b,{shape:{points:m.ends}},t,g),BM(b,i,g,l),a.add(b),i.setItemGraphicEl(g,b)}}).update(function(g,m){var b=o.getItemGraphicEl(m);if(i.hasValue(g)){var w=i.getItemLayout(g);u&&yN(p,w)?a.remove(b):(b?(ke(b,{shape:{points:w.ends}},t,g),Yr(b)):b=NM(w),BM(b,i,g,l),a.add(b),i.setItemGraphicEl(g,b))}else a.remove(b)}).remove(function(g){var m=o.getItemGraphicEl(g);m&&a.remove(m)}).execute(),this._data=i},e.prototype._renderLarge=function(t){this._clear(),bN(t,this.group);var i=t.get("clip",!0)?TA(t.coordinateSystem,!1,t):null;i?this.group.setClipPath(i):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,i){for(var l,o=i.getData(),a=o.getLayout("isSimpleBox");null!=(l=t.next());){var d=NM(o.getItemLayout(l));BM(d,o,l,a),d.incremental=!0,this.group.add(d),this._progressiveEls.push(d)}},e.prototype._incrementalRenderLarge=function(t,i){bN(i,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(Be),Z9=function(){},$9=function(n){function e(t){var i=n.call(this,t)||this;return i.type="normalCandlestickBox",i}return tt(e,n),e.prototype.getDefaultShape=function(){return new Z9},e.prototype.buildPath=function(t,i){var o=i.points;this.__simpleBox?(t.moveTo(o[4][0],o[4][1]),t.lineTo(o[6][0],o[6][1])):(t.moveTo(o[0][0],o[0][1]),t.lineTo(o[1][0],o[1][1]),t.lineTo(o[2][0],o[2][1]),t.lineTo(o[3][0],o[3][1]),t.closePath(),t.moveTo(o[4][0],o[4][1]),t.lineTo(o[5][0],o[5][1]),t.moveTo(o[6][0],o[6][1]),t.lineTo(o[7][0],o[7][1]))},e}(re);function NM(n,e,t){var i=n.ends;return new $9({shape:{points:t?K9(i,n):i},z2:100})}function yN(n,e){for(var t=!0,i=0;i<e.ends.length;i++)if(n.contain(e.ends[i][0],e.ends[i][1])){t=!1;break}return t}function BM(n,e,t,i){var o=e.getItemModel(t);n.useStyle(e.getItemVisual(t,"style")),n.style.strokeNoScale=!0,n.__simpleBox=i,ar(n,o)}function K9(n,e){return gt(n,function(t){return(t=t.slice())[1]=e.initBaseline,t})}var X9=function(){},zM=function(n){function e(t){var i=n.call(this,t)||this;return i.type="largeCandlestickBox",i}return tt(e,n),e.prototype.getDefaultShape=function(){return new X9},e.prototype.buildPath=function(t,i){for(var o=i.points,a=0;a<o.length;)if(this.__sign===o[a++]){var l=o[a++];t.moveTo(l,o[a++]),t.lineTo(l,o[a++])}else a+=3},e}(re);function bN(n,e,t,i){var o=n.getData(),a=o.getLayout("largePoints"),l=new zM({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});e.add(l);var u=new zM({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});e.add(u);var d=new zM({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});e.add(d),OM(1,l,n),OM(-1,u,n),OM(0,d,n),i&&(l.incremental=!0,u.incremental=!0),t&&t.push(l,u)}function OM(n,e,t,i){var o=t.get(["itemStyle",n>0?"borderColor":"borderColor0"])||t.get(["itemStyle",n>0?"color":"color0"]);0===n&&(o=t.get(["itemStyle","borderColorDoji"]));var a=t.getModel("itemStyle").getItemStyle(Y9);e.useStyle(a),e.style.fill=null,e.style.stroke=o}const Q9=q9;var wN=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return tt(e,n),e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,i,o){var a=i.getItemLayout(t);return a&&o.rect(a.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(en);fn(wN,pN,!0);const J9=wN;function tj(n){!n||!pt(n.series)||V(n.series,function(e){Rt(e)&&"k"===e.type&&(e.type="candlestick")})}var ej=["itemStyle","borderColor"],nj=["itemStyle","borderColor0"],rj=["itemStyle","borderColorDoji"],ij=["itemStyle","color"],oj=["itemStyle","color0"],aj={seriesType:"candlestick",plan:pl(),performRawSeries:!0,reset:function(n,e){function t(a,l){return l.get(a>0?ij:oj)}function i(a,l){return l.get(0===a?rj:a>0?ej:nj)}if(!e.isSeriesFiltered(n))return!n.pipelineContext.large&&{progress:function(a,l){for(var u;null!=(u=a.next());){var d=l.getItemModel(u),p=l.getItemLayout(u).sign,g=d.getItemStyle();g.fill=t(p,d),g.stroke=i(p,d)||g.fill,st(l.ensureUniqueItemVisual(u,"style"),g)}}}}};const sj=aj;var lj={seriesType:"candlestick",plan:pl(),reset:function(n){var e=n.coordinateSystem,t=n.getData(),i=function(n,e){var i,t=n.getBaseAxis(),o="category"===t.type?t.getBandWidth():(i=t.getExtent(),Math.abs(i[1]-i[0])/e.count()),a=_t(Kt(n.get("barMaxWidth"),o),o),l=_t(Kt(n.get("barMinWidth"),1),o),u=n.get("barWidth");return null!=u?_t(u,o):Math.max(Math.min(o/2,a),l)}(n,t),l=["x","y"],u=t.getDimensionIndex(t.mapDimension(l[0])),d=gt(t.mapDimensionsAll(l[1]),t.getDimensionIndex,t),p=d[0],g=d[1],m=d[2],b=d[3];if(t.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(u<0||d.length<4))return{progress:n.pipelineContext.large?function(C,x){for(var I,R,T=fs(4*C.count),M=0,L=[],N=[],B=x.getStore(),O=!!n.get(["itemStyle","borderColorDoji"]);null!=(R=C.next());){var F=B.get(u,R),H=B.get(p,R),j=B.get(g,R),q=B.get(m,R),Z=B.get(b,R);isNaN(F)||isNaN(q)||isNaN(Z)?(T[M++]=NaN,M+=3):(T[M++]=_N(B,R,H,j,g,O),L[0]=F,L[1]=q,I=e.dataToPoint(L,null,N),T[M++]=I?I[0]:NaN,T[M++]=I?I[1]:NaN,L[1]=Z,I=e.dataToPoint(L,null,N),T[M++]=I?I[1]:NaN)}x.setLayout("largePoints",T)}:function(C,x){for(var T,M=x.getStore();null!=(T=C.next());){var I=M.get(u,T),L=M.get(p,T),N=M.get(g,T),R=M.get(m,T),B=M.get(b,T),O=Math.min(L,N),F=Math.max(L,N),H=rt(O,I),j=rt(F,I),q=rt(R,I),Z=rt(B,I),K=[];nt(K,j,0),nt(K,H,1),K.push(yt(Z),yt(j),yt(q),yt(H));var J=!!x.getItemModel(T).get(["itemStyle","borderColorDoji"]);x.setItemLayout(T,{sign:_N(M,T,L,N,g,J),initBaseline:L>N?j[1]:H[1],ends:K,brushRect:(kt=R,Dt=B,Nt=I,Bt=void 0,ce=void 0,Bt=rt(kt,Nt),ce=rt(Dt,Nt),Bt[0]-=i/2,ce[0]-=i/2,{x:Bt[0],y:Bt[1],width:i,height:ce[1]-Bt[1]})})}var kt,Dt,Nt,Bt,ce;function rt(kt,Dt){var Nt=[];return Nt[0]=Dt,Nt[1]=kt,isNaN(Dt)||isNaN(kt)?[NaN,NaN]:e.dataToPoint(Nt)}function nt(kt,Dt,Nt){var Bt=Dt.slice(),ce=Dt.slice();Bt[0]=Wc(Bt[0]+i/2,1,!1),ce[0]=Wc(ce[0]-i/2,1,!0),Nt?kt.push(Bt,ce):kt.push(ce,Bt)}function yt(kt){return kt[0]=Wc(kt[0],1),kt}}}}};function _N(n,e,t,i,o,a){return t>i?-1:t<i?1:a?0:e>0?n.get(o,e-1)<=i?1:-1:1}const uj=lj;function kN(n,e){var t=e.rippleEffectColor||e.color;n.eachChild(function(i){i.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?t:null,fill:"fill"===e.brushType?t:null}})})}var hj=function(n){function e(t,i){var o=n.call(this)||this,a=new eb(t,i),l=new Vt;return o.add(a),o.add(l),o.updateData(t,i),o}return tt(e,n),e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var i=t.symbolType,o=t.color,a=t.rippleNumber,l=this.childAt(1),u=0;u<a;u++){var d=wn(i,-1,-1,2,2,o);d.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var p=-u/a*t.period+t.effectOffset;d.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(p).start(),d.animateStyle(!0).when(t.period,{opacity:0}).delay(p).start(),l.add(d)}kN(l,t)},e.prototype.updateEffectAnimation=function(t){for(var i=this._effectCfg,o=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],l=0;l<a.length;l++){var u=a[l];if(i[u]!==t[u])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}kN(o,t)},e.prototype.highlight=function(){sa(this)},e.prototype.downplay=function(){vi(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,i){var o=this,a=t.hostModel;this.childAt(0).updateData(t,i);var l=this.childAt(1),u=t.getItemModel(i),d=t.getItemVisual(i,"symbol"),p=Xc(t.getItemVisual(i,"symbolSize")),g=t.getItemVisual(i,"style"),m=g&&g.fill,b=u.getModel("emphasis");l.setScale(p),l.traverse(function(x){x.setStyle("fill",m)});var w=Qc(t.getItemVisual(i,"symbolOffset"),p);w&&(l.x=w[0],l.y=w[1]);var k=t.getItemVisual(i,"symbolRotate");l.rotation=(k||0)*Math.PI/180||0;var C={};C.showEffectOn=a.get("showEffectOn"),C.rippleScale=u.get(["rippleEffect","scale"]),C.brushType=u.get(["rippleEffect","brushType"]),C.period=1e3*u.get(["rippleEffect","period"]),C.effectOffset=i/t.count(),C.z=a.getShallow("z")||0,C.zlevel=a.getShallow("zlevel")||0,C.symbolType=d,C.color=m,C.rippleEffectColor=u.get(["rippleEffect","color"]),C.rippleNumber=u.get(["rippleEffect","number"]),"render"===C.showEffectOn?(this._effectCfg?this.updateEffectAnimation(C):this.startEffectAnimation(C),this._effectCfg=C):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(x){"emphasis"===x?"render"!==C.showEffectOn&&o.startEffectAnimation(C):"normal"===x&&"render"!==C.showEffectOn&&o.stopEffectAnimation()}),this._effectCfg=C,cn(this,b.get("focus"),b.get("blurScope"),b.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e}(Vt);const fj=hj;var pj=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.init=function(){this._symbolDraw=new nb(fj)},e.prototype.render=function(t,i,o){var a=t.getData(),l=this._symbolDraw;l.updateData(a,{clipShape:this._getClipShape(t)}),this.group.add(l.group)},e.prototype._getClipShape=function(t){var i=t.coordinateSystem,o=i&&i.getArea&&i.getArea();return t.get("clip",!0)?o:null},e.prototype.updateTransform=function(t,i,o){var a=t.getData();this.group.dirty();var l=rb("").reset(t,i,o);l.progress&&l.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var i=t.coordinateSystem;i&&i.getRoamTransform&&(this.group.transform=function(n){var e=[1,0,0,1,0,0];return qo(e,n),e}(i.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(Be);const gj=pj;var vj=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return tt(e,n),e.prototype.getInitialData=function(t,i){return Dl(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,i,o){return o.point(i.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(en);const mj=vj;var bj=function(n){function e(t,i,o){var a=n.call(this)||this;return a.add(a.createLine(t,i,o)),a._updateEffectSymbol(t,i),a}return tt(e,n),e.prototype.createLine=function(t,i,o){return new uM(t,i,o)},e.prototype._updateEffectSymbol=function(t,i){var a=t.getItemModel(i).getModel("effect"),l=a.get("symbolSize"),u=a.get("symbol");pt(l)||(l=[l,l]);var d=t.getItemVisual(i,"style"),p=a.get("color")||d&&d.stroke,g=this.childAt(1);this._symbolType!==u&&(this.remove(g),(g=wn(u,-.5,-.5,1,1,p)).z2=100,g.culling=!0,this.add(g)),g&&(g.setStyle("shadowColor",p),g.setStyle(a.getItemStyle(["color"])),g.scaleX=l[0],g.scaleY=l[1],g.setColor(p),this._symbolType=u,this._symbolScale=l,this._updateEffectAnimation(t,a,i))},e.prototype._updateEffectAnimation=function(t,i,o){var a=this.childAt(1);if(a){var l=t.getItemLayout(o),u=1e3*i.get("period"),d=i.get("loop"),p=i.get("roundTrip"),g=i.get("constantSpeed"),m=pn(i.get("delay"),function(w){return w/t.count()*u/3});if(a.ignore=!0,this._updateAnimationPoints(a,l),g>0&&(u=this._getLineLength(a)/g*1e3),u!==this._period||d!==this._loop||p!==this._roundTrip){a.stopAnimation();var b=void 0;b=Mt(m)?m(o):m,a.__t>0&&(b=-u*a.__t),this._animateSymbol(a,u,b,d,p)}this._period=u,this._loop=d,this._roundTrip=p}},e.prototype._animateSymbol=function(t,i,o,a,l){if(i>0){t.__t=0;var u=this,d=t.animate("",a).when(l?2*i:i,{__t:l?2:1}).delay(o).during(function(){u._updateSymbolPosition(t)});a||d.done(function(){u.remove(t)}),d.start()}},e.prototype._getLineLength=function(t){return Hi(t.__p1,t.__cp1)+Hi(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,i){t.__p1=i[0],t.__p2=i[1],t.__cp1=i[2]||[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]},e.prototype.updateData=function(t,i,o){this.childAt(0).updateData(t,i,o),this._updateEffectSymbol(t,i)},e.prototype._updateSymbolPosition=function(t){var i=t.__p1,o=t.__p2,a=t.__cp1,l=t.__t<1?t.__t:2-t.__t,u=[t.x,t.y],d=u.slice(),p=Pn,g=Ou;u[0]=p(i[0],a[0],o[0],l),u[1]=p(i[1],a[1],o[1],l);var m=t.__t<1?g(i[0],a[0],o[0],l):g(o[0],a[0],i[0],1-l),b=t.__t<1?g(i[1],a[1],o[1],l):g(o[1],a[1],i[1],1-l);t.rotation=-Math.atan2(b,m)-Math.PI/2,("line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)&&(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*Hi(d,u),1===l&&(u[0]=d[0]+(u[0]-d[0])/2,u[1]=d[1]+(u[1]-d[1])/2)):t.scaleY=1===t.__lastT?2*Hi(i,u):this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=u[0],t.y=u[1]},e.prototype.updateLayout=function(t,i){this.childAt(0).updateLayout(t,i);var o=t.getItemModel(i).getModel("effect");this._updateEffectAnimation(t,o,i)},e}(Vt);const AN=bj;var wj=function(n){function e(t,i,o){var a=n.call(this)||this;return a._createPolyline(t,i,o),a}return tt(e,n),e.prototype._createPolyline=function(t,i,o){var a=t.getItemLayout(i),l=new Jr({shape:{points:a}});this.add(l),this._updateCommonStl(t,i,o)},e.prototype.updateData=function(t,i,o){var a=t.hostModel;ke(this.childAt(0),{shape:{points:t.getItemLayout(i)}},a,i),this._updateCommonStl(t,i,o)},e.prototype._updateCommonStl=function(t,i,o){var a=this.childAt(0),l=t.getItemModel(i),u=o&&o.emphasisLineStyle,d=o&&o.focus,p=o&&o.blurScope,g=o&&o.emphasisDisabled;if(!o||t.hasItemOption){var m=l.getModel("emphasis");u=m.getModel("lineStyle").getLineStyle(),g=m.get("disabled"),d=m.get("focus"),p=m.get("blurScope")}a.useStyle(t.getItemVisual(i,"style")),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=u,cn(this,d,p,g)},e.prototype.updateLayout=function(t,i){this.childAt(0).setShape("points",t.getItemLayout(i))},e}(Vt);const CN=wj;var _j=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return tt(e,n),e.prototype.createLine=function(t,i,o){return new CN(t,i,o)},e.prototype._updateAnimationPoints=function(t,i){this._points=i;for(var o=[0],a=0,l=1;l<i.length;l++)a+=Hi(i[l-1],i[l]),o.push(a);if(0!==a){for(l=0;l<o.length;l++)o[l]/=a;this._offsets=o,this._length=a}else this._length=0},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var i=t.__t<1?t.__t:2-t.__t,o=this._points,a=this._offsets,l=o.length;if(a){var d,u=this._lastFrame;if(i<this._lastFramePercent){for(d=Math.min(u+1,l-1);d>=0&&!(a[d]<=i);d--);d=Math.min(d,l-2)}else{for(d=u;d<l&&!(a[d]>i);d++);d=Math.min(d-1,l-2)}var g=(i-a[d])/(a[d+1]-a[d]),m=o[d],b=o[d+1];t.x=m[0]*(1-g)+g*b[0],t.y=m[1]*(1-g)+g*b[1],t.rotation=-Math.atan2(t.__t<1?b[1]-m[1]:m[1]-b[1],t.__t<1?b[0]-m[0]:m[0]-b[0])-Math.PI/2,this._lastFrame=d,this._lastFramePercent=i,t.ignore=!1}},e}(AN);const kj=_j;var Aj=function(){this.polyline=!1,this.curveness=0,this.segs=[]},Cj=function(n){function e(t){var i=n.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return tt(e,n),e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Aj},e.prototype.buildPath=function(t,i){var l,o=i.segs,a=i.curveness;if(i.polyline)for(l=this._off;l<o.length;){var u=o[l++];if(u>0){t.moveTo(o[l++],o[l++]);for(var d=1;d<u;d++)t.lineTo(o[l++],o[l++])}}else for(l=this._off;l<o.length;){var p=o[l++],g=o[l++],m=o[l++],b=o[l++];t.moveTo(p,g),a>0?t.quadraticCurveTo((p+m)/2-(g-b)*a,(g+b)/2-(m-p)*a,m,b):t.lineTo(m,b)}this.incremental&&(this._off=l,this.notClear=!0)},e.prototype.findDataIndex=function(t,i){var o=this.shape,a=o.segs,l=o.curveness,u=this.style.lineWidth;if(o.polyline)for(var d=0,p=0;p<a.length;){var g=a[p++];if(g>0)for(var m=a[p++],b=a[p++],w=1;w<g;w++)if(ia(m,b,k=a[p++],C=a[p++],u,t,i))return d;d++}else for(d=0,p=0;p<a.length;){m=a[p++],b=a[p++];var k=a[p++],C=a[p++];if(l>0){if(_m(m,b,(m+k)/2-(b-C)*l,(b+C)/2-(k-m)*l,k,C,u,t,i))return d}else if(ia(m,b,k,C,u,t,i))return d;d++}return-1},e.prototype.contain=function(t,i){var o=this.transformCoordToLocal(t,i);return this.getBoundingRect().contain(t=o[0],i=o[1])?(this.hoverDataIdx=this.findDataIndex(t,i))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var o=this.shape.segs,a=1/0,l=1/0,u=-1/0,d=-1/0,p=0;p<o.length;){var g=o[p++],m=o[p++];a=Math.min(g,a),u=Math.max(g,u),l=Math.min(m,l),d=Math.max(m,d)}t=this._rect=new $t(a,l,u,d)}return t},e}(re),xj=function(){function n(){this.group=new Vt}return n.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},n.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(e,t){var i=this._newAdded[0],o=t.getLayout("linesPoints"),a=i&&i.shape.segs;if(a&&a.length<2e4){var l=a.length,u=new Float32Array(l+o.length);u.set(a),u.set(o,l),i.setShape({segs:u})}else{this._newAdded=[];var d=this._create();d.incremental=!0,d.setShape({segs:o}),this._setCommon(d,t),d.__startIndex=e.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new Cj({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},n.prototype._setCommon=function(e,t,i){var o=t.hostModel;e.setShape({polyline:o.get("polyline"),curveness:o.get(["lineStyle","curveness"])}),e.useStyle(o.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var a=t.getVisual("style");a&&a.stroke&&e.setStyle("stroke",a.stroke),e.setStyle("fill",null);var l=jt(e);l.seriesIndex=o.seriesIndex,e.on("mousemove",function(u){l.dataIndex=null;var d=e.hoverDataIdx;d>0&&(l.dataIndex=d+e.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}();const Sj=xj;var Tj={seriesType:"lines",plan:pl(),reset:function(n){var e=n.coordinateSystem;if(e){var t=n.get("polyline"),i=n.pipelineContext.large;return{progress:function(o,a){var l=[];if(i){var u=void 0,d=o.end-o.start;if(t){for(var p=0,g=o.start;g<o.end;g++)p+=n.getLineCoordsCount(g);u=new Float32Array(d+2*p)}else u=new Float32Array(4*d);var m=0,b=[];for(g=o.start;g<o.end;g++){var w=n.getLineCoords(g,l);t&&(u[m++]=w);for(var k=0;k<w;k++)b=e.dataToPoint(l[k],!1,b),u[m++]=b[0],u[m++]=b[1]}a.setLayout("linesPoints",u)}else for(g=o.start;g<o.end;g++){var C=a.getItemModel(g),x=(w=n.getLineCoords(g,l),[]);if(t)for(var T=0;T<w;T++)x.push(e.dataToPoint(l[T]));else{x[0]=e.dataToPoint(l[0]),x[1]=e.dataToPoint(l[1]);var M=C.get(["lineStyle","curveness"]);+M&&(x[2]=[(x[0][0]+x[1][0])/2-(x[0][1]-x[1][1])*M,(x[0][1]+x[1][1])/2-(x[1][0]-x[0][0])*M])}a.setItemLayout(g,x)}}}}}};const xN=Tj;var Dj=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.render=function(t,i,o){var a=t.getData(),l=this._updateLineDraw(a,t),u=t.get("zlevel"),d=t.get(["effect","trailLength"]),p=o.getZr(),g="svg"===p.painter.getType();g||p.painter.getLayer(u).clear(!0),null!=this._lastZlevel&&!g&&p.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&d>0&&(g||p.configLayer(u,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(d/10+.9,1),0)})),l.updateData(a);var m=t.get("clip",!0)&&TA(t.coordinateSystem,!1,t);m?this.group.setClipPath(m):this.group.removeClipPath(),this._lastZlevel=u,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,i,o){var a=t.getData();this._updateLineDraw(a,t).incrementalPrepareUpdate(a),this._clearLayer(o),this._finished=!1},e.prototype.incrementalRender=function(t,i,o){this._lineDraw.incrementalUpdate(t,i.getData()),this._finished=t.end===i.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,i,o){var a=t.getData(),l=t.pipelineContext;if(!this._finished||l.large||l.progressiveRender)return{update:!0};var u=xN.reset(t,i,o);u.progress&&u.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(o)},e.prototype._updateLineDraw=function(t,i){var o=this._lineDraw,a=this._showEffect(i),l=!!i.get("polyline"),d=i.pipelineContext.large;return(!o||a!==this._hasEffet||l!==this._isPolyline||d!==this._isLargeDraw)&&(o&&o.remove(),o=this._lineDraw=d?new Sj:new hM(l?a?kj:CN:a?AN:uM),this._hasEffet=a,this._isPolyline=l,this._isLargeDraw=d),this.group.add(o.group),o},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var i=t.getZr();"svg"!==i.painter.getType()&&null!=this._lastZlevel&&i.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,i){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(i)},e.prototype.dispose=function(t,i){this.remove(t,i)},e.type="lines",e}(Be);const Mj=Dj;var Ij="undefined"==typeof Uint32Array?Array:Uint32Array,Ej="undefined"==typeof Float64Array?Array:Float64Array;function SN(n){var e=n.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(n.data=gt(e,function(t){var o={coords:[t[0].coord,t[1].coord]};return t[0].name&&(o.fromName=t[0].name),t[1].name&&(o.toName=t[1].name),iv([o,t[0],t[1]])}))}var Lj=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return tt(e,n),e.prototype.init=function(t){t.data=t.data||[],SN(t);var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count)),n.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if(SN(t),t.data){var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count))}n.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var i=this._processFlatCoordsArray(t.data);i.flatCoords&&(this._flatCoords?(this._flatCoords=Eu(this._flatCoords,i.flatCoords),this._flatCoordsOffset=Eu(this._flatCoordsOffset,i.flatCoordsOffset)):(this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset),t.data=new Float32Array(i.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var i=this.getData().getItemModel(t);return i.option instanceof Array?i.option:i.getShallow("coords")},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,i){if(this._flatCoordsOffset){for(var o=this._flatCoordsOffset[2*t],a=this._flatCoordsOffset[2*t+1],l=0;l<a;l++)i[l]=i[l]||[],i[l][0]=this._flatCoords[o+2*l],i[l][1]=this._flatCoords[o+2*l+1];return a}var u=this._getCoordsFromItemModel(t);for(l=0;l<u.length;l++)i[l]=i[l]||[],i[l][0]=u[l][0],i[l][1]=u[l][1];return u.length},e.prototype._processFlatCoordsArray=function(t){var i=0;if(this._flatCoords&&(i=this._flatCoords.length),_e(t[0])){for(var o=t.length,a=new Ij(o),l=new Ej(o),u=0,d=0,p=0,g=0;g<o;){p++;var m=t[g++];a[d++]=u+i,a[d++]=m;for(var b=0;b<m;b++){var w=t[g++],k=t[g++];l[u++]=w,l[u++]=k}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,d),flatCoords:l,count:p}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,i){var a=new ki(["value"],this);return a.hasItemOption=!1,a.initData(t.data,[],function(l,u,d,p){if(l instanceof Array)return NaN;a.hasItemOption=!0;var g=l.value;return null!=g?g instanceof Array?g[p]:g:void 0}),a},e.prototype.formatTooltip=function(t,i,o){var l=this.getData().getItemModel(t),u=l.get("name");if(u)return u;var d=l.get("fromName"),p=l.get("toName"),g=[];return null!=d&&g.push(d),null!=p&&g.push(p),Mn("nameValue",{name:g.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),i=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&i>0?i+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(en);const Pj=Lj;function lC(n){return n instanceof Array||(n=[n,n]),n}var Rj={seriesType:"lines",reset:function(n){var e=lC(n.get("symbol")),t=lC(n.get("symbolSize")),i=n.getData();return i.setVisual("fromSymbol",e&&e[0]),i.setVisual("toSymbol",e&&e[1]),i.setVisual("fromSymbolSize",t&&t[0]),i.setVisual("toSymbolSize",t&&t[1]),{dataEach:i.hasItemOption?function(a,l){var u=a.getItemModel(l),d=lC(u.getShallow("symbol",!0)),p=lC(u.getShallow("symbolSize",!0));d[0]&&a.setItemVisual(l,"fromSymbol",d[0]),d[1]&&a.setItemVisual(l,"toSymbol",d[1]),p[0]&&a.setItemVisual(l,"fromSymbolSize",p[0]),p[1]&&a.setItemVisual(l,"toSymbolSize",p[1])}:null}}};const Nj=Rj;var Oj=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=ur.createCanvas();this.canvas=e}return n.prototype.update=function(e,t,i,o,a,l){var u=this._getBrush(),d=this._getGradient(a,"inRange"),p=this._getGradient(a,"outOfRange"),g=this.pointSize+this.blurSize,m=this.canvas,b=m.getContext("2d"),w=e.length;m.width=t,m.height=i;for(var k=0;k<w;++k){var C=e[k],x=C[0],T=C[1],I=o(C[2]);b.globalAlpha=I,b.drawImage(u,x-g,T-g)}if(!m.width||!m.height)return m;for(var L=b.getImageData(0,0,m.width,m.height),N=L.data,R=0,B=N.length,O=this.minOpacity,H=this.maxOpacity-O;R<B;){I=N[R+3]/256;var j=4*Math.floor(255*I);if(I>0){var q=l(I)?d:p;I>0&&(I=I*H+O),N[R++]=q[j],N[R++]=q[j+1],N[R++]=q[j+2],N[R++]=q[j+3]*I*256}else R+=4}return b.putImageData(L,0,0),m},n.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=ur.createCanvas()),t=this.pointSize+this.blurSize,i=2*t;e.width=i,e.height=i;var o=e.getContext("2d");return o.clearRect(0,0,i,i),o.shadowOffsetX=i,o.shadowBlur=this.blurSize,o.shadowColor="#000",o.beginPath(),o.arc(-t,t,this.pointSize,0,2*Math.PI,!0),o.closePath(),o.fill(),e},n.prototype._getGradient=function(e,t){for(var i=this._gradientPixels,o=i[t]||(i[t]=new Uint8ClampedArray(1024)),a=[0,0,0,0],l=0,u=0;u<256;u++)e[t](u/255,!0,a),o[l++]=a[0],o[l++]=a[1],o[l++]=a[2],o[l++]=a[3];return o},n}();const Vj=Oj;function TN(n){var e=n.dimensions;return"lng"===e[0]&&"lat"===e[1]}var jj=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.render=function(t,i,o){var a;i.eachComponent("visualMap",function(u){u.eachTargetSeries(function(d){d===t&&(a=u)})}),this._progressiveEls=null,this.group.removeAll();var l=t.coordinateSystem;"cartesian2d"===l.type||"calendar"===l.type?this._renderOnCartesianAndCalendar(t,o,0,t.getData().count()):TN(l)&&this._renderOnGeo(l,t,a,o)},e.prototype.incrementalPrepareRender=function(t,i,o){this.group.removeAll()},e.prototype.incrementalRender=function(t,i,o,a){var l=i.coordinateSystem;l&&(TN(l)?this.render(i,o,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(i,a,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){wi(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,i,o,a,l){var p,g,m,b,u=t.coordinateSystem,d=oh(u,"cartesian2d");if(d){var w=u.getAxis("x"),k=u.getAxis("y");p=w.getBandWidth()+.5,g=k.getBandWidth()+.5,m=w.scale.getExtent(),b=k.scale.getExtent()}for(var C=this.group,x=t.getData(),T=t.getModel(["emphasis","itemStyle"]).getItemStyle(),M=t.getModel(["blur","itemStyle"]).getItemStyle(),I=t.getModel(["select","itemStyle"]).getItemStyle(),L=t.get(["itemStyle","borderRadius"]),N=Nn(t),R=t.getModel("emphasis"),B=R.get("focus"),O=R.get("blurScope"),F=R.get("disabled"),H=d?[x.mapDimension("x"),x.mapDimension("y"),x.mapDimension("value")]:[x.mapDimension("time"),x.mapDimension("value")],j=o;j<a;j++){var q=void 0,Z=x.getItemVisual(j,"style");if(d){var K=x.get(H[0],j),Q=x.get(H[1],j);if(isNaN(x.get(H[2],j))||isNaN(K)||isNaN(Q)||K<m[0]||K>m[1]||Q<b[0]||Q>b[1])continue;var J=u.dataToPoint([K,Q]);q=new Xt({shape:{x:J[0]-p/2,y:J[1]-g/2,width:p,height:g},style:Z})}else{if(isNaN(x.get(H[1],j)))continue;q=new Xt({z2:1,shape:u.dataToRect([x.get(H[0],j)]).contentShape,style:Z})}if(x.hasItemOption){var rt=x.getItemModel(j),nt=rt.getModel("emphasis");T=nt.getModel("itemStyle").getItemStyle(),M=rt.getModel(["blur","itemStyle"]).getItemStyle(),I=rt.getModel(["select","itemStyle"]).getItemStyle(),L=rt.get(["itemStyle","borderRadius"]),B=nt.get("focus"),O=nt.get("blurScope"),F=nt.get("disabled"),N=Nn(rt)}q.shape.r=L;var ft=t.getRawValue(j),yt="-";ft&&null!=ft[2]&&(yt=ft[2]+""),sr(q,N,{labelFetcher:t,labelDataIndex:j,defaultOpacity:Z.opacity,defaultText:yt}),q.ensureState("emphasis").style=T,q.ensureState("blur").style=M,q.ensureState("select").style=I,cn(q,B,O,F),q.incremental=l,l&&(q.states.emphasis.hoverLayer=!0),C.add(q),x.setItemGraphicEl(j,q),this._progressiveEls&&this._progressiveEls.push(q)}},e.prototype._renderOnGeo=function(t,i,o,a){var l=o.targetVisuals.inRange,u=o.targetVisuals.outOfRange,d=i.getData(),p=this._hmLayer||this._hmLayer||new Vj;p.blurSize=i.get("blurSize"),p.pointSize=i.get("pointSize"),p.minOpacity=i.get("minOpacity"),p.maxOpacity=i.get("maxOpacity");var g=t.getViewRect().clone(),m=t.getRoamTransform();g.applyTransform(m);var b=Math.max(g.x,0),w=Math.max(g.y,0),k=Math.min(g.width+g.x,a.getWidth()),C=Math.min(g.height+g.y,a.getHeight()),x=k-b,T=C-w,M=[d.mapDimension("lng"),d.mapDimension("lat"),d.mapDimension("value")],I=d.mapArray(M,function(B,O,F){var H=t.dataToPoint([B,O]);return H[0]-=b,H[1]-=w,H.push(F),H}),L=o.getExtent(),N="visualMap.continuous"===o.type?function(n,e){var t=n[1]-n[0];return e=[(e[0]-n[0])/t,(e[1]-n[0])/t],function(i){return i>=e[0]&&i<=e[1]}}(L,o.option.range):function(n,e,t){var i=n[1]-n[0],o=(e=gt(e,function(l){return{interval:[(l.interval[0]-n[0])/i,(l.interval[1]-n[0])/i]}})).length,a=0;return function(l){var u;for(u=a;u<o;u++)if((d=e[u].interval)[0]<=l&&l<=d[1]){a=u;break}if(u===o)for(u=a-1;u>=0;u--){var d;if((d=e[u].interval)[0]<=l&&l<=d[1]){a=u;break}}return u>=0&&u<o&&t[u]}}(L,o.getPieceList(),o.option.selected);p.update(I,x,T,l.color.getNormalizer(),{inRange:l.color.getColorMapper(),outOfRange:u.color.getColorMapper()},N);var R=new or({style:{width:x,height:T,x:b,y:w,image:p.canvas},silent:!0});this.group.add(R)},e.type="heatmap",e}(Be);const Gj=jj;var Uj=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.getInitialData=function(t,i){return Dl(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=ll.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(en);const Wj=Uj;var qj=["itemStyle","borderWidth"],DN=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],VM=new no,Zj=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.render=function(t,i,o){var a=this.group,l=t.getData(),u=this._data,d=t.coordinateSystem,g=d.getBaseAxis().isHorizontal(),m=d.master.getRect(),b={ecSize:{width:o.getWidth(),height:o.getHeight()},seriesModel:t,coordSys:d,coordSysExtent:[[m.x,m.x+m.width],[m.y,m.y+m.height]],isHorizontal:g,valueDim:DN[+g],categoryDim:DN[1-+g]};return l.diff(u).add(function(w){if(l.hasValue(w)){var k=NN(l,w),C=MN(l,w,k,b),x=BN(l,b,C);l.setItemGraphicEl(w,x),a.add(x),VN(x,b,C)}}).update(function(w,k){var C=u.getItemGraphicEl(k);if(l.hasValue(w)){var x=NN(l,w),T=MN(l,w,x,b),M=ON(l,T);C&&M!==C.__pictorialShapeStr&&(a.remove(C),l.setItemGraphicEl(w,null),C=null),C?function(n,e,t){ke(n.__pictorialBundle,{x:t.bundlePosition[0],y:t.bundlePosition[1]},t.animationModel,t.dataIndex),t.symbolRepeat?EN(n,e,t,!0):LN(n,0,t,!0),PN(n,t,!0),RN(n,e,t,!0)}(C,b,T):C=BN(l,b,T,!0),l.setItemGraphicEl(w,C),C.__pictorialSymbolMeta=T,a.add(C),VN(C,b,T)}else a.remove(C)}).remove(function(w){var k=u.getItemGraphicEl(w);k&&zN(u,w,k.__pictorialSymbolMeta.animationModel,k)}).execute(),this._data=l,this.group},e.prototype.remove=function(t,i){var o=this.group,a=this._data;t.get("animation")?a&&a.eachItemGraphicEl(function(l){zN(a,jt(l).dataIndex,t,l)}):o.removeAll()},e.type="pictorialBar",e}(Be);function MN(n,e,t,i){var o=n.getItemLayout(e),a=t.get("symbolRepeat"),l=t.get("symbolClip"),u=t.get("symbolPosition")||"start",p=(t.get("symbolRotate")||0)*Math.PI/180||0,g=t.get("symbolPatternSize")||2,m=t.isAnimationEnabled(),b={dataIndex:e,layout:o,itemModel:t,symbolType:n.getItemVisual(e,"symbol")||"circle",style:n.getItemVisual(e,"style"),symbolClip:l,symbolRepeat:a,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:g,rotation:p,animationModel:m?t:null,hoverScale:m&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};(function(n,e,t,i,o){var g,a=i.valueDim,l=n.get("symbolBoundingData"),u=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),d=u.toGlobalCoord(u.dataToCoord(0)),p=1-+(t[a.wh]<=0);if(pt(l)){var m=[FM(u,l[0])-d,FM(u,l[1])-d];m[1]<m[0]&&m.reverse(),g=m[p]}else g=null!=l?FM(u,l)-d:e?i.coordSysExtent[a.index][p]-d:t[a.wh];o.boundingLength=g,e&&(o.repeatCutLength=t[a.wh]),o.pxSign=g>0?1:-1})(t,a,o,i,b),function(n,e,t,i,o,a,l,u,d,p){var k,g=d.valueDim,m=d.categoryDim,b=Math.abs(t[m.wh]),w=n.getItemVisual(e,"symbolSize");(k=pt(w)?w.slice():null==w?["100%","100%"]:[w,w])[m.index]=_t(k[m.index],b),k[g.index]=_t(k[g.index],i?b:Math.abs(a)),p.symbolSize=k,(p.symbolScale=[k[0]/u,k[1]/u])[g.index]*=(d.isHorizontal?-1:1)*l}(n,e,o,a,0,b.boundingLength,b.pxSign,g,i,b),function(n,e,t,i,o){var a=n.get(qj)||0;a&&(VM.attr({scaleX:e[0],scaleY:e[1],rotation:t}),VM.updateTransform(),a/=VM.getLineScale(),a*=e[i.valueDim.index]),o.valueLineWidth=a||0}(t,b.symbolScale,p,i,b);var w=b.symbolSize,k=Qc(t.get("symbolOffset"),w);return function(n,e,t,i,o,a,l,u,d,p,g,m){var b=g.categoryDim,w=g.valueDim,k=m.pxSign,C=Math.max(e[w.index]+u,0),x=C;if(i){var T=Math.abs(d),M=pn(n.get("symbolMargin"),"15%")+"",I=!1;M.lastIndexOf("!")===M.length-1&&(I=!0,M=M.slice(0,M.length-1));var L=_t(M,e[w.index]),N=Math.max(C+2*L,0),R=I?0:2*L,B=Ju(i),O=B?i:FN((T+R)/N);N=C+2*(L=(T-O*C)/2/(I?O:Math.max(O-1,1))),R=I?0:2*L,!B&&"fixed"!==i&&(O=p?FN((Math.abs(p)+R)/N):0),x=O*N-R,m.repeatTimes=O,m.symbolMargin=L}var H=k*(x/2),j=m.pathPosition=[];j[b.index]=t[b.wh]/2,j[w.index]="start"===l?H:"end"===l?d-H:d/2,a&&(j[0]+=a[0],j[1]+=a[1]);var q=m.bundlePosition=[];q[b.index]=t[b.xy],q[w.index]=t[w.xy];var Z=m.barRectShape=st({},t);Z[w.wh]=k*Math.max(Math.abs(t[w.wh]),Math.abs(j[w.index]+H)),Z[b.wh]=t[b.wh];var K=m.clipShape={};K[b.xy]=-t[b.xy],K[b.wh]=g.ecSize[b.wh],K[w.xy]=0,K[w.wh]=t[w.wh]}(t,w,o,a,0,k,u,b.valueLineWidth,b.boundingLength,b.repeatCutLength,i,b),b}function FM(n,e){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(e)))}function IN(n){var e=n.symbolPatternSize,t=wn(n.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),"image"!==t.type&&t.setStyle({strokeNoScale:!0}),t}function EN(n,e,t,i){var o=n.__pictorialBundle,u=t.pathPosition,d=e.valueDim,p=t.repeatTimes||0,g=0,m=t.symbolSize[e.valueDim.index]+t.valueLineWidth+2*t.symbolMargin;for(HM(n,function(C){C.__pictorialAnimationIndex=g,C.__pictorialRepeatTimes=p,g<p?Hg(C,null,k(g),t,i):Hg(C,null,{scaleX:0,scaleY:0},t,i,function(){o.remove(C)}),g++});g<p;g++){var b=IN(t);b.__pictorialAnimationIndex=g,b.__pictorialRepeatTimes=p,o.add(b);var w=k(g);Hg(b,{x:w.x,y:w.y,scaleX:0,scaleY:0},{scaleX:w.scaleX,scaleY:w.scaleY,rotation:w.rotation},t,i)}function k(C){var x=u.slice(),T=t.pxSign,M=C;return("start"===t.symbolRepeatDirection?T>0:T<0)&&(M=p-1-C),x[d.index]=m*(M-p/2+.5)+u[d.index],{x:x[0],y:x[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function LN(n,e,t,i){var o=n.__pictorialBundle,a=n.__pictorialMainPath;a?Hg(a,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,i):(a=n.__pictorialMainPath=IN(t),o.add(a),Hg(a,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,i))}function PN(n,e,t){var i=st({},e.barRectShape),o=n.__pictorialBarRect;o?Hg(o,null,{shape:i},e,t):((o=n.__pictorialBarRect=new Xt({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,n.add(o))}function RN(n,e,t,i){if(t.symbolClip){var o=n.__pictorialClipPath,a=st({},t.clipShape),l=e.valueDim,u=t.animationModel,d=t.dataIndex;if(o)ke(o,{shape:a},u,d);else{a[l.wh]=0,o=new Xt({shape:a}),n.__pictorialBundle.setClipPath(o),n.__pictorialClipPath=o;var p={};p[l.wh]=t.clipShape[l.wh],Wn[i?"updateProps":"initProps"](o,{shape:p},u,d)}}}function NN(n,e){var t=n.getItemModel(e);return t.getAnimationDelayParams=Jj,t.isAnimationEnabled=tG,t}function Jj(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function tG(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function BN(n,e,t,i){var o=new Vt,a=new Vt;return o.add(a),o.__pictorialBundle=a,a.x=t.bundlePosition[0],a.y=t.bundlePosition[1],t.symbolRepeat?EN(o,e,t):LN(o,0,t),PN(o,t,i),RN(o,e,t,i),o.__pictorialShapeStr=ON(n,t),o.__pictorialSymbolMeta=t,o}function zN(n,e,t,i){var o=i.__pictorialBarRect;o&&o.removeTextContent();var a=[];HM(i,function(l){a.push(l)}),i.__pictorialMainPath&&a.push(i.__pictorialMainPath),i.__pictorialClipPath&&(t=null),V(a,function(l){bn(l,{scaleX:0,scaleY:0},t,e,function(){i.parent&&i.parent.remove(i)})}),n.setItemGraphicEl(e,null)}function ON(n,e){return[n.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function HM(n,e,t){V(n.__pictorialBundle.children(),function(i){i!==n.__pictorialBarRect&&e.call(t,i)})}function Hg(n,e,t,i,o,a){e&&n.attr(e),i.symbolClip&&!o?t&&n.attr(t):t&&Wn[o?"updateProps":"initProps"](n,t,i.animationModel,i.dataIndex,a)}function VN(n,e,t){var i=t.dataIndex,o=t.itemModel,a=o.getModel("emphasis"),l=a.getModel("itemStyle").getItemStyle(),u=o.getModel(["blur","itemStyle"]).getItemStyle(),d=o.getModel(["select","itemStyle"]).getItemStyle(),p=o.getShallow("cursor"),g=a.get("focus"),m=a.get("blurScope"),b=a.get("scale");HM(n,function(C){if(C instanceof or){var x=C.style;C.useStyle(st({image:x.image,x:x.x,y:x.y,width:x.width,height:x.height},t.style))}else C.useStyle(t.style);var T=C.ensureState("emphasis");T.style=l,b&&(T.scaleX=1.1*C.scaleX,T.scaleY=1.1*C.scaleY),C.ensureState("blur").style=u,C.ensureState("select").style=d,p&&(C.cursor=p),C.z2=t.z2});var w=e.valueDim.posDesc[+(t.boundingLength>0)];sr(n.__pictorialBarRect,Nn(o),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:Ig(e.seriesModel.getData(),i),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:w}),cn(n,g,m,a.get("disabled"))}function FN(n){var e=Math.round(n);return Math.abs(n-e)<1e-4?e:Math.ceil(n)}const nG=Zj;var rG=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return tt(e,n),e.prototype.getInitialData=function(t){return t.stack=null,n.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=Qa(DA.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(DA);const iG=rG;var aG=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return tt(e,n),e.prototype.render=function(t,i,o){var a=t.getData(),l=this,u=this.group,d=t.getLayerSeries(),p=a.getLayout("layoutInfo"),g=p.rect,m=p.boundaryGap;function b(x){return x.name}u.x=0,u.y=g.y+m[0];var w=new Tl(this._layersSeries||[],d,b,b),k=[];function C(x,T,M){var I=l._layers;if("remove"!==x){for(var R,L=[],N=[],B=d[T].indices,O=0;O<B.length;O++){var F=a.getItemLayout(B[O]),H=F.x,j=F.y0,q=F.y;L.push(H,j),N.push(H,j+q),R=a.getItemVisual(B[O],"style")}var Z,K=a.getItemLayout(B[0]),J=t.getModel("label").get("margin"),rt=t.getModel("emphasis");if("add"===x){var nt=k[T]=new Vt;Z=new RL({shape:{points:L,stackedOnPoints:N,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),nt.add(Z),u.add(nt),t.isAnimationEnabled()&&Z.setClipPath(function(n,e,t){var i=new Xt({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return Je(i,{shape:{x:n.x-50,width:n.width+100,height:n.height+20}},e,function(){Z.removeClipPath()}),i}(Z.getBoundingRect(),t))}else Z=(nt=I[M]).childAt(0),u.add(nt),k[T]=nt,ke(Z,{shape:{points:L,stackedOnPoints:N}},t),Yr(Z);sr(Z,Nn(t),{labelDataIndex:B[O-1],defaultText:a.getName(B[O-1]),inheritColor:R.fill},{normal:{verticalAlign:"middle"}}),Z.setTextConfig({position:null,local:!0});var ft=Z.getTextContent();ft&&(ft.x=K.x-J,ft.y=K.y0+K.y/2),Z.useStyle(R),a.setItemGraphicEl(T,Z),ar(Z,t),cn(Z,rt.get("focus"),rt.get("blurScope"),rt.get("disabled"))}else u.remove(I[T])}w.add(Ct(C,this,"add")).update(Ct(C,this,"update")).remove(Ct(C,this,"remove")).execute(),this._layersSeries=d,this._layers=k},e.type="themeRiver",e}(Be);const lG=aG;var cG=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new ob(Ct(this.getData,this),Ct(this.getRawData,this))},e.prototype.fixData=function(t){var i=t.length,o={},a=hm(t,function(b){return o.hasOwnProperty(b[0]+"")||(o[b[0]+""]=-1),b[2]}),l=[];a.buckets.each(function(b,w){l.push({name:w,dataList:b})});for(var u=l.length,d=0;d<u;++d){for(var p=l[d].name,g=0;g<l[d].dataList.length;++g)o[m=l[d].dataList[g][0]+""]=d;for(var m in o)o.hasOwnProperty(m)&&o[m]!==d&&(o[m]=d,t[i]=[m,0,p],i++)}return t},e.prototype.getInitialData=function(t,i){for(var a=this.getReferringComponents("singleAxis",Sn).models[0].get("type"),l=Le(t.data,function(k){return void 0!==k[2]}),u=this.fixData(l||[]),d=[],p=this.nameMap=Tt(),g=0,m=0;m<u.length;++m)d.push(u[m][2]),p.get(u[m][2])||(p.set(u[m][2],g),g++);var b=Dg(u,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:AA(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,w=new ki(b,this);return w.initData(u),w},e.prototype.getLayerSeries=function(){for(var t=this.getData(),i=t.count(),o=[],a=0;a<i;++a)o[a]=a;var l=t.mapDimension("single"),u=hm(o,function(p){return t.get("name",p)}),d=[];return u.buckets.each(function(p,g){p.sort(function(m,b){return t.get(l,m)-t.get(l,b)}),d.push({name:g,indices:p})}),d},e.prototype.getAxisTooltipData=function(t,i,o){pt(t)||(t=t?[t]:[]);for(var p,a=this.getData(),l=this.getLayerSeries(),u=[],d=l.length,g=0;g<d;++g){for(var m=Number.MAX_VALUE,b=-1,w=l[g].indices.length,k=0;k<w;++k){var C=a.get(t[0],l[g].indices[k]),x=Math.abs(C-i);x<=m&&(p=C,m=x,b=l[g].indices[k])}u.push(b)}return{dataIndices:u,nestestValue:p}},e.prototype.formatTooltip=function(t,i,o){var a=this.getData();return Mn("nameValue",{name:a.getName(t),value:a.get(a.mapDimension("value"),t)})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(en);const uG=cG;function dG(n,e){n.eachSeriesByType("themeRiver",function(t){var i=t.getData(),o=t.coordinateSystem,a={},l=o.getRect();a.rect=l;var u=t.get("boundaryGap"),d=o.getAxis();a.boundaryGap=u,"horizontal"===d.orient?(u[0]=_t(u[0],l.height),u[1]=_t(u[1],l.height),HN(i,t,l.height-u[0]-u[1])):(u[0]=_t(u[0],l.width),u[1]=_t(u[1],l.width),HN(i,t,l.width-u[0]-u[1])),i.setLayout("layoutInfo",a)})}function HN(n,e,t){if(n.count())for(var w,i=e.coordinateSystem,o=e.getLayerSeries(),a=n.mapDimension("single"),l=n.mapDimension("value"),u=gt(o,function(x){return gt(x.indices,function(T){var M=i.dataToPoint(n.get(a,T));return M[1]=n.get(l,T),M})}),d=function(n){for(var e=n.length,t=n[0].length,i=[],o=[],a=0,l=0;l<t;++l){for(var u=0,d=0;d<e;++d)u+=n[d][l][1];u>a&&(a=u),i.push(u)}for(var p=0;p<t;++p)o[p]=(a-i[p])/2;a=0;for(var g=0;g<t;++g){var m=i[g]+o[g];m>a&&(a=m)}return{y0:o,max:a}}(u),p=d.y0,g=t/d.max,m=o.length,b=o[0].indices.length,k=0;k<b;++k){n.setItemLayout(o[0].indices[k],{layerIndex:0,x:u[0][k][0],y0:w=p[k]*g,y:u[0][k][1]*g});for(var C=1;C<m;++C)n.setItemLayout(o[C].indices[k],{layerIndex:C,x:u[C][k][0],y0:w+=u[C-1][k][1]*g,y:u[C][k][1]*g})}}var vG=function(n){function e(t,i,o,a){var l=n.call(this)||this;l.z2=2,l.textConfig={inside:!0},jt(l).seriesIndex=i.seriesIndex;var u=new ge({z2:4,silent:t.getModel().get(["label","silent"])});return l.setTextContent(u),l.updateData(!0,t,i,o,a),l}return tt(e,n),e.prototype.updateData=function(t,i,o,a,l){this.node=i,i.piece=this,o=o||this._seriesModel,a=a||this._ecModel;var u=this;jt(u).dataIndex=i.dataIndex;var d=i.getModel(),p=d.getModel("emphasis"),g=i.getLayout(),m=st({},g);m.label=null;var b=i.getVisual("style");b.lineJoin="bevel";var w=i.getVisual("decal");w&&(b.decal=nu(w,l));var k=Eg(d.getModel("itemStyle"),m,!0);st(m,k),V(Sr,function(M){var I=u.ensureState(M),L=d.getModel([M,"itemStyle"]);I.style=L.getItemStyle();var N=Eg(L,m);N&&(I.shape=N)}),t?(u.setShape(m),u.shape.r=g.r0,ke(u,{shape:{r:g.r}},o,i.dataIndex)):(ke(u,{shape:m},o),Yr(u)),u.useStyle(b),this._updateLabel(o);var C=d.getShallow("cursor");C&&u.attr("cursor",C),this._seriesModel=o||this._seriesModel,this._ecModel=a||this._ecModel;var x=p.get("focus");cn(this,"ancestor"===x?i.getAncestorsIndices():"descendant"===x?i.getDescendantIndices():x,p.get("blurScope"),p.get("disabled"))},e.prototype._updateLabel=function(t){var i=this,o=this.node.getModel(),a=o.getModel("label"),l=this.node.getLayout(),u=l.endAngle-l.startAngle,d=(l.startAngle+l.endAngle)/2,p=Math.cos(d),g=Math.sin(d),m=this,b=m.getTextContent(),w=this.node.dataIndex,k=a.get("minAngle")/180*Math.PI,C=a.get("show")&&!(null!=k&&Math.abs(u)<k);function x(T,M){return T.get(M)??a.get(M)}b.ignore=!C,V(vc,function(T){var M=o.getModel("normal"===T?"label":[T,"label"]),I="normal"===T,L=I?b:b.ensureState(T),N=t.getFormattedLabel(w,T);I&&(N=N||i.node.name),L.style=We(M,{},null,"normal"!==T,!0),N&&(L.style.text=N);var R=M.get("show");null!=R&&!I&&(L.ignore=!R);var B=x(M,"position"),O=I?m:m.states[T],F=O.style.fill;O.textConfig={outsideFill:"inherit"===M.get("color")?F:null,inside:"outside"!==B};var H,j=x(M,"distance")||0,q=x(M,"align");"outside"===B?(H=l.r+j,q=d>Math.PI/2?"right":"left"):q&&"center"!==q?"left"===q?(H=l.r0+j,d>Math.PI/2&&(q="right")):"right"===q&&(H=l.r-j,d>Math.PI/2&&(q="left")):(H=u===2*Math.PI&&0===l.r0?0:(l.r+l.r0)/2,q="center"),L.style.align=q,L.style.verticalAlign=x(M,"verticalAlign")||"middle",L.x=H*p+l.cx,L.y=H*g+l.cy;var Z=x(M,"rotate"),K=0;"radial"===Z?(K=-d)<-Math.PI/2&&(K+=Math.PI):"tangential"===Z?(K=Math.PI/2-d)>Math.PI/2?K-=Math.PI:K<-Math.PI/2&&(K+=Math.PI):_e(Z)&&(K=Z*Math.PI/180),L.rotation=K}),b.dirtyStyle()},e}(Mr);const jN=vG;var GM="sunburstRootToNode",GN="sunburstHighlight",bG=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.render=function(t,i,o,a){var l=this;this.seriesModel=t,this.api=o,this.ecModel=i;var M,I,u=t.getData(),d=u.tree.root,p=t.getViewRoot(),g=this.group,m=t.get("renderLabelForZeroData"),b=[];p.eachNode(function(M){b.push(M)}),function(M,I){function L(R){return R.getId()}function N(R,B){!function(M,I){if(!m&&M&&!M.getValue()&&(M=null),M!==d&&I!==d)if(I&&I.piece)M?(I.piece.updateData(!1,M,t,i,o),u.setItemGraphicEl(M.dataIndex,I.piece)):function(M){!M||M.piece&&(g.remove(M.piece),M.piece=null)}(I);else if(M){var L=new jN(M,t,i,o);g.add(L),u.setItemGraphicEl(M.dataIndex,L)}}(null==R?null:M[R],null==B?null:I[B])}0===M.length&&0===I.length||new Tl(I,M,L,L).add(N).update(N).remove(Gt(N,null)).execute()}(b,this._oldChildren||[]),M=d,(I=p).depth>0?(l.virtualPiece?l.virtualPiece.updateData(!1,M,t,i,o):(l.virtualPiece=new jN(M,t,i,o),g.add(l.virtualPiece)),I.piece.off("click"),l.virtualPiece.on("click",function(L){l._rootToNode(I.parentNode)})):l.virtualPiece&&(g.remove(l.virtualPiece),l.virtualPiece=null),this._initEvents(),this._oldChildren=b},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(i){var o=!1;t.seriesModel.getViewRoot().eachNode(function(l){if(!o&&l.piece&&l.piece===i.target){var u=l.getModel().get("nodeClick");if("rootToNode"===u)t._rootToNode(l);else if("link"===u){var d=l.getModel(),p=d.get("link");p&&Cd(p,d.get("target",!0)||"_blank")}o=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:GM,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,i){var a=i.getData().getItemLayout(0);if(a){var l=t[0]-a.cx,u=t[1]-a.cy,d=Math.sqrt(l*l+u*u);return d<=a.r&&d>=a.r0}},e.type="sunburst",e}(Be);const wG=bG;var _G=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return tt(e,n),e.prototype.getInitialData=function(t,i){var o={name:t.name,children:t.data};UN(o);var a=this._levelModels=gt(t.levels||[],function(d){return new Ye(d,this,i)},this),l=GD.createTree(o,this,function(d){d.wrapMethod("getItemModel",function(p,g){var m=l.getNodeByDataIndex(g),b=a[m.depth];return b&&(p.parentModel=b),p})});return l.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(t);return i.treePathInfo=KA(o,this),i},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;(!t||t!==i&&!i.contains(t))&&(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){eR(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(en);function UN(n){var e=0;V(n.children,function(i){UN(i);var o=i.value;pt(o)&&(o=o[0]),e+=o});var t=n.value;pt(t)&&(t=t[0]),(null==t||isNaN(t))&&(t=e),t<0&&(t=0),pt(n.value)?n.value[0]=t:n.value=t}const kG=_G;var WN=Math.PI/180;function AG(n,e,t){e.eachSeriesByType(n,function(i){var o=i.get("center"),a=i.get("radius");pt(a)||(a=[0,a]),pt(o)||(o=[o,o]);var l=t.getWidth(),u=t.getHeight(),d=Math.min(l,u),p=_t(o[0],l),g=_t(o[1],u),m=_t(a[0],d/2),b=_t(a[1],d/2),w=-i.get("startAngle")*WN,k=i.get("minAngle")*WN,C=i.getData().tree.root,x=i.getViewRoot(),T=x.depth,M=i.get("sort");null!=M&&YN(x,M);var I=0;V(x.children,function(J){!isNaN(J.getValue())&&I++});var L=x.getValue(),N=Math.PI/(L||I)*2,R=x.depth>0,O=(b-m)/(x.height-(R?-1:1)||1),F=i.get("clockwise"),H=i.get("stillShowZeroSum"),j=F?1:-1,q=function(J,rt){if(J){var nt=rt;if(J!==C){var ft=J.getValue(),yt=0===L&&H?N:ft*N;yt<k&&(yt=k),nt=rt+j*yt;var kt=J.depth-T-(R?-1:1),Dt=m+O*kt,Nt=m+O*(kt+1),Bt=i.getLevelModel(J);if(Bt){var ce=Bt.get("r0",!0),Se=Bt.get("r",!0),ue=Bt.get("radius",!0);null!=ue&&(ce=ue[0],Se=ue[1]),null!=ce&&(Dt=_t(ce,d/2)),null!=Se&&(Nt=_t(Se,d/2))}J.setLayout({angle:yt,startAngle:rt,endAngle:nt,clockwise:F,cx:p,cy:g,r0:Dt,r:Nt})}if(J.children&&J.children.length){var Ht=0;V(J.children,function(fe){Ht+=q(fe,rt+Ht)})}return nt-rt}};if(R){var Q=2*Math.PI;C.setLayout({angle:Q,startAngle:w,endAngle:w+Q,clockwise:F,cx:p,cy:g,r0:m,r:m+O})}q(x,w)})}function YN(n,e){var t=n.children||[];n.children=function(n,e){if(Mt(e)){var t=gt(n,function(o,a){var l=o.getValue();return{params:{depth:o.depth,height:o.height,dataIndex:o.dataIndex,getValue:function(){return l}},index:a}});return t.sort(function(o,a){return e(o.params,a.params)}),gt(t,function(o){return n[o.index]})}var i="asc"===e;return n.sort(function(o,a){var l=(o.getValue()-a.getValue())*(i?1:-1);return 0===l?(o.dataIndex-a.dataIndex)*(i?-1:1):l})}(t,e),t.length&&V(n.children,function(i){YN(i,e)})}function xG(n){var e={};n.eachSeriesByType("sunburst",function(i){var o=i.getData(),a=o.tree;a.eachNode(function(l){var d=l.getModel().getModel("itemStyle").getItemStyle();d.fill||(d.fill=function(i,o,a){for(var l=i;l&&l.depth>1;)l=l.parentNode;var u=o.getColorFromPalette(l.name||l.dataIndex+"",e);return i.depth>1&&At(u)&&(u=Hu(u,(i.depth-1)/(a-1)*.5)),u}(l,i,a.root.height)),st(o.ensureUniqueItemVisual(l.dataIndex,"style"),d)})})}var qN={color:"fill",borderColor:"stroke"},TG={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Pl=ye(),DG=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,i){return Dl(null,this)},e.prototype.getDataParams=function(t,i,o){var a=n.prototype.getDataParams.call(this,t,i);return o&&(a.info=Pl(o).info),a},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(en);const MG=DG;function IG(n,e){return e=e||[0,0],gt(["x","y"],function(t,i){var o=this.getAxis(t),a=e[i],l=n[i]/2;return"category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(a-l)-o.dataToCoord(a+l))},this)}function LG(n,e){return e=e||[0,0],gt([0,1],function(t){var i=e[t],o=n[t]/2,a=[],l=[];return a[t]=i-o,l[t]=i+o,a[1-t]=l[1-t]=e[1-t],Math.abs(this.dataToPoint(a)[t]-this.dataToPoint(l)[t])},this)}function RG(n,e){var t=this.getAxis(),i=e instanceof Array?e[0]:e,o=(n instanceof Array?n[0]:n)/2;return"category"===t.type?t.getBandWidth():Math.abs(t.dataToCoord(i-o)-t.dataToCoord(i+o))}function BG(n,e){return e=e||[0,0],gt(["Radius","Angle"],function(t,i){var a=this["get"+t+"Axis"](),l=e[i],u=n[i]/2,d="category"===a.type?a.getBandWidth():Math.abs(a.dataToCoord(l-u)-a.dataToCoord(l+u));return"Angle"===t&&(d=d*Math.PI/180),d},this)}function ZN(n,e,t,i){return n&&(n.legacy||!1!==n.legacy&&!t&&!i&&"tspan"!==e&&("text"===e||xt(n,"text")))}function $N(n,e,t){var o,a,l,i=n;if("text"===e)l=i;else{l={},xt(i,"text")&&(l.text=i.text),xt(i,"rich")&&(l.rich=i.rich),xt(i,"textFill")&&(l.fill=i.textFill),xt(i,"textStroke")&&(l.stroke=i.textStroke),xt(i,"fontFamily")&&(l.fontFamily=i.fontFamily),xt(i,"fontSize")&&(l.fontSize=i.fontSize),xt(i,"fontStyle")&&(l.fontStyle=i.fontStyle),xt(i,"fontWeight")&&(l.fontWeight=i.fontWeight),a={type:"text",style:l,silent:!0},o={};var u=xt(i,"textPosition");t?o.position=u?i.textPosition:"inside":u&&(o.position=i.textPosition),xt(i,"textPosition")&&(o.position=i.textPosition),xt(i,"textOffset")&&(o.offset=i.textOffset),xt(i,"textRotation")&&(o.rotation=i.textRotation),xt(i,"textDistance")&&(o.distance=i.textDistance)}return KN(l,n),V(l.rich,function(d){KN(d,d)}),{textConfig:o,textContent:a}}function KN(n,e){!e||(e.font=e.textFont||e.font,xt(e,"textStrokeWidth")&&(n.lineWidth=e.textStrokeWidth),xt(e,"textAlign")&&(n.align=e.textAlign),xt(e,"textVerticalAlign")&&(n.verticalAlign=e.textVerticalAlign),xt(e,"textLineHeight")&&(n.lineHeight=e.textLineHeight),xt(e,"textWidth")&&(n.width=e.textWidth),xt(e,"textHeight")&&(n.height=e.textHeight),xt(e,"textBackgroundColor")&&(n.backgroundColor=e.textBackgroundColor),xt(e,"textPadding")&&(n.padding=e.textPadding),xt(e,"textBorderColor")&&(n.borderColor=e.textBorderColor),xt(e,"textBorderWidth")&&(n.borderWidth=e.textBorderWidth),xt(e,"textBorderRadius")&&(n.borderRadius=e.textBorderRadius),xt(e,"textBoxShadowColor")&&(n.shadowColor=e.textBoxShadowColor),xt(e,"textBoxShadowBlur")&&(n.shadowBlur=e.textBoxShadowBlur),xt(e,"textBoxShadowOffsetX")&&(n.shadowOffsetX=e.textBoxShadowOffsetX),xt(e,"textBoxShadowOffsetY")&&(n.shadowOffsetY=e.textBoxShadowOffsetY))}function XN(n,e,t){var i=n;i.textPosition=i.textPosition||t.position||"inside",null!=t.offset&&(i.textOffset=t.offset),null!=t.rotation&&(i.textRotation=t.rotation),null!=t.distance&&(i.textDistance=t.distance);var o=i.textPosition.indexOf("inside")>=0,a=n.fill||"#000";QN(i,e);var l=null==i.textFill;return o?l&&(i.textFill=t.insideFill||"#fff",!i.textStroke&&t.insideStroke&&(i.textStroke=t.insideStroke),!i.textStroke&&(i.textStroke=a),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(l&&(i.textFill=n.fill||t.outsideFill||"#000"),!i.textStroke&&t.outsideStroke&&(i.textStroke=t.outsideStroke)),i.text=e.text,i.rich=e.rich,V(e.rich,function(u){QN(u,u)}),i}function QN(n,e){!e||(xt(e,"fill")&&(n.textFill=e.fill),xt(e,"stroke")&&(n.textStroke=e.fill),xt(e,"lineWidth")&&(n.textStrokeWidth=e.lineWidth),xt(e,"font")&&(n.font=e.font),xt(e,"fontStyle")&&(n.fontStyle=e.fontStyle),xt(e,"fontWeight")&&(n.fontWeight=e.fontWeight),xt(e,"fontSize")&&(n.fontSize=e.fontSize),xt(e,"fontFamily")&&(n.fontFamily=e.fontFamily),xt(e,"align")&&(n.textAlign=e.align),xt(e,"verticalAlign")&&(n.textVerticalAlign=e.verticalAlign),xt(e,"lineHeight")&&(n.textLineHeight=e.lineHeight),xt(e,"width")&&(n.textWidth=e.width),xt(e,"height")&&(n.textHeight=e.height),xt(e,"backgroundColor")&&(n.textBackgroundColor=e.backgroundColor),xt(e,"padding")&&(n.textPadding=e.padding),xt(e,"borderColor")&&(n.textBorderColor=e.borderColor),xt(e,"borderWidth")&&(n.textBorderWidth=e.borderWidth),xt(e,"borderRadius")&&(n.textBorderRadius=e.borderRadius),xt(e,"shadowColor")&&(n.textBoxShadowColor=e.shadowColor),xt(e,"shadowBlur")&&(n.textBoxShadowBlur=e.shadowBlur),xt(e,"shadowOffsetX")&&(n.textBoxShadowOffsetX=e.shadowOffsetX),xt(e,"shadowOffsetY")&&(n.textBoxShadowOffsetY=e.shadowOffsetY),xt(e,"textShadowColor")&&(n.textShadowColor=e.textShadowColor),xt(e,"textShadowBlur")&&(n.textShadowBlur=e.textShadowBlur),xt(e,"textShadowOffsetX")&&(n.textShadowOffsetX=e.textShadowOffsetX),xt(e,"textShadowOffsetY")&&(n.textShadowOffsetY=e.textShadowOffsetY))}var JN={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},tB=le(JN),cC=(xi(yo,function(n,e){return n[e]=1,n},{}),yo.join(", "),["","style","shape","extra"]),jg=ye();function UM(n,e,t,i,o){var a=n+"Animation",l=_c(n,i,o)||{},u=jg(e).userDuring;return l.duration>0&&(l.during=u?Ct(GG,{el:e,userDuring:u}):null,l.setToFinal=!0,l.scope=n),st(l,t[a]),l}function uC(n,e,t,i){var o=(i=i||{}).dataIndex,a=i.isInit,l=i.clearStyle,u=t.isAnimationEnabled(),d=jg(n),p=e.style;d.userDuring=e.during;var g={},m={};if(function(n,e,t){for(var i=0;i<tB.length;i++){var o=tB[i],a=JN[o],l=e[o];l&&(t[a[0]]=l[0],t[a[1]]=l[1])}for(i=0;i<yo.length;i++){var u=yo[i];null!=e[u]&&(t[u]=e[u])}}(0,e,m),rB("shape",e,m),rB("extra",e,m),!a&&u&&(function(n,e,t){for(var i=e.transition,o=yh(i)?yo:De(i||[]),a=0;a<o.length;a++){var l=o[a];"style"!==l&&"shape"!==l&&"extra"!==l&&(t[l]=n[l])}}(n,e,g),nB("shape",n,e,g),nB("extra",n,e,g),function(n,e,t,i){if(t){var a,o=n.style;if(o){var l=t.transition,u=e.transition;if(l&&!yh(l)){var d=De(l);!a&&(a=i.style={});for(var p=0;p<d.length;p++)a[g=d[p]]=o[g]}else if(n.getAnimationStyleProps&&(yh(u)||yh(l)||qt(u,"style")>=0)){var b=n.getAnimationStyleProps(),w=b?b.style:null;if(w){!a&&(a=i.style={});var k=le(t);for(p=0;p<k.length;p++){var g;w[g=k[p]]&&(a[g]=o[g])}}}}}}(n,e,p,g)),m.style=p,function(n,e,t){var i=e.style;if(!n.isGroup&&i){if(t){n.useStyle({});for(var o=n.animators,a=0;a<o.length;a++){var l=o[a];"style"===l.targetName&&l.changeTarget(n.style)}}n.setStyle(i)}e&&(e.style=null,e&&n.attr(e),e.style=i)}(n,m,l),function(n,e){xt(e,"silent")&&(n.silent=e.silent),xt(e,"ignore")&&(n.ignore=e.ignore),n instanceof Rn&&xt(e,"invisible")&&(n.invisible=e.invisible),n instanceof re&&xt(e,"autoBatch")&&(n.autoBatch=e.autoBatch)}(n,e),u)if(a){var b={};V(cC,function(k){var C=k?e[k]:e;C&&C.enterFrom&&(k&&(b[k]=b[k]||{}),st(k?b[k]:b,C.enterFrom))});var w=UM("enter",n,e,t,o);w.duration>0&&n.animateFrom(b,w)}else!function(n,e,t,i,o){if(o){var a=UM("update",n,e,i,t);a.duration>0&&n.animateFrom(o,a)}}(n,e,o||0,t,g);eB(n,e),p?n.dirty():n.markRedraw()}function eB(n,e){for(var t=jg(n).leaveToProps,i=0;i<cC.length;i++){var o=cC[i],a=o?e[o]:e;a&&a.leaveTo&&(t||(t=jg(n).leaveToProps={}),o&&(t[o]=t[o]||{}),st(o?t[o]:t,a.leaveTo))}}function dC(n,e,t,i){if(n){var o=n.parent,a=jg(n).leaveToProps;if(a){var l=UM("update",n,e,t,0);l.done=function(){o.remove(n),i&&i()},n.animateTo(a,l)}else o.remove(n),i&&i()}}function yh(n){return"all"===n}var ps={},jG={setTransform:function(n,e){return ps.el[n]=e,this},getTransform:function(n){return ps.el[n]},setShape:function(n,e){var t=ps.el;return(t.shape||(t.shape={}))[n]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(n){var e=ps.el.shape;if(e)return e[n]},setStyle:function(n,e){var t=ps.el,i=t.style;return i&&(i[n]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(n){var e=ps.el.style;if(e)return e[n]},setExtra:function(n,e){return(ps.el.extra||(ps.el.extra={}))[n]=e,this},getExtra:function(n){var e=ps.el.extra;if(e)return e[n]}};function GG(){var n=this,e=n.el;if(e){var t=jg(e).userDuring,i=n.userDuring;if(t!==i)return void(n.el=n.userDuring=null);ps.el=e,i(jG)}}function nB(n,e,t,i){var o=t[n];if(o){var l,a=e[n];if(a){var u=t.transition,d=o.transition;if(d)if(!l&&(l=i[n]={}),yh(d))st(l,a);else for(var p=De(d),g=0;g<p.length;g++)l[m=p[g]]=b=a[m];else if(yh(u)||qt(u,n)>=0){!l&&(l=i[n]={});var w=le(a);for(g=0;g<w.length;g++){var m,b;qG(o[m=w[g]],b=a[m])&&(l[m]=b)}}}}}function rB(n,e,t){var i=e[n];if(i)for(var o=t[n]={},a=le(i),l=0;l<a.length;l++){var u=a[l];o[u]=Pa(i[u])}}function qG(n,e){return tr(n)?n!==e:null!=n&&isFinite(n)}var iB=ye(),ZG=["percent","easing","shape","style","extra"];function oB(n){n.stopAnimation("keyframe"),n.attr(iB(n))}function hC(n,e,t){if(t.isAnimationEnabled()&&e){if(pt(e))return void V(e,function(u){hC(n,u,t)});var i=e.keyframes,o=e.duration;if(t&&null==o){var a=_c("enter",t,0);o=a&&a.duration}if(i&&o){var l=iB(n);V(cC,function(u){var d;u&&!n[u]||(i.sort(function(g,m){return g.percent-m.percent}),V(i,function(g){var m=n.animators,b=u?g[u]:g;if(b){var w=le(b);if(u||(w=Le(w,function(x){return qt(ZG,x)<0})),w.length){d||((d=n.animate(u,e.loop,!0)).scope="keyframe");for(var k=0;k<m.length;k++)m[k]!==d&&m[k].targetName===d.targetName&&m[k].stopTracks(w);u&&(l[u]=l[u]||{});var C=u?l[u]:l;V(w,function(x){C[x]=((u?n[u]:n)||{})[x]}),d.whenWithKeys(o*g.percent,b,w,g.easing)}}}),d&&d.delay(e.delay||0).duration(o).start(e.easing))})}}}var Rl="emphasis",vu="normal",WM="blur",YM="select",mu=[vu,Rl,WM,YM],qM={normal:["itemStyle"],emphasis:[Rl,"itemStyle"],blur:[WM,"itemStyle"],select:[YM,"itemStyle"]},ZM={normal:["label"],emphasis:[Rl,"label"],blur:[WM,"label"],select:[YM,"label"]},$G=["x","y"],Vo={normal:{},emphasis:{},blur:{},select:{}},XG={cartesian2d:function(n){var e=n.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:Ct(IG,n)}}},geo:function(n){var e=n.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:n.getZoom()},api:{coord:function(t){return n.dataToPoint(t)},size:Ct(LG,n)}}},single:function(n){var e=n.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:Ct(RG,n)}}},polar:function(n){var e=n.getRadiusAxis(),t=n.getAngleAxis(),i=e.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:i[1],r0:i[0]},api:{coord:function(o){var a=e.dataToRadius(o[0]),l=t.dataToAngle(o[1]),u=n.coordToPoint([a,l]);return u.push(a,l*Math.PI/180),u},size:Ct(BG,n)}}},calendar:function(n){var e=n.getRect(),t=n.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(i,o){return n.dataToPoint(i,o)}}}}};function $M(n){return n instanceof re}function KM(n){return n instanceof Rn}var JG=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.render=function(t,i,o,a){this._progressiveEls=null;var l=this._data,u=t.getData(),d=this.group,p=sB(t,u,i,o);l||d.removeAll(),u.diff(l).add(function(m){JM(o,null,m,p(m,a),t,d,u)}).remove(function(m){var b=l.getItemGraphicEl(m);b&&dC(b,Pl(b).option,t)}).update(function(m,b){var w=l.getItemGraphicEl(b);JM(o,w,m,p(m,a),t,d,u)}).execute();var g=t.get("clip",!0)?TA(t.coordinateSystem,!1,t):null;g?d.setClipPath(g):d.removeClipPath(),this._data=u},e.prototype.incrementalPrepareRender=function(t,i,o){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,i,o,a,l){var u=i.getData(),d=sB(i,u,o,a),p=this._progressiveEls=[];function g(w){w.isGroup||(w.incremental=!0,w.ensureState("emphasis").hoverLayer=!0)}for(var m=t.start;m<t.end;m++){var b=JM(null,null,m,d(m,l),i,this.group,u);b&&(b.traverse(g),p.push(b))}},e.prototype.eachRendered=function(t){wi(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,i,o,a){var l=i.element;if(null==l||o.name===l)return!0;for(;(o=o.__hostTarget||o.parent)&&o!==this.group;)if(o.name===l)return!0;return!1},e.type="custom",e}(Be);const tU=JG;function XM(n){var t,e=n.type;if("path"===e){var i=n.shape,o=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,a=hB(i);t=$p(a,null,o,i.layout||"center"),Pl(t).customPathData=a}else if("image"===e)t=new or({}),Pl(t).customImagePath=n.style.image;else if("text"===e)t=new ge({});else if("group"===e)t=new Vt;else{if("compoundPath"===e)throw new Error('"compoundPath" is not supported yet.');var l=Zp(e);l||Me(""),t=new l}return Pl(t).customGraphicType=e,t.name=n.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function QM(n,e,t,i,o,a,l){oB(e);var u=o&&o.normal.cfg;u&&e.setTextConfig(u),i&&null==i.transition&&(i.transition=$G);var d=i&&i.style;if(d){if("text"===e.type){var p=d;xt(p,"textFill")&&(p.fill=p.textFill),xt(p,"textStroke")&&(p.stroke=p.textStroke)}var g=void 0,m=$M(e)?d.decal:null;n&&m&&(m.dirty=!0,g=nu(m,n)),d.__decalPattern=g}KM(e)&&d&&(g=d.__decalPattern)&&(d.decal=g),uC(e,i,a,{dataIndex:t,isInit:l,clearStyle:!0}),hC(e,i.keyframeAnimation,a)}function aB(n,e,t,i,o){var a=e.isGroup?null:e,l=o&&o[n].cfg;if(a){var u=a.ensureState(n);if(!1===i){var d=a.getState(n);d&&(d.style=null)}else u.style=i||null;l&&(u.textConfig=l),Qs(a)}}function nU(n,e,t){var i=t===vu,o=i?e:fC(e,t),a=o?o.z2:null;null!=a&&((i?n:n.ensureState(t)).z2=a||0)}function sB(n,e,t,i){var o=n.get("renderItem"),a=n.coordinateSystem,l={};a&&(l=a.prepareCustoms?a.prepareCustoms(a):XG[a.type](a));for(var p,g,u=Et({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(K,Q){return null==Q&&(Q=p),e.getStore().get(e.getDimensionIndex(K||0),Q)},style:function(K,Q){null==Q&&(Q=p);var J=e.getItemVisual(Q,"style"),rt=J&&J.fill,nt=J&&J.opacity,ft=M(Q,vu).getItemStyle();null!=rt&&(ft.fill=rt),null!=nt&&(ft.opacity=nt);var yt={inheritColor:At(rt)?rt:"#000"},kt=I(Q,vu),Dt=We(kt,null,yt,!1,!0);Dt.text=kt.getShallow("show")?Kt(n.getFormattedLabel(Q,vu),Ig(e,Q)):null;var Nt=ep(kt,yt,!1);return F(K,ft),ft=XN(ft,Dt,Nt),K&&O(ft,K),ft.legacy=!0,ft},ordinalRawValue:function(K,Q){null==Q&&(Q=p);var J=e.getDimensionInfo(K=K||0);if(!J){var rt=e.getDimensionIndex(K);return rt>=0?e.getStore().get(rt,Q):void 0}var nt=e.get(J.name,Q),ft=J&&J.ordinalMeta;return ft?ft.categories[nt]:nt},styleEmphasis:function(K,Q){null==Q&&(Q=p);var J=M(Q,Rl).getItemStyle(),rt=I(Q,Rl),nt=We(rt,null,null,!0,!0);nt.text=rt.getShallow("show")?go(n.getFormattedLabel(Q,Rl),n.getFormattedLabel(Q,vu),Ig(e,Q)):null;var ft=ep(rt,null,!0);return F(K,J),J=XN(J,nt,ft),K&&O(J,K),J.legacy=!0,J},visual:function(K,Q){if(null==Q&&(Q=p),xt(qN,K)){var J=e.getItemVisual(Q,"style");return J?J[qN[K]]:null}if(xt(TG,K))return e.getItemVisual(Q,K)},barLayout:function(K){if("cartesian2d"===a.type)return function(n){var e=[],t=n.axis,i="axis0";if("category"===t.type){for(var o=t.getBandWidth(),a=0;a<n.count;a++)e.push(Et({bandWidth:o,axisKey:i,stackId:oD+a},n));var l=YL(e),u=[];for(a=0;a<n.count;a++){var d=l[i][oD+a];d.offsetCenter=d.offset+d.width/2,u.push(d)}return u}}(Et({axis:a.getBaseAxis()},K))},currentSeriesIndices:function(){return t.getCurrentSeriesIndices()},font:function(K){return R_(K,t)}},l.api||{}),d={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:l.coordSys,dataInsideLength:e.count(),encode:rU(n.getData())},m={},b={},w={},k={},C=0;C<mu.length;C++){var x=mu[C];w[x]=n.getModel(qM[x]),k[x]=n.getModel(ZM[x])}function T(K){return K===p?g||(g=e.getItemModel(K)):e.getItemModel(K)}function M(K,Q){return e.hasItemOption?K===p?m[Q]||(m[Q]=T(K).getModel(qM[Q])):T(K).getModel(qM[Q]):w[Q]}function I(K,Q){return e.hasItemOption?K===p?b[Q]||(b[Q]=T(K).getModel(ZM[Q])):T(K).getModel(ZM[Q]):k[Q]}return function(K,Q){return p=K,g=null,m={},b={},o&&o(Et({dataIndexInside:K,dataIndex:e.getRawIndex(K),actionType:Q?Q.type:null},d),u)};function O(K,Q){for(var J in Q)xt(Q,J)&&(K[J]=Q[J])}function F(K,Q){K&&(K.textFill&&(Q.textFill=K.textFill),K.textPosition&&(Q.textPosition=K.textPosition))}}function rU(n){var e={};return V(n.dimensions,function(t){var i=n.getDimensionInfo(t);if(!i.isExtraCoord){var o=i.coordDim;(e[o]=e[o]||[])[i.coordDimIndex]=n.getDimensionIndex(t)}}),e}function JM(n,e,t,i,o,a,l){if(i){var u=tI(n,e,t,i,o,a);return u&&l.setItemGraphicEl(t,u),u&&cn(u,i.focus,i.blurScope,i.emphasisDisabled),u}a.remove(e)}function tI(n,e,t,i,o,a){var l=-1,u=e;e&&lB(e,i,o)&&(l=qt(a.childrenRef(),e),e=null);var d=!e,p=e;p?p.clearStates():(p=XM(i),u&&function(n,e){e.copyTransform(n),KM(e)&&KM(n)&&(e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e.invisible=n.invisible,e.ignore=n.ignore,$M(e)&&$M(n)&&e.setShape(n.shape))}(u,p)),!1===i.morph?p.disableMorphing=!0:p.disableMorphing&&(p.disableMorphing=!1),Vo.normal.cfg=Vo.normal.conOpt=Vo.emphasis.cfg=Vo.emphasis.conOpt=Vo.blur.cfg=Vo.blur.conOpt=Vo.select.cfg=Vo.select.conOpt=null,Vo.isLegacy=!1,function(n,e,t,i,o,a){if(!n.isGroup){cB(t,null,a),cB(t,Rl,a);var l=a.normal.conOpt;if(null!=l||null!=a.emphasis.conOpt||null!=a.select.conOpt||null!=a.blur.conOpt){var g=n.getTextContent();if(!1===l)g&&n.removeTextContent();else{l=a.normal.conOpt=l||{type:"text"},g?g.clearStates():(g=XM(l),n.setTextContent(g)),QM(null,g,e,l,null,i,o);for(var m=l&&l.style,b=0;b<mu.length;b++){var w=mu[b];if(w!==vu)aB(w,g,0,eI(l,a[w].conOpt,w),null)}m?g.dirty():g.markRedraw()}}}}(p,t,i,o,d,Vo),function(n,e,t,i,o){var a=t.clipPath;if(!1===a)n&&n.getClipPath()&&n.removeClipPath();else if(a){var l=n.getClipPath();l&&lB(l,a,i)&&(l=null),l||(l=XM(a),n.setClipPath(l)),QM(null,l,e,a,null,i,o)}}(p,t,i,o,d),QM(n,p,t,i,Vo,o,d),xt(i,"info")&&(Pl(p).info=i.info);for(var g=0;g<mu.length;g++){var m=mu[g];if(m!==vu)aB(m,p,0,eI(i,fC(i,m),m),Vo)}return function(n,e,t){if(!n.isGroup){var i=n,a=t.currentZLevel;i.z=t.currentZ,i.zlevel=a;var l=e.z2;null!=l&&(i.z2=l||0);for(var u=0;u<mu.length;u++)nU(i,e,mu[u])}}(p,i,o),"group"===i.type&&function(n,e,t,i,o){var a=i.children,l=a?a.length:0,u=i.$mergeChildren,d="byName"===u||i.diffChildrenByName,p=!1===u;if(l||d||p){if(d)return void function(n){new Tl(n.oldChildren,n.newChildren,uB,uB,n).add(dB).update(dB).remove(cU).execute()}({api:n,oldChildren:e.children()||[],newChildren:a||[],dataIndex:t,seriesModel:o,group:e});p&&e.removeAll();for(var g=0;g<l;g++){var m=a[g],b=e.childAt(g);m?(null==m.ignore&&(m.ignore=!1),tI(n,b,t,m,o,e)):b.ignore=!0}for(var w=e.childCount()-1;w>=g;w--){var k=e.childAt(w);sU(e,k,o)}}}(n,p,t,i,o),l>=0?a.replaceAt(p,l):a.add(p),p}function lB(n,e,t){var i=Pl(n),o=e.type,a=e.shape,l=e.style;return t.isUniversalTransitionEnabled()||null!=o&&o!==i.customGraphicType||"path"===o&&function(n){return n&&(xt(n,"pathData")||xt(n,"d"))}(a)&&hB(a)!==i.customPathData||"image"===o&&xt(l,"image")&&l.image!==i.customImagePath}function cB(n,e,t){var i=e?fC(n,e):n,o=e?eI(n,i,Rl):n.style,a=n.type,l=i?i.textConfig:null,u=n.textContent,d=u?e?fC(u,e):u:null;if(o&&(t.isLegacy||ZN(o,a,!!l,!!d))){t.isLegacy=!0;var p=$N(o,a,!e);!l&&p.textConfig&&(l=p.textConfig),!d&&p.textContent&&(d=p.textContent)}!e&&d&&!d.type&&(d.type="text");var m=e?t[e]:t.normal;m.cfg=l,m.conOpt=d}function fC(n,e){return e?n?n[e]:null:n}function eI(n,e,t){var i=e&&e.style;return null==i&&t===Rl&&n&&(i=n.styleEmphasis),i}function sU(n,e,t){e&&dC(e,Pl(n).option,t)}function uB(n,e){return(n&&n.name)??"e\0\0"+e}function dB(n,e){var t=this.context;tI(t.api,null!=e?t.oldChildren[e]:null,t.dataIndex,null!=n?t.newChildren[n]:null,t.seriesModel,t.group)}function cU(n){var e=this.context,t=e.oldChildren[n];t&&dC(t,Pl(t).option,e.seriesModel)}function hB(n){return n&&(n.pathData||n.d)}var bh=ye(),fB=Lt,nI=Ct,hU=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,i,o){var a=t.get("value"),l=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=i,o||this._lastValue!==a||this._lastStatus!==l){this._lastValue=a,this._lastStatus=l;var u=this._group,d=this._handle;if(!l||"hide"===l)return u&&u.hide(),void(d&&d.hide());u&&u.show(),d&&d.show();var p={};this.makeElOption(p,a,e,t,i);var g=p.graphicKey;g!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=g;var m=this._moveAnimation=this.determineAnimation(e,t);if(u){var b=Gt(pB,t,m);this.updatePointerEl(u,p,b),this.updateLabelEl(u,p,b,t)}else u=this._group=new Vt,this.createPointerEl(u,p,e,t),this.createLabelEl(u,p,e,t),i.getZr().add(u);mB(u,t,!0),this._renderHandle(a)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var i=t.get("animation"),o=e.axis,a="category"===o.type,l=t.get("snap");if(!l&&!a)return!1;if("auto"===i||null==i){var u=this.animationThreshold;if(a&&o.getBandWidth()>u)return!0;if(l){var d=xD(e).seriesDataCount,p=o.getExtent();return Math.abs(p[0]-p[1])/d>u}return!1}return!0===i},n.prototype.makeElOption=function(e,t,i,o,a){},n.prototype.createPointerEl=function(e,t,i,o){var a=t.pointer;if(a){var l=bh(e).pointerEl=new Wn[a.type](fB(t.pointer));e.add(l)}},n.prototype.createLabelEl=function(e,t,i,o){if(t.label){var a=bh(e).labelEl=new ge(fB(t.label));e.add(a),vB(a,o)}},n.prototype.updatePointerEl=function(e,t,i){var o=bh(e).pointerEl;o&&t.pointer&&(o.setStyle(t.pointer.style),i(o,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,i,o){var a=bh(e).labelEl;a&&(a.setStyle(t.label.style),i(a,{x:t.label.x,y:t.label.y}),vB(a,o))},n.prototype._renderHandle=function(e){if(!this._dragging&&this.updateHandleTransform){var u,t=this._axisPointerModel,i=this._api.getZr(),o=this._handle,a=t.getModel("handle"),l=t.get("status");if(!a.get("show")||!l||"hide"===l)return o&&i.remove(o),void(this._handle=null);this._handle||(u=!0,o=this._handle=Hd(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(p){Wo(p.event)},onmousedown:nI(this._onHandleDragMove,this,0,0),drift:nI(this._onHandleDragMove,this),ondragend:nI(this._onHandleDragEnd,this)}),i.add(o)),mB(o,t,!1),o.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var d=a.get("size");pt(d)||(d=[d,d]),o.scaleX=d[0]/2,o.scaleY=d[1]/2,wl(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,u)}},n.prototype._moveHandleToValue=function(e,t){pB(this._axisPointerModel,!t&&this._moveAnimation,this._handle,rI(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var i=this._handle;if(i){this._dragging=!0;var o=this.updateHandleTransform(rI(i),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=o,i.stopAnimation(),i.attr(rI(o)),bh(i).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),i=this._group,o=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),o&&t.remove(o),this._group=null,this._handle=null,this._payloadInfo=null),jd(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}},n}();function pB(n,e,t,i){gB(bh(t).lastProp,i)||(bh(t).lastProp=i,e?ke(t,i,n):(t.stopAnimation(),t.attr(i)))}function gB(n,e){if(Rt(n)&&Rt(e)){var t=!0;return V(e,function(i,o){t=t&&gB(n[o],i)}),!!t}return n===e}function vB(n,e){n[e.get(["label","show"])?"show":"hide"]()}function rI(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function mB(n,e,t){var i=e.get("z"),o=e.get("zlevel");n&&n.traverse(function(a){"group"!==a.type&&(null!=i&&(a.z=i),null!=o&&(a.zlevel=o),a.silent=t)})}const iI=hU;function oI(n){var i,e=n.get("type"),t=n.getModel(e+"Style");return"line"===e?(i=t.getLineStyle()).fill=null:"shadow"===e&&((i=t.getAreaStyle()).stroke=null),i}function yB(n,e,t,i,o){var l=bB(t.get("value"),e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),u=t.getModel("label"),d=rl(u.get("padding")||0),p=u.getFont(),g=oc(l,p),m=o.position,b=g.width+d[1]+d[3],w=g.height+d[0]+d[2],k=o.align;"right"===k&&(m[0]-=b),"center"===k&&(m[0]-=b/2);var C=o.verticalAlign;"bottom"===C&&(m[1]-=w),"middle"===C&&(m[1]-=w/2),function(n,e,t,i){var o=i.getWidth(),a=i.getHeight();n[0]=Math.min(n[0]+e,o)-e,n[1]=Math.min(n[1]+t,a)-t,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}(m,b,w,i);var x=u.get("backgroundColor");(!x||"auto"===x)&&(x=e.get(["axisLine","lineStyle","color"])),n.label={x:m[0],y:m[1],style:We(u,{text:l,font:p,fill:u.getTextColor(),padding:d,backgroundColor:x}),z2:10}}function bB(n,e,t,i,o){n=e.scale.parse(n);var a=e.scale.getLabel({value:n},{precision:o.precision}),l=o.formatter;if(l){var u={value:yD(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};V(i,function(d){var p=t.getSeriesByIndex(d.seriesIndex),m=p&&p.getDataParams(d.dataIndexInside);m&&u.seriesData.push(m)}),At(l)?a=l.replace("{value}",a):Mt(l)&&(a=l(u))}return a}function aI(n,e,t){var i=[1,0,0,1,0,0];return fr(i,i,t.rotation),jn(i,i,t.position),io([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],i)}function wB(n,e,t,i,o,a){var l=Il.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=o.get(["label","margin"]),yB(e,i,o,a,{position:aI(i.axis,n,t),align:l.textAlign,verticalAlign:l.textVerticalAlign})}function sI(n,e,t){return{x1:n[t=t||0],y1:n[1-t],x2:e[t],y2:e[1-t]}}function _B(n,e,t){return{x:n[t=t||0],y:n[1-t],width:e[t],height:e[1-t]}}function kB(n,e,t,i,o,a){return{cx:n,cy:e,r0:t,r:i,startAngle:o,endAngle:a,clockwise:!0}}var pU=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.prototype.makeElOption=function(t,i,o,a,l){var u=o.axis,d=u.grid,p=a.get("type"),g=AB(d,u).getOtherAxis(u).getGlobalExtent(),m=u.toGlobalCoord(u.dataToCoord(i,!0));if(p&&"none"!==p){var b=oI(a),w=gU[p](u,m,g);w.style=b,t.graphicKey=w.type,t.pointer=w}wB(i,t,_D(d.model,o),o,a,l)},e.prototype.getHandleTransform=function(t,i,o){var a=_D(i.axis.grid.model,i,{labelInside:!1});a.labelMargin=o.get(["handle","margin"]);var l=aI(i.axis,t,a);return{x:l[0],y:l[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,o,a){var l=o.axis,u=l.grid,d=l.getGlobalExtent(!0),p=AB(u,l).getOtherAxis(l).getGlobalExtent(),g="x"===l.dim?0:1,m=[t.x,t.y];m[g]+=i[g],m[g]=Math.min(d[1],m[g]),m[g]=Math.max(d[0],m[g]);var b=(p[1]+p[0])/2,w=[b,b];return w[g]=m[g],{x:m[0],y:m[1],rotation:t.rotation,cursorPoint:w,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][g]}},e}(iI);function AB(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var gU={line:function(n,e,t){return{type:"Line",subPixelOptimize:!0,shape:sI([e,t[0]],[e,t[1]],CB(n))}},shadow:function(n,e,t){var i=Math.max(1,n.getBandWidth());return{type:"Rect",shape:_B([e-i/2,t[0]],[i,t[1]-t[0]],CB(n))}}};function CB(n){return"x"===n.dim?0:1}const vU=pU;var mU=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(be);const yU=mU;var Nl=ye(),bU=V;function xB(n,e,t){if(!de.node){var i=e.getZr();Nl(i).records||(Nl(i).records={}),function(n,e){function t(i,o){n.on(i,function(a){var l=function(n){var e={showTip:[],hideTip:[]},t=function(i){var o=e[i.type];o?o.push(i):(i.dispatchAction=t,n.dispatchAction(i))};return{dispatchAction:t,pendings:e}}(e);bU(Nl(n).records,function(u){u&&o(u,a,l.dispatchAction)}),function(n,e){var o,t=n.showTip.length,i=n.hideTip.length;t?o=n.showTip[t-1]:i&&(o=n.hideTip[i-1]),o&&(o.dispatchAction=null,e.dispatchAction(o))}(l.pendings,e)})}Nl(n).initialized||(Nl(n).initialized=!0,t("click",Gt(SB,"click")),t("mousemove",Gt(SB,"mousemove")),t("globalout",kU))}(i,e),(Nl(i).records[n]||(Nl(i).records[n]={})).handler=t}}function kU(n,e,t){n.handler("leave",null,t)}function SB(n,e,t,i){e.handler(n,t,i)}function lI(n,e){if(!de.node){var t=e.getZr();(Nl(t).records||{})[n]&&(Nl(t).records[n]=null)}}var CU=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.render=function(t,i,o){var a=i.getComponent("tooltip"),l=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";xB("axisPointer",o,function(u,d,p){"none"!==l&&("leave"===u||l.indexOf(u)>=0)&&p({type:"updateAxisPointer",currTrigger:u,x:d&&d.offsetX,y:d&&d.offsetY})})},e.prototype.remove=function(t,i){lI("axisPointer",i)},e.prototype.dispose=function(t,i){lI("axisPointer",i)},e.type="axisPointer",e}(nn);const xU=CU;function TB(n,e){var o,t=[],i=n.seriesIndex;if(null==i||!(o=e.getSeriesByIndex(i)))return{point:[]};var a=o.getData(),l=Os(a,n);if(null==l||l<0||pt(l))return{point:[]};var u=a.getItemGraphicEl(l),d=o.coordinateSystem;if(o.getTooltipPosition)t=o.getTooltipPosition(l)||[];else if(d&&d.dataToPoint)if(n.isStacked){var p=d.getBaseAxis(),m=d.getOtherAxis(p).dim,w="x"===m||"radius"===m?1:0,k=a.mapDimension(p.dim),C=[];C[w]=a.get(k,l),C[1-w]=a.get(a.getCalculationInfo("stackResultDimension"),l),t=d.dataToPoint(C)||[]}else t=d.dataToPoint(a.getValues(gt(d.dimensions,function(T){return a.mapDimension(T)}),l))||[];else if(u){var x=u.getBoundingRect().clone();x.applyTransform(u.transform),t=[x.x+x.width/2,x.y+x.height/2]}return{point:t,el:u}}var DB=ye();function SU(n,e,t){var i=n.currTrigger,o=[n.x,n.y],a=n,l=n.dispatchAction||Ct(t.dispatchAction,t),u=e.getComponent("axisPointer").coordSysAxesInfo;if(u){pC(o)&&(o=TB({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var d=pC(o),p=a.axesInfo,g=u.axesInfo,m="leave"===i||pC(o),b={},w={},k={list:[],map:{}},C={showPointer:Gt(DU,w),showTooltip:Gt(MU,k)};V(u.coordSysMap,function(T,M){var I=d||T.containPoint(o);V(u.coordSysAxesInfo[M],function(L,N){var R=L.axis,B=function(n,e){for(var t=0;t<(n||[]).length;t++){var i=n[t];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}(p,L);if(!m&&I&&(!p||B)){var O=B&&B.value;null==O&&!d&&(O=R.pointToData(o)),null!=O&&MB(L,O,C,!1,b)}})});var x={};return V(g,function(T,M){var I=T.linkGroup;I&&!w[M]&&V(I.axesInfo,function(L,N){var R=w[N];if(L!==T&&R){var B=R.value;I.mapper&&(B=T.axis.scale.parse(I.mapper(B,IB(L),IB(T)))),x[T.key]=B}})}),V(x,function(T,M){MB(g[M],T,C,!0,b)}),function(n,e,t){var i=t.axesInfo=[];V(e,function(o,a){var l=o.axisPointerModel.option,u=n[a];u?(!o.useHandle&&(l.status="show"),l.value=u.value,l.seriesDataIndices=(u.payloadBatch||[]).slice()):!o.useHandle&&(l.status="hide"),"show"===l.status&&i.push({axisDim:o.axis.dim,axisIndex:o.axis.model.componentIndex,value:l.value})})}(w,g,b),function(n,e,t,i){if(!pC(e)&&n.list.length){var o=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:n.list})}else i({type:"hideTip"})}(k,o,n,l),function(n,e,t){var i=t.getZr(),o="axisPointerLastHighlights",a=DB(i)[o]||{},l=DB(i)[o]={};V(n,function(p,g){var m=p.axisPointerModel.option;"show"===m.status&&V(m.seriesDataIndices,function(b){l[b.seriesIndex+" | "+b.dataIndex]=b})});var u=[],d=[];V(a,function(p,g){!l[g]&&d.push(p)}),V(l,function(p,g){!a[g]&&u.push(p)}),d.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:d}),u.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:u})}(g,0,t),b}}function MB(n,e,t,i,o){var a=n.axis;if(!a.scale.isBlank()&&a.containData(e)){if(!n.involveSeries)return void t.showPointer(n,e);var l=function(n,e){var t=e.axis,i=t.dim,o=n,a=[],l=Number.MAX_VALUE,u=-1;return V(e.seriesModels,function(d,p){var m,b,g=d.getData().mapDimensionsAll(i);if(d.getAxisTooltipData){var w=d.getAxisTooltipData(g,n,t);b=w.dataIndices,m=w.nestestValue}else{if(!(b=d.getData().indicesOfNearest(g[0],n,"category"===t.type?.5:null)).length)return;m=d.getData().get(g[0],b[0])}if(null!=m&&isFinite(m)){var k=n-m,C=Math.abs(k);C<=l&&((C<l||k>=0&&u<0)&&(l=C,u=k,o=m,a.length=0),V(b,function(x){a.push({seriesIndex:d.seriesIndex,dataIndexInside:x,dataIndex:d.getData().getRawIndex(x)})}))}}),{payloadBatch:a,snapToValue:o}}(e,n),u=l.payloadBatch,d=l.snapToValue;u[0]&&null==o.seriesIndex&&st(o,u[0]),!i&&n.snap&&a.containData(d)&&null!=d&&(e=d),t.showPointer(n,e,u),t.showTooltip(n,l,d)}}function DU(n,e,t,i){n[e.key]={value:t,payloadBatch:i}}function MU(n,e,t,i){var o=t.payloadBatch,a=e.axis,l=a.model,u=e.axisPointerModel;if(e.triggerTooltip&&o.length){var d=e.coordSys.model,p=ub(d),g=n.map[p];g||(g=n.map[p]={coordSysId:d.id,coordSysIndex:d.componentIndex,coordSysType:d.type,coordSysMainType:d.mainType,dataByAxis:[]},n.list.push(g)),g.dataByAxis.push({axisDim:a.dim,axisIndex:l.componentIndex,axisType:l.type,axisId:l.id,value:i,valueLabelOpt:{precision:u.get(["label","precision"]),formatter:u.get(["label","formatter"])},seriesDataIndices:o.slice()})}}function IB(n){var e=n.axis.model,t={},i=t.axisDim=n.axis.dim;return t.axisIndex=t[i+"AxisIndex"]=e.componentIndex,t.axisName=t[i+"AxisName"]=e.name,t.axisId=t[i+"AxisId"]=e.id,t}function pC(n){return!n||null==n[0]||isNaN(n[0])||null==n[1]||isNaN(n[1])}function Db(n){lh.registerAxisPointerClass("CartesianAxisPointer",vU),n.registerComponentModel(yU),n.registerComponentView(xU),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!pt(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=function(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(n,e,t){var i=e.getComponent("tooltip"),o=e.getComponent("axisPointer"),a=o.get("link",!0)||[],l=[];V(t.getCoordinateSystems(),function(u){if(u.axisPointerEnabled){var d=ub(u.model),p=n.coordSysAxesInfo[d]={};n.coordSysMap[d]=u;var m=u.model.getModel("tooltip",i);if(V(u.getAxes(),Gt(C,!1,null)),u.getTooltipAxes&&i&&m.get("show")){var b="axis"===m.get("trigger"),w="cross"===m.get(["axisPointer","type"]),k=u.getTooltipAxes(m.get(["axisPointer","axis"]));(b||w)&&V(k.baseAxes,Gt(C,!w||"cross",b)),w&&V(k.otherAxes,Gt(C,"cross",!1))}}function C(x,T,M){var I=M.model.getModel("axisPointer",o),L=I.get("show");if(L&&("auto"!==L||x||SD(I))){null==T&&(T=I.get("triggerTooltip")),I=x?function(n,e,t,i,o,a){var l=e.getModel("axisPointer"),d={};V(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(b){d[b]=Lt(l.get(b))}),d.snap="category"!==n.type&&!!a,"cross"===l.get("type")&&(d.type="line");var p=d.label||(d.label={});if(null==p.show&&(p.show=!1),"cross"===o){var g=l.get(["label","show"]);if(p.show=g??!0,!a){var m=d.lineStyle=l.get("crossStyle");m&&Et(p,m.textStyle)}}return n.model.getModel("axisPointer",new Ye(d,t,i))}(M,m,o,e,x,T):I;var N=I.get("snap"),R=ub(M.model),B=T||N||"category"===M.type,O=n.axesInfo[R]={key:R,axis:M,coordSys:u,axisPointerModel:I,triggerTooltip:T,involveSeries:B,snap:N,useHandle:SD(I),seriesModels:[],linkGroup:null};p[R]=O,n.seriesInvolved=n.seriesInvolved||B;var F=function(n,e){for(var t=e.model,i=e.dim,o=0;o<n.length;o++){var a=n[o]||{};if(CD(a[i+"AxisId"],t.id)||CD(a[i+"AxisIndex"],t.componentIndex)||CD(a[i+"AxisName"],t.name))return o}}(a,M);if(null!=F){var H=l[F]||(l[F]={axesInfo:{}});H.axesInfo[R]=O,H.mapper=a[F].mapper,O.linkGroup=H}}}})}(t,n,e),t.seriesInvolved&&function(n,e){e.eachSeries(function(t){var i=t.coordinateSystem,o=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!i||"none"===o||!1===o||"item"===o||!1===a||!1===t.get(["axisPointer","show"],!0)||V(n.coordSysAxesInfo[ub(i.model)],function(l){var u=l.axis;i.getAxis(u.dim)===u&&(l.seriesModels.push(t),null==l.seriesDataCount&&(l.seriesDataCount=0),l.seriesDataCount+=t.getData().count())})})}(t,n),t}(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},SU)}var NU=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.prototype.makeElOption=function(t,i,o,a,l){var u=o.axis;"angle"===u.dim&&(this.animationThreshold=Math.PI/18);var d=u.polar,g=d.getOtherAxis(u).getExtent(),m=u.dataToCoord(i),b=a.get("type");if(b&&"none"!==b){var w=oI(a),k=zU[b](u,d,m,g);k.style=w,t.graphicKey=k.type,t.pointer=k}var x=function(n,e,t,i,o){var a=e.axis,l=a.dataToCoord(n),u=i.getAngleAxis().getExtent()[0];u=u/180*Math.PI;var p,g,m,d=i.getRadiusAxis().getExtent();if("radius"===a.dim){var b=[1,0,0,1,0,0];fr(b,b,u),jn(b,b,[i.cx,i.cy]),p=io([l,-o],b);var w=e.getModel("axisLabel").get("rotate")||0,k=Il.innerTextLayout(u,w*Math.PI/180,-1);g=k.textAlign,m=k.textVerticalAlign}else{var C=d[1];p=i.coordToPoint([C+o,l]);var x=i.cx,T=i.cy;g=Math.abs(p[0]-x)/C<.3?"center":p[0]>x?"left":"right",m=Math.abs(p[1]-T)/C<.3?"middle":p[1]>T?"top":"bottom"}return{position:p,align:g,verticalAlign:m}}(i,o,0,d,a.get(["label","margin"]));yB(t,o,a,l,x)},e}(iI),zU={line:function(n,e,t,i){return"angle"===n.dim?{type:"Line",shape:sI(e.coordToPoint([i[0],t]),e.coordToPoint([i[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(n,e,t,i){var o=Math.max(1,n.getBandWidth()),a=Math.PI/180;return"angle"===n.dim?{type:"Sector",shape:kB(e.cx,e.cy,i[0],i[1],(-t-o/2)*a,(o/2-t)*a)}:{type:"Sector",shape:kB(e.cx,e.cy,t-o/2,t+o/2,0,2*Math.PI)}}};const OU=NU;var VU=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.findAxisModel=function(t){var i;return this.ecModel.eachComponent(t,function(a){a.getCoordSysModel()===this&&(i=a)},this),i},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(be);const FU=VU;var cI=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Sn).models[0]},e.type="polarAxis",e}(be);fn(cI,ab);var HU=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.type="angleAxis",e}(cI),jU=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.type="radiusAxis",e}(cI),uI=function(n){function e(t,i){return n.call(this,"radius",t,i)||this}return tt(e,n),e.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)["radius"===this.dim?0:1]},e}(_a);uI.prototype.dataToRadius=_a.prototype.dataToCoord,uI.prototype.radiusToData=_a.prototype.coordToData;const GU=uI;var UU=ye(),dI=function(n){function e(t,i){return n.call(this,"angle",t,i||[0,360])||this}return tt(e,n),e.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)["radius"===this.dim?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,i=t.getLabelModel(),o=t.scale,a=o.getExtent(),l=o.count();if(a[1]-a[0]<1)return 0;var u=a[0],d=t.dataToCoord(u+1)-t.dataToCoord(u),p=Math.abs(d),g=oc(null==u?"":u+"",i.getFont(),"center","top"),b=Math.max(g.height,7)/p;isNaN(b)&&(b=1/0);var w=Math.max(0,Math.floor(b)),k=UU(t.model),C=k.lastAutoInterval,x=k.lastTickCount;return null!=C&&null!=x&&Math.abs(C-w)<=1&&Math.abs(x-l)<=1&&C>w?w=C:(k.lastTickCount=l,k.lastAutoInterval=w),w},e}(_a);dI.prototype.dataToAngle=_a.prototype.dataToCoord,dI.prototype.angleToData=_a.prototype.coordToData;const WU=dI;var EB=["radius","angle"],YU=function(){function n(e){this.dimensions=EB,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new GU,this._angleAxis=new WU,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},n.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},n.prototype.getAxis=function(e){return this["_"+e+"Axis"]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(e){var t=[],i=this._angleAxis,o=this._radiusAxis;return i.scale.type===e&&t.push(i),o.scale.type===e&&t.push(o),t},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},n.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},n.prototype.pointToData=function(e,t){var i=this.pointToCoord(e);return[this._radiusAxis.radiusToData(i[0],t),this._angleAxis.angleToData(i[1],t)]},n.prototype.pointToCoord=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,o=this.getAngleAxis(),a=o.getExtent(),l=Math.min(a[0],a[1]),u=Math.max(a[0],a[1]);o.inverse?l=u-360:u=l+360;var d=Math.sqrt(t*t+i*i);t/=d,i/=d;for(var p=Math.atan2(-i,t)/Math.PI*180,g=p<l?1:-1;p<l||p>u;)p+=360*g;return[d,p]},n.prototype.coordToPoint=function(e){var t=e[0],i=e[1]/180*Math.PI;return[Math.cos(i)*t+this.cx,-Math.sin(i)*t+this.cy]},n.prototype.getArea=function(){var e=this.getAngleAxis(),i=this.getRadiusAxis().getExtent().slice();i[0]>i[1]&&i.reverse();var o=e.getExtent(),a=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:i[0],r:i[1],startAngle:-o[0]*a,endAngle:-o[1]*a,clockwise:e.inverse,contain:function(l,u){var d=l-this.cx,p=u-this.cy,g=d*d+p*p-1e-4,m=this.r,b=this.r0;return g<=m*m&&g>=b*b}}},n.prototype.convertToPixel=function(e,t,i){return LB(t)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){return LB(t)===this?this.pointToData(i):null},n}();function LB(n){var e=n.seriesModel,t=n.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}const qU=YU;function $U(n,e){var t=this,i=t.getAngleAxis(),o=t.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),n.eachSeries(function(u){if(u.coordinateSystem===t){var d=u.getData();V(jA(d,"radius"),function(p){o.scale.unionExtentFromData(d,p)}),V(jA(d,"angle"),function(p){i.scale.unionExtentFromData(d,p)})}}),Rg(i.scale,i.model),Rg(o.scale,o.model),"category"===i.type&&!i.onBand){var a=i.getExtent(),l=360/i.scale.count();i.inverse?a[1]+=l:a[1]-=l,i.setExtent(a[0],a[1])}}function PB(n,e){if(n.type=e.get("type"),n.scale=HA(e),n.onBand=e.get("boundaryGap")&&"category"===n.type,n.inverse=e.get("inverse"),function(n){return"angleAxis"===n.mainType}(e)){n.inverse=n.inverse!==e.get("clockwise");var t=e.get("startAngle");n.setExtent(t,t+(n.inverse?-360:360))}e.axis=n,n.model=e}var XU={dimensions:EB,create:function(n,e){var t=[];return n.eachComponent("polar",function(i,o){var a=new qU(o+"");a.update=$U;var l=a.getRadiusAxis(),u=a.getAngleAxis(),d=i.findAxisModel("radiusAxis"),p=i.findAxisModel("angleAxis");PB(l,d),PB(u,p),function(n,e,t){var i=e.get("center"),o=t.getWidth(),a=t.getHeight();n.cx=_t(i[0],o),n.cy=_t(i[1],a);var l=n.getRadiusAxis(),u=Math.min(o,a)/2,d=e.get("radius");null==d?d=[0,"100%"]:pt(d)||(d=[0,d]);var p=[_t(d[0],u),_t(d[1],u)];l.inverse?l.setExtent(p[1],p[0]):l.setExtent(p[0],p[1])}(a,i,e),t.push(a),i.coordinateSystem=a,a.model=i}),n.eachSeries(function(i){if("polar"===i.get("coordinateSystem")){var o=i.getReferringComponents("polar",Sn).models[0];i.coordinateSystem=o.coordinateSystem}}),t}};const QU=XU;var JU=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function gC(n,e,t){e[1]>e[0]&&(e=e.slice().reverse());var i=n.coordToPoint([e[0],t]),o=n.coordToPoint([e[1],t]);return{x1:i[0],y1:i[1],x2:o[0],y2:o[1]}}function vC(n){return n.getRadiusAxis().inverse?0:1}function RB(n){var e=n[0],t=n[n.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&n.pop()}var tW=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return tt(e,n),e.prototype.render=function(t,i){if(this.group.removeAll(),t.get("show")){var o=t.axis,a=o.polar,l=a.getRadiusAxis().getExtent(),u=o.getTicksCoords(),d=o.getMinorTicksCoords(),p=gt(o.getViewLabels(),function(g){g=Lt(g);var m=o.scale,b="ordinal"===m.type?m.getRawOrdinalNumber(g.tickValue):g.tickValue;return g.coord=o.dataToCoord(b),g});RB(p),RB(u),V(JU,function(g){t.get([g,"show"])&&(!o.scale.isBlank()||"axisLine"===g)&&eW[g](this.group,t,a,u,d,l,p)},this)}},e.type="angleAxis",e}(lh),eW={axisLine:function(n,e,t,i,o,a){var p,l=e.getModel(["axisLine","lineStyle"]),u=vC(t),d=u?0:1;(p=0===a[d]?new no({shape:{cx:t.cx,cy:t.cy,r:a[u]},style:l.getLineStyle(),z2:1,silent:!0}):new zd({shape:{cx:t.cx,cy:t.cy,r:a[u],r0:a[d]},style:l.getLineStyle(),z2:1,silent:!0})).style.fill=null,n.add(p)},axisTick:function(n,e,t,i,o,a){var l=e.getModel("axisTick"),u=(l.get("inside")?-1:1)*l.get("length"),d=a[vC(t)],p=gt(i,function(g){return new zn({shape:gC(t,[d,d+u],g.coord)})});n.add(bi(p,{style:Et(l.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,e,t,i,o,a){if(o.length){for(var l=e.getModel("axisTick"),u=e.getModel("minorTick"),d=(l.get("inside")?-1:1)*u.get("length"),p=a[vC(t)],g=[],m=0;m<o.length;m++)for(var b=0;b<o[m].length;b++)g.push(new zn({shape:gC(t,[p,p+d],o[m][b].coord)}));n.add(bi(g,{style:Et(u.getModel("lineStyle").getLineStyle(),Et(l.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,e,t,i,o,a,l){var u=e.getCategories(!0),d=e.getModel("axisLabel"),p=d.get("margin"),g=e.get("triggerEvent");V(l,function(m,b){var w=d,k=m.tickValue,C=a[vC(t)],x=t.coordToPoint([C+p,m.coord]),T=t.cx,M=t.cy,I=Math.abs(x[0]-T)/C<.3?"center":x[0]>T?"left":"right",L=Math.abs(x[1]-M)/C<.3?"middle":x[1]>M?"top":"bottom";if(u&&u[k]){var N=u[k];Rt(N)&&N.textStyle&&(w=new Ye(N.textStyle,d,d.ecModel))}var R=new ge({silent:Il.isLabelSilent(e),style:We(w,{x:x[0],y:x[1],fill:w.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:m.formattedLabel,align:I,verticalAlign:L})});if(n.add(R),g){var B=Il.makeAxisEventDataBase(e);B.targetType="axisLabel",B.value=m.rawLabel,jt(R).eventData=B}},this)},splitLine:function(n,e,t,i,o,a){var u=e.getModel("splitLine").getModel("lineStyle"),d=u.get("color"),p=0;d=d instanceof Array?d:[d];for(var g=[],m=0;m<i.length;m++){var b=p++%d.length;g[b]=g[b]||[],g[b].push(new zn({shape:gC(t,a,i[m].coord)}))}for(m=0;m<g.length;m++)n.add(bi(g[m],{style:Et({stroke:d[m%d.length]},u.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(n,e,t,i,o,a){if(o.length){for(var u=e.getModel("minorSplitLine").getModel("lineStyle"),d=[],p=0;p<o.length;p++)for(var g=0;g<o[p].length;g++)d.push(new zn({shape:gC(t,a,o[p][g].coord)}));n.add(bi(d,{style:u.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(n,e,t,i,o,a){if(i.length){var u=e.getModel("splitArea").getModel("areaStyle"),d=u.get("color"),p=0;d=d instanceof Array?d:[d];for(var g=[],m=Math.PI/180,b=-i[0].coord*m,w=Math.min(a[0],a[1]),k=Math.max(a[0],a[1]),C=e.get("clockwise"),x=1,T=i.length;x<=T;x++){var M=x===T?i[0].coord:i[x].coord,I=p++%d.length;g[I]=g[I]||[],g[I].push(new Mr({shape:{cx:t.cx,cy:t.cy,r0:w,r:k,startAngle:b,endAngle:-M*m,clockwise:C},silent:!0})),b=-M*m}for(x=0;x<g.length;x++)n.add(bi(g[x],{style:Et({fill:d[x%d.length]},u.getAreaStyle()),silent:!0}))}}};const nW=tW;var rW=["axisLine","axisTickLabel","axisName"],iW=["splitLine","splitArea","minorSplitLine"],oW=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return tt(e,n),e.prototype.render=function(t,i){if(this.group.removeAll(),t.get("show")){var o=this._axisGroup,a=this._axisGroup=new Vt;this.group.add(a);var l=t.axis,u=l.polar,d=u.getAngleAxis(),p=l.getTicksCoords(),g=l.getMinorTicksCoords(),m=d.getExtent()[0],b=l.getExtent(),w=function(n,e,t){return{position:[n.cx,n.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(u,t,m),k=new Il(t,w);V(rW,k.add,k),a.add(k.getGroup()),Fd(o,a,t),V(iW,function(C){t.get([C,"show"])&&!l.scale.isBlank()&&aW[C](this.group,t,u,m,b,p,g)},this)}},e.type="radiusAxis",e}(lh),aW={splitLine:function(n,e,t,i,o,a){var u=e.getModel("splitLine").getModel("lineStyle"),d=u.get("color"),p=0;d=d instanceof Array?d:[d];for(var g=[],m=0;m<a.length;m++){var b=p++%d.length;g[b]=g[b]||[],g[b].push(new no({shape:{cx:t.cx,cy:t.cy,r:Math.max(a[m].coord,0)}}))}for(m=0;m<g.length;m++)n.add(bi(g[m],{style:Et({stroke:d[m%d.length],fill:null},u.getLineStyle()),silent:!0}))},minorSplitLine:function(n,e,t,i,o,a,l){if(l.length){for(var d=e.getModel("minorSplitLine").getModel("lineStyle"),p=[],g=0;g<l.length;g++)for(var m=0;m<l[g].length;m++)p.push(new no({shape:{cx:t.cx,cy:t.cy,r:l[g][m].coord}}));n.add(bi(p,{style:Et({fill:null},d.getLineStyle()),silent:!0}))}},splitArea:function(n,e,t,i,o,a){if(a.length){var u=e.getModel("splitArea").getModel("areaStyle"),d=u.get("color"),p=0;d=d instanceof Array?d:[d];for(var g=[],m=a[0].coord,b=1;b<a.length;b++){var w=p++%d.length;g[w]=g[w]||[],g[w].push(new Mr({shape:{cx:t.cx,cy:t.cy,r0:m,r:a[b].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),m=a[b].coord}for(b=0;b<g.length;b++)n.add(bi(g[b],{style:Et({fill:d[b%d.length]},u.getAreaStyle()),silent:!0}))}}};const lW=oW;function NB(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function BB(n,e){return e.dim+n.model.componentIndex}const dW=function(n,e,t){var i={},o=function(n){var e={};V(n,function(i,o){var a=i.getData(),l=i.coordinateSystem,u=l.getBaseAxis(),d=BB(l,u),p=u.getExtent(),g="category"===u.type?u.getBandWidth():Math.abs(p[1]-p[0])/a.count(),m=e[d]||{bandWidth:g,remainedWidth:g,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},b=m.stacks;e[d]=m;var w=NB(i);b[w]||m.autoWidthCount++,b[w]=b[w]||{width:0,maxWidth:0};var k=_t(i.get("barWidth"),g),C=_t(i.get("barMaxWidth"),g),x=i.get("barGap"),T=i.get("barCategoryGap");k&&!b[w].width&&(k=Math.min(m.remainedWidth,k),b[w].width=k,m.remainedWidth-=k),C&&(b[w].maxWidth=C),null!=x&&(m.gap=x),null!=T&&(m.categoryGap=T)});var t={};return V(e,function(i,o){t[o]={};var a=i.stacks,u=_t(i.categoryGap,i.bandWidth),d=_t(i.gap,1),p=i.remainedWidth,g=i.autoWidthCount,m=(p-u)/(g+(g-1)*d);m=Math.max(m,0),V(a,function(C,x){var T=C.maxWidth;T&&T<m&&(T=Math.min(T,p),C.width&&(T=Math.min(T,C.width)),p-=T,C.width=T,g--)}),m=(p-u)/(g+(g-1)*d),m=Math.max(m,0);var w,b=0;V(a,function(C,x){C.width||(C.width=m),w=C,b+=C.width*(1+d)}),w&&(b-=w.width*d);var k=-b/2;V(a,function(C,x){t[o][x]=t[o][x]||{offset:k,width:C.width},k+=C.width*(1+d)})}),t}(Le(e.getSeriesByType(n),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}));e.eachSeriesByType(n,function(a){if("polar"===a.coordinateSystem.type){var l=a.getData(),u=a.coordinateSystem,d=u.getBaseAxis(),p=BB(u,d),g=NB(a),m=o[p][g],b=m.offset,w=m.width,k=u.getOtherAxis(d),C=a.coordinateSystem.cx,x=a.coordinateSystem.cy,T=a.get("barMinHeight")||0,M=a.get("barMinAngle")||0;i[g]=i[g]||[];for(var I=l.mapDimension(k.dim),L=l.mapDimension(d.dim),N=lu(l,I),R="radius"!==d.dim||!a.get("roundCap",!0),B=k.dataToCoord(0),O=0,F=l.count();O<F;O++){var H=l.get(I,O),j=l.get(L,O),q=H>=0?"p":"n",Z=B;N&&(i[g][j]||(i[g][j]={p:B,n:B}),Z=i[g][j][q]);var K=void 0,Q=void 0,J=void 0,rt=void 0;if("radius"===k.dim){var nt=k.dataToCoord(H)-B,ft=d.dataToCoord(j);Math.abs(nt)<T&&(nt=(nt<0?-1:1)*T),K=Z,Q=Z+nt,rt=(J=ft-b)-w,N&&(i[g][j][q]=Q)}else{var yt=k.dataToCoord(H,R)-B,kt=d.dataToCoord(j);Math.abs(yt)<M&&(yt=(yt<0?-1:1)*M),Q=(K=kt+b)+w,J=Z,rt=Z+yt,N&&(i[g][j][q]=rt)}l.setItemLayout(O,{cx:C,cy:x,r0:K,r:Q,startAngle:-J*Math.PI/180,endAngle:-rt*Math.PI/180,clockwise:J>=rt})}}})};var hW={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},fW={splitNumber:5},pW=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.type="polar",e}(nn);function hI(n,e){e=e||{};var i=n.axis,o={},a=i.position,l=i.orient,u=n.coordinateSystem.getRect(),d=[u.x,u.x+u.width,u.y,u.y+u.height],p={horizontal:{top:d[2],bottom:d[3]},vertical:{left:d[0],right:d[1]}};o.position=["vertical"===l?p.vertical[a]:d[0],"horizontal"===l?p.horizontal[a]:d[3]],o.rotation=Math.PI/2*{horizontal:0,vertical:1}[l],o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,right:1,left:-1}[a],n.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),pn(e.labelInside,n.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var b=e.rotate;return null==b&&(b=n.get(["axisLabel","rotate"])),o.labelRotation="top"===a?-b:b,o.z2=1,o}var vW=["axisLine","axisTickLabel","axisName"],mW=["splitArea","splitLine"],yW=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return tt(e,n),e.prototype.render=function(t,i,o,a){var l=this.group;l.removeAll();var u=this._axisGroup;this._axisGroup=new Vt;var d=hI(t),p=new Il(t,d);V(vW,p.add,p),l.add(this._axisGroup),l.add(p.getGroup()),V(mW,function(g){t.get([g,"show"])&&bW[g](this,this.group,this._axisGroup,t)},this),Fd(u,this._axisGroup,t),n.prototype.render.call(this,t,i,o,a)},e.prototype.remove=function(){XP(this)},e.type="singleAxis",e}(lh),bW={splitLine:function(n,e,t,i){var o=i.axis;if(!o.scale.isBlank()){var a=i.getModel("splitLine"),l=a.getModel("lineStyle"),u=l.get("color");u=u instanceof Array?u:[u];for(var d=l.get("width"),p=i.coordinateSystem.getRect(),g=o.isHorizontal(),m=[],b=0,w=o.getTicksCoords({tickModel:a}),k=[],C=[],x=0;x<w.length;++x){var T=o.toGlobalCoord(w[x].coord);g?(k[0]=T,k[1]=p.y,C[0]=T,C[1]=p.y+p.height):(k[0]=p.x,k[1]=T,C[0]=p.x+p.width,C[1]=T);var M=new zn({shape:{x1:k[0],y1:k[1],x2:C[0],y2:C[1]},silent:!0});yl(M.shape,d);var I=b++%u.length;m[I]=m[I]||[],m[I].push(M)}var L=l.getLineStyle(["color"]);for(x=0;x<m.length;++x)e.add(bi(m[x],{style:Et({stroke:u[x%u.length]},L),silent:!0}))}},splitArea:function(n,e,t,i){KP(n,t,i,i)}};const wW=yW;var zB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(be);fn(zB,ab.prototype);const fI=zB;var _W=function(n){function e(t,i,o,a,l){var u=n.call(this,t,i,o)||this;return u.type=a||"value",u.position=l||"bottom",u}return tt(e,n),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.pointToData=function(t,i){return this.coordinateSystem.pointToData(t)[0]},e}(_a);const kW=_W;var OB=["single"],AW=function(){function n(e,t,i){this.type="single",this.dimension="single",this.dimensions=OB,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,i)}return n.prototype._init=function(e,t,i){var a=new kW(this.dimension,HA(e),[0,0],e.get("type"),e.get("position"));a.onBand="category"===a.type&&e.get("boundaryGap"),a.inverse=e.get("inverse"),a.orient=e.get("orient"),e.axis=a,a.model=e,a.coordinateSystem=this,this._axis=a},n.prototype.update=function(e,t){e.eachSeries(function(i){if(i.coordinateSystem===this){var o=i.getData();V(o.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(o,a)},this),Rg(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(e,t){this._rect=Bn({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,i=t.isHorizontal(),o=i?[0,e.width]:[0,e.height],a=t.inverse?1:0;t.setExtent(o[a],o[1-a]),this._updateAxisTransform(t,i?e.x:e.y)},n.prototype._updateAxisTransform=function(e,t){var i=e.getExtent(),o=i[0]+i[1],a=e.isHorizontal();e.toGlobalCoord=a?function(l){return l+t}:function(l){return o-l+t},e.toLocalCoord=a?function(l){return l-t}:function(l){return o-l+t}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(e){var t=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:i.contain(i.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},n.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},n.prototype.dataToPoint=function(e){var t=this.getAxis(),i=this.getRect(),o=[],a="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),o[a]=t.toGlobalCoord(t.dataToCoord(+e)),o[1-a]=0===a?i.y+i.height/2:i.x+i.width/2,o},n.prototype.convertToPixel=function(e,t,i){return VB(t)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){return VB(t)===this?this.pointToData(i):null},n}();function VB(n){var e=n.seriesModel,t=n.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}const CW=AW;var SW={create:function(n,e){var t=[];return n.eachComponent("singleAxis",function(i,o){var a=new CW(i,n,e);a.name="single_"+o,a.resize(i,e),i.coordinateSystem=a,t.push(a)}),n.eachSeries(function(i){if("singleAxis"===i.get("coordinateSystem")){var o=i.getReferringComponents("singleAxis",Sn).models[0];i.coordinateSystem=o&&o.coordinateSystem}}),t},dimensions:OB};const TW=SW;var FB=["x","y"],DW=["width","height"],MW=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.prototype.makeElOption=function(t,i,o,a,l){var u=o.axis,d=u.coordinateSystem,p=pI(d,1-mC(u)),g=d.dataToPoint(i)[0],m=a.get("type");if(m&&"none"!==m){var b=oI(a),w=IW[m](u,g,p);w.style=b,t.graphicKey=w.type,t.pointer=w}wB(i,t,hI(o),o,a,l)},e.prototype.getHandleTransform=function(t,i,o){var a=hI(i,{labelInside:!1});a.labelMargin=o.get(["handle","margin"]);var l=aI(i.axis,t,a);return{x:l[0],y:l[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,o,a){var l=o.axis,u=l.coordinateSystem,d=mC(l),p=pI(u,d),g=[t.x,t.y];g[d]+=i[d],g[d]=Math.min(p[1],g[d]),g[d]=Math.max(p[0],g[d]);var m=pI(u,1-d),b=(m[1]+m[0])/2,w=[b,b];return w[d]=g[d],{x:g[0],y:g[1],rotation:t.rotation,cursorPoint:w,tooltipOption:{verticalAlign:"middle"}}},e}(iI),IW={line:function(n,e,t){return{type:"Line",subPixelOptimize:!0,shape:sI([e,t[0]],[e,t[1]],mC(n))}},shadow:function(n,e,t){var i=n.getBandWidth();return{type:"Rect",shape:_B([e-i/2,t[0]],[i,t[1]-t[0]],mC(n))}}};function mC(n){return n.isHorizontal()?0:1}function pI(n,e){var t=n.getRect();return[t[FB[e]],t[FB[e]]+t[DW[e]]]}const EW=MW;var LW=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.type="single",e}(nn),RW=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.init=function(t,i,o){var a=Ec(t);n.prototype.init.apply(this,arguments),HB(t,a)},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),HB(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(be);function HB(n,e){var i,t=n.cellSize;1===(i=pt(t)?t:n.cellSize=[t,t]).length&&(i[1]=i[0]);var o=gt([0,1],function(a){return function(n,e){return null!=n[il[e][0]]||null!=n[il[e][1]]&&null!=n[il[e][2]]}(e,a)&&(i[a]="auto"),null!=i[a]&&"auto"!==i[a]});es(n,e,{type:"box",ignoreSize:o})}const NW=RW;var BW=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.render=function(t,i,o){var a=this.group;a.removeAll();var l=t.coordinateSystem,u=l.getRangeInfo(),d=l.getOrient(),p=i.getLocaleModel();this._renderDayRect(t,u,a),this._renderLines(t,u,d,a),this._renderYearText(t,u,d,a),this._renderMonthText(t,p,d,a),this._renderWeekText(t,p,u,d,a)},e.prototype._renderDayRect=function(t,i,o){for(var a=t.coordinateSystem,l=t.getModel("itemStyle").getItemStyle(),u=a.getCellWidth(),d=a.getCellHeight(),p=i.start.time;p<=i.end.time;p=a.getNextNDay(p,1).time){var g=a.dataToRect([p],!1).tl,m=new Xt({shape:{x:g[0],y:g[1],width:u,height:d},cursor:"default",style:l});o.add(m)}},e.prototype._renderLines=function(t,i,o,a){var l=this,u=t.coordinateSystem,d=t.getModel(["splitLine","lineStyle"]).getLineStyle(),p=t.get(["splitLine","show"]),g=d.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var m=i.start,b=0;m.time<=i.end.time;b++){k(m.formatedDate),0===b&&(m=u.getDateInfo(i.start.y+"-"+i.start.m));var w=m.date;w.setMonth(w.getMonth()+1),m=u.getDateInfo(w)}function k(C){l._firstDayOfMonth.push(u.getDateInfo(C)),l._firstDayPoints.push(u.dataToRect([C],!1).tl);var x=l._getLinePointsOfOneWeek(t,C,o);l._tlpoints.push(x[0]),l._blpoints.push(x[x.length-1]),p&&l._drawSplitline(x,d,a)}k(u.getNextNDay(i.end.time,1).formatedDate),p&&this._drawSplitline(l._getEdgesPoints(l._tlpoints,g,o),d,a),p&&this._drawSplitline(l._getEdgesPoints(l._blpoints,g,o),d,a)},e.prototype._getEdgesPoints=function(t,i,o){var a=[t[0].slice(),t[t.length-1].slice()],l="horizontal"===o?0:1;return a[0][l]=a[0][l]-i/2,a[1][l]=a[1][l]+i/2,a},e.prototype._drawSplitline=function(t,i,o){var a=new Jr({z2:20,shape:{points:t},style:i});o.add(a)},e.prototype._getLinePointsOfOneWeek=function(t,i,o){for(var a=t.coordinateSystem,l=a.getDateInfo(i),u=[],d=0;d<7;d++){var p=a.getNextNDay(l.time,d),g=a.dataToRect([p.time],!1);u[2*p.day]=g.tl,u[2*p.day+1]=g["horizontal"===o?"bl":"tr"]}return u},e.prototype._formatterLabel=function(t,i){return At(t)&&t?function(n,e,t){return V(e,function(i,o){n=n.replace("{"+o+"}",i)}),n}(t,i):Mt(t)?t(i):i.nameMap},e.prototype._yearTextPositionControl=function(t,i,o,a,l){var u=i[0],d=i[1],p=["center","bottom"];"bottom"===a?(d+=l,p=["center","top"]):"left"===a?u-=l:"right"===a?(u+=l,p=["center","top"]):d-=l;var g=0;return("left"===a||"right"===a)&&(g=Math.PI/2),{rotation:g,x:u,y:d,style:{align:p[0],verticalAlign:p[1]}}},e.prototype._renderYearText=function(t,i,o,a){var l=t.getModel("yearLabel");if(l.get("show")){var u=l.get("margin"),d=l.get("position");d||(d="horizontal"!==o?"top":"left");var p=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],g=(p[0][0]+p[1][0])/2,m=(p[0][1]+p[1][1])/2,b="horizontal"===o?0:1,w={top:[g,p[b][1]],bottom:[g,p[1-b][1]],left:[p[1-b][0],m],right:[p[b][0],m]},k=i.start.y;+i.end.y>+i.start.y&&(k=k+"-"+i.end.y);var C=l.get("formatter"),T=this._formatterLabel(C,{start:i.start.y,end:i.end.y,nameMap:k}),M=new ge({z2:30,style:We(l,{text:T})});M.attr(this._yearTextPositionControl(M,w[d],o,d,u)),a.add(M)}},e.prototype._monthTextPositionControl=function(t,i,o,a,l){var u="left",d="top",p=t[0],g=t[1];return"horizontal"===o?(g+=l,i&&(u="center"),"start"===a&&(d="bottom")):(p+=l,i&&(d="middle"),"start"===a&&(u="right")),{x:p,y:g,align:u,verticalAlign:d}},e.prototype._renderMonthText=function(t,i,o,a){var l=t.getModel("monthLabel");if(l.get("show")){var u=l.get("nameMap"),d=l.get("margin"),p=l.get("position"),g=l.get("align"),m=[this._tlpoints,this._blpoints];(!u||At(u))&&(u&&(i=Sc(u)||i),u=i.get(["time","monthAbbr"])||[]);var b="start"===p?0:1,w="horizontal"===o?0:1;d="start"===p?-d:d;for(var k="center"===g,C=0;C<m[b].length-1;C++){var x=m[b][C].slice(),T=this._firstDayOfMonth[C];k&&(x[w]=(this._firstDayPoints[C][w]+m[0][C+1][w])/2);var I=l.get("formatter"),L=u[+T.m-1],N={yyyy:T.y,yy:(T.y+"").slice(2),MM:T.m,M:+T.m,nameMap:L},R=this._formatterLabel(I,N),B=new ge({z2:30,style:st(We(l,{text:R}),this._monthTextPositionControl(x,k,o,p,d))});a.add(B)}}},e.prototype._weekTextPositionControl=function(t,i,o,a,l){var u="center",d="middle",p=t[0],g=t[1],m="start"===o;return"horizontal"===i?(p=p+a+(m?1:-1)*l[0]/2,u=m?"right":"left"):(g=g+a+(m?1:-1)*l[1]/2,d=m?"bottom":"top"),{x:p,y:g,align:u,verticalAlign:d}},e.prototype._renderWeekText=function(t,i,o,a,l){var u=t.getModel("dayLabel");if(u.get("show")){var d=t.coordinateSystem,p=u.get("position"),g=u.get("nameMap"),m=u.get("margin"),b=d.getFirstDayOfWeek();g&&!At(g)||(g&&(i=Sc(g)||i),g=i.get(["time","dayOfWeekShort"])||gt(i.get(["time","dayOfWeekAbbr"]),function(N){return N[0]}));var k=d.getNextNDay(o.end.time,7-o.lweek).time,C=[d.getCellWidth(),d.getCellHeight()];m=_t(m,Math.min(C[1],C[0])),"start"===p&&(k=d.getNextNDay(o.start.time,-(7+o.fweek)).time,m=-m);for(var x=0;x<7;x++){var I,T=d.getNextNDay(k,x),M=d.dataToRect([T.time],!1).center;I=Math.abs((x+b)%7);var L=new ge({z2:30,style:st(We(u,{text:g[I]}),this._weekTextPositionControl(M,a,p,m,C))});l.add(L)}}},e.type="calendar",e}(nn);const zW=BW;var gI=864e5,OW=function(){function n(e,t,i){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=e}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(e){var t=(e=Ii(e)).getFullYear(),i=e.getMonth()+1,o=i<10?"0"+i:""+i,a=e.getDate(),l=a<10?"0"+a:""+a,u=e.getDay();return{y:t+"",m:o,d:l,day:u=Math.abs((u+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+o+"-"+l,date:e}},n.prototype.getNextNDay=function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},n.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,o=["width","height"],a=this._model.getCellSize().slice(),l=this._model.getBoxLayoutParams(),u="horizontal"===this._orient?[i,7]:[7,i];V([0,1],function(m){g(a,m)&&(l[o[m]]=a[m]*u[m])});var d={width:t.getWidth(),height:t.getHeight()},p=this._rect=Bn(l,d);function g(m,b){return null!=m[b]&&"auto"!==m[b]}V([0,1],function(m){g(a,m)||(a[m]=p[o[m]]/u[m])}),this._sw=a[0],this._sh=a[1]},n.prototype.dataToPoint=function(e,t){pt(e)&&(e=e[0]),null==t&&(t=!0);var i=this.getDateInfo(e),o=this._rangeInfo;if(t&&!(i.time>=o.start.time&&i.time<o.end.time+gI))return[NaN,NaN];var l=i.day,u=this._getRangeInfo([o.start.time,i.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+l*this._sw+this._sw/2,this._rect.y+u*this._sh+this._sh/2]:[this._rect.x+u*this._sw+this._sw/2,this._rect.y+l*this._sh+this._sh/2]},n.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},n.prototype.dataToRect=function(e,t){var i=this.dataToPoint(e,t);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},n.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,i=Math.floor((e[1]-this._rect.y)/this._sh)+1,o=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,t-1,o):this._getDateByWeeksAndDay(t,i-1,o)},n.prototype.convertToPixel=function(e,t,i){var o=jB(t);return o===this?o.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){var o=jB(t);return o===this?o.pointToData(i):null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(pt(e)&&1===e.length&&(e=e[0]),pt(e))t=e;else{var i=e.toString();if(/^\d{4}$/.test(i)&&(t=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var o=this.getDateInfo(i),a=o.date;a.setMonth(a.getMonth()+1);var l=this.getNextNDay(a,-1);t=[o.formatedDate,l.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(t=[i,i])}if(!t)return e;var u=this._getRangeInfo(t);return u.start.time>u.end.time&&t.reverse(),t},n.prototype._getRangeInfo=function(e){var i,t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];t[0].time>t[1].time&&(i=!0,t.reverse());var o=Math.floor(t[1].time/gI)-Math.floor(t[0].time/gI)+1,a=new Date(t[0].time),l=a.getDate(),u=t[1].date.getDate();a.setDate(l+o-1);var d=a.getDate();if(d!==u)for(var p=a.getTime()-t[1].time>0?1:-1;(d=a.getDate())!==u&&(a.getTime()-t[1].time)*p>0;)o-=p,a.setDate(d-p);var g=Math.floor((o+t[0].day+6)/7),m=i?1-g:g-1;return i&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:o,weeks:g,nthWeek:m,fweek:t[0].day,lweek:t[1].day}},n.prototype._getDateByWeeksAndDay=function(e,t,i){var o=this._getRangeInfo(i);if(e>o.weeks||0===e&&t<o.fweek||e===o.weeks&&t>o.lweek)return null;var a=7*(e-1)-o.fweek+t,l=new Date(o.start.time);return l.setDate(+o.start.d+a),this.getDateInfo(l)},n.create=function(e,t){var i=[];return e.eachComponent("calendar",function(o){var a=new n(o,e,t);i.push(a),o.coordinateSystem=a}),e.eachSeries(function(o){"calendar"===o.get("coordinateSystem")&&(o.coordinateSystem=i[o.get("calendarIndex")||0])}),i},n.dimensions=["time","value"],n}();function jB(n){var e=n.calendarModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem:null}const VW=OW;function GB(n,e){var t;return V(e,function(i){null!=n[i]&&"auto"!==n[i]&&(t=!0)}),t}var UB=["transition","enterFrom","leaveTo"],GW=UB.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function yC(n,e,t){if(t&&(!n[t]&&e[t]&&(n[t]={}),n=n[t],e=e[t]),n&&e)for(var i=t?UB:GW,o=0;o<i.length;o++){var a=i[o];null==n[a]&&null!=e[a]&&(n[a]=e[a])}}var WW=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return tt(e,n),e.prototype.mergeOption=function(t,i){var o=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,t,i),this.option.elements=o},e.prototype.optionUpdated=function(t,i){var o=this.option,a=(i?o:t).elements,l=o.elements=i?[]:o.elements,u=[];this._flatten(a,u,null);var d=um(l,u,"normalMerge"),p=this._elOptionsToUpdate=[];V(d,function(g,m){var b=g.newOption;!b||(p.push(b),function(n,e){var t=n.existing;if(e.id=n.keyInfo.id,!e.type&&t&&(e.type=t.type),null==e.parentId){var i=e.parentOption;i?e.parentId=i.id:t&&(e.parentId=t.parentId)}e.parentOption=null}(g,b),function(n,e,t){var i=st({},t),o=n[e],a=t.$action||"merge";"merge"===a?o?(Pt(o,i,!0),es(o,i,{ignoreSize:!0}),ek(t,o),yC(t,o),yC(t,o,"shape"),yC(t,o,"style"),yC(t,o,"extra"),t.clipPath=o.clipPath):n[e]=i:"replace"===a?n[e]=i:"remove"===a&&o&&(n[e]=null)}(l,m,b),function(n,e){if(n&&(n.hv=e.hv=[GB(e,["left","right"]),GB(e,["top","bottom"])],"group"===n.type)){var t=n,i=e;null==t.width&&(t.width=i.width=0),null==t.height&&(t.height=i.height=0)}}(l[m],b))},this),o.elements=Le(l,function(g){return g&&delete g.$action,null!=g})},e.prototype._flatten=function(t,i,o){V(t,function(a){if(a){o&&(a.parentOption=o),i.push(a);var l=a.children;l&&l.length&&this._flatten(l,i,a),delete a.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(be),WB={path:null,compoundPath:null,group:Vt,image:or,text:ge},Fo=ye(),YW=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.init=function(){this._elMap=Tt()},e.prototype.render=function(t,i,o){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,o)},e.prototype._updateElements=function(t){var i=t.useElOptionsToUpdate();if(i){var o=this._elMap,a=this.group,l=t.get("z"),u=t.get("zlevel");V(i,function(d){var p=mn(d.id,null),g=null!=p?o.get(p):null,m=mn(d.parentId,null),b=null!=m?o.get(m):a,w=d.type,k=d.style;"text"===w&&k&&d.hv&&d.hv[1]&&(k.textVerticalAlign=k.textBaseline=k.verticalAlign=k.align=null);var C=d.textContent,x=d.textConfig;if(k&&ZN(k,w,!!x,!!C)){var T=$N(k,w,!0);!x&&T.textConfig&&(x=d.textConfig=T.textConfig),!C&&T.textContent&&(C=T.textContent)}var M=function(n){return n=st({},n),V(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Xm),function(e){delete n[e]}),n}(d),I=d.$action||"merge",L="merge"===I,N="replace"===I;if(L){var B=g;(R=!g)?B=YB(p,b,d.type,o):(B&&(Fo(B).isNew=!1),oB(B)),B&&(uC(B,M,t,{isInit:R}),qB(B,d,l,u))}else if(N){bC(g,d,o,t);var O=YB(p,b,d.type,o);O&&(uC(O,M,t,{isInit:!0}),qB(O,d,l,u))}else"remove"===I&&(eB(g,d),bC(g,d,o,t));var F=o.get(p);if(F&&C)if(L){var H=F.getTextContent();H?H.attr(C):F.setTextContent(new ge(C))}else N&&F.setTextContent(new ge(C));if(F){var j=d.clipPath;if(j){var q=j.type,Z=void 0,R=!1;if(L){var K=F.getClipPath();Z=(R=!K||Fo(K).type!==q)?vI(q):K}else N&&(R=!0,Z=vI(q));F.setClipPath(Z),uC(Z,j,t,{isInit:R}),hC(Z,j.keyframeAnimation,t)}var Q=Fo(F);F.setTextConfig(x),Q.option=d,function(n,e,t){var i=jt(n).eventData;!n.silent&&!n.ignore&&!i&&(i=jt(n).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:n.name}),i&&(i.info=t.info)}(F,t,d),qc({el:F,componentModel:t,itemName:F.name,itemTooltipOption:d.tooltip}),hC(F,d.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,i){for(var o=t.option.elements,a=this.group,l=this._elMap,u=i.getWidth(),d=i.getHeight(),p=["x","y"],g=0;g<o.length;g++)if((w=null!=(b=mn((m=o[g]).id,null))?l.get(b):null)&&w.isGroup){var C=(k=w.parent)===a,x=Fo(w),T=Fo(k);x.width=_t(x.option.width,C?u:T.width)||0,x.height=_t(x.option.height,C?d:T.height)||0}for(g=o.length-1;g>=0;g--){var m,b,w;if(w=null!=(b=mn((m=o[g]).id,null))?l.get(b):null){T=Fo(k=w.parent);var k,I={},L=Sd(w,m,k===a?{width:u,height:d}:{width:T.width,height:T.height},null,{hv:m.hv,boundingMode:m.bounding},I);if(!Fo(w).isNew&&L){for(var N=m.transition,R={},B=0;B<p.length;B++){var O=p[B],F=I[O];N&&(yh(N)||qt(N,O)>=0)?R[O]=F:w[O]=F}ke(w,R,t,0)}else w.attr(I)}}},e.prototype._clear=function(){var t=this,i=this._elMap;i.each(function(o){bC(o,Fo(o).option,i,t._lastGraphicModel)}),this._elMap=Tt()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(nn);function vI(n){var t=new(xt(WB,n)?WB[n]:Zp(n))({});return Fo(t).type=n,t}function YB(n,e,t,i){var o=vI(t);return e.add(o),i.set(n,o),Fo(o).id=n,Fo(o).isNew=!0,o}function bC(n,e,t,i){n&&n.parent&&("group"===n.type&&n.traverse(function(a){bC(a,e,t,i)}),dC(n,e,i),t.removeKey(Fo(n).id))}function qB(n,e,t,i){n.isGroup||V([["cursor",Rn.prototype.cursor],["zlevel",i||0],["z",t||0],["z2",0]],function(o){var a=o[0];xt(e,a)?n[a]=Kt(e[a],o[1]):null==n[a]&&(n[a]=o[1])}),V(le(e),function(o){if(0===o.indexOf("on")){var a=e[o];n[o]=Mt(a)?a:null}}),xt(e,"draggable")&&(n.draggable=e.draggable),null!=e.name&&(n.name=e.name),null!=e.id&&(n.id=e.id)}var ZB=["x","y","radius","angle","single"],KW=["cartesian2d","polar","singleAxis"];function yu(n){return n+"Axis"}function $B(n){var e=n.ecModel,t={infoList:[],infoMap:Tt()};return n.eachTargetAxis(function(i,o){var a=e.getComponent(yu(i),o);if(a){var l=a.getCoordSysModel();if(l){var u=l.uid,d=t.infoMap.get(u);d||(t.infoList.push(d={model:l,axisModels:[]}),t.infoMap.set(u,d)),d.axisModels.push(a)}}}),t}var mI=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},n}(),JW=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return tt(e,n),e.prototype.init=function(t,i,o){var a=KB(t);this.settledOption=a,this.mergeDefaultAndTheme(t,o),this._doInit(a)},e.prototype.mergeOption=function(t){var i=KB(t);Pt(this.option,t,!0),Pt(this.settledOption,i,!0),this._doInit(i)},e.prototype._doInit=function(t){var i=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var o=this.settledOption;V([["start","startValue"],["end","endValue"]],function(a,l){"value"===this._rangePropMode[l]&&(i[a[0]]=o[a[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),i=this._targetAxisInfoMap=Tt();this._fillSpecifiedTargetAxis(i)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(i,this._orient)),this._noTarget=!0,i.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var i=!1;return V(ZB,function(o){var a=this.getReferringComponents(yu(o),rS);if(a.specified){i=!0;var l=new mI;V(a.models,function(u){l.add(u.componentIndex)}),t.set(o,l)}},this),i},e.prototype._fillAutoTargetAxisByOrient=function(t,i){var o=this.ecModel,a=!0;if(a){var l="vertical"===i?"y":"x";d(o.findComponents({mainType:l+"Axis"}),l)}function d(p,g){var m=p[0];if(m){var b=new mI;if(b.add(m.componentIndex),t.set(g,b),a=!1,"x"===g||"y"===g){var w=m.getReferringComponents("grid",Sn).models[0];w&&V(p,function(k){m.componentIndex!==k.componentIndex&&w===k.getReferringComponents("grid",Sn).models[0]&&b.add(k.componentIndex)})}}}a&&d(o.findComponents({mainType:"singleAxis",filter:function(g){return g.get("orient",!0)===i}}),"single"),a&&V(ZB,function(p){if(a){var g=o.findComponents({mainType:yu(p),filter:function(b){return"category"===b.get("type",!0)}});if(g[0]){var m=new mI;m.add(g[0].componentIndex),t.set(p,m),a=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(i){!t&&(t=i)},this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var i=this.ecModel.option;this.option.throttle=i.animation&&i.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var i=this._rangePropMode,o=this.get("rangeMode");V([["start","startValue"],["end","endValue"]],function(a,l){var u=null!=t[a[0]],d=null!=t[a[1]];u&&!d?i[l]="percent":!u&&d?i[l]="value":o?i[l]=o[l]:u&&(i[l]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(i,o){null==t&&(t=this.ecModel.getComponent(yu(i),o))},this),t},e.prototype.eachTargetAxis=function(t,i){this._targetAxisInfoMap.each(function(o,a){V(o.indexList,function(l){t.call(i,a,l)})})},e.prototype.getAxisProxy=function(t,i){var o=this.getAxisModel(t,i);if(o)return o.__dzAxisProxy},e.prototype.getAxisModel=function(t,i){var o=this._targetAxisInfoMap.get(t);if(o&&o.indexMap[i])return this.ecModel.getComponent(yu(t),i)},e.prototype.setRawRange=function(t){var i=this.option,o=this.settledOption;V([["start","startValue"],["end","endValue"]],function(a){(null!=t[a[0]]||null!=t[a[1]])&&(i[a[0]]=o[a[0]]=t[a[0]],i[a[1]]=o[a[1]]=t[a[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var i=this.option;V(["start","startValue","end","endValue"],function(o){i[o]=t[o]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,i){if(null!=t||null!=i)return this.getAxisProxy(t,i).getDataValueWindow();var o=this.findRepresentativeAxisProxy();return o?o.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var i,o=this._targetAxisInfoMap.keys(),a=0;a<o.length;a++)for(var l=o[a],u=this._targetAxisInfoMap.get(l),d=0;d<u.indexList.length;d++){var p=this.getAxisProxy(l,u.indexList[d]);if(p.hostedBy(this))return p;i||(i=p)}return i},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(be);function KB(n){var e={};return V(["start","end","startValue","endValue","throttle"],function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}const Mb=JW;var tY=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.type="dataZoom.select",e}(Mb);const eY=tY;var nY=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.render=function(t,i,o,a){this.dataZoomModel=t,this.ecModel=i,this.api=o},e.type="dataZoom",e}(nn);const yI=nY;var rY=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.type="dataZoom.select",e}(yI);const iY=rY;var Gg=V,XB=lt,oY=function(){function n(e,t,i,o){this._dimName=e,this._axisIndex=t,this.ecModel=o,this._dataZoomModel=i}return n.prototype.hostedBy=function(e){return this._dataZoomModel===e},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(function(n){var e=n.get("coordinateSystem");return qt(KW,e)>=0}(t)){var i=yu(this._dimName),o=t.getReferringComponents(i,Sn).models[0];o&&this._axisIndex===o.componentIndex&&e.push(t)}},this),e},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return Lt(this._minMaxSpan)},n.prototype.calculateDataWindow=function(e){var p,t=this._dataExtent,o=this.getAxisModel().axis.scale,a=this._dataZoomModel.getRangePropMode(),l=[0,100],u=[],d=[];Gg(["start","end"],function(b,w){var k=e[b],C=e[b+"Value"];"percent"===a[w]?(null==k&&(k=l[w]),C=o.parse(Ie(k,l,t))):(p=!0,k=Ie(C=null==C?t[w]:o.parse(C),t,l)),d[w]=null==C||isNaN(C)?t[w]:C,u[w]=null==k||isNaN(k)?l[w]:k}),XB(d),XB(u);var g=this._minMaxSpan;function m(b,w,k,C,x){var T=x?"Span":"ValueSpan";gh(0,b,k,"all",g["min"+T],g["max"+T]);for(var M=0;M<2;M++)w[M]=Ie(b[M],k,C,!0),x&&(w[M]=o.parse(w[M]))}return p?m(d,u,t,l,!1):m(u,d,l,t,!0),{valueWindow:d,percentWindow:u}},n.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function(n,e,t){var i=[1/0,-1/0];Gg(t,function(l){!function(n,e,t){e&&V(jA(e,t),function(i){var o=e.getApproximateExtent(i);o[0]<n[0]&&(n[0]=o[0]),o[1]>n[1]&&(n[1]=o[1])})}(i,l.getData(),e)});var o=n.getAxisModel(),a=DP(o.axis.scale,o,i).calculate();return[a.min,a.max]}(this,this._dimName,t),this._updateMinMaxSpan();var i=this.calculateDataWindow(e.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var i=this._dimName,o=this.getTargetSeriesModels(),a=e.get("filterMode"),l=this._valueWindow;"none"!==a&&Gg(o,function(d){var p=d.getData(),g=p.mapDimensionsAll(i);if(g.length){if("weakFilter"===a){var m=p.getStore(),b=gt(g,function(w){return p.getDimensionIndex(w)},p);p.filterSelf(function(w){for(var k,C,x,T=0;T<g.length;T++){var M=m.get(b[T],w),I=!isNaN(M),L=M<l[0],N=M>l[1];if(I&&!L&&!N)return!0;I&&(x=!0),L&&(k=!0),N&&(C=!0)}return x&&k&&C})}else Gg(g,function(w){if("empty"===a)d.setData(p=p.map(w,function(C){return function(d){return d>=l[0]&&d<=l[1]}(C)?C:NaN}));else{var k={};k[w]=l,p.selectRange(k)}});Gg(g,function(w){p.setApproximateExtent(l,w)})}})}},n.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,i=this._dataExtent;Gg(["min","max"],function(o){var a=t.get(o+"Span"),l=t.get(o+"ValueSpan");null!=l&&(l=this.getAxisModel().axis.scale.parse(l)),null!=l?a=Ie(i[0]+l,i,[0,100],!0):null!=a&&(l=Ie(a,[0,100],i,!0)-i[0]),e[o+"Span"]=a,e[o+"ValueSpan"]=l},this)},n.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,i=this._valueWindow;if(t){var o=Qu(i,[0,500]);o=Math.min(o,20);var a=e.axis.scale.rawExtentInfo;0!==t[0]&&a.setDeterminedMinMax("min",+i[0].toFixed(o)),100!==t[1]&&a.setDeterminedMinMax("max",+i[1].toFixed(o)),a.freeze()}},n}();const sY=oY;var lY={getTargetSeries:function(n){function e(o){n.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(l,u){var d=n.getComponent(yu(l),u);o(l,u,d,a)})})}e(function(o,a,l,u){l.__dzAxisProxy=null});var t=[];e(function(o,a,l,u){l.__dzAxisProxy||(l.__dzAxisProxy=new sY(o,a,u,n),t.push(l.__dzAxisProxy))});var i=Tt();return V(t,function(o){V(o.getTargetSeriesModels(),function(a){i.set(a.uid,a)})}),i},overallReset:function(n,e){n.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(i,o){t.getAxisProxy(i,o).reset(t)}),t.eachTargetAxis(function(i,o){t.getAxisProxy(i,o).filterData(t,e)})}),n.eachComponent("dataZoom",function(t){var i=t.findRepresentativeAxisProxy();if(i){var o=i.getDataPercentWindow(),a=i.getDataValueWindow();t.setCalculatedRange({start:o[0],end:o[1],startValue:a[0],endValue:a[1]})}})}};const cY=lY;var QB=!1;function bI(n){QB||(QB=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,cY),function(n){n.registerAction("dataZoom",function(e,t){V(function(n,e){var a,t=Tt(),i=[],o=Tt();n.eachComponent({mainType:"dataZoom",query:e},function(g){o.get(g.uid)||u(g)});do{a=!1,n.eachComponent("dataZoom",l)}while(a);function l(g){!o.get(g.uid)&&function(g){var m=!1;return g.eachTargetAxis(function(b,w){var k=t.get(b);k&&k[w]&&(m=!0)}),m}(g)&&(u(g),a=!0)}function u(g){o.set(g.uid,!0),i.push(g),function(g){g.eachTargetAxis(function(m,b){(t.get(m)||t.set(m,[]))[b]=!0})}(g)}return i}(t,e),function(o){o.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function dY(n){n.registerComponentModel(eY),n.registerComponentView(iY),bI(n)}var Ho=function(){},JB={};function Ug(n,e){JB[n]=e}function tz(n){return JB[n]}var hY=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;V(this.option.feature,function(i,o){var a=tz(o);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(t)),Pt(i,a.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(be);const fY=hY;function ez(n,e){var t=rl(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),new Xt({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1})}var gY=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.prototype.render=function(t,i,o,a){var l=this.group;if(l.removeAll(),t.get("show")){var u=+t.get("itemSize"),d="vertical"===t.get("orient"),p=t.get("feature")||{},g=this._features||(this._features={}),m=[];V(p,function(k,C){m.push(C)}),new Tl(this._featureNames||[],m).add(b).update(b).remove(Gt(b,null)).execute(),this._featureNames=m,function(n,e,t){var i=e.getBoxLayoutParams(),o=e.get("padding"),a={width:t.getWidth(),height:t.getHeight()},l=Bn(i,a,o);ol(e.get("orient"),n,e.get("itemGap"),l.width,l.height),Sd(n,i,a,o)}(l,t,o),l.add(ez(l.getBoundingRect(),t)),d||l.eachChild(function(k){var C=k.__title,x=k.ensureState("emphasis"),T=x.textConfig||(x.textConfig={}),M=k.getTextContent(),I=M&&M.ensureState("emphasis");if(I&&!Mt(I)&&C){var L=I.style||(I.style={}),N=oc(C,ge.makeFont(L)),R=k.x+l.x,O=!1;k.y+l.y+u+N.height>o.getHeight()&&(T.position="top",O=!0);var F=O?-5-N.height:u+10;R+N.width/2>o.getWidth()?(T.position=["100%",F],L.align="right"):R-N.width/2<0&&(T.position=[0,F],L.align="left")}})}function b(k,C){var L,x=m[k],T=m[C],M=p[x],I=new Ye(M,t,t.ecModel);if(a&&null!=a.newTitle&&a.featureName===x&&(M.title=a.newTitle),x&&!T){if(function(n){return 0===n.indexOf("my")}(x))L={onclick:I.option.onclick,featureName:x};else{var N=tz(x);if(!N)return;L=new N}g[x]=L}else if(!(L=g[T]))return;L.uid=xc("toolbox-feature"),L.model=I,L.ecModel=i,L.api=o;var R=L instanceof Ho;x||!T?!I.get("show")||R&&L.unusable?R&&L.remove&&L.remove(i,o):(function(k,C,x){var N,R,T=k.getModel("iconStyle"),M=k.getModel(["emphasis","iconStyle"]),I=C instanceof Ho&&C.getIcons?C.getIcons():k.get("icon"),L=k.get("title")||{};At(I)?(N={})[x]=I:N=I,At(L)?(R={})[x]=L:R=L;var B=k.iconPaths={};V(N,function(O,F){var H=Hd(O,{},{x:-u/2,y:-u/2,width:u,height:u});H.setStyle(T.getItemStyle()),H.ensureState("emphasis").style=M.getItemStyle();var q=new ge({style:{text:R[F],align:M.get("textAlign"),borderRadius:M.get("textBorderRadius"),padding:M.get("textPadding"),fill:null},ignore:!0});H.setTextContent(q),qc({el:H,componentModel:t,itemName:F,formatterParamsExtra:{title:R[F]}}),H.__title=R[F],H.on("mouseover",function(){var Z=M.getItemStyle(),K=d?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";q.setStyle({fill:M.get("textFill")||Z.fill||Z.stroke||"#000",backgroundColor:M.get("textBackgroundColor")}),H.setTextConfig({position:M.get("textPosition")||K}),q.ignore=!t.get("showTitle"),o.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==k.get(["iconStatus",F])&&o.leaveEmphasis(this),q.hide()}),("emphasis"===k.get(["iconStatus",F])?sa:vi)(H),l.add(H),H.on("click",Ct(C.onclick,C,i,o,F)),B[F]=H})}(I,L,x),I.setIconStatus=function(B,O){var F=this.option,H=this.iconPaths;F.iconStatus=F.iconStatus||{},F.iconStatus[B]=O,H[B]&&("emphasis"===O?sa:vi)(H[B])},L instanceof Ho&&L.render&&L.render(I,i,o,a)):R&&L.dispose&&L.dispose(i,o)}},e.prototype.updateView=function(t,i,o,a){V(this._features,function(l){l instanceof Ho&&l.updateView&&l.updateView(l.model,i,o,a)})},e.prototype.remove=function(t,i){V(this._features,function(o){o instanceof Ho&&o.remove&&o.remove(t,i)}),this.group.removeAll()},e.prototype.dispose=function(t,i){V(this._features,function(o){o instanceof Ho&&o.dispose&&o.dispose(t,i)})},e.type="toolbox",e}(nn);const mY=gY;var yY=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.prototype.onclick=function(t,i){var o=this.model,a=o.get("name")||t.get("title.0.text")||"echarts",l="svg"===i.getZr().painter.getType(),u=l?"svg":o.get("type",!0)||"png",d=i.getConnectedDataURL({type:u,backgroundColor:o.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:o.get("connectedBackgroundColor"),excludeComponents:o.get("excludeComponents"),pixelRatio:o.get("pixelRatio")}),p=de.browser;if(Mt(MouseEvent)&&(p.newEdge||!p.ie&&!p.edge)){var g=document.createElement("a");g.download=a+"."+u,g.target="_blank",g.href=d;var m=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});g.dispatchEvent(m)}else if(window.navigator.msSaveOrOpenBlob||l){var b=d.split(","),w=b[0].indexOf("base64")>-1,k=l?decodeURIComponent(b[1]):b[1];w&&(k=window.atob(k));var C=a+"."+u;if(window.navigator.msSaveOrOpenBlob){for(var x=k.length,T=new Uint8Array(x);x--;)T[x]=k.charCodeAt(x);var M=new Blob([T]);window.navigator.msSaveOrOpenBlob(M,C)}else{var I=document.createElement("iframe");document.body.appendChild(I);var L=I.contentWindow,N=L.document;N.open("image/svg+xml","replace"),N.write(k),N.close(),L.focus(),N.execCommand("SaveAs",!0,C),document.body.removeChild(I)}}else{var R=o.get("lang"),B='<body style="margin:0;"><img src="'+d+'" style="max-width:100%;" title="'+(R&&R[0]||"")+'" /></body>',O=window.open();O.document.write(B),O.document.title=a}},e.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},e}(Ho);const bY=yY;var nz="__ec_magicType_stack__",wY=[["line","bar"],["stack"]],_Y=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.prototype.getIcons=function(){var t=this.model,i=t.get("icon"),o={};return V(t.get("type"),function(a){i[a]&&(o[a]=i[a])}),o},e.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},e.prototype.onclick=function(t,i,o){var a=this.model,l=a.get(["seriesIndex",o]);if(rz[o]){var u={series:[]};V(wY,function(m){qt(m,o)>=0&&V(m,function(b){a.setIconStatus(b,"normal")})}),a.setIconStatus(o,"emphasis"),t.eachComponent({mainType:"series",query:null==l?null:{seriesIndex:l}},function(m){var k=rz[o](m.subType,m.id,m,a);k&&(Et(k,m.option),u.series.push(k));var C=m.coordinateSystem;if(C&&"cartesian2d"===C.type&&("line"===o||"bar"===o)){var x=C.getAxesByScale("ordinal")[0];if(x){var M=x.dim+"Axis",L=m.getReferringComponents(M,Sn).models[0].componentIndex;u[M]=u[M]||[];for(var N=0;N<=L;N++)u[M][L]=u[M][L]||{};u[M][L].boundaryGap="bar"===o}}});var p,g=o;"stack"===o&&(p=Pt({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),"emphasis"!==a.get(["iconStatus",o])&&(g="tiled")),i.dispatchAction({type:"changeMagicType",currentType:g,newOption:u,newTitle:p,featureName:"magicType"})}},e}(Ho),rz={line:function(n,e,t,i){if("bar"===n)return Pt({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(n,e,t,i){if("line"===n)return Pt({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(n,e,t,i){var o=t.get("stack")===nz;if("line"===n||"bar"===n)return i.setIconStatus("stack",o?"normal":"emphasis"),Pt({id:e,stack:o?"":nz},i.get(["option","stack"])||{},!0)}};ao({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,e){e.mergeOption(n.newOption)});const kY=_Y;var wC=new Array(60).join("-");function CY(n){var e=[];return V(n,function(t,i){var o=t.categoryAxis,l=t.valueAxis.dim,u=[" "].concat(gt(t.series,function(w){return w.name})),d=[o.model.getCategories()];V(t.series,function(w){var k=w.getRawData();d.push(w.getRawData().mapArray(k.mapDimension(l),function(C){return C}))});for(var p=[u.join("\t")],g=0;g<d[0].length;g++){for(var m=[],b=0;b<d.length;b++)m.push(d[b][g]);p.push(m.join("\t"))}e.push(p.join("\n"))}),e.join("\n\n"+wC+"\n\n")}function xY(n){return gt(n,function(e){var t=e.getRawData(),i=[e.name],o=[];return t.each(t.dimensions,function(){for(var a=arguments.length,l=arguments[a-1],u=t.getName(l),d=0;d<a-1;d++)o[d]=arguments[d];i.push((u?u+"\t":"")+o.join("\t"))}),i.join("\n")}).join("\n\n"+wC+"\n\n")}function _C(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var wI=new RegExp("[\t]+","g");var EY=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.prototype.onclick=function(t,i){setTimeout(function(){i.dispatchAction({type:"hideTip"})});var o=i.getDom(),a=this.model;this._dom&&o.removeChild(this._dom);var l=document.createElement("div");l.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",l.style.backgroundColor=a.get("backgroundColor")||"#fff";var u=document.createElement("h4"),d=a.get("lang")||[];u.innerHTML=d[0]||a.get("title"),u.style.cssText="margin:10px 20px",u.style.color=a.get("textColor");var p=document.createElement("div"),g=document.createElement("textarea");p.style.cssText="overflow:auto";var m=a.get("optionToContent"),b=a.get("contentToOption"),w=function(n){var e=function(n){var e={},t=[],i=[];return n.eachRawSeries(function(o){var a=o.coordinateSystem;if(!a||"cartesian2d"!==a.type&&"polar"!==a.type)t.push(o);else{var l=a.getBaseAxis();if("category"===l.type){var u=l.dim+"_"+l.index;e[u]||(e[u]={categoryAxis:l,valueAxis:a.getOtherAxis(l),series:[]},i.push({axisDim:l.dim,axisIndex:l.index})),e[u].series.push(o)}else t.push(o)}}),{seriesGroupByCategoryAxis:e,other:t,meta:i}}(n);return{value:Le([CY(e.seriesGroupByCategoryAxis),xY(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join("\n\n"+wC+"\n\n"),meta:e.meta}}(t);if(Mt(m)){var k=m(i.getOption());At(k)?p.innerHTML=k:_s(k)&&p.appendChild(k)}else{g.readOnly=a.get("readOnly");var C=g.style;C.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",C.color=a.get("textColor"),C.borderColor=a.get("textareaBorderColor"),C.backgroundColor=a.get("textareaColor"),g.value=w.value,p.appendChild(g)}var x=w.meta,T=document.createElement("div");T.style.cssText="position:absolute;bottom:5px;left:0;right:0";var M="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",I=document.createElement("div"),L=document.createElement("div");M+=";background-color:"+a.get("buttonColor"),M+=";color:"+a.get("buttonTextColor");var N=this;function R(){o.removeChild(l),N._dom=null}Yt(I,"click",R),Yt(L,"click",function(){if(null==b&&null!=m||null!=b&&null==m)R();else{var B;try{B=Mt(b)?b(p,i.getOption()):function(n,e){var t=n.split(new RegExp("\n*"+wC+"\n*","g")),i={series:[]};return V(t,function(o,a){if(function(n){if(n.slice(0,n.indexOf("\n")).indexOf("\t")>=0)return!0}(o)){var l=function(n){for(var e=n.split(/\n+/g),i=[],o=gt(_C(e.shift()).split(wI),function(d){return{name:d,data:[]}}),a=0;a<e.length;a++){var l=_C(e[a]).split(wI);i.push(l.shift());for(var u=0;u<l.length;u++)o[u]&&(o[u].data[a]=l[u])}return{series:o,categories:i}}(o),u=e[a],d=u.axisDim+"Axis";u&&(i[d]=i[d]||[],i[d][u.axisIndex]={data:l.categories},i.series=i.series.concat(l.series))}else l=function(n){for(var e=n.split(/\n+/g),t=_C(e.shift()),i=[],o=0;o<e.length;o++){var a=_C(e[o]);if(a){var l=a.split(wI),u="",d=void 0,p=!1;isNaN(l[0])?(p=!0,u=l[0],l=l.slice(1),i[o]={name:u,value:[]},d=i[o].value):d=i[o]=[];for(var g=0;g<l.length;g++)d.push(+l[g]);1===d.length&&(p?i[o].value=d[0]:i[o]=d[0])}}return{name:t,data:i}}(o),i.series.push(l)}),i}(g.value,x)}catch(O){throw R(),new Error("Data view format error "+O)}B&&i.dispatchAction({type:"changeDataView",newOption:B}),R()}}),I.innerHTML=d[1],L.innerHTML=d[2],L.style.cssText=I.style.cssText=M,!a.get("readOnly")&&T.appendChild(L),T.appendChild(I),l.appendChild(u),l.appendChild(p),l.appendChild(T),p.style.height=o.clientHeight-80+"px",o.appendChild(l),this._dom=l},e.prototype.remove=function(t,i){this._dom&&i.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,i){this.remove(t,i)},e.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},e}(Ho);function LY(n,e){return gt(n,function(t,i){var o=e&&e[i];if(Rt(o)&&!pt(o)){Rt(t)&&!pt(t)||(t={value:t});var l=null!=o.name&&null==t.name;return t=Et(t,o),l&&delete t.name,t}return t})}ao({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,e){var t=[];V(n.newOption.series,function(i){var o=e.getSeriesByName(i.name)[0];if(o){var a=o.get("data");t.push({name:i.name,data:LY(i.data,a)})}else t.push(st({type:"scatter"},i))}),e.mergeOption(Et({series:t},n.newOption))});const PY=EY;var iz=V,oz=ye();function _I(n){var e=oz(n);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var OY=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.prototype.onclick=function(t,i){(function(n){oz(n).snapshots=null})(t),i.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},e}(Ho);ao({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,e){e.resetOption("recreate")});const VY=OY;var FY=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],HY=function(){function n(e,t,i){var o=this;this._targetInfoList=[];var a=az(t,e);V(jY,function(l,u){(!i||!i.include||qt(i.include,u)>=0)&&l(a,o._targetInfoList)})}return n.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(i,o,a){if((i.coordRanges||(i.coordRanges=[])).push(o),!i.coordRange){i.coordRange=o;var l=AI[i.brushType](0,a,o);i.__rangeOffset={offset:uz[i.brushType](l.values,i.range,[1,1]),xyMinMax:l.xyMinMax}}}),e},n.prototype.matchOutputRanges=function(e,t,i){V(e,function(o){var a=this.findTargetInfo(o,t);a&&!0!==a&&V(a.coordSyses,function(l){var u=AI[o.brushType](1,l,o.range,!0);i(o,u.values,l,t)})},this)},n.prototype.setInputRanges=function(e,t){V(e,function(i){var o=this.findTargetInfo(i,t);if(i.range=i.range||[],o&&!0!==o){i.panelId=o.panelId;var a=AI[i.brushType](0,o.coordSys,i.coordRange),l=i.__rangeOffset;i.range=l?uz[i.brushType](a.values,l.offset,function(n,e){var t=hz(n),i=hz(e),o=[t[0]/i[0],t[1]/i[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}(a.xyMinMax,l.xyMinMax)):a.values}},this)},n.prototype.makePanelOpts=function(e,t){return gt(this._targetInfoList,function(i){var o=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:t?t(i):null,clipPath:cN(o),isTargetByCursor:dN(o,e,i.coordSysModel),getLinearBrushOtherExtent:uN(o)}})},n.prototype.controlSeries=function(e,t,i){var o=this.findTargetInfo(e,i);return!0===o||o&&qt(o.coordSyses,t.coordinateSystem)>=0},n.prototype.findTargetInfo=function(e,t){for(var i=this._targetInfoList,o=az(t,e),a=0;a<i.length;a++){var l=i[a],u=e.panelId;if(u){if(l.panelId===u)return l}else for(var d=0;d<sz.length;d++)if(sz[d](o,l))return l}return!0},n}();function kI(n){return n[0]>n[1]&&n.reverse(),n}function az(n,e){return ed(n,e,{includeMainTypes:FY})}var jY={grid:function(n,e){var t=n.xAxisModels,i=n.yAxisModels,o=n.gridModels,a=Tt(),l={},u={};!t&&!i&&!o||(V(t,function(d){var p=d.axis.grid.model;a.set(p.id,p),l[p.id]=!0}),V(i,function(d){var p=d.axis.grid.model;a.set(p.id,p),u[p.id]=!0}),V(o,function(d){a.set(d.id,d),l[d.id]=!0,u[d.id]=!0}),a.each(function(d){var g=[];V(d.coordinateSystem.getCartesians(),function(m,b){(qt(t,m.getAxis("x").model)>=0||qt(i,m.getAxis("y").model)>=0)&&g.push(m)}),e.push({panelId:"grid--"+d.id,gridModel:d,coordSysModel:d,coordSys:g[0],coordSyses:g,getPanelRect:lz.grid,xAxisDeclared:l[d.id],yAxisDeclared:u[d.id]})}))},geo:function(n,e){V(n.geoModels,function(t){var i=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:lz.geo})})}},sz=[function(n,e){var t=n.xAxisModel,i=n.yAxisModel,o=n.gridModel;return!o&&t&&(o=t.axis.grid.model),!o&&i&&(o=i.axis.grid.model),o&&o===e.gridModel},function(n,e){var t=n.geoModel;return t&&t===e.geoModel}],lz={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,e=n.getBoundingRect().clone();return e.applyTransform(bl(n)),e}},AI={lineX:Gt(cz,0),lineY:Gt(cz,1),rect:function(n,e,t,i){var o=n?e.pointToData([t[0][0],t[1][0]],i):e.dataToPoint([t[0][0],t[1][0]],i),a=n?e.pointToData([t[0][1],t[1][1]],i):e.dataToPoint([t[0][1],t[1][1]],i),l=[kI([o[0],a[0]]),kI([o[1],a[1]])];return{values:l,xyMinMax:l}},polygon:function(n,e,t,i){var o=[[1/0,-1/0],[1/0,-1/0]];return{values:gt(t,function(l){var u=n?e.pointToData(l,i):e.dataToPoint(l,i);return o[0][0]=Math.min(o[0][0],u[0]),o[1][0]=Math.min(o[1][0],u[1]),o[0][1]=Math.max(o[0][1],u[0]),o[1][1]=Math.max(o[1][1],u[1]),u}),xyMinMax:o}}};function cz(n,e,t,i){var o=t.getAxis(["x","y"][n]),a=kI(gt([0,1],function(u){return e?o.coordToData(o.toLocalCoord(i[u]),!0):o.toGlobalCoord(o.dataToCoord(i[u]))})),l=[];return l[n]=a,l[1-n]=[NaN,NaN],{values:a,xyMinMax:l}}var uz={lineX:Gt(dz,0),lineY:Gt(dz,1),rect:function(n,e,t){return[[n[0][0]-t[0]*e[0][0],n[0][1]-t[0]*e[0][1]],[n[1][0]-t[1]*e[1][0],n[1][1]-t[1]*e[1][1]]]},polygon:function(n,e,t){return gt(n,function(i,o){return[i[0]-t[0]*e[o][0],i[1]-t[1]*e[o][1]]})}};function dz(n,e,t,i){return[e[0]-i[n]*t[0],e[1]-i[n]*t[1]]}function hz(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}const CI=HY;var xI=V,WY=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.prototype.render=function(t,i,o,a){this._brushController||(this._brushController=new LM(o.getZr()),this._brushController.on("brush",Ct(this._onBrush,this)).mount()),function(n,e,t,i,o){var a=t._isZoomActive;i&&"takeGlobalCursor"===i.type&&(a="dataZoomSelect"===i.key&&i.dataZoomSelectActive),t._isZoomActive=a,n.setIconStatus("zoom",a?"emphasis":"normal");var u=new CI(SI(n),e,{include:["grid"]}).makePanelOpts(o,function(d){return d.xAxisDeclared&&!d.yAxisDeclared?"lineX":!d.xAxisDeclared&&d.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(u).enableBrush(!(!a||!u.length)&&{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()})}(t,i,this,a,o),function(n,e){n.setIconStatus("back",function(n){return _I(n).length}(e)>1?"emphasis":"normal")}(t,i)},e.prototype.onclick=function(t,i,o){YY[o].call(this)},e.prototype.remove=function(t,i){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,i){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var i=t.areas;if(t.isEnd&&i.length){var o={},a=this.ecModel;this._brushController.updateCovers([]),new CI(SI(this.model),a,{include:["grid"]}).matchOutputRanges(i,a,function(p,g,m){if("cartesian2d"===m.type){var b=p.brushType;"rect"===b?(u("x",m,g[0]),u("y",m,g[1])):u({lineX:"x",lineY:"y"}[b],m,g)}}),function(n,e){var t=_I(n);iz(e,function(i,o){for(var a=t.length-1;a>=0&&!t[a][o];a--);if(a<0){var u=n.queryComponents({mainType:"dataZoom",subType:"select",id:o})[0];if(u){var d=u.getPercentRange();t[0][o]={dataZoomId:o,start:d[0],end:d[1]}}}}),t.push(e)}(a,o),this._dispatchZoomAction(o)}function u(p,g,m){var b=g.getAxis(p),w=b.model,k=function(p,g,m){var b;return m.eachComponent({mainType:"dataZoom",subType:"select"},function(w){w.getAxisModel(p,g.componentIndex)&&(b=w)}),b}(p,w,a),C=k.findRepresentativeAxisProxy(w).getMinMaxSpan();(null!=C.minValueSpan||null!=C.maxValueSpan)&&(m=gh(0,m.slice(),b.scale.getExtent(),0,C.minValueSpan,C.maxValueSpan)),k&&(o[k.id]={dataZoomId:k.id,startValue:m[0],endValue:m[1]})}},e.prototype._dispatchZoomAction=function(t){var i=[];xI(t,function(o,a){i.push(Lt(o))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},e.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},e}(Ho),YY={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(n){var e=_I(n),t=e[e.length-1];e.length>1&&e.pop();var i={};return iz(t,function(o,a){for(var l=e.length-1;l>=0;l--)if(o=e[l][a]){i[a]=o;break}}),i}(this.ecModel))}};function SI(n){var e={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}!function(n,e){hr(null==ny.get(n)&&e),ny.set(n,e)}("dataZoom",function(n){var e=n.getComponent("toolbox",0),t=["feature","dataZoom"];if(e&&null!=e.get(t)){var i=e.getModel(t),o=[],l=ed(n,SI(i));return xI(l.xAxisModels,function(d){return u(d,"xAxis","xAxisIndex")}),xI(l.yAxisModels,function(d){return u(d,"yAxis","yAxisIndex")}),o}function u(d,p,g){var m=d.componentIndex,b={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:"\0_ec_\0toolbox-dataZoom_"+p+m};b[g]=m,o.push(b)}});const $Y=WY;var XY=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(be);const QY=XY;function fz(n){var e=n.get("confine");return null!=e?!!e:"richText"===n.get("renderMode")}function pz(n){if(de.domSupported)for(var e=document.documentElement.style,t=0,i=n.length;t<i;t++)if(n[t]in e)return n[t]}var gz=pz(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function vz(n,e){if(!n)return e;e=Km(e,!0);var t=n.indexOf(e);return(n=-1===t?e:"-"+n.slice(0,t)+"-"+e).toLowerCase()}var eq=vz(pz(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),TI=vz(gz,"transform"),nq="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(de.transform3dSupported?"will-change:transform;":"");function mz(n,e,t){var i=n.toFixed(0)+"px",o=e.toFixed(0)+"px";if(!de.transformSupported)return t?"top:"+o+";left:"+i+";":[["top",o],["left",i]];var a=de.transform3dSupported,l="translate"+(a?"3d":"")+"("+i+","+o+(a?",0":"")+")";return t?"top:0;left:0;"+TI+":"+l+";":[["top",0],["left",0],[gz,l]]}function yz(n,e,t,i,o){var a=e&&e.painter;if(t){var l=a&&a.getViewportRoot();l&&function(n,e,t,i,o){Uh(Gh,e,i,o,!0)&&Uh(n,t,Gh[0],Gh[1])}(n,l,document.body,i,o)}else{n[0]=i,n[1]=o;var u=a&&a.getViewportRootOffset();u&&(n[0]+=u.offsetLeft,n[1]+=u.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var lq=function(){function n(e,t,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,de.wxa)return null;var o=document.createElement("div");o.domBelongToZr=!0,this.el=o;var a=this._zr=t.getZr(),l=this._appendToBody=i&&i.appendToBody;yz(this._styleCoord,a,l,t.getWidth()/2,t.getHeight()/2),l?document.body.appendChild(o):e.appendChild(o),this._container=e;var u=this;o.onmouseenter=function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0},o.onmousemove=function(d){if(d=d||window.event,!u._enterable){var p=a.handler;Ge(a.painter.getViewportRoot(),d,!0),p.dispatch("mousemove",d)}},o.onmouseleave=function(){u._inContent=!1,u._enterable&&u._show&&u.hideLater(u._hideDelay)}}return n.prototype.update=function(e){var t=this._container,i=function(n,e){var t=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return t?t[e]:null}(t,"position"),o=t.style;"absolute"!==o.position&&"absolute"!==i&&(o.position="relative"),e.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,o=i.style,a=this._styleCoord;i.innerHTML?o.cssText=nq+function(n,e,t){var i=[],o=n.get("transitionDuration"),a=n.get("backgroundColor"),l=n.get("shadowBlur"),u=n.get("shadowColor"),d=n.get("shadowOffsetX"),p=n.get("shadowOffsetY"),g=n.getModel("textStyle"),m=$k(n,"html");return i.push("box-shadow:"+d+"px "+p+"px "+l+"px "+u),e&&o&&i.push(function(n,e){var t="cubic-bezier(0.23,1,0.32,1)",i=" "+n/2+"s "+t,o="opacity"+i+",visibility"+i;return e||(i=" "+n+"s "+t,o+=de.transformSupported?","+TI+i:",left"+i+",top"+i),eq+":"+o}(o,t)),a&&i.push("background-color:"+a),V(["width","color","radius"],function(w){var k="border-"+w,C=Km(k),x=n.get(C);null!=x&&i.push(k+":"+x+("color"===w?"":"px"))}),i.push(function(n){var e=[],t=n.get("fontSize"),i=n.getTextColor();i&&e.push("color:"+i),e.push("font:"+n.getFont()),t&&e.push("line-height:"+Math.round(3*t/2)+"px");var o=n.get("textShadowColor"),a=n.get("textShadowBlur")||0,l=n.get("textShadowOffsetX")||0,u=n.get("textShadowOffsetY")||0;return o&&a&&e.push("text-shadow:"+l+"px "+u+"px "+a+"px "+o),V(["decoration","align"],function(d){var p=n.get(d);p&&e.push("text-"+d+":"+p)}),e.join(";")}(g)),null!=m&&i.push("padding:"+rl(m).join("px ")+"px"),i.join(";")+";"}(e,!this._firstShow,this._longHide)+mz(a[0],a[1],!0)+"border-color:"+ts(t)+";"+(e.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):o.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,i,o,a){var l=this.el;if(null!=e){var u="";if(At(a)&&"item"===i.get("trigger")&&!fz(i)&&(u=function(n,e,t){if(!At(t)||"inside"===t)return"";var i=n.get("backgroundColor"),o=n.get("borderWidth");e=ts(e);var p,a=function(n){return"left"===n?"right":"right"===n?"left":"top"===n?"bottom":"top"}(t),l=Math.max(1.5*Math.round(o),6),u="",d=TI+":";qt(["left","right"],a)>-1?(u+="top:50%",d+="translateY(-50%) rotate("+(p="left"===a?-225:-45)+"deg)"):(u+="left:50%",d+="translateX(-50%) rotate("+(p="top"===a?225:45)+"deg)");var g=p*Math.PI/180,m=l+o,b=m*Math.abs(Math.cos(g))+m*Math.abs(Math.sin(g)),k=e+" solid "+o+"px;";return'<div style="'+["position:absolute;width:"+l+"px;height:"+l+"px;z-index:-1;",(u+=";"+a+":-"+Math.round(100*((b-Math.SQRT2*o)/2+Math.SQRT2*o-(b-m)/2))/100+"px")+";"+d+";","border-bottom:"+k,"border-right:"+k,"background-color:"+i+";"].join("")+'"></div>'}(i,o,a)),At(e))l.innerHTML=e+u;else if(e){l.innerHTML="",pt(e)||(e=[e]);for(var d=0;d<e.length;d++)_s(e[d])&&e[d].parentNode!==l&&l.appendChild(e[d]);if(u&&l.childNodes.length){var p=document.createElement("div");p.innerHTML=u,l.appendChild(p)}}}else l.innerHTML=""},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},n.prototype.moveTo=function(e,t){var i=this._styleCoord;if(yz(i,this._zr,this._appendToBody,e,t),null!=i[0]&&null!=i[1]){var o=this.el.style;V(mz(i[0],i[1]),function(l){o[l[0]]=l[1]})}},n.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",de.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){this._show&&(!this._inContent||!this._enterable)&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ct(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}();const cq=lq;var uq=function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=e.getZr(),wz(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){e.get("alwaysShowContent")&&this._moveIfResized()},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,i,o,a){var l=this;Rt(e)&&Me(""),this.el&&this._zr.remove(this.el);var u=i.getModel("textStyle");this.el=new ge({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:o,textShadowColor:u.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:$k(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),V(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(p){l.el.style[p]=i.get(p)}),V(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(p){l.el.style[p]=u.get(p)||0}),this._zr.add(this.el);var d=this;this.el.on("mouseover",function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0}),this.el.on("mouseout",function(){d._enterable&&d._show&&d.hideLater(d._hideDelay),d._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),i=bz(e.style);return[t.width+i.left+i.right,t.height+i.top+i.bottom]},n.prototype.moveTo=function(e,t){var i=this.el;if(i){var o=this._styleCoord;wz(o,this._zr,e,t),e=o[0],t=o[1];var a=i.style,l=bu(a.borderWidth||0),u=bz(a);i.x=e+l+u.left,i.y=t+l+u.top,i.markRedraw()}},n.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){this._show&&(!this._inContent||!this._enterable)&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ct(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function bu(n){return Math.max(0,n)}function bz(n){var e=bu(n.shadowBlur||0),t=bu(n.shadowOffsetX||0),i=bu(n.shadowOffsetY||0);return{left:bu(e-t),right:bu(e+t),top:bu(e-i),bottom:bu(e+i)}}function wz(n,e,t,i){n[0]=t,n[1]=i,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}const dq=uq;var hq=new Xt({shape:{x:-1,y:-1,width:2,height:2}}),fq=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.init=function(t,i){if(!de.node&&i.getDom()){var o=t.getComponent("tooltip"),a=this._renderMode=function(n){return"auto"===n?de.domSupported?"html":"richText":n||"html"}(o.get("renderMode"));this._tooltipContent="richText"===a?new dq(i):new cq(i.getDom(),i,{appendToBody:o.get("appendToBody",!0)})}},e.prototype.render=function(t,i,o){if(!de.node&&o.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=i,this._api=o,this._alwaysShowContent=t.get("alwaysShowContent");var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?wl(this,"_updatePosition",50,"fixRate"):jd(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var i=this._tooltipModel.get("triggerOn");xB("itemTooltip",this._api,Ct(function(o,a,l){"none"!==i&&(i.indexOf(o)>=0?this._tryShow(a,l):"leave"===o&&this._hide(l))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,i=this._ecModel,o=this._api,a=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==a&&"click"!==a){var l=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!o.isDisposed()&&l.manuallyShowTip(t,i,o,{x:l._lastX,y:l._lastY,dataByCoordSys:l._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,i,o,a){if(a.from!==this.uid&&!de.node&&o.getDom()){var l=_z(a,o);this._ticket="";var u=a.dataByCoordSys,d=function(n,e,t){var i=dm(n).queryOptionMap,o=i.keys()[0];if(o&&"series"!==o){var d,l=nd(e,o,i.get(o),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(l&&(t.getViewOfComponentModel(l).group.traverse(function(p){var g=jt(p).tooltipConfig;if(g&&g.name===n.name)return d=p,!0}),d))return{componentMainType:o,componentIndex:l.componentIndex,el:d}}}(a,i,o);if(d){var p=d.el.getBoundingRect().clone();p.applyTransform(d.el.transform),this._tryShow({offsetX:p.x+p.width/2,offsetY:p.y+p.height/2,target:d.el,position:a.position,positionDefault:"bottom"},l)}else if(a.tooltip&&null!=a.x&&null!=a.y){var g=hq;g.x=a.x,g.y=a.y,g.update(),jt(g).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:g},l)}else if(u)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:u,tooltipOption:a.tooltipOption},l);else if(null!=a.seriesIndex){if(this._manuallyAxisShowTip(t,i,o,a))return;var m=TB(a,i),b=m.point[0],w=m.point[1];null!=b&&null!=w&&this._tryShow({offsetX:b,offsetY:w,target:m.el,position:a.position,positionDefault:"bottom"},l)}else null!=a.x&&null!=a.y&&(o.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:o.getZr().findHover(a.x,a.y).target},l))}},e.prototype.manuallyHideTip=function(t,i,o,a){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(_z(a,o))},e.prototype._manuallyAxisShowTip=function(t,i,o,a){var l=a.seriesIndex,u=a.dataIndex,d=i.getComponent("axisPointer").coordSysAxesInfo;if(null!=l&&null!=u&&null!=d){var p=i.getSeriesByIndex(l);if(p&&"axis"===Ib([p.getData().getItemModel(u),p,(p.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return o.dispatchAction({type:"updateAxisPointer",seriesIndex:l,dataIndex:u,position:a.position}),!0}},e.prototype._tryShow=function(t,i){var o=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var l=t.dataByCoordSys;if(l&&l.length)this._showAxisTooltip(l,t);else if(o){var u,d;this._lastDataByCoordSys=null,Lr(o,function(p){return null!=jt(p).dataIndex?(u=p,!0):null!=jt(p).tooltipConfig?(d=p,!0):void 0},!0),u?this._showSeriesItemTooltip(t,u,i):d?this._showComponentItemTooltip(t,d,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},e.prototype._showOrMove=function(t,i){var o=t.get("showDelay");i=Ct(i,this),clearTimeout(this._showTimout),o>0?this._showTimout=setTimeout(i,o):i()},e.prototype._showAxisTooltip=function(t,i){var o=this._ecModel,a=this._tooltipModel,l=[i.offsetX,i.offsetY],u=Ib([i.tooltipOption],a),d=this._renderMode,p=[],g=Mn("section",{blocks:[],noHeader:!0}),m=[],b=new Ip;V(t,function(M){V(M.dataByAxis,function(I){var L=o.getComponent(I.axisDim+"Axis",I.axisIndex),N=I.value;if(L&&null!=N){var R=bB(N,L.axis,o,I.seriesDataIndices,I.valueLabelOpt),B=Mn("section",{header:R,noHeader:!Si(R),sortBlocks:!0,blocks:[]});g.blocks.push(B),V(I.seriesDataIndices,function(O){var F=o.getSeriesByIndex(O.seriesIndex),H=O.dataIndexInside,j=F.getDataParams(H);if(!(j.dataIndex<0)){j.axisDim=I.axisDim,j.axisIndex=I.axisIndex,j.axisType=I.axisType,j.axisId=I.axisId,j.axisValue=yD(L.axis,{value:N}),j.axisValueLabel=R,j.marker=b.makeTooltipMarker("item",ts(j.color),d);var q=wy(F.formatTooltip(H,!0,null)),Z=q.frag;if(Z){var K=Ib([F],a).get("valueFormatter");B.blocks.push(K?st({valueFormatter:K},Z):Z)}q.text&&m.push(q.text),p.push(j)}})}})}),g.blocks.reverse(),m.reverse();var w=i.position,k=u.get("order"),C=Uk(g,b,d,k,o.get("useUTC"),u.get("textStyle"));C&&m.unshift(C);var T=m.join("richText"===d?"\n\n":"<br/>");this._showOrMove(u,function(){this._updateContentNotChangedOnAxis(t,p)?this._updatePosition(u,w,l[0],l[1],this._tooltipContent,p):this._showTooltipContent(u,T,p,Math.random()+"",l[0],l[1],w,null,b)})},e.prototype._showSeriesItemTooltip=function(t,i,o){var a=this._ecModel,l=jt(i),u=l.seriesIndex,d=a.getSeriesByIndex(u),p=l.dataModel||d,g=l.dataIndex,m=l.dataType,b=p.getData(m),w=this._renderMode,k=t.positionDefault,C=Ib([b.getItemModel(g),p,d&&(d.coordinateSystem||{}).model],this._tooltipModel,k?{position:k}:null),x=C.get("trigger");if(null==x||"item"===x){var T=p.getDataParams(g,m),M=new Ip;T.marker=M.makeTooltipMarker("item",ts(T.color),w);var I=wy(p.formatTooltip(g,!1,m)),L=C.get("order"),N=C.get("valueFormatter"),R=I.frag,B=R?Uk(N?st({valueFormatter:N},R):R,M,w,L,a.get("useUTC"),C.get("textStyle")):I.text,O="item_"+p.name+"_"+g;this._showOrMove(C,function(){this._showTooltipContent(C,B,T,O,t.offsetX,t.offsetY,t.position,t.target,M)}),o({type:"showTip",dataIndexInside:g,dataIndex:b.getRawIndex(g),seriesIndex:u,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,i,o){var a=jt(i),u=a.tooltipConfig.option||{};At(u)&&(u={content:u,formatter:u});var p=[u],g=this._ecModel.getComponent(a.componentMainType,a.componentIndex);g&&p.push(g),p.push({formatter:u.content});var m=t.positionDefault,b=Ib(p,this._tooltipModel,m?{position:m}:null),w=b.get("content"),k=Math.random()+"",C=new Ip;this._showOrMove(b,function(){var x=Lt(b.get("formatterParams")||{});this._showTooltipContent(b,w,x,k,t.offsetX,t.offsetY,t.position,i,C)}),o({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,i,o,a,l,u,d,p,g){if(this._ticket="",t.get("showContent")&&t.get("show")){var m=this._tooltipContent;m.setEnterable(t.get("enterable"));var b=t.get("formatter");d=d||t.get("position");var w=i,C=this._getNearestPoint([l,u],o,t.get("trigger"),t.get("borderColor")).color;if(b)if(At(b)){var x=t.ecModel.get("useUTC"),T=pt(o)?o[0]:o;w=b,T&&T.axisType&&T.axisType.indexOf("time")>=0&&(w=tn(T.axisValue,w,x)),w=X_(w,o,!0)}else if(Mt(b)){var I=Ct(function(L,N){L===this._ticket&&(m.setContent(N,g,t,C,d),this._updatePosition(t,d,l,u,m,o,p))},this);this._ticket=a,w=b(o,a,I)}else w=b;m.setContent(w,g,t,C,d),m.show(t,C),this._updatePosition(t,d,l,u,m,o,p)}},e.prototype._getNearestPoint=function(t,i,o,a){return"axis"===o||pt(i)?{color:a||("html"===this._renderMode?"#fff":"none")}:pt(i)?void 0:{color:a||i.color||i.borderColor}},e.prototype._updatePosition=function(t,i,o,a,l,u,d){var p=this._api.getWidth(),g=this._api.getHeight();i=i||t.get("position");var m=l.getSize(),b=t.get("align"),w=t.get("verticalAlign"),k=d&&d.getBoundingRect().clone();if(d&&k.applyTransform(d.transform),Mt(i)&&(i=i([o,a],u,l.el,k,{viewSize:[p,g],contentSize:m.slice()})),pt(i))o=_t(i[0],p),a=_t(i[1],g);else if(Rt(i)){var C=i;C.width=m[0],C.height=m[1];var x=Bn(C,{width:p,height:g});o=x.x,a=x.y,b=null,w=null}else if(At(i)&&d){var T=function(n,e,t,i){var o=t[0],a=t[1],l=Math.ceil(Math.SQRT2*i)+8,u=0,d=0,p=e.width,g=e.height;switch(n){case"inside":u=e.x+p/2-o/2,d=e.y+g/2-a/2;break;case"top":u=e.x+p/2-o/2,d=e.y-a-l;break;case"bottom":u=e.x+p/2-o/2,d=e.y+g+l;break;case"left":u=e.x-o-l,d=e.y+g/2-a/2;break;case"right":u=e.x+p+l,d=e.y+g/2-a/2}return[u,d]}(i,k,m,t.get("borderWidth"));o=T[0],a=T[1]}else T=function(n,e,t,i,o,a,l){var u=t.getSize(),d=u[0],p=u[1];return null!=a&&(n+d+a+2>i?n-=d+a:n+=a),null!=l&&(e+p+l>o?e-=p+l:e+=l),[n,e]}(o,a,l,p,g,b?null:20,w?null:20),o=T[0],a=T[1];b&&(o-=kz(b)?m[0]/2:"right"===b?m[0]:0),w&&(a-=kz(w)?m[1]/2:"bottom"===w?m[1]:0),fz(t)&&(T=function(n,e,t,i,o){var a=t.getSize(),l=a[0],u=a[1];return n=Math.min(n+l,i)-l,e=Math.min(e+u,o)-u,[n=Math.max(n,0),e=Math.max(e,0)]}(o,a,l,p,g),o=T[0],a=T[1]),l.moveTo(o,a)},e.prototype._updateContentNotChangedOnAxis=function(t,i){var o=this._lastDataByCoordSys,a=this._cbParamsList,l=!!o&&o.length===t.length;return l&&V(o,function(u,d){var p=u.dataByAxis||[],m=(t[d]||{}).dataByAxis||[];(l=l&&p.length===m.length)&&V(p,function(b,w){var k=m[w]||{},C=b.seriesDataIndices||[],x=k.seriesDataIndices||[];(l=l&&b.value===k.value&&b.axisType===k.axisType&&b.axisId===k.axisId&&C.length===x.length)&&V(C,function(T,M){var I=x[M];l=l&&T.seriesIndex===I.seriesIndex&&T.dataIndex===I.dataIndex}),a&&V(b.seriesDataIndices,function(T){var M=T.seriesIndex,I=i[M],L=a[M];I&&L&&L.data!==I.data&&(l=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=i,!!l},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,i){de.node||!i.getDom()||(jd(this,"_updatePosition"),this._tooltipContent.dispose(),lI("itemTooltip",i))},e.type="tooltip",e}(nn);function Ib(n,e,t){var o,i=e.ecModel;t?(o=new Ye(t,i,i),o=new Ye(e.option,o,i)):o=e;for(var a=n.length-1;a>=0;a--){var l=n[a];l&&(l instanceof Ye&&(l=l.get("tooltip",!0)),At(l)&&(l={formatter:l}),l&&(o=new Ye(l,o,i)))}return o}function _z(n,e){return n.dispatchAction||Ct(e.dispatchAction,e)}function kz(n){return"center"===n||"middle"===n}const yq=fq;var wq=["rect","polygon","keep","clear"];function _q(n,e){var t=De(n?n.brush:[]);if(t.length){var i=[];V(t,function(d){var p=d.hasOwnProperty("toolbox")?d.toolbox:[];p instanceof Array&&(i=i.concat(p))});var o=n&&n.toolbox;pt(o)&&(o=o[0]),o||(n.toolbox=[o={feature:{}}]);var a=o.feature||(o.feature={}),l=a.brush||(a.brush={}),u=l.type||(l.type=[]);u.push.apply(u,i),function(n){var e={};V(n,function(t){e[t]=1}),n.length=0,V(e,function(t,i){n.push(i)})}(u),e&&!u.length&&u.push.apply(u,wq)}}var Az=V;function Cz(n){if(n)for(var e in n)if(n.hasOwnProperty(e))return!0}function DI(n,e,t){var i={};return Az(e,function(a){var l=i[a]=function(){var a=function(){};return a.prototype.__hidden=a.prototype,new a}();Az(n[a],function(u,d){if(Br.isValidType(d)){var p={type:d,visual:u};t&&t(p,a),l[d]=new Br(p),"opacity"===d&&((p=Lt(p)).type="colorAlpha",l.__hidden.__alphaForOpacity=new Br(p))}})}),i}function xz(n,e,t){var i;V(t,function(o){e.hasOwnProperty(o)&&Cz(e[o])&&(i=!0)}),i&&V(t,function(o){e.hasOwnProperty(o)&&Cz(e[o])?n[o]=Lt(e[o]):delete n[o]})}var Sz={lineX:Tz(0),lineY:Tz(1),rect:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])},rect:function(n,e,t){return n&&t.boundingRect.intersect(n)}},polygon:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])&&ch(t.range,n[0],n[1])},rect:function(n,e,t){var i=t.range;if(!n||i.length<=1)return!1;var o=n.x,a=n.y,l=n.width,u=n.height,d=i[0];return!!(ch(i,o,a)||ch(i,o+l,a)||ch(i,o,a+u)||ch(i,o+l,a+u)||$t.create(n).contain(d[0],d[1])||Yc(o,a,o+l,a,i)||Yc(o,a,o,a+u,i)||Yc(o+l,a,o+l,a+u,i)||Yc(o,a+u,o+l,a+u,i))||void 0}}};function Tz(n){var e=["x","y"],t=["width","height"];return{point:function(i,o,a){if(i)return Eb(i[n],a.range)},rect:function(i,o,a){if(i){var l=a.range,u=[i[e[n]],i[e[n]]+i[t[n]]];return u[1]<u[0]&&u.reverse(),Eb(u[0],l)||Eb(u[1],l)||Eb(l[0],u)||Eb(l[1],u)}}}}function Eb(n,e){return e[0]<=n&&n<=e[1]}var Dz=["inBrush","outOfBrush"],MI="__ecBrushSelect",II="__ecInBrushSelectEvent";function Mz(n){n.eachComponent({mainType:"brush"},function(e){(e.brushTargetManager=new CI(e.option,n)).setInputRanges(e.areas,n)})}function Sq(n,e,t){var o,a,i=[];n.eachComponent({mainType:"brush"},function(l){t&&"takeGlobalCursor"===t.type&&l.setBrushOption("brush"===t.key?t.brushOption:{brushType:!1})}),Mz(n),n.eachComponent({mainType:"brush"},function(l,u){var d={brushId:l.id,brushIndex:u,brushName:l.name,areas:Lt(l.areas),selected:[]};i.push(d);var p=l.option,g=p.brushLink,m=[],b=[],w=[],k=!1;u||(o=p.throttleType,a=p.throttleDelay);var C=gt(l.areas,function(N){var R=Iq[N.brushType],B=Et({boundingRect:R?R(N):void 0},N);return B.selectors=function(n){var e=n.brushType,t={point:function(i){return Sz[e].point(i,t,n)},rect:function(i){return Sz[e].rect(i,t,n)}};return t}(B),B}),x=DI(l.option,Dz,function(N){N.mappingMethod="fixed"});function T(N){return"all"===g||!!m[N]}function M(N){return!!N.length}pt(g)&&V(g,function(N){m[N]=1}),n.eachSeries(function(N,R){var B=w[R]=[];"parallel"===N.subType?function(N,R){var B=N.coordinateSystem;k=k||B.hasAxisBrushed(),T(R)&&B.eachActiveState(N.getData(),function(O,F){"active"===O&&(b[F]=1)})}(N,R):function(N,R,B){if(N.brushSelector&&!function(n,e){var t=n.option.seriesIndex;return null!=t&&"all"!==t&&(pt(t)?qt(t,e)<0:e!==t)}(l,R)&&(V(C,function(F){l.brushTargetManager.controlSeries(F,N,n)&&B.push(F),k=k||M(B)}),T(R)&&M(B))){var O=N.getData();O.each(function(F){Iz(N,B,O,F)&&(b[F]=1)})}}(N,R,B)}),n.eachSeries(function(N,R){var B={seriesId:N.id,seriesIndex:R,seriesName:N.name,dataIndex:[]};d.selected.push(B);var O=w[R],F=N.getData(),H=T(R)?function(j){return b[j]?(B.dataIndex.push(F.getRawIndex(j)),"inBrush"):"outOfBrush"}:function(j){return Iz(N,O,F,j)?(B.dataIndex.push(F.getRawIndex(j)),"inBrush"):"outOfBrush"};(T(R)?k:M(O))&&function(n,e,t,i,o,a){var u,l={};function d(m){return d0(t,u,m)}function p(m,b){Ro(t,u,m,b)}function g(m,b){var w=t.getRawDataItem(u=m);if(!w||!1!==w.visualMap)for(var k=i.call(undefined,m),C=e[k],x=l[k],T=0,M=x.length;T<M;T++){var I=x[T];C[I]&&C[I].applyVisual(m,d,p)}}V(n,function(m){var b=Br.prepareVisualTypes(e[m]);l[m]=b}),t.each(g)}(Dz,x,F,H)})}),function(n,e,t,i,o){if(o){var a=n.getZr();a[II]||(a[MI]||(a[MI]=Dq),wl(a,MI,t,e)(n,i))}}(e,o,a,i,t)}function Dq(n,e){if(!n.isDisposed()){var t=n.getZr();t[II]=!0,n.dispatchAction({type:"brushSelect",batch:e}),t[II]=!1}}function Iz(n,e,t,i){for(var o=0,a=e.length;o<a;o++){var l=e[o];if(n.brushSelector(i,t,l.selectors,l))return!0}}var Iq={rect:function(n){return Ez(n.range)},polygon:function(n){for(var e,t=n.range,i=0,o=t.length;i<o;i++){var a=t[i];a[0]<(e=e||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&Ez(e)}};function Ez(n){return new $t(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var Eq=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.init=function(t,i){this.ecModel=t,this.api=i,(this._brushController=new LM(i.getZr())).on("brush",Ct(this._onBrush,this)).mount()},e.prototype.render=function(t,i,o,a){this.model=t,this._updateController(t,i,o,a)},e.prototype.updateTransform=function(t,i,o,a){Mz(i),this._updateController(t,i,o,a)},e.prototype.updateVisual=function(t,i,o,a){this.updateTransform(t,i,o,a)},e.prototype.updateView=function(t,i,o,a){this._updateController(t,i,o,a)},e.prototype._updateController=function(t,i,o,a){(!a||a.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(o)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var i=this.model.id,o=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:Lt(o),$from:i}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:i,areas:Lt(o),$from:i})},e.type="brush",e}(nn);const Lq=Eq;var Rq=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return tt(e,n),e.prototype.optionUpdated=function(t,i){var o=this.option;!i&&xz(o,t,["inBrush","outOfBrush"]);var a=o.inBrush=o.inBrush||{};o.outOfBrush=o.outOfBrush||{color:"#ddd"},a.hasOwnProperty("liftZ")||(a.liftZ=5)},e.prototype.setAreas=function(t){!t||(this.areas=gt(t,function(i){return Lz(this.option,i)},this))},e.prototype.setBrushOption=function(t){this.brushOption=Lz(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(be);function Lz(n,e){return Pt({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new Ye(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},e,!0)}const Nq=Rq;var Bq=["rect","polygon","lineX","lineY","keep","clear"],zq=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return tt(e,n),e.prototype.render=function(t,i,o){var a,l,u;i.eachComponent({mainType:"brush"},function(d){a=d.brushType,l=d.brushOption.brushMode||"single",u=u||!!d.areas.length}),this._brushType=a,this._brushMode=l,V(t.get("type",!0),function(d){t.setIconStatus(d,("keep"===d?"multiple"===l:"clear"===d?u:d===a)?"emphasis":"normal")})},e.prototype.updateView=function(t,i,o){this.render(t,i,o)},e.prototype.getIcons=function(){var t=this.model,i=t.get("icon",!0),o={};return V(t.get("type",!0),function(a){i[a]&&(o[a]=i[a])}),o},e.prototype.onclick=function(t,i,o){var a=this._brushType,l=this._brushMode;"clear"===o?(i.dispatchAction({type:"axisAreaSelect",intervals:[]}),i.dispatchAction({type:"brush",command:"clear",areas:[]})):i.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===o?a:a!==o&&o,brushMode:"keep"===o?"multiple"===l?"single":"multiple":l}})},e.getDefaultOption=function(t){return{show:!0,type:Bq.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])}},e}(Ho);const Oq=zq;var Fq=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return tt(e,n),e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(be),Hq=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.render=function(t,i,o){if(this.group.removeAll(),t.get("show")){var a=this.group,l=t.getModel("textStyle"),u=t.getModel("subtextStyle"),d=t.get("textAlign"),p=Kt(t.get("textBaseline"),t.get("textVerticalAlign")),g=new ge({style:We(l,{text:t.get("text"),fill:l.getTextColor()},{disableBox:!0}),z2:10}),m=g.getBoundingRect(),b=t.get("subtext"),w=new ge({style:We(u,{text:b,fill:u.getTextColor(),y:m.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),k=t.get("link"),C=t.get("sublink"),x=t.get("triggerEvent",!0);g.silent=!k&&!x,w.silent=!C&&!x,k&&g.on("click",function(){Cd(k,"_"+t.get("target"))}),C&&w.on("click",function(){Cd(C,"_"+t.get("subtarget"))}),jt(g).eventData=jt(w).eventData=x?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(g),b&&a.add(w);var T=a.getBoundingRect(),M=t.getBoxLayoutParams();M.width=T.width,M.height=T.height;var I=Bn(M,{width:o.getWidth(),height:o.getHeight()},t.get("padding"));d||("middle"===(d=t.get("left")||t.get("right"))&&(d="center"),"right"===d?I.x+=I.width:"center"===d&&(I.x+=I.width/2)),p||("center"===(p=t.get("top")||t.get("bottom"))&&(p="middle"),"bottom"===p?I.y+=I.height:"middle"===p&&(I.y+=I.height/2),p=p||"top"),a.x=I.x,a.y=I.y,a.markRedraw();var L={align:d,verticalAlign:p};g.setStyle(L),w.setStyle(L),T=a.getBoundingRect();var N=I.margin,R=t.getItemStyle(["color","opacity"]);R.fill=t.get("backgroundColor");var B=new Xt({shape:{x:T.x-N[3],y:T.y-N[0],width:T.width+N[1]+N[3],height:T.height+N[0]+N[2],r:t.get("borderRadius")},style:R,subPixelOptimize:!0,silent:!0});a.add(B)}},e.type="title",e}(nn),Gq=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return tt(e,n),e.prototype.init=function(t,i,o){this.mergeDefaultAndTheme(t,o),this._initData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var i=this._data.count();this.option.loop?t=(t%i+i)%i:(t>=i&&(t=i-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var l,t=this.option,i=t.data||[],o=t.axisType,a=this._names=[];"category"===o?(l=[],V(i,function(p,g){var b,m=mn(Wa(p),"");Rt(p)?(b=Lt(p)).value=g:b=g,l.push(b),a.push(m)})):l=i,(this._data=new ki([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[o]||"number"}],this)).initData(l,a)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(be);const Pz=Gq;var Rz=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.type="timeline.slider",e.defaultOption=Qa(Pz.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(Pz);fn(Rz,by.prototype);const Uq=Rz;var Wq=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.type="timeline",e}(nn);const Yq=Wq;var qq=function(n){function e(t,i,o,a){var l=n.call(this,t,i,o)||this;return l.type=a||"value",l}return tt(e,n),e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},e}(_a);const Zq=qq;var EI=Math.PI,Nz=ye(),$q=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.init=function(t,i){this.api=i},e.prototype.render=function(t,i,o){if(this.model=t,this.api=o,this.ecModel=i,this.group.removeAll(),t.get("show",!0)){var a=this._layout(t,o),l=this._createGroup("_mainGroup"),u=this._createGroup("_labelGroup"),d=this._axis=this._createAxis(a,t);t.formatTooltip=function(p){return Mn("nameValue",{noName:!0,value:d.scale.getLabel({value:p})})},V(["AxisLine","AxisTick","Control","CurrentPointer"],function(p){this["_render"+p](a,l,d,t)},this),this._renderAxisLabel(a,u,d,t),this._position(a,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,i){var u,o=t.get(["label","position"]),a=t.get("orient"),l=function(n,e){return Bn(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},n.get("padding"))}(t,i),d={horizontal:"center",vertical:(u=null==o||"auto"===o?"horizontal"===a?l.y+l.height/2<i.getHeight()/2?"-":"+":l.x+l.width/2<i.getWidth()/2?"+":"-":At(o)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][o]:o)>=0||"+"===u?"left":"right"},p={horizontal:u>=0||"+"===u?"top":"bottom",vertical:"middle"},g={horizontal:0,vertical:EI/2},m="vertical"===a?l.height:l.width,b=t.getModel("controlStyle"),w=b.get("show",!0),k=w?b.get("itemSize"):0,C=w?b.get("itemGap"):0,x=k+C,T=t.get(["label","rotate"])||0;T=T*EI/180;var M,I,L,N=b.get("position",!0),R=w&&b.get("showPlayBtn",!0),B=w&&b.get("showPrevBtn",!0),O=w&&b.get("showNextBtn",!0),F=0,H=m;"left"===N||"bottom"===N?(R&&(M=[0,0],F+=x),B&&(I=[F,0],F+=x),O&&(L=[H-k,0],H-=x)):(R&&(M=[H-k,0],H-=x),B&&(I=[0,0],F+=x),O&&(L=[H-k,0],H-=x));var j=[F,H];return t.get("inverse")&&j.reverse(),{viewRect:l,mainLength:m,orient:a,rotation:g[a],labelRotation:T,labelPosOpt:u,labelAlign:t.get(["label","align"])||d[a],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||p[a],playPosition:M,prevBtnPosition:I,nextBtnPosition:L,axisExtent:j,controlSize:k,controlGap:C}},e.prototype._position=function(t,i){var o=this._mainGroup,a=this._labelGroup,l=t.viewRect;if("vertical"===t.orient){var u=[1,0,0,1,0,0],d=l.x,p=l.y+l.height;jn(u,u,[-d,-p]),fr(u,u,-EI/2),jn(u,u,[d,p]),(l=l.clone()).applyTransform(u)}var g=M(l),m=M(o.getBoundingRect()),b=M(a.getBoundingRect()),w=[o.x,o.y],k=[a.x,a.y];k[0]=w[0]=g[0][0];var x,C=t.labelPosOpt;function T(L){L.originX=g[0][0]-L.x,L.originY=g[1][0]-L.y}function M(L){return[[L.x,L.x+L.width],[L.y,L.y+L.height]]}function I(L,N,R,B,O){L[B]+=R[B][O]-N[B][O]}null==C||At(C)?(I(w,m,g,1,x="+"===C?0:1),I(k,b,g,1,1-x)):(I(w,m,g,1,x=C>=0?0:1),k[1]=w[1]+C),o.setPosition(w),a.setPosition(k),o.rotation=a.rotation=t.rotation,T(o),T(a)},e.prototype._createAxis=function(t,i){var o=i.getData(),a=i.get("axisType"),l=function(n,e){if(e=e||n.get("type"))switch(e){case"category":return new vD({ordinalMeta:n.getCategories(),extent:[1/0,-1/0]});case"time":return new xP({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new hu}}(i,a);l.getTicks=function(){return o.mapArray(["value"],function(p){return{value:p}})};var u=o.getDataExtent("value");l.setExtent(u[0],u[1]),l.calcNiceTicks();var d=new Zq("value",l,t.axisExtent,a);return d.model=i,d},e.prototype._createGroup=function(t){var i=this[t]=new Vt;return this.group.add(i),i},e.prototype._renderAxisLine=function(t,i,o,a){var l=o.getExtent();if(a.get(["lineStyle","show"])){var u=new zn({shape:{x1:l[0],y1:0,x2:l[1],y2:0},style:st({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});i.add(u);var d=this._progressLine=new zn({shape:{x1:l[0],x2:this._currentPointer?this._currentPointer.x:l[0],y1:0,y2:0},style:Et({lineCap:"round",lineWidth:u.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});i.add(d)}},e.prototype._renderAxisTick=function(t,i,o,a){var l=this,u=a.getData(),d=o.scale.getTicks();this._tickSymbols=[],V(d,function(p){var g=o.dataToCoord(p.value),m=u.getItemModel(p.value),b=m.getModel("itemStyle"),w=m.getModel(["emphasis","itemStyle"]),k=m.getModel(["progress","itemStyle"]),C={x:g,y:0,onclick:Ct(l._changeTimeline,l,p.value)},x=Bz(m,b,i,C);x.ensureState("emphasis").style=w.getItemStyle(),x.ensureState("progress").style=k.getItemStyle(),la(x);var T=jt(x);m.get("tooltip")?(T.dataIndex=p.value,T.dataModel=a):T.dataIndex=T.dataModel=null,l._tickSymbols.push(x)})},e.prototype._renderAxisLabel=function(t,i,o,a){var l=this;if(o.getLabelModel().get("show")){var d=a.getData(),p=o.getViewLabels();this._tickLabels=[],V(p,function(g){var m=g.tickValue,b=d.getItemModel(m),w=b.getModel("label"),k=b.getModel(["emphasis","label"]),C=b.getModel(["progress","label"]),x=o.dataToCoord(g.tickValue),T=new ge({x,y:0,rotation:t.labelRotation-t.rotation,onclick:Ct(l._changeTimeline,l,m),silent:!1,style:We(w,{text:g.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});T.ensureState("emphasis").style=We(k),T.ensureState("progress").style=We(C),i.add(T),la(T),Nz(T).dataIndex=m,l._tickLabels.push(T)})}},e.prototype._renderControl=function(t,i,o,a){var l=t.controlSize,u=t.rotation,d=a.getModel("controlStyle").getItemStyle(),p=a.getModel(["emphasis","controlStyle"]).getItemStyle(),g=a.getPlayState(),m=a.get("inverse",!0);function b(w,k,C,x){if(w){var T=Ur(Kt(a.get(["controlStyle",k+"BtnSize"]),l),l),I=function(n,e,t,i){var o=i.style,a=Hd(n.get(["controlStyle",e]),i||{},new $t(t[0],t[1],t[2],t[3]));return o&&a.setStyle(o),a}(a,k+"Icon",[0,-T/2,T,T],{x:w[0],y:w[1],originX:l/2,originY:0,rotation:x?-u:0,rectHover:!0,style:d,onclick:C});I.ensureState("emphasis").style=p,i.add(I),la(I)}}b(t.nextBtnPosition,"next",Ct(this._changeTimeline,this,m?"-":"+")),b(t.prevBtnPosition,"prev",Ct(this._changeTimeline,this,m?"+":"-")),b(t.playPosition,g?"stop":"play",Ct(this._handlePlayClick,this,!g),!0)},e.prototype._renderCurrentPointer=function(t,i,o,a){var l=a.getData(),u=a.getCurrentIndex(),d=l.getItemModel(u).getModel("checkpointStyle"),p=this;this._currentPointer=Bz(d,d,this._mainGroup,{},this._currentPointer,{onCreate:function(m){m.draggable=!0,m.drift=Ct(p._handlePointerDrag,p),m.ondragend=Ct(p._handlePointerDragend,p),zz(m,p._progressLine,u,o,a,!0)},onUpdate:function(m){zz(m,p._progressLine,u,o,a)}})},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,i,o){this._clearTimer(),this._pointerChangeTimeline([o.offsetX,o.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,i){var o=this._toAxisCoord(t)[0],l=lt(this._axis.getExtent().slice());o>l[1]&&(o=l[1]),o<l[0]&&(o=l[0]),this._currentPointer.x=o,this._currentPointer.markRedraw();var u=this._progressLine;u&&(u.shape.x2=o,u.dirty());var d=this._findNearestTick(o),p=this.model;(i||d!==p.getCurrentIndex()&&p.get("realtime"))&&this._changeTimeline(d)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var i=t.model;t._changeTimeline(i.getCurrentIndex()+(i.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){return io(t,this._mainGroup.getLocalTransform(),!0)},e.prototype._findNearestTick=function(t){var a,i=this.model.getData(),o=1/0,l=this._axis;return i.each(["value"],function(u,d){var p=l.dataToCoord(u),g=Math.abs(p-t);g<o&&(o=g,a=d)}),a},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var i=this.model.getCurrentIndex();"+"===t?t=i+1:"-"===t&&(t=i-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),i=this._tickSymbols,o=this._tickLabels;if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",a<t);if(o)for(a=0;a<o.length;a++)o&&o[a]&&o[a].toggleState("progress",Nz(o[a]).dataIndex<=t)},e.type="timeline.slider",e}(Yq);function Bz(n,e,t,i,o,a){var l=e.get("color");o?(o.setColor(l),t.add(o),a&&a.onUpdate(o)):((o=wn(n.get("symbol"),-1,-1,2,2,l)).setStyle("strokeNoScale",!0),t.add(o),a&&a.onCreate(o));var d=e.getItemStyle(["color"]);o.setStyle(d),i=Pt({rectHover:!0,z2:100},i,!0);var p=Xc(n.get("symbolSize"));i.scaleX=p[0]/2,i.scaleY=p[1]/2;var g=Qc(n.get("symbolOffset"),p);g&&(i.x=(i.x||0)+g[0],i.y=(i.y||0)+g[1]);var m=n.get("symbolRotate");return i.rotation=(m||0)*Math.PI/180||0,o.attr(i),o.updateTransform(),o}function zz(n,e,t,i,o,a){if(!n.dragging){var l=o.getModel("checkpointStyle"),u=i.dataToCoord(o.getData().get("value",t));if(a||!l.get("animation",!0))n.attr({x:u,y:0}),e&&e.attr({shape:{x2:u}});else{var d={duration:l.get("animationDuration",!0),easing:l.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:u,y:0},d),e&&e.animateTo({shape:{x2:u}},d)}}}const Jq=$q;function eZ(n){var e=n&&n.timeline;pt(e)||(e=e?[e]:[]),V(e,function(t){!t||function(n){var e=n.type,t={number:"value",time:"time"};if(t[e]&&(n.axisType=t[e],delete n.type),Oz(n),wh(n,"controlPosition")){var i=n.controlStyle||(n.controlStyle={});wh(i,"position")||(i.position=n.controlPosition),"none"===i.position&&!wh(i,"show")&&(i.show=!1,delete i.position),delete n.controlPosition}V(n.data||[],function(o){Rt(o)&&!pt(o)&&(!wh(o,"value")&&wh(o,"name")&&(o.value=o.name),Oz(o))})}(t)})}function Oz(n){var e=n.itemStyle||(n.itemStyle={}),t=e.emphasis||(e.emphasis={}),i=n.label||n.label||{},o=i.normal||(i.normal={}),a={normal:1,emphasis:1};V(i,function(l,u){!a[u]&&!wh(o,u)&&(o[u]=l)}),t.label&&!wh(i,"emphasis")&&(i.emphasis=t.label,delete t.label)}function wh(n,e){return n.hasOwnProperty(e)}function LI(n,e){if(!n)return!1;for(var t=pt(n)?n:[n],i=0;i<t.length;i++)if(t[i]&&t[i][e])return!0;return!1}function kC(n){Ua(n,"label",["show"])}var AC=ye(),Vz=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t}return tt(e,n),e.prototype.init=function(t,i,o){this.mergeDefaultAndTheme(t,o),this._mergeOption(t,o,!1,!0)},e.prototype.isAnimationEnabled=function(){if(de.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,i){this._mergeOption(t,i,!1,!1)},e.prototype._mergeOption=function(t,i,o,a){var l=this.mainType;o||i.eachSeries(function(u){var d=u.get(this.mainType,!0),p=AC(u)[l];d&&d.data?(p?p._mergeOption(d,i,!0):(a&&kC(d),V(d.data,function(g){g instanceof Array?(kC(g[0]),kC(g[1])):kC(g)}),st(p=this.createMarkerModelFromSeries(d,this,i),{mainType:this.mainType,seriesIndex:u.seriesIndex,name:u.name,createdBySelf:!0}),p.__hostSeries=u),AC(u)[l]=p):AC(u)[l]=null},this)},e.prototype.formatTooltip=function(t,i,o){var a=this.getData(),l=this.getRawValue(t),u=a.getName(t);return Mn("section",{header:this.name,blocks:[Mn("nameValue",{name:u,value:l,noName:!u,noValue:null==l})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.getMarkerModelFromSeries=function(t,i){return AC(t)[i]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(be);fn(Vz,by.prototype);const wu=Vz;var iZ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,o){return new e(t,i,o)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(wu);const oZ=iZ;function PI(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function CC(n,e,t,i,o,a){var l=[],d=lu(e,i)?e.getCalculationInfo("stackResultDimension"):i,p=NI(e,d,n),g=e.indicesOfNearest(d,p)[0];l[o]=e.get(t,g),l[a]=e.get(d,g);var m=e.get(i,g),b=Yi(e.get(i,g));return(b=Math.min(b,20))>=0&&(l[a]=+l[a].toFixed(b)),[l,m]}var RI={min:Gt(CC,"min"),max:Gt(CC,"max"),average:Gt(CC,"average"),median:Gt(CC,"median")};function Lb(n,e){if(e){var t=n.getData(),i=n.coordinateSystem,o=i.dimensions;if(!function(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}(e)&&!pt(e.coord)&&i){var a=Fz(e,t,i,n);if((e=Lt(e)).type&&RI[e.type]&&a.baseAxis&&a.valueAxis){var l=qt(o,a.baseAxis.dim),u=qt(o,a.valueAxis.dim),d=RI[e.type](t,a.baseDataDim,a.valueDataDim,l,u);e.coord=d[0],e.value=d[1]}else e.coord=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis]}if(null==e.coord)e.coord=[];else for(var p=e.coord,g=0;g<2;g++)RI[p[g]]&&(p[g]=NI(t,t.mapDimension(o[g]),p[g]));return e}}function Fz(n,e,t,i){var o={};return null!=n.valueIndex||null!=n.valueDim?(o.valueDataDim=null!=n.valueIndex?e.getDimension(n.valueIndex):n.valueDim,o.valueAxis=t.getAxis(function(n,e){var t=n.getData().getDimensionInfo(e);return t&&t.coordDim}(i,o.valueDataDim)),o.baseAxis=t.getOtherAxis(o.valueAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim)):(o.baseAxis=i.getBaseAxis(),o.valueAxis=t.getOtherAxis(o.baseAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim),o.valueDataDim=e.mapDimension(o.valueAxis.dim)),o}function Pb(n,e){return!(n&&n.containData&&e.coord&&!PI(e))||n.containData(e.coord)}function Hz(n,e){return n?function(t,i,o,a){return is(a<2?t.coord&&t.coord[a]:t.value,e[a])}:function(t,i,o,a){return is(t.value,e[a])}}function NI(n,e,t){if("average"===t){var i=0,o=0;return n.each(e,function(a,l){isNaN(a)||(i+=a,o++)}),i/o}return"median"===t?n.getMedian(e):n.getDataExtent(e)["max"===t?1:0]}var BI=ye(),cZ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.init=function(){this.markerGroupMap=Tt()},e.prototype.render=function(t,i,o){var a=this,l=this.markerGroupMap;l.each(function(u){BI(u).keep=!1}),i.eachSeries(function(u){var d=wu.getMarkerModelFromSeries(u,a.type);d&&a.renderSeries(u,d,i,o)}),l.each(function(u){!BI(u).keep&&a.group.remove(u.group)})},e.prototype.markKeep=function(t){BI(t).keep=!0},e.prototype.toggleBlurSeries=function(t,i){var o=this;V(t,function(a){var l=wu.getMarkerModelFromSeries(a,o.type);l&&l.getData().eachItemGraphicEl(function(d){d&&(i?A_(d):Yf(d))})})},e.type="marker",e}(nn);const zI=cZ;function jz(n,e,t){var i=e.coordinateSystem;n.each(function(o){var l,a=n.getItemModel(o),u=_t(a.get("x"),t.getWidth()),d=_t(a.get("y"),t.getHeight());if(isNaN(u)||isNaN(d)){if(e.getMarkerPosition)l=e.getMarkerPosition(n.getValues(n.dimensions,o));else if(i){var p=n.get(i.dimensions[0],o),g=n.get(i.dimensions[1],o);l=i.dataToPoint([p,g])}}else l=[u,d];isNaN(u)||(l[0]=u),isNaN(d)||(l[1]=d),n.setItemLayout(o,l)})}var uZ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.updateTransform=function(t,i,o){i.eachSeries(function(a){var l=wu.getMarkerModelFromSeries(a,"markPoint");l&&(jz(l.getData(),a,o),this.markerGroupMap.get(a.id).updateLayout())},this)},e.prototype.renderSeries=function(t,i,o,a){var l=t.coordinateSystem,u=t.id,d=t.getData(),p=this.markerGroupMap,g=p.get(u)||p.set(u,new nb),m=function(n,e,t){var i;i=n?gt(n&&n.dimensions,function(u){return st(st({},e.getData().getDimensionInfo(e.getData().mapDimension(u))||{}),{name:u,ordinalMeta:null})}):[{name:"value",type:"float"}];var o=new ki(i,t),a=gt(t.get("data"),Gt(Lb,e));n&&(a=Le(a,Gt(Pb,n)));var l=Hz(!!n,i);return o.initData(a,null,l),o}(l,t,i);i.setData(m),jz(i.getData(),t,a),m.each(function(b){var w=m.getItemModel(b),k=w.getShallow("symbol"),C=w.getShallow("symbolSize"),x=w.getShallow("symbolRotate"),T=w.getShallow("symbolOffset"),M=w.getShallow("symbolKeepAspect");if(Mt(k)||Mt(C)||Mt(x)||Mt(T)){var I=i.getRawValue(b),L=i.getDataParams(b);Mt(k)&&(k=k(I,L)),Mt(C)&&(C=C(I,L)),Mt(x)&&(x=x(I,L)),Mt(T)&&(T=T(I,L))}var N=w.getModel("itemStyle").getItemStyle(),R=Kc(d,"color");N.fill||(N.fill=R),m.setItemVisual(b,{symbol:k,symbolSize:C,symbolRotate:x,symbolOffset:T,symbolKeepAspect:M,style:N})}),g.updateData(m),this.group.add(g.group),m.eachItemGraphicEl(function(b){b.traverse(function(w){jt(w).dataModel=i})}),this.markKeep(g),g.group.silent=i.get("silent")||t.get("silent")},e.type="markPoint",e}(zI);const hZ=uZ;var pZ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,o){return new e(t,i,o)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(wu);const gZ=pZ;var xC=ye(),vZ=function(n,e,t,i){var a,o=n.getData();if(pt(i))a=i;else{var l=i.type;if("min"===l||"max"===l||"average"===l||"median"===l||null!=i.xAxis||null!=i.yAxis){var u=void 0,d=void 0;if(null!=i.yAxis||null!=i.xAxis)u=e.getAxis(null!=i.yAxis?"y":"x"),d=pn(i.yAxis,i.xAxis);else{var p=Fz(i,o,e,n);u=p.valueAxis,d=NI(o,SL(o,p.valueDataDim),l)}var m="x"===u.dim?0:1,b=1-m,w=Lt(i),k={coord:[]};w.type=null,w.coord=[],w.coord[b]=-1/0,k.coord[b]=1/0;var C=t.get("precision");C>=0&&_e(d)&&(d=+d.toFixed(Math.min(C,20))),w.coord[m]=k.coord[m]=d,a=[w,k,{type:l,valueIndex:i.valueIndex,value:d}]}else a=[]}var x=[Lb(n,a[0]),Lb(n,a[1]),st({},a[2])];return x[2].type=x[2].type||null,Pt(x[2],x[0]),Pt(x[2],x[1]),x};function SC(n){return!isNaN(n)&&!isFinite(n)}function Gz(n,e,t,i){var o=1-n,a=i.dimensions[n];return SC(e[o])&&SC(t[o])&&e[n]===t[n]&&i.getAxis(a).containData(e[n])}function mZ(n,e){if("cartesian2d"===n.type){var t=e[0].coord,i=e[1].coord;if(t&&i&&(Gz(1,t,i,n)||Gz(0,t,i,n)))return!0}return Pb(n,e[0])&&Pb(n,e[1])}function OI(n,e,t,i,o){var u,a=i.coordinateSystem,l=n.getItemModel(e),d=_t(l.get("x"),o.getWidth()),p=_t(l.get("y"),o.getHeight());if(isNaN(d)||isNaN(p)){if(i.getMarkerPosition)u=i.getMarkerPosition(n.getValues(n.dimensions,e));else{var m=n.get((g=a.dimensions)[0],e),b=n.get(g[1],e);u=a.dataToPoint([m,b])}if(oh(a,"cartesian2d")){var g,w=a.getAxis("x"),k=a.getAxis("y");SC(n.get((g=a.dimensions)[0],e))?u[0]=w.toGlobalCoord(w.getExtent()[t?0:1]):SC(n.get(g[1],e))&&(u[1]=k.toGlobalCoord(k.getExtent()[t?0:1]))}isNaN(d)||(u[0]=d),isNaN(p)||(u[1]=p)}else u=[d,p];n.setItemLayout(e,u)}var yZ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.updateTransform=function(t,i,o){i.eachSeries(function(a){var l=wu.getMarkerModelFromSeries(a,"markLine");if(l){var u=l.getData(),d=xC(l).from,p=xC(l).to;d.each(function(g){OI(d,g,!0,a,o),OI(p,g,!1,a,o)}),u.each(function(g){u.setItemLayout(g,[d.getItemLayout(g),p.getItemLayout(g)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,i,o,a){var l=t.coordinateSystem,u=t.id,d=t.getData(),p=this.markerGroupMap,g=p.get(u)||p.set(u,new hM);this.group.add(g.group);var m=function(n,e,t){var i;i=n?gt(n&&n.dimensions,function(p){return st(st({},e.getData().getDimensionInfo(e.getData().mapDimension(p))||{}),{name:p,ordinalMeta:null})}):[{name:"value",type:"float"}];var o=new ki(i,t),a=new ki(i,t),l=new ki([],t),u=gt(t.get("data"),Gt(vZ,e,n,t));n&&(u=Le(u,Gt(mZ,n)));var d=Hz(!!n,i);return o.initData(gt(u,function(p){return p[0]}),null,d),a.initData(gt(u,function(p){return p[1]}),null,d),l.initData(gt(u,function(p){return p[2]})),l.hasItemOption=!0,{from:o,to:a,line:l}}(l,t,i),b=m.from,w=m.to,k=m.line;xC(i).from=b,xC(i).to=w,i.setData(k);var C=i.get("symbol"),x=i.get("symbolSize"),T=i.get("symbolRotate"),M=i.get("symbolOffset");function I(L,N,R){var B=L.getItemModel(N);OI(L,N,R,t,a);var O=B.getModel("itemStyle").getItemStyle();null==O.fill&&(O.fill=Kc(d,"color")),L.setItemVisual(N,{symbolKeepAspect:B.get("symbolKeepAspect"),symbolOffset:Kt(B.get("symbolOffset",!0),M[R?0:1]),symbolRotate:Kt(B.get("symbolRotate",!0),T[R?0:1]),symbolSize:Kt(B.get("symbolSize"),x[R?0:1]),symbol:Kt(B.get("symbol",!0),C[R?0:1]),style:O})}pt(C)||(C=[C,C]),pt(x)||(x=[x,x]),pt(T)||(T=[T,T]),pt(M)||(M=[M,M]),m.from.each(function(L){I(b,L,!0),I(w,L,!1)}),k.each(function(L){var N=k.getItemModel(L).getModel("lineStyle").getLineStyle();k.setItemLayout(L,[b.getItemLayout(L),w.getItemLayout(L)]),null==N.stroke&&(N.stroke=b.getItemVisual(L,"style").fill),k.setItemVisual(L,{fromSymbolKeepAspect:b.getItemVisual(L,"symbolKeepAspect"),fromSymbolOffset:b.getItemVisual(L,"symbolOffset"),fromSymbolRotate:b.getItemVisual(L,"symbolRotate"),fromSymbolSize:b.getItemVisual(L,"symbolSize"),fromSymbol:b.getItemVisual(L,"symbol"),toSymbolKeepAspect:w.getItemVisual(L,"symbolKeepAspect"),toSymbolOffset:w.getItemVisual(L,"symbolOffset"),toSymbolRotate:w.getItemVisual(L,"symbolRotate"),toSymbolSize:w.getItemVisual(L,"symbolSize"),toSymbol:w.getItemVisual(L,"symbol"),style:N})}),g.updateData(k),m.line.eachItemGraphicEl(function(L){jt(L).dataModel=i,L.traverse(function(N){jt(N).dataModel=i})}),this.markKeep(g),g.group.silent=i.get("silent")||t.get("silent")},e.type="markLine",e}(zI);const wZ=yZ;var kZ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,o){return new e(t,i,o)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(wu);const AZ=kZ;var TC=ye(),CZ=function(n,e,t,i){var o=i[0],a=i[1];if(o&&a){var l=Lb(n,o),u=Lb(n,a),d=l.coord,p=u.coord;d[0]=pn(d[0],-1/0),d[1]=pn(d[1],-1/0),p[0]=pn(p[0],1/0),p[1]=pn(p[1],1/0);var g=iv([{},l,u]);return g.coord=[l.coord,u.coord],g.x0=l.x,g.y0=l.y,g.x1=u.x,g.y1=u.y,g}};function DC(n){return!isNaN(n)&&!isFinite(n)}function Uz(n,e,t,i){var o=1-n;return DC(e[o])&&DC(t[o])}function xZ(n,e){var t=e.coord[0],i=e.coord[1],o={coord:t,x:e.x0,y:e.y0},a={coord:i,x:e.x1,y:e.y1};return oh(n,"cartesian2d")?!(!t||!i||!Uz(1,t,i)&&!Uz(0,t,i))||function(n,e,t){return!(n&&n.containZone&&e.coord&&t.coord&&!PI(e)&&!PI(t))||n.containZone(e.coord,t.coord)}(n,o,a):Pb(n,o)||Pb(n,a)}function Wz(n,e,t,i,o){var u,a=i.coordinateSystem,l=n.getItemModel(e),d=_t(l.get(t[0]),o.getWidth()),p=_t(l.get(t[1]),o.getHeight());if(isNaN(d)||isNaN(p)){if(i.getMarkerPosition){var g=n.getValues(["x0","y0"],e),m=n.getValues(["x1","y1"],e),b=a.clampData(g),w=a.clampData(m),k=[];k[0]="x0"===t[0]?b[0]>w[0]?m[0]:g[0]:b[0]>w[0]?g[0]:m[0],k[1]="y0"===t[1]?b[1]>w[1]?m[1]:g[1]:b[1]>w[1]?g[1]:m[1],u=i.getMarkerPosition(k,t,!0)}else{var T=[C=n.get(t[0],e),x=n.get(t[1],e)];a.clampData&&a.clampData(T,T),u=a.dataToPoint(T,!0)}if(oh(a,"cartesian2d")){var M=a.getAxis("x"),I=a.getAxis("y"),C=n.get(t[0],e),x=n.get(t[1],e);DC(C)?u[0]=M.toGlobalCoord(M.getExtent()["x0"===t[0]?0:1]):DC(x)&&(u[1]=I.toGlobalCoord(I.getExtent()["y0"===t[1]?0:1]))}isNaN(d)||(u[0]=d),isNaN(p)||(u[1]=p)}else u=[d,p];return u}var Yz=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],SZ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.updateTransform=function(t,i,o){i.eachSeries(function(a){var l=wu.getMarkerModelFromSeries(a,"markArea");if(l){var u=l.getData();u.each(function(d){var p=gt(Yz,function(m){return Wz(u,d,m,a,o)});u.setItemLayout(d,p),u.getItemGraphicEl(d).setShape("points",p)})}},this)},e.prototype.renderSeries=function(t,i,o,a){var l=t.coordinateSystem,u=t.id,d=t.getData(),p=this.markerGroupMap,g=p.get(u)||p.set(u,{group:new Vt});this.group.add(g.group),this.markKeep(g);var m=function(n,e,t){var i,o;if(n){var l=gt(n&&n.dimensions,function(p){var g=e.getData();return st(st({},g.getDimensionInfo(g.mapDimension(p))||{}),{name:p,ordinalMeta:null})});o=gt(["x0","y0","x1","y1"],function(p,g){return{name:p,type:l[g%2].type}}),i=new ki(o,t)}else i=new ki(o=[{name:"value",type:"float"}],t);var u=gt(t.get("data"),Gt(CZ,e,n,t));n&&(u=Le(u,Gt(xZ,n)));var d=n?function(p,g,m,b){return is(p.coord[Math.floor(b/2)][b%2],o[b])}:function(p,g,m,b){return is(p.value,o[b])};return i.initData(u,null,d),i.hasItemOption=!0,i}(l,t,i);i.setData(m),m.each(function(b){var w=gt(Yz,function(O){return Wz(m,b,O,t,a)}),k=l.getAxis("x").scale,C=l.getAxis("y").scale,x=k.getExtent(),T=C.getExtent(),M=[k.parse(m.get("x0",b)),k.parse(m.get("x1",b))],I=[C.parse(m.get("y0",b)),C.parse(m.get("y1",b))];lt(M),lt(I),m.setItemLayout(b,{points:w,allClipped:!!(x[0]>M[1]||x[1]<M[0]||T[0]>I[1]||T[1]<I[0])});var R=m.getItemModel(b).getModel("itemStyle").getItemStyle(),B=Kc(d,"color");R.fill||(R.fill=B,At(R.fill)&&(R.fill=Kl(R.fill,.4))),R.stroke||(R.stroke=B),m.setItemVisual(b,"style",R)}),m.diff(TC(g).data).add(function(b){var w=m.getItemLayout(b);if(!w.allClipped){var k=new Qr({shape:{points:w.points}});m.setItemGraphicEl(b,k),g.group.add(k)}}).update(function(b,w){var k=TC(g).data.getItemGraphicEl(w),C=m.getItemLayout(b);C.allClipped?k&&g.group.remove(k):(k?ke(k,{shape:{points:C.points}},i,b):k=new Qr({shape:{points:C.points}}),m.setItemGraphicEl(b,k),g.group.add(k))}).remove(function(b){var w=TC(g).data.getItemGraphicEl(b);g.group.remove(w)}).execute(),m.eachItemGraphicEl(function(b,w){var k=m.getItemModel(w),C=m.getItemVisual(w,"style");b.useStyle(m.getItemVisual(w,"style")),sr(b,Nn(k),{labelFetcher:i,labelDataIndex:w,defaultText:m.getName(w)||"",inheritColor:At(C.fill)?Kl(C.fill,1):"#000"}),ar(b,k),cn(b,null,null,k.get(["emphasis","disabled"])),jt(b).dataModel=i}),TC(g).data=m,g.group.silent=i.get("silent")||t.get("silent")},e.type="markArea",e}(zI);const DZ=SZ;var EZ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return tt(e,n),e.prototype.init=function(t,i,o){this.mergeDefaultAndTheme(t,o),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),this._updateSelector(t)},e.prototype._updateSelector=function(t){var i=t.selector,o=this.ecModel;!0===i&&(i=t.selector=["all","inverse"]),pt(i)&&V(i,function(a,l){At(a)&&(a={type:a}),i[l]=Pt(a,function(n,e){return"all"===e?{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(o,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var i=!1,o=0;o<t.length;o++){var a=t[o].get("name");if(this.isSelected(a)){this.select(a),i=!0;break}}!i&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var i=[],o=[];t.eachRawSeries(function(d){var g;if(o.push(d.name),d.legendVisualProvider){var b=d.legendVisualProvider.getAllNames();t.isSeriesFiltered(d)||(o=o.concat(b)),b.length?i=i.concat(b):g=!0}else g=!0;g&&kf(d)&&i.push(d.name)}),this._availableNames=o;var a=this.get("data")||i,l=Tt(),u=gt(a,function(d){return(At(d)||_e(d))&&(d={name:d}),l.get(d.name)?null:(l.set(d.name,!0),new Ye(d,this,this.ecModel))},this);this._data=Le(u,function(d){return!!d})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var i=this.option.selected;"single"===this.get("selectedMode")&&V(this._data,function(l){i[l.get("name")]=!1}),i[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var i=this.option.selected;i.hasOwnProperty(t)||(i[t]=!0),this[i[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var i=this.option.selected;V(this._data,function(o){i[o.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var i=this.option.selected;V(this._data,function(o){var a=o.get("name",!0);i.hasOwnProperty(a)||(i[a]=!0),i[a]=!i[a]})},e.prototype.isSelected=function(t){var i=this.option.selected;return!(i.hasOwnProperty(t)&&!i[t])&&qt(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(be);const VI=EZ;var Yg=Gt,FI=V,MC=Vt,LZ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return tt(e,n),e.prototype.init=function(){this.group.add(this._contentGroup=new MC),this.group.add(this._selectorGroup=new MC),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,i,o){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var l=t.get("align"),u=t.get("orient");(!l||"auto"===l)&&(l="right"===t.get("left")&&"vertical"===u?"right":"left");var d=t.get("selector",!0),p=t.get("selectorPosition",!0);d&&(!p||"auto"===p)&&(p="horizontal"===u?"end":"start"),this.renderInner(l,t,i,o,d,u,p);var g=t.getBoxLayoutParams(),m={width:o.getWidth(),height:o.getHeight()},b=t.get("padding"),w=Bn(g,m,b),k=this.layoutInner(t,l,w,a,d,p),C=Bn(Et({width:k.width,height:k.height},g),m,b);this.group.x=C.x-k.x,this.group.y=C.y-k.y,this.group.markRedraw(),this.group.add(this._backgroundEl=ez(k,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,i,o,a,l,u,d){var p=this.getContentGroup(),g=Tt(),m=i.get("selectedMode"),b=[];o.eachRawSeries(function(w){!w.get("legendHoverLink")&&b.push(w.id)}),FI(i.getData(),function(w,k){var C=w.get("name");if(!this.newlineDisabled&&(""===C||"\n"===C)){var x=new MC;return x.newline=!0,void p.add(x)}var T=o.getSeriesByName(C)[0];if(!g.get(C))if(T){var M=T.getData(),I=M.getVisual("legendLineStyle")||{},L=M.getVisual("legendIcon"),N=M.getVisual("style");this._createItem(T,C,k,w,i,t,I,N,L,m,a).on("click",Yg(qz,C,null,a,b)).on("mouseover",Yg(HI,T.name,null,a,b)).on("mouseout",Yg(jI,T.name,null,a,b)),g.set(C,!0)}else o.eachRawSeries(function(B){if(!g.get(C)&&B.legendVisualProvider){var O=B.legendVisualProvider;if(!O.containName(C))return;var F=O.indexOfName(C),H=O.getItemVisual(F,"style"),j=O.getItemVisual(F,"legendIcon"),q=Hr(H.fill);q&&0===q[3]&&(q[3]=.2,H=st(st({},H),{fill:jr(q,"rgba")})),this._createItem(B,C,k,w,i,t,{},H,j,m,a).on("click",Yg(qz,null,C,a,b)).on("mouseover",Yg(HI,null,C,a,b)).on("mouseout",Yg(jI,null,C,a,b)),g.set(C,!0)}},this)},this),l&&this._createSelector(l,i,a,u,d)},e.prototype._createSelector=function(t,i,o,a,l){var u=this.getSelectorGroup();FI(t,function(p){var g=p.type,m=new ge({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){o.dispatchAction({type:"all"===g?"legendAllSelect":"legendInverseSelect"})}});u.add(m),sr(m,{normal:i.getModel("selectorLabel"),emphasis:i.getModel(["emphasis","selectorLabel"])},{defaultText:p.title}),la(m)})},e.prototype._createItem=function(t,i,o,a,l,u,d,p,g,m,b){var w=t.visualDrawType,k=l.get("itemWidth"),C=l.get("itemHeight"),x=l.isSelected(i),T=a.get("symbolRotate"),M=a.get("symbolKeepAspect"),I=a.get("icon"),L=function(n,e,t,i,o,a,l){function u(x,T){"auto"===x.lineWidth&&(x.lineWidth=T.lineWidth>0?2:0),FI(x,function(M,I){"inherit"===x[I]&&(x[I]=T[I])})}var d=e.getModel("itemStyle"),p=d.getItemStyle(),g=0===n.lastIndexOf("empty",0)?"fill":"stroke",m=d.getShallow("decal");p.decal=m&&"inherit"!==m?nu(m,l):i.decal,"inherit"===p.fill&&(p.fill=i[o]),"inherit"===p.stroke&&(p.stroke=i[g]),"inherit"===p.opacity&&(p.opacity=("fill"===o?i:t).opacity),u(p,i);var b=e.getModel("lineStyle"),w=b.getLineStyle();if(u(w,t),"auto"===p.fill&&(p.fill=i.fill),"auto"===p.stroke&&(p.stroke=i.fill),"auto"===w.stroke&&(w.stroke=i.fill),!a){var k=e.get("inactiveBorderWidth");p.lineWidth="auto"===k?i.lineWidth>0&&p[g]?2:0:p.lineWidth,p.fill=e.get("inactiveColor"),p.stroke=e.get("inactiveBorderColor"),w.stroke=b.get("inactiveColor"),w.lineWidth=b.get("inactiveWidth")}return{itemStyle:p,lineStyle:w}}(g=I||g||"roundRect",a,d,p,w,x,b),N=new MC,R=a.getModel("textStyle");if(!Mt(t.getLegendIcon)||I&&"inherit"!==I){var B="inherit"===I&&t.getData().getVisual("symbol")?"inherit"===T?t.getData().getVisual("symbolRotate"):T:0;N.add(function(n){var e=n.icon||"roundRect",t=wn(e,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return t.setStyle(n.itemStyle),t.rotation=(n.iconRotate||0)*Math.PI/180,t.setOrigin([n.itemWidth/2,n.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}({itemWidth:k,itemHeight:C,icon:g,iconRotate:B,itemStyle:L.itemStyle,lineStyle:L.lineStyle,symbolKeepAspect:M}))}else N.add(t.getLegendIcon({itemWidth:k,itemHeight:C,icon:g,iconRotate:T,itemStyle:L.itemStyle,lineStyle:L.lineStyle,symbolKeepAspect:M}));var O="left"===u?k+5:-5,F=u,H=l.get("formatter"),j=i;At(H)&&H?j=H.replace("{name}",i??""):Mt(H)&&(j=H(i));var q=a.get("inactiveColor");N.add(new ge({style:We(R,{text:j,x:O,y:C/2,fill:x?R.getTextColor():q,align:F,verticalAlign:"middle"})}));var Z=new Xt({shape:N.getBoundingRect(),invisible:!0}),K=a.getModel("tooltip");return K.get("show")&&qc({el:Z,componentModel:l,itemName:i,itemTooltipOption:K.option}),N.add(Z),N.eachChild(function(Q){Q.silent=!0}),Z.silent=!m,this.getContentGroup().add(N),la(N),N.__legendDataIndex=o,N},e.prototype.layoutInner=function(t,i,o,a,l,u){var d=this.getContentGroup(),p=this.getSelectorGroup();ol(t.get("orient"),d,t.get("itemGap"),o.width,o.height);var g=d.getBoundingRect(),m=[-g.x,-g.y];if(p.markRedraw(),d.markRedraw(),l){ol("horizontal",p,t.get("selectorItemGap",!0));var b=p.getBoundingRect(),w=[-b.x,-b.y],k=t.get("selectorButtonGap",!0),C=t.getOrient().index,x=0===C?"width":"height",T=0===C?"height":"width",M=0===C?"y":"x";"end"===u?w[C]+=g[x]+k:m[C]+=b[x]+k,w[1-C]+=g[T]/2-b[T]/2,p.x=w[0],p.y=w[1],d.x=m[0],d.y=m[1];var I={x:0,y:0};return I[x]=g[x]+k+b[x],I[T]=Math.max(g[T],b[T]),I[M]=Math.min(0,b[M]+w[1-C]),I}return d.x=m[0],d.y=m[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(nn);function qz(n,e,t,i){jI(n,e,t,i),t.dispatchAction({type:"legendToggleSelect",name:n??e}),HI(n,e,t,i)}function Zz(n){for(var t,e=n.getZr().storage.getDisplayList(),i=0,o=e.length;i<o&&!(t=e[i].states.emphasis);)i++;return t&&t.hoverLayer}function HI(n,e,t,i){Zz(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:i})}function jI(n,e,t,i){Zz(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:i})}const $z=LZ;function NZ(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}function Rb(n,e,t){var a,i={},o="toggleSelected"===n;return t.eachComponent("legend",function(l){o&&null!=a?l[a?"select":"unSelect"](e.name):"allSelect"===n||"inverseSelect"===n?l[n]():(l[n](e.name),a=l.isSelected(e.name)),V(l.getData(),function(d){var p=d.get("name");if("\n"!==p&&""!==p){var g=l.isSelected(p);i[p]=i.hasOwnProperty(p)?i[p]&&g:g}})}),"allSelect"===n||"inverseSelect"===n?{selected:i}:{name:e.name,selected:i}}function Kz(n){n.registerComponentModel(VI),n.registerComponentView($z),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,NZ),n.registerSubTypeDefaulter("legend",function(){return"plain"}),function(n){n.registerAction("legendToggleSelect","legendselectchanged",Gt(Rb,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",Gt(Rb,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",Gt(Rb,"inverseSelect")),n.registerAction("legendSelect","legendselected",Gt(Rb,"select")),n.registerAction("legendUnSelect","legendunselected",Gt(Rb,"unSelect"))}(n)}var zZ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,i,o){var a=Ec(t);n.prototype.init.call(this,t,i,o),Xz(this,t,a)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),Xz(this,this.option,t)},e.type="legend.scroll",e.defaultOption=Qa(VI.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(VI);function Xz(n,e,t){var o=[1,1];o[n.getOrient().index]=0,es(e,t,{type:"box",ignoreSize:!!o})}const OZ=zZ;var Qz=Vt,GI=["width","height"],UI=["x","y"],VZ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return tt(e,n),e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new Qz),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Qz)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,i,o,a,l,u,d){var p=this;n.prototype.renderInner.call(this,t,i,o,a,l,u,d);var g=this._controllerGroup,m=i.get("pageIconSize",!0),b=pt(m)?m:[m,m];k("pagePrev",0);var w=i.getModel("pageTextStyle");function k(C,x){var T=C+"DataIndex",M=Hd(i.get("pageIcons",!0)[i.getOrient().name][x],{onclick:Ct(p._pageGo,p,T,i,a)},{x:-b[0]/2,y:-b[1]/2,width:b[0],height:b[1]});M.name=C,g.add(M)}g.add(new ge({name:"pageText",style:{text:"xx/xx",fill:w.getTextColor(),font:w.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),k("pageNext",1)},e.prototype.layoutInner=function(t,i,o,a,l,u){var d=this.getSelectorGroup(),p=t.getOrient().index,g=GI[p],m=UI[p],b=GI[1-p],w=UI[1-p];l&&ol("horizontal",d,t.get("selectorItemGap",!0));var k=t.get("selectorButtonGap",!0),C=d.getBoundingRect(),x=[-C.x,-C.y],T=Lt(o);l&&(T[g]=o[g]-C[g]-k);var M=this._layoutContentAndController(t,a,T,p,g,b,w,m);if(l){if("end"===u)x[p]+=M[g]+k;else{var I=C[g]+k;x[p]-=I,M[m]-=I}M[g]+=C[g]+k,x[1-p]+=M[w]+M[b]/2-C[b]/2,M[b]=Math.max(M[b],C[b]),M[w]=Math.min(M[w],C[w]+x[1-p]),d.x=x[0],d.y=x[1],d.markRedraw()}return M},e.prototype._layoutContentAndController=function(t,i,o,a,l,u,d,p){var g=this.getContentGroup(),m=this._containerGroup,b=this._controllerGroup;ol(t.get("orient"),g,t.get("itemGap"),a?o.width:null,a?null:o.height),ol("horizontal",b,t.get("pageButtonItemGap",!0));var w=g.getBoundingRect(),k=b.getBoundingRect(),C=this._showController=w[l]>o[l],x=[-w.x,-w.y];i||(x[a]=g[p]);var T=[0,0],M=[-k.x,-k.y],I=Kt(t.get("pageButtonGap",!0),t.get("itemGap",!0));C&&("end"===t.get("pageButtonPosition",!0)?M[a]+=o[l]-k[l]:T[a]+=k[l]+I),M[1-a]+=w[u]/2-k[u]/2,g.setPosition(x),m.setPosition(T),b.setPosition(M);var N={x:0,y:0};if(N[l]=C?o[l]:w[l],N[u]=Math.max(w[u],k[u]),N[d]=Math.min(0,k[d]+M[1-a]),m.__rectSize=o[l],C){var R={x:0,y:0};R[l]=Math.max(o[l]-k[l]-I,0),R[u]=N[u],m.setClipPath(new Xt({shape:R})),m.__rectSize=R[l]}else b.eachChild(function(O){O.attr({invisible:!0,silent:!0})});var B=this._getPageInfo(t);return null!=B.pageIndex&&ke(g,{x:B.contentPosition[0],y:B.contentPosition[1]},C?t:null),this._updatePageInfoView(t,B),N},e.prototype._pageGo=function(t,i,o){var a=this._getPageInfo(i)[t];null!=a&&o.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:i.id})},e.prototype._updatePageInfoView=function(t,i){var o=this._controllerGroup;V(["pagePrev","pageNext"],function(g){var b=null!=i[g+"DataIndex"],w=o.childOfName(g);w&&(w.setStyle("fill",t.get(b?"pageIconColor":"pageIconInactiveColor",!0)),w.cursor=b?"pointer":"default")});var a=o.childOfName("pageText"),l=t.get("pageFormatter"),u=i.pageIndex,d=null!=u?u+1:0,p=i.pageCount;a&&l&&a.setStyle("text",At(l)?l.replace("{current}",null==d?"":d+"").replace("{total}",null==p?"":p+""):l({current:d,total:p}))},e.prototype._getPageInfo=function(t){var i=t.get("scrollDataIndex",!0),o=this.getContentGroup(),a=this._containerGroup.__rectSize,l=t.getOrient().index,u=GI[l],d=UI[l],p=this._findTargetItemIndex(i),g=o.children(),m=g[p],b=g.length,w=b?1:0,k={contentPosition:[o.x,o.y],pageCount:w,pageIndex:w-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!m)return k;var C=L(m);k.contentPosition[l]=-C.s;for(var x=p+1,T=C,M=C,I=null;x<=b;++x)(!(I=L(g[x]))&&M.e>T.s+a||I&&!N(I,T.s))&&(T=M.i>T.i?M:I)&&(null==k.pageNextDataIndex&&(k.pageNextDataIndex=T.i),++k.pageCount),M=I;for(x=p-1,T=C,M=C,I=null;x>=-1;--x)(!(I=L(g[x]))||!N(M,I.s))&&T.i<M.i&&(M=T,null==k.pagePrevDataIndex&&(k.pagePrevDataIndex=T.i),++k.pageCount,++k.pageIndex),T=I;return k;function L(R){if(R){var B=R.getBoundingRect(),O=B[d]+R[d];return{s:O,e:O+B[u],i:R.__legendDataIndex}}}function N(R,B){return R.e>=B&&R.s<=B+a}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild(function(l,u){var d=l.__legendDataIndex;null==a&&null!=d&&(a=u),d===t&&(i=u)}),i??a):0;var i,a},e.type="legend.scroll",e}($z);const FZ=VZ;function jZ(n){Qt(Kz),n.registerComponentModel(OZ),n.registerComponentView(FZ),function(n){n.registerAction("legendScroll","legendscroll",function(e,t){var i=e.scrollDataIndex;null!=i&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(o){o.setScrollDataIndex(i)})})}(n)}var UZ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.type="dataZoom.inside",e.defaultOption=Qa(Mb.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(Mb);const WZ=UZ;var WI=ye();function YZ(n,e,t){WI(n).coordSysRecordMap.each(function(i){var o=i.dataZoomInfoMap.get(e.uid);o&&(o.getRange=t)})}function Jz(n,e){if(e){n.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function $Z(n,e){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function KZ(n,e,t,i){return n.coordinateSystem.containPoint([t,i])}var JZ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return tt(e,n),e.prototype.render=function(t,i,o){n.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),YZ(o,t,{pan:Ct(YI.pan,this),zoom:Ct(YI.zoom,this),scrollMove:Ct(YI.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){(function(n,e){for(var t=WI(n).coordSysRecordMap,i=t.keys(),o=0;o<i.length;o++){var l=t.get(i[o]),u=l.dataZoomInfoMap;if(u){var d=e.uid;u.get(d)&&(u.removeKey(d),u.keys().length||Jz(t,l))}}})(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(yI),YI={zoom:function(n,e,t,i){var o=this.range,a=o.slice(),l=n.axisModels[0];if(l){var u=qI[e](null,[i.originX,i.originY],l,t,n),d=(u.signal>0?u.pixelStart+u.pixelLength-u.pixel:u.pixel-u.pixelStart)/u.pixelLength*(a[1]-a[0])+a[0],p=Math.max(1/i.scale,0);a[0]=(a[0]-d)*p+d,a[1]=(a[1]-d)*p+d;var g=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(gh(0,a,[0,100],0,g.minSpan,g.maxSpan),this.range=a,o[0]!==a[0]||o[1]!==a[1])return a}},pan:t4(function(n,e,t,i,o,a){var l=qI[i]([a.oldX,a.oldY],[a.newX,a.newY],e,o,t);return l.signal*(n[1]-n[0])*l.pixel/l.pixelLength}),scrollMove:t4(function(n,e,t,i,o,a){return qI[i]([0,0],[a.scrollDelta,a.scrollDelta],e,o,t).signal*(n[1]-n[0])*a.scrollDelta})};function t4(n){return function(e,t,i,o){var a=this.range,l=a.slice(),u=e.axisModels[0];if(u&&(gh(n(l,u,e,t,i,o),l,[0,100],"all"),this.range=l,a[0]!==l[0]||a[1]!==l[1]))return l}}var qI={grid:function(n,e,t,i,o){var a=t.axis,l={},u=o.model.coordinateSystem.getRect();return n=n||[0,0],"x"===a.dim?(l.pixel=e[0]-n[0],l.pixelLength=u.width,l.pixelStart=u.x,l.signal=a.inverse?1:-1):(l.pixel=e[1]-n[1],l.pixelLength=u.height,l.pixelStart=u.y,l.signal=a.inverse?-1:1),l},polar:function(n,e,t,i,o){var a=t.axis,l={},u=o.model.coordinateSystem,d=u.getRadiusAxis().getExtent(),p=u.getAngleAxis().getExtent();return n=n?u.pointToCoord(n):[0,0],e=u.pointToCoord(e),"radiusAxis"===t.mainType?(l.pixel=e[0]-n[0],l.pixelLength=d[1]-d[0],l.pixelStart=d[0],l.signal=a.inverse?1:-1):(l.pixel=e[1]-n[1],l.pixelLength=p[1]-p[0],l.pixelStart=p[0],l.signal=a.inverse?-1:1),l},singleAxis:function(n,e,t,i,o){var a=t.axis,l=o.model.coordinateSystem.getRect(),u={};return n=n||[0,0],"horizontal"===a.orient?(u.pixel=e[0]-n[0],u.pixelLength=l.width,u.pixelStart=l.x,u.signal=a.inverse?1:-1):(u.pixel=e[1]-n[1],u.pixelLength=l.height,u.pixelStart=l.y,u.signal=a.inverse?-1:1),u}};const t$=JZ;function e4(n){bI(n),n.registerComponentModel(WZ),n.registerComponentView(t$),function(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(e,t){var i=WI(t),o=i.coordSysRecordMap||(i.coordSysRecordMap=Tt());o.each(function(a){a.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){V($B(a).infoList,function(u){var d=u.model.uid,p=o.get(d)||o.set(d,function(n,e){var t={model:e,containsPoint:Gt(KZ,e),dispatchAction:Gt($Z,n),dataZoomInfoMap:null,controller:null},i=t.controller=new hb(n.getZr());return V(["pan","zoom","scrollMove"],function(o){i.on(o,function(a){var l=[];t.dataZoomInfoMap.each(function(u){if(a.isAvailableBehavior(u.model.option)){var d=(u.getRange||{})[o],p=d&&d(u.dzReferCoordSysInfo,t.model.mainType,t.controller,a);!u.model.get("disabled",!0)&&p&&l.push({dataZoomId:u.model.id,start:p[0],end:p[1]})}}),l.length&&t.dispatchAction(l)})}),t}(t,u.model));(p.dataZoomInfoMap||(p.dataZoomInfoMap=Tt())).set(a.uid,{dzReferCoordSysInfo:u,model:a,getRange:null})})}),o.each(function(a){var u,l=a.controller,d=a.dataZoomInfoMap;if(d){var p=d.keys()[0];null!=p&&(u=d.get(p))}if(u){var g=function(n){var e,t="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return n.each(function(a){var l=a.model,u=!l.get("disabled",!0)&&(!l.get("zoomLock",!0)||"move");i[t+u]>i[t+e]&&(e=u),o=o&&l.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o}}}(d);l.enable(g.controlType,g.opt),l.setPointerChecker(a.containsPoint),wl(a,"dispatchAction",u.model.get("throttle",!0),"fixRate")}else Jz(o,a)})})}(n)}var e$=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Qa(Mb.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(Mb);const n$=e$;var Nb=Xt,Bb="horizontal",r4="vertical",a$=["line","bar","candlestick","scatter"],s$={easing:"cubicOut",duration:100,delay:0},l$=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return tt(e,n),e.prototype.init=function(t,i){this.api=i,this._onBrush=Ct(this._onBrush,this),this._onBrushEnd=Ct(this._onBrushEnd,this)},e.prototype.render=function(t,i,o,a){if(n.prototype.render.apply(this,arguments),wl(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show"))return t.noTarget()?(this._clear(),void this.group.removeAll()):((!a||"dataZoom"!==a.type||a.from!==this.uid)&&this._buildView(),void this._updateView());this.group.removeAll()},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){jd(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new Vt;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(i),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,i=this.api,a=t.get("brushSelect")?7:0,l=this._findCoordRect(),u={width:i.getWidth(),height:i.getHeight()},d=this._orient===Bb?{right:u.width-l.x-l.width,top:u.height-30-7-a,width:l.width,height:30}:{right:7,top:l.y,width:30,height:l.height},p=Ec(t.option);V(["right","top","width","height"],function(m){"ph"===p[m]&&(p[m]=d[m])});var g=Bn(p,u);this._location={x:g.x,y:g.y},this._size=[g.width,g.height],this._orient===r4&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,i=this._location,o=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),l=a&&a.get("inverse"),u=this._displayables.sliderGroup,d=(this._dataShadowInfo||{}).otherAxisInverse;u.attr(o!==Bb||l?o===Bb&&l?{scaleY:d?1:-1,scaleX:-1}:o!==r4||l?{scaleY:d?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:d?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:d?1:-1,scaleX:1});var p=t.getBoundingRect([u]);t.x=i.x-p.x,t.y=i.y-p.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,i=this._size,o=this._displayables.sliderGroup,a=t.get("brushSelect");o.add(new Nb({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var l=new Nb({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:Ct(this._onClickPanel,this)}),u=this.api.getZr();a?(l.on("mousedown",this._onBrushStart,this),l.cursor="crosshair",u.on("mousemove",this._onBrush),u.on("mouseup",this._onBrushEnd)):(u.off("mousemove",this._onBrush),u.off("mouseup",this._onBrushEnd)),o.add(l)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var i=this._size,o=this._shadowSize||[],a=t.series,l=a.getRawData(),u=a.getShadowDim&&a.getShadowDim(),d=u&&l.getDimensionInfo(u)?a.getShadowDim():t.otherDim;if(null!=d){var p=this._shadowPolygonPts,g=this._shadowPolylinePts;if(l!==this._shadowData||d!==this._shadowDim||i[0]!==o[0]||i[1]!==o[1]){var m=l.getDataExtent(d),b=.3*(m[1]-m[0]);m=[m[0]-b,m[1]+b];var L,w=[0,i[1]],C=[[i[0],0],[0,0]],x=[],T=i[0]/(l.count()-1),M=0,I=Math.round(l.count()/i[0]);l.each([d],function(F,H){if(I>0&&H%I)M+=T;else{var j=null==F||isNaN(F)||""===F,q=j?0:Ie(F,m,w,!0);j&&!L&&H?(C.push([C[C.length-1][0],0]),x.push([x[x.length-1][0],0])):!j&&L&&(C.push([M,0]),x.push([M,0])),C.push([M,q]),x.push([M,q]),M+=T,L=j}}),p=this._shadowPolygonPts=C,g=this._shadowPolylinePts=x}this._shadowData=l,this._shadowDim=d,this._shadowSize=[i[0],i[1]];for(var H,j,q,Z,N=this.dataZoomModel,B=0;B<3;B++){var O=(H=void 0,j=void 0,void 0,void 0,H=N.getModel(1===B?"selectedDataBackground":"dataBackground"),j=new Vt,q=new Qr({shape:{points:p},segmentIgnoreThreshold:1,style:H.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Z=new Jr({shape:{points:g},segmentIgnoreThreshold:1,style:H.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),j.add(q),j.add(Z),j);this._displayables.sliderGroup.add(O),this._displayables.dataShadowSegs.push(O)}}}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,i=t.get("showDataShadow");if(!1!==i){var o,a=this.ecModel;return t.eachTargetAxis(function(l,u){V(t.getAxisProxy(l,u).getTargetSeriesModels(),function(p){if(!(o||!0!==i&&qt(a$,p.get("type"))<0)){var b,g=a.getComponent(yu(l),u).axis,m=function(n){return{x:"y",y:"x",radius:"angle",angle:"radius"}[n]}(l),w=p.coordinateSystem;null!=m&&w.getOtherAxis&&(b=w.getOtherAxis(g).inverse),m=p.getData().mapDimension(m),o={thisAxis:g,series:p,thisDim:l,otherDim:m,otherAxisInverse:b}}},this)},this),o}},e.prototype._renderHandle=function(){var t=this.group,i=this._displayables,o=i.handles=[null,null],a=i.handleLabels=[null,null],l=this._displayables.sliderGroup,u=this._size,d=this.dataZoomModel,p=this.api,g=d.get("borderRadius")||0,m=d.get("brushSelect"),b=i.filler=new Nb({silent:m,style:{fill:d.get("fillerColor")},textConfig:{position:"inside"}});l.add(b),l.add(new Nb({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:u[0],height:u[1],r:g},style:{stroke:d.get("dataBackgroundColor")||d.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),V([0,1],function(I){var L=d.get("handleIcon");!og[L]&&L.indexOf("path://")<0&&L.indexOf("image://")<0&&(L="path://"+L);var N=wn(L,-1,0,2,2,null,!0);N.attr({cursor:i4(this._orient),draggable:!0,drift:Ct(this._onDragMove,this,I),ondragend:Ct(this._onDragEnd,this),onmouseover:Ct(this._showDataInfo,this,!0),onmouseout:Ct(this._showDataInfo,this,!1),z2:5});var R=N.getBoundingRect(),B=d.get("handleSize");this._handleHeight=_t(B,this._size[1]),this._handleWidth=R.width/R.height*this._handleHeight,N.setStyle(d.getModel("handleStyle").getItemStyle()),N.style.strokeNoScale=!0,N.rectHover=!0,N.ensureState("emphasis").style=d.getModel(["emphasis","handleStyle"]).getItemStyle(),la(N);var O=d.get("handleColor");null!=O&&(N.style.fill=O),l.add(o[I]=N);var F=d.getModel("textStyle");t.add(a[I]=new ge({silent:!0,invisible:!0,style:We(F,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:F.getTextColor(),font:F.getFont()}),z2:10}))},this);var w=b;if(m){var k=_t(d.get("moveHandleSize"),u[1]),C=i.moveHandle=new Xt({style:d.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:u[1]-.5,height:k}}),x=.8*k,T=i.moveHandleIcon=wn(d.get("moveHandleIcon"),-x/2,-x/2,x,x,"#fff",!0);T.silent=!0,T.y=u[1]+k/2-.5,C.ensureState("emphasis").style=d.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var M=Math.min(u[1]/2,Math.max(k,10));(w=i.moveZone=new Xt({invisible:!0,shape:{y:u[1]-M,height:k+M}})).on("mouseover",function(){p.enterEmphasis(C)}).on("mouseout",function(){p.leaveEmphasis(C)}),l.add(C),l.add(T),l.add(w)}w.attr({draggable:!0,cursor:i4(this._orient),drift:Ct(this._onDragMove,this,"all"),ondragstart:Ct(this._showDataInfo,this,!0),ondragend:Ct(this._onDragEnd,this),onmouseover:Ct(this._showDataInfo,this,!0),onmouseout:Ct(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[Ie(t[0],[0,100],i,!0),Ie(t[1],[0,100],i,!0)]},e.prototype._updateInterval=function(t,i){var o=this.dataZoomModel,a=this._handleEnds,l=this._getViewExtent(),u=o.findRepresentativeAxisProxy().getMinMaxSpan(),d=[0,100];gh(i,a,l,o.get("zoomLock")?"all":t,null!=u.minSpan?Ie(u.minSpan,d,l,!0):null,null!=u.maxSpan?Ie(u.maxSpan,d,l,!0):null);var p=this._range,g=this._range=lt([Ie(a[0],l,d,!0),Ie(a[1],l,d,!0)]);return!p||p[0]!==g[0]||p[1]!==g[1]},e.prototype._updateView=function(t){var i=this._displayables,o=this._handleEnds,a=lt(o.slice()),l=this._size;V([0,1],function(w){var C=this._handleHeight;i.handles[w].attr({scaleX:C/2,scaleY:C/2,x:o[w]+(w?-1:1),y:l[1]/2-C/2})},this),i.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:l[1]});var u={x:a[0],width:a[1]-a[0]};i.moveHandle&&(i.moveHandle.setShape(u),i.moveZone.setShape(u),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",u.x+u.width/2));for(var d=i.dataShadowSegs,p=[0,a[0],a[1],l[0]],g=0;g<d.length;g++){var m=d[g],b=m.getClipPath();b||(b=new Xt,m.setClipPath(b)),b.setShape({x:p[g],y:0,width:p[g+1]-p[g],height:l[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var i=this.dataZoomModel,o=this._displayables,a=o.handleLabels,l=this._orient,u=["",""];if(i.get("showDetail")){var d=i.findRepresentativeAxisProxy();if(d){var p=d.getAxisModel().axis,g=this._range,m=t?d.calculateDataWindow({start:g[0],end:g[1]}).valueWindow:d.getDataValueWindow();u=[this._formatLabel(m[0],p),this._formatLabel(m[1],p)]}}var b=lt(this._handleEnds.slice());function w(k){var C=bl(o.handles[k].parent,this.group),x=Kp(0===k?"right":"left",C),T=this._handleWidth/2+5,M=io([b[k]+(0===k?-T:T),this._size[1]/2],C);a[k].setStyle({x:M[0],y:M[1],verticalAlign:l===Bb?"middle":x,align:l===Bb?x:"center",text:u[k]})}w.call(this,0),w.call(this,1)},e.prototype._formatLabel=function(t,i){var o=this.dataZoomModel,a=o.get("labelFormatter"),l=o.get("labelPrecision");(null==l||"auto"===l)&&(l=i.getPixelPrecision());var u=null==t||isNaN(t)?"":"category"===i.type||"time"===i.type?i.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(l,20));return Mt(a)?a(t,u):At(a)?a.replace("{value}",u):u},e.prototype._showDataInfo=function(t){var i=this._displayables,o=i.handleLabels;o[0].attr("invisible",!(t=this._dragging||t)),o[1].attr("invisible",!t),i.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](i.moveHandle,1)},e.prototype._onDragMove=function(t,i,o,a){this._dragging=!0,Wo(a.event);var u=io([i,o],this._displayables.sliderGroup.getLocalTransform(),!0),d=this._updateInterval(t,u[0]),p=this.dataZoomModel.get("realtime");this._updateView(!p),d&&p&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var i=this._size,o=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(o[0]<0||o[0]>i[0]||o[1]<0||o[1]>i[1])){var a=this._handleEnds,u=this._updateInterval("all",o[0]-(a[0]+a[1])/2);this._updateView(),u&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){this._brushStart=new Zt(t.offsetX,t.offsetY),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,i){i.attr("ignore",!0);var o=i.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(o.width)<5)){var l=this._getViewExtent(),u=[0,100];this._range=lt([Ie(o.x,l,u,!0),Ie(o.x+o.width,l,u,!0)]),this._handleEnds=[o.x,o.x+o.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Wo(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,i){var o=this._displayables,l=o.brushRect;l||(l=o.brushRect=new Nb({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),o.sliderGroup.add(l)),l.attr("ignore",!1);var u=this._brushStart,d=this._displayables.sliderGroup,p=d.transformCoordToLocal(t,i),g=d.transformCoordToLocal(u.x,u.y),m=this._size;p[0]=Math.max(Math.min(m[0],p[0]),0),l.setShape({x:g[0],y:0,width:p[0]-g[0],height:m[1]})},e.prototype._dispatchZoomAction=function(t){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?s$:null,start:i[0],end:i[1]})},e.prototype._findCoordRect=function(){var t,i=$B(this.dataZoomModel).infoList;if(!t&&i.length){var o=i[0].model.coordinateSystem;t=o.getRect&&o.getRect()}if(!t){var a=this.api.getWidth(),l=this.api.getHeight();t={x:.2*a,y:.2*l,width:.6*a,height:.6*l}}return t},e.type="dataZoom.slider",e}(yI);function i4(n){return"vertical"===n?"ns-resize":"ew-resize"}const u$=l$;function o4(n){n.registerComponentModel(n$),n.registerComponentView(u$),bI(n)}var h$={get:function(n,e,t){var i=Lt((f$[n]||{})[e]);return t&&pt(i)?i[i.length-1]:i}},f$={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const a4=h$;var s4=Br.mapVisual,p$=Br.eachVisual,g$=pt,l4=V,v$=lt,m$=Ie,y$=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return tt(e,n),e.prototype.init=function(t,i,o){this.mergeDefaultAndTheme(t,o)},e.prototype.optionUpdated=function(t,i){!i&&xz(this.option,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var i=this.stateList;t=Ct(t,this),this.controllerVisuals=DI(this.option.controller,i,t),this.targetVisuals=DI(this.option.target,i,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,i=[];return null==t||"all"===t?this.ecModel.eachSeries(function(o,a){i.push(a)}):i=De(t),i},e.prototype.eachTargetSeries=function(t,i){V(this.getTargetSeriesIndices(),function(o){var a=this.ecModel.getSeriesByIndex(o);a&&t.call(i,a)},this)},e.prototype.isTargetSeries=function(t){var i=!1;return this.eachTargetSeries(function(o){o===t&&(i=!0)}),i},e.prototype.formatValueText=function(t,i,o){var p,a=this.option,l=a.precision,u=this.dataBound,d=a.formatter;o=o||["<",">"],pt(t)&&(t=t.slice(),p=!0);var g=i?t:p?[m(t[0]),m(t[1])]:m(t);return At(d)?d.replace("{value}",p?g[0]:g).replace("{value2}",p?g[1]:g):Mt(d)?p?d(t[0],t[1]):d(t):p?t[0]===u[0]?o[0]+" "+g[1]:t[1]===u[1]?o[1]+" "+g[0]:g[0]+" - "+g[1]:g;function m(b){return b===u[0]?"min":b===u[1]?"max":(+b).toFixed(Math.min(l,20))}},e.prototype.resetExtent=function(){var t=this.option,i=v$([t.min,t.max]);this._dataExtent=i},e.prototype.getDataDimensionIndex=function(t){var i=this.option.dimension;if(null!=i)return t.getDimensionIndex(i);for(var o=t.dimensions,a=o.length-1;a>=0;a--){var u=t.getDimensionInfo(o[a]);if(!u.isCalculationCoord)return u.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,i=this.option,o={inRange:i.inRange,outOfRange:i.outOfRange},a=i.target||(i.target={}),l=i.controller||(i.controller={});Pt(a,o),Pt(l,o);var u=this.isCategory();function d(m){g$(i.color)&&!m.inRange&&(m.inRange={color:i.color.slice().reverse()}),m.inRange=m.inRange||{color:t.get("gradientColor")}}d.call(this,a),d.call(this,l),function(m,b,w){var k=m[b],C=m[w];k&&!C&&(C=m[w]={},l4(k,function(x,T){if(Br.isValidType(T)){var M=a4.get(T,"inactive",u);null!=M&&(C[T]=M,"color"===T&&!C.hasOwnProperty("opacity")&&!C.hasOwnProperty("colorAlpha")&&(C.opacity=[0,0]))}}))}.call(this,a,"inRange","outOfRange"),function(m){var b=(m.inRange||{}).symbol||(m.outOfRange||{}).symbol,w=(m.inRange||{}).symbolSize||(m.outOfRange||{}).symbolSize,k=this.get("inactiveColor"),x=this.getItemSymbol()||"roundRect";l4(this.stateList,function(T){var M=this.itemSize,I=m[T];I||(I=m[T]={color:u?k:[k]}),null==I.symbol&&(I.symbol=b&&Lt(b)||(u?x:[x])),null==I.symbolSize&&(I.symbolSize=w&&Lt(w)||(u?M[0]:[M[0],M[0]])),I.symbol=s4(I.symbol,function(R){return"none"===R?x:R});var L=I.symbolSize;if(null!=L){var N=-1/0;p$(L,function(R){R>N&&(N=R)}),I.symbolSize=s4(L,function(R){return m$(R,[0,N],[0,M[0]],!0)})}},this)}.call(this,l)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(be);const IC=y$;var c4=[20,140],b$=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.optionUpdated=function(t,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(o){o.mappingMethod="linear",o.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=c4[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=c4[1])},e.prototype._resetRange=function(){var t=this.getExtent(),i=this.option.range;!i||i.auto?(t.auto=1,this.option.range=t):pt(i)&&(i[0]>i[1]&&i.reverse(),i[0]=Math.max(i[0],t[0]),i[1]=Math.min(i[1],t[1]))},e.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),V(this.stateList,function(t){var i=this.option.controller[t].symbolSize;i&&i[0]!==i[1]&&(i[0]=i[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),i=lt((this.get("range")||[]).slice());return i[0]>t[1]&&(i[0]=t[1]),i[1]>t[1]&&(i[1]=t[1]),i[0]<t[0]&&(i[0]=t[0]),i[1]<t[0]&&(i[1]=t[0]),i},e.prototype.getValueState=function(t){var i=this.option.range,o=this.getExtent();return(i[0]<=o[0]||i[0]<=t)&&(i[1]>=o[1]||t<=i[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var i=[];return this.eachTargetSeries(function(o){var a=[],l=o.getData();l.each(this.getDataDimensionIndex(l),function(u,d){t[0]<=u&&u<=t[1]&&a.push(d)},this),i.push({seriesId:o.id,dataIndex:a})},this),i},e.prototype.getVisualMeta=function(t){var i=u4(0,0,this.getExtent()),o=u4(0,0,this.option.range.slice()),a=[];function l(w,k){a.push({value:w,color:t(w,k)})}for(var u=0,d=0,p=o.length,g=i.length;d<g&&(!o.length||i[d]<=o[0]);d++)i[d]<o[u]&&l(i[d],"outOfRange");for(var m=1;u<p;u++,m=0)m&&a.length&&l(o[u],"outOfRange"),l(o[u],"inRange");for(m=1;d<g;d++)(!o.length||o[o.length-1]<i[d])&&(m&&(a.length&&l(a[a.length-1].value,"outOfRange"),m=0),l(i[d],"outOfRange"));var b=a.length;return{stops:a,outerColors:[b?a[0].color:"transparent",b?a[b-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Qa(IC.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(IC);function u4(n,e,t){if(t[0]===t[1])return t.slice();for(var o=(t[1]-t[0])/200,a=t[0],l=[],u=0;u<=200&&a<t[1];u++)l.push(a),a+=o;return l.push(t[1]),l}const w$=b$;var _$=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return tt(e,n),e.prototype.init=function(t,i){this.ecModel=t,this.api=i},e.prototype.render=function(t,i,o,a){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,i,o,a):this.group.removeAll()},e.prototype.renderBackground=function(t){var i=this.visualMapModel,o=rl(i.get("padding")||0),a=t.getBoundingRect();t.add(new Xt({z2:-1,silent:!0,shape:{x:a.x-o[3],y:a.y-o[0],width:a.width+o[3]+o[1],height:a.height+o[0]+o[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,i,o){var a=(o=o||{}).forceState,l=this.visualMapModel,u={};if("color"===i){var d=l.get("contentColor");u.color=d}function p(w){return u[w]}function g(w,k){u[w]=k}var m=l.controllerVisuals[a||l.getValueState(t)];return V(Br.prepareVisualTypes(m),function(w){var k=m[w];o.convertOpacityToAlpha&&"opacity"===w&&(w="colorAlpha",k=m.__alphaForOpacity),Br.dependsOn(w,i)&&k&&k.applyVisual(t,p,g)}),u[i]},e.prototype.positionGroup=function(t){var o=this.api;Sd(t,this.visualMapModel.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()})},e.prototype.doRender=function(t,i,o,a){},e.type="visualMap",e}(nn);const d4=_$;var h4=[["left","right","width"],["top","bottom","height"]];function f4(n,e,t){var i=n.option,o=i.align;if(null!=o&&"auto"!==o)return o;for(var a={width:e.getWidth(),height:e.getHeight()},l="horizontal"===i.orient?1:0,u=h4[l],d=[0,null,10],p={},g=0;g<3;g++)p[h4[1-l][g]]=d[g],p[u[g]]=2===g?t[0]:i[u[g]];var m=[["x","width",3],["y","height",0]][l],b=Bn(p,a,i.padding);return u[(b.margin[m[2]]||0)+b[m[0]]+.5*b[m[1]]<.5*a[m[1]]?0:1]}function EC(n,e){return V(n||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),n}var gs=Ie,k$=V,p4=Math.min,$I=Math.max,x$=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return tt(e,n),e.prototype.doRender=function(t,i,o,a){this._api=o,(!a||"selectDataRange"!==a.type||a.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,i=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(i);var o=t.get("text");this._renderEndsText(i,o,0),this._renderEndsText(i,o,1),this._updateView(!0),this.renderBackground(i),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(i)},e.prototype._renderEndsText=function(t,i,o){if(i){var a=i[1-o];a=null!=a?a+"":"";var l=this.visualMapModel,u=l.get("textGap"),d=l.itemSize,p=this._shapes.mainGroup,g=this._applyTransform([d[0]/2,0===o?-u:d[1]+u],p),m=this._applyTransform(0===o?"bottom":"top",p),b=this._orient;this.group.add(new ge({style:We(this.visualMapModel.textStyleModel,{x:g[0],y:g[1],verticalAlign:"horizontal"===b?"middle":m,align:"horizontal"===b?m:"center",text:a})}))}},e.prototype._renderBar=function(t){var i=this.visualMapModel,o=this._shapes,a=i.itemSize,l=this._orient,u=this._useHandle,d=f4(i,this.api,a),p=o.mainGroup=this._createBarGroup(d),g=new Vt;p.add(g),g.add(o.outOfRange=g4()),g.add(o.inRange=g4(null,u?m4(this._orient):null,Ct(this._dragHandle,this,"all",!1),Ct(this._dragHandle,this,"all",!0))),g.setClipPath(new Xt({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var m=i.textStyleModel.getTextRect("\u56fd"),b=$I(m.width,m.height);u&&(o.handleThumbs=[],o.handleLabels=[],o.handleLabelPoints=[],this._createHandle(i,p,0,a,b,l),this._createHandle(i,p,1,a,b,l)),this._createIndicator(i,p,a,b,l),t.add(p)},e.prototype._createHandle=function(t,i,o,a,l,u){var d=Ct(this._dragHandle,this,o,!1),p=Ct(this._dragHandle,this,o,!0),g=Ur(t.get("handleSize"),a[0]),m=wn(t.get("handleIcon"),-g/2,-g/2,g,g,null,!0),b=m4(this._orient);m.attr({cursor:b,draggable:!0,drift:d,ondragend:p,onmousemove:function(T){Wo(T.event)}}),m.x=a[0]/2,m.useStyle(t.getModel("handleStyle").getItemStyle()),m.setStyle({strokeNoScale:!0,strokeFirst:!0}),m.style.lineWidth*=2,m.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),ca(m,!0),i.add(m);var k=new ge({cursor:b,draggable:!0,drift:d,onmousemove:function(T){Wo(T.event)},ondragend:p,style:We(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});k.ensureState("blur").style={opacity:.1},k.stateTransition={duration:200},this.group.add(k);var C=[g,0],x=this._shapes;x.handleThumbs[o]=m,x.handleLabelPoints[o]=C,x.handleLabels[o]=k},e.prototype._createIndicator=function(t,i,o,a,l){var u=Ur(t.get("indicatorSize"),o[0]),d=wn(t.get("indicatorIcon"),-u/2,-u/2,u,u,null,!0);d.attr({cursor:"move",invisible:!0,silent:!0,x:o[0]/2});var p=t.getModel("indicatorStyle").getItemStyle();if(d instanceof or){var g=d.style;d.useStyle(st({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},p))}else d.useStyle(p);i.add(d);var b=new ge({silent:!0,invisible:!0,style:We(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(b);var w=[("horizontal"===l?a/2:6)+o[0]/2,0],k=this._shapes;k.indicator=d,k.indicatorLabel=b,k.indicatorLabelPoint=w,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,i,o,a){if(this._useHandle){if(this._dragging=!i,!i){var l=this._applyTransform([o,a],this._shapes.mainGroup,!0);this._updateInterval(t,l[1]),this._hideIndicator(),this._updateView()}i===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),i?!this._hovering&&this._clearHoverLinkToSeries():v4(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,i=this._dataInterval=t.getSelected(),o=t.getExtent(),a=[0,t.itemSize[1]];this._handleEnds=[gs(i[0],o,a,!0),gs(i[1],o,a,!0)]},e.prototype._updateInterval=function(t,i){var o=this.visualMapModel,a=this._handleEnds,l=[0,o.itemSize[1]];gh(i=i||0,a,l,t,0);var u=o.getExtent();this._dataInterval=[gs(a[0],l,u,!0),gs(a[1],l,u,!0)]},e.prototype._updateView=function(t){var i=this.visualMapModel,o=i.getExtent(),a=this._shapes,l=[0,i.itemSize[1]],u=t?l:this._handleEnds,d=this._createBarVisual(this._dataInterval,o,u,"inRange"),p=this._createBarVisual(o,o,l,"outOfRange");a.inRange.setStyle({fill:d.barColor}).setShape("points",d.barPoints),a.outOfRange.setStyle({fill:p.barColor}).setShape("points",p.barPoints),this._updateHandle(u,d)},e.prototype._createBarVisual=function(t,i,o,a){var l={forceState:a,convertOpacityToAlpha:!0},u=this._makeColorGradient(t,l),d=[this.getControllerVisual(t[0],"symbolSize",l),this.getControllerVisual(t[1],"symbolSize",l)],p=this._createBarPoints(o,d);return{barColor:new Vd(0,0,0,1,u),barPoints:p,handlesColor:[u[0].color,u[u.length-1].color]}},e.prototype._makeColorGradient=function(t,i){var a=[],l=(t[1]-t[0])/100;a.push({color:this.getControllerVisual(t[0],"color",i),offset:0});for(var u=1;u<100;u++){var d=t[0]+l*u;if(d>t[1])break;a.push({color:this.getControllerVisual(d,"color",i),offset:u/100})}return a.push({color:this.getControllerVisual(t[1],"color",i),offset:1}),a},e.prototype._createBarPoints=function(t,i){var o=this.visualMapModel.itemSize;return[[o[0]-i[0],t[0]],[o[0],t[0]],[o[0],t[1]],[o[0]-i[1],t[1]]]},e.prototype._createBarGroup=function(t){var i=this._orient,o=this.visualMapModel.get("inverse");return new Vt("horizontal"!==i||o?"horizontal"===i&&o?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==i||o?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,i){if(this._useHandle){var o=this._shapes,a=this.visualMapModel,l=o.handleThumbs,u=o.handleLabels,d=a.itemSize,p=a.getExtent();k$([0,1],function(g){var m=l[g];m.setStyle("fill",i.handlesColor[g]),m.y=t[g];var b=gs(t[g],[0,d[1]],p,!0),w=this.getControllerVisual(b,"symbolSize");m.scaleX=m.scaleY=w/d[0],m.x=d[0]-w/2;var k=io(o.handleLabelPoints[g],bl(m,this.group));u[g].setStyle({x:k[0],y:k[1],text:a.formatValueText(this._dataInterval[g]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",o.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,i,o,a){var l=this.visualMapModel,u=l.getExtent(),d=l.itemSize,p=[0,d[1]],g=this._shapes,m=g.indicator;if(m){m.attr("invisible",!1);var w=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),k=this.getControllerVisual(t,"symbolSize"),C=gs(t,u,p,!0),x=d[0]-k/2,T={x:m.x,y:m.y};m.y=C,m.x=x;var M=io(g.indicatorLabelPoint,bl(m,this.group)),I=g.indicatorLabel;I.attr("invisible",!1);var L=this._applyTransform("left",g.mainGroup),R="horizontal"===this._orient;I.setStyle({text:(o||"")+l.formatValueText(i),verticalAlign:R?L:"middle",align:R?"center":L});var B={x,y:C,style:{fill:w}},O={style:{x:M[0],y:M[1]}};if(l.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var F={duration:100,easing:"cubicInOut",additive:!0};m.x=T.x,m.y=T.y,m.animateTo(B,F),I.animateTo(O,F)}else m.attr(B),I.attr(O);this._firstShowIndicator=!1;var H=this._shapes.handleLabels;if(H)for(var j=0;j<H.length;j++)this._api.enterBlur(H[j])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(i){if(t._hovering=!0,!t._dragging){var o=t.visualMapModel.itemSize,a=t._applyTransform([i.offsetX,i.offsetY],t._shapes.mainGroup,!0,!0);a[1]=p4($I(0,a[1]),o[1]),t._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=o[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,i){var o=this.visualMapModel;if(o.option.hoverLink){var l=[0,o.itemSize[1]],u=o.getExtent();t=p4($I(l[0],t),l[1]);var d=function(n,e,t){var i=6,o=n.get("hoverLinkDataSize");return o&&(i=gs(o,e,t,!0)/2),i}(o,u,l),p=[t-d,t+d],g=gs(t,l,u,!0),m=[gs(p[0],l,u,!0),gs(p[1],l,u,!0)];p[0]<l[0]&&(m[0]=-1/0),p[1]>l[1]&&(m[1]=1/0),i&&(m[0]===-1/0?this._showIndicator(g,m[1],"< ",d):m[1]===1/0?this._showIndicator(g,m[0],"> ",d):this._showIndicator(g,g,"\u2248 ",d));var b=this._hoverLinkDataIndices,w=[];(i||v4(o))&&(w=this._hoverLinkDataIndices=o.findTargetDataIndices(m));var k=function(n,e){var t={},i={};return o(n||[],t),o(e||[],i,t),[a(t),a(i)];function o(l,u,d){for(var p=0,g=l.length;p<g;p++){var m=mn(l[p].seriesId,null);if(null==m)return;for(var b=De(l[p].dataIndex),w=d&&d[m],k=0,C=b.length;k<C;k++){var x=b[k];w&&w[x]?w[x]=null:(u[m]||(u[m]={}))[x]=1}}}function a(l,u){var d=[];for(var p in l)if(l.hasOwnProperty(p)&&null!=l[p])if(u)d.push(+p);else{var g=a(l[p],!0);g.length&&d.push({seriesId:p,dataIndex:g})}return d}}(b,w);this._dispatchHighDown("downplay",EC(k[0],o)),this._dispatchHighDown("highlight",EC(k[1],o))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var i;if(Lr(t.target,function(d){var p=jt(d);if(null!=p.dataIndex)return i=p,!0},!0),i){var o=this.ecModel.getSeriesByIndex(i.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(o)){var l=o.getData(i.dataType),u=l.getStore().get(a.getDataDimensionIndex(l),i.dataIndex);isNaN(u)||this._showIndicator(u,u)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var i=this._shapes.handleLabels;if(i)for(var o=0;o<i.length;o++)this._api.leaveBlur(i[o])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",EC(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,i,o,a){var l=bl(i,a?null:this.group);return pt(t)?io(t,l,o):Kp(t,l,o)},e.prototype._dispatchHighDown=function(t,i){i&&i.length&&this.api.dispatchAction({type:t,batch:i})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(d4);function g4(n,e,t,i){return new Qr({shape:{points:n},draggable:!!t,cursor:e,drift:t,onmousemove:function(o){Wo(o.event)},ondragend:i})}function v4(n){return!!(n.get("hoverLinkOnHandle")??n.get("realtime"))}function m4(n){return"vertical"===n?"ns-resize":"ew-resize"}const T$=x$;var D$={type:"selectDataRange",event:"dataRangeSelected",update:"update"},M$=function(n,e){e.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})},I$=[{createOnAllSeries:!0,reset:function(n,e){var t=[];return e.eachComponent("visualMap",function(i){var o=n.pipelineContext;!i.isTargetSeries(n)||o&&o.large||t.push(function(n,e,t,i){var o={};return V(n,function(a){var l=Br.prepareVisualTypes(e[a]);o[a]=l}),{progress:function(l,u){var d;function p(N){return d0(u,m,N)}function g(N,R){Ro(u,m,N,R)}null!=i&&(d=u.getDimensionIndex(i));for(var m,b=u.getStore();null!=(m=l.next());){var w=u.getRawDataItem(m);if(!w||!1!==w.visualMap)for(var k=null!=i?b.get(d,m):m,C=t(k),x=e[C],T=o[C],M=0,I=T.length;M<I;M++){var L=T[M];x[L]&&x[L].applyVisual(k,p,g)}}}}}(i.stateList,i.targetVisuals,Ct(i.getValueState,i),i.getDataDimensionIndex(n.getData())))}),t}},{createOnAllSeries:!0,reset:function(n,e){var t=n.getData(),i=[];e.eachComponent("visualMap",function(o){if(o.isTargetSeries(n)){var a=o.getVisualMeta(Ct(E$,null,n,o))||{stops:[],outerColors:[]},l=o.getDataDimensionIndex(t);l>=0&&(a.dimension=l,i.push(a))}}),n.getData().setVisual("visualMeta",i)}}];function E$(n,e,t,i){for(var o=e.targetVisuals[i],a=Br.prepareVisualTypes(o),l={color:Kc(n.getData(),"color")},u=0,d=a.length;u<d;u++){var p=a[u],g=o["opacity"===p?"__alphaForOpacity":p];g&&g.applyVisual(t,m,b)}return l.color;function m(w){return l[w]}function b(w,k){l[w]=k}}var y4=V;function L$(n){var e=n&&n.visualMap;pt(e)||(e=e?[e]:[]),y4(e,function(t){if(t){qg(t,"splitList")&&!qg(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var i=t.pieces;i&&pt(i)&&y4(i,function(o){Rt(o)&&(qg(o,"start")&&!qg(o,"min")&&(o.min=o.start),qg(o,"end")&&!qg(o,"max")&&(o.max=o.end))})}})}function qg(n,e){return n&&n.hasOwnProperty&&n.hasOwnProperty(e)}var b4=!1;function w4(n){b4||(b4=!0,n.registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"}),n.registerAction(D$,M$),V(I$,function(e){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,e)}),n.registerPreprocessor(L$))}function _4(n){n.registerComponentModel(w$),n.registerComponentView(T$),w4(n)}var P$=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return tt(e,n),e.prototype.optionUpdated=function(t,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var o=this._mode=this._determineMode();this._pieceList=[],R$[this._mode].call(this,this._pieceList),this._resetSelected(t,i);var a=this.option.categories;this.resetVisual(function(l,u){"categories"===o?(l.mappingMethod="category",l.categories=Lt(a)):(l.dataExtent=this.getExtent(),l.mappingMethod="piecewise",l.pieceList=gt(this._pieceList,function(d){return d=Lt(d),"inRange"!==u&&(d.visual=null),d}))})},e.prototype.completeVisualOption=function(){var t=this.option,i={},o=Br.listVisualTypes(),a=this.isCategory();function l(u,d,p){return u&&u[d]&&u[d].hasOwnProperty(p)}V(t.pieces,function(u){V(o,function(d){u.hasOwnProperty(d)&&(i[d]=1)})}),V(i,function(u,d){var p=!1;V(this.stateList,function(g){p=p||l(t,g,d)||l(t.target,g,d)},this),!p&&V(this.stateList,function(g){(t[g]||(t[g]={}))[d]=a4.get(d,"inRange"===g?"active":"inactive",a)})},this),n.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,i){var o=this.option,a=this._pieceList,l=(i?o:t).selected||{};if(o.selected=l,V(a,function(d,p){var g=this.getSelectedMapKey(d);l.hasOwnProperty(g)||(l[g]=!0)},this),"single"===o.selectedMode){var u=!1;V(a,function(d,p){var g=this.getSelectedMapKey(d);l[g]&&(u?l[g]=!1:u=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=Lt(t)},e.prototype.getValueState=function(t){var i=Br.findPieceIndex(t,this._pieceList);return null!=i&&this.option.selected[this.getSelectedMapKey(this._pieceList[i])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var i=[],o=this._pieceList;return this.eachTargetSeries(function(a){var l=[],u=a.getData();u.each(this.getDataDimensionIndex(u),function(d,p){Br.findPieceIndex(d,o)===t&&l.push(p)},this),i.push({seriesId:a.id,dataIndex:l})},this),i},e.prototype.getRepresentValue=function(t){var i;if(this.isCategory())i=t.value;else if(null!=t.value)i=t.value;else{var o=t.interval||[];i=o[0]===-1/0&&o[1]===1/0?0:(o[0]+o[1])/2}return i},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var i=[],o=["",""],a=this,u=this._pieceList.slice();if(u.length){var d=u[0].interval[0];d!==-1/0&&u.unshift({interval:[-1/0,d]}),(d=u[u.length-1].interval[1])!==1/0&&u.push({interval:[d,1/0]})}else u.push({interval:[-1/0,1/0]});var p=-1/0;return V(u,function(g){var m=g.interval;m&&(m[0]>p&&l([p,m[0]],"outOfRange"),l(m.slice()),p=m[1])},this),{stops:i,outerColors:o}}function l(g,m){var b=a.getRepresentValue({interval:g});m||(m=a.getValueState(b));var w=t(b,m);g[0]===-1/0?o[0]=w:g[1]===1/0?o[1]=w:i.push({value:g[0],color:w},{value:g[1],color:w})}},e.type="visualMap.piecewise",e.defaultOption=Qa(IC.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(IC),R$={splitNumber:function(n){var e=this.option,t=Math.min(e.precision,20),i=this.getExtent(),o=e.splitNumber;o=Math.max(parseInt(o,10),1),e.splitNumber=o;for(var a=(i[1]-i[0])/o;+a.toFixed(t)!==a&&t<5;)t++;e.precision=t,a=+a.toFixed(t),e.minOpen&&n.push({interval:[-1/0,i[0]],close:[0,0]});for(var l=0,u=i[0];l<o;u+=a,l++)n.push({interval:[u,l===o-1?i[1]:u+a],close:[1,1]});e.maxOpen&&n.push({interval:[i[1],1/0],close:[0,0]}),fi(n),V(n,function(p,g){p.index=g,p.text=this.formatValueText(p.interval)},this)},categories:function(n){var e=this.option;V(e.categories,function(t){n.push({text:this.formatValueText(t,!0),value:t})},this),k4(e,n)},pieces:function(n){var e=this.option;V(e.pieces,function(t,i){Rt(t)||(t={value:t});var o={text:"",index:i};if(null!=t.label&&(o.text=t.label),t.hasOwnProperty("value")){var a=o.value=t.value;o.interval=[a,a],o.close=[1,1]}else{for(var l=o.interval=[],u=o.close=[0,0],d=[1,0,1],p=[-1/0,1/0],g=[],m=0;m<2;m++){for(var b=[["gte","gt","min"],["lte","lt","max"]][m],w=0;w<3&&null==l[m];w++)l[m]=t[b[w]],u[m]=d[w],g[m]=2===w;null==l[m]&&(l[m]=p[m])}g[0]&&l[1]===1/0&&(u[0]=0),g[1]&&l[0]===-1/0&&(u[1]=0),l[0]===l[1]&&u[0]&&u[1]&&(o.value=l[0])}o.visual=Br.retrieveVisuals(t),n.push(o)},this),k4(e,n),fi(n),V(n,function(t){var i=t.close;t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,[["<","\u2264"][i[1]],[">","\u2265"][i[0]]])},this)}};function k4(n,e){var t=n.inverse;("vertical"===n.orient?!t:t)&&e.reverse()}const N$=P$;var B$=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return tt(e,n),e.prototype.doRender=function(){var t=this.group;t.removeAll();var i=this.visualMapModel,o=i.get("textGap"),a=i.textStyleModel,l=a.getFont(),u=a.getTextColor(),d=this._getItemAlign(),p=i.itemSize,g=this._getViewData(),m=g.endsText,b=pn(i.get("showLabel",!0),!m);m&&this._renderEndsText(t,m[0],p,b,d),V(g.viewPieceList,function(w){var k=w.piece,C=new Vt;C.onclick=Ct(this._onItemClick,this,k),this._enableHoverLink(C,w.indexInModelPieceList);var x=i.getRepresentValue(k);if(this._createItemSymbol(C,x,[0,0,p[0],p[1]]),b){var T=this.visualMapModel.getValueState(x);C.add(new ge({style:{x:"right"===d?-o:p[0]+o,y:p[1]/2,text:k.text,verticalAlign:"middle",align:d,font:l,fill:u,opacity:"outOfRange"===T?.5:1}}))}t.add(C)},this),m&&this._renderEndsText(t,m[1],p,b,d),ol(i.get("orient"),t,i.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,i){var o=this;t.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(l){var u=o.visualMapModel;u.option.hoverLink&&o.api.dispatchAction({type:l,batch:EC(u.findTargetDataIndices(i),u)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,i=t.option;if("vertical"===i.orient)return f4(t,this.api,t.itemSize);var o=i.align;return(!o||"auto"===o)&&(o="left"),o},e.prototype._renderEndsText=function(t,i,o,a,l){if(i){var u=new Vt;u.add(new ge({style:We(this.visualMapModel.textStyleModel,{x:a?"right"===l?o[0]:0:o[0]/2,y:o[1]/2,verticalAlign:"middle",align:a?l:"center",text:i})})),t.add(u)}},e.prototype._getViewData=function(){var t=this.visualMapModel,i=gt(t.getPieceList(),function(u,d){return{piece:u,indexInModelPieceList:d}}),o=t.get("text"),a=t.get("orient"),l=t.get("inverse");return("horizontal"===a?l:!l)?i.reverse():o&&(o=o.slice().reverse()),{viewPieceList:i,endsText:o}},e.prototype._createItemSymbol=function(t,i,o){t.add(wn(this.getControllerVisual(i,"symbol"),o[0],o[1],o[2],o[3],this.getControllerVisual(i,"color")))},e.prototype._onItemClick=function(t){var i=this.visualMapModel,o=i.option,a=o.selectedMode;if(a){var l=Lt(o.selected),u=i.getSelectedMapKey(t);"single"===a||!0===a?(l[u]=!0,V(l,function(d,p){l[p]=p===u})):l[u]=!l[u],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:l})}},e.type="visualMap.piecewise",e}(d4);const z$=B$;function A4(n){n.registerComponentModel(N$),n.registerComponentView(z$),w4(n)}var V$={label:{enabled:!0},decal:{show:!1}},C4=ye(),F$={};function H$(n,e){var t=n.getModel("aria");if(t.get("enabled")){var i=Lt(V$);Pt(i.label,n.getLocaleModel().get("aria"),!1),Pt(t.option,i,!1),function(){if(t.getModel("decal").get("show")){var m=Tt();n.eachSeries(function(b){if(!b.isColorBySeries()){var w=m.get(b.type);w||m.set(b.type,w={}),C4(b).scope=w}}),n.eachRawSeries(function(b){if(!n.isSeriesFiltered(b))if(Mt(b.enableAriaDecal))b.enableAriaDecal();else{var w=b.getData();if(b.isColorBySeries()){var M=gp(b.ecModel,b.name,F$,n.getSeriesCount()),I=w.getVisual("decal");w.setVisual("decal",L(I,M))}else{var k=b.getRawData(),C={},x=C4(b).scope;w.each(function(N){var R=w.getRawIndex(N);C[R]=N});var T=k.count();k.each(function(N){var R=C[N],B=k.getName(N)||N+"",O=gp(b.ecModel,B,x,T),F=w.getItemVisual(R,"decal");w.setItemVisual(R,"decal",L(F,O))})}}function L(N,R){var B=N?st(st({},R),N):R;return B.dirty=!0,B}})}}(),function(){var p=n.getLocaleModel().get("aria"),g=t.getModel("label");if(g.option=Et(g.option,p),g.get("enabled")){var m=e.getZr().dom;if(g.get("description"))return void m.setAttribute("aria-label",g.get("description"));var x,b=n.getSeriesCount(),w=g.get(["data","maxCount"])||10,k=g.get(["series","maxCount"])||10,C=Math.min(b,k);if(!(b<1)){var T=function(){var p=n.get("title");return p&&p.length&&(p=p[0]),p&&p.text}();if(T)x=l(g.get(["general","withTitle"]),{title:T});else x=g.get(["general","withoutTitle"]);var I=[];x+=l(g.get(b>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:b}),n.eachSeries(function(O,F){if(F<C){var H=void 0,q=O.get("name")?"withName":"withoutName";H=l(H=g.get(b>1?["series","multiple",q]:["series","single",q]),{seriesId:O.seriesIndex,seriesName:O.get("name"),seriesType:d(O.subType)});var Z=O.getData();Z.count()>w?H+=l(g.get(["data","partialData"]),{displayCnt:w}):H+=g.get(["data","allData"]);for(var Q=g.get(["data","separator","middle"]),J=g.get(["data","separator","end"]),rt=[],nt=0;nt<Z.count();nt++)if(nt<w){var ft=Z.getName(nt),yt=Z.getValues(nt),kt=g.get(["data",ft?"withName":"withoutName"]);rt.push(l(kt,{name:ft,value:yt.join(Q)}))}H+=rt.join(Q)+J,I.push(H)}});var N=g.getModel(["series","multiple","separator"]),R=N.get("middle"),B=N.get("end");x+=I.join(R)+B,m.setAttribute("aria-label",x)}}}()}function l(p,g){if(!At(p))return p;var m=p;return V(g,function(b,w){m=m.replace(new RegExp("\\{\\s*"+w+"\\s*\\}","g"),b)}),m}function d(p){return n.getLocaleModel().get(["series","typeNames"])[p]||"\u81ea\u5b9a\u4e49\u56fe"}}function j$(n){if(n&&n.aria){var e=n.aria;null!=e.show&&(e.enabled=e.show),e.label=e.label||{},V(["description","general","series","data"],function(t){null!=e[t]&&(e.label[t]=e[t])})}}var x4={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},U$=function(){function n(e){var t=this._condVal=At(e)?new RegExp(e):function(n){return"[object RegExp]"===po.call(n)}(e)?e:null;null==t&&Me("")}return n.prototype.evaluate=function(e){var t=typeof e;return At(t)?this._condVal.test(e):!!_e(t)&&this._condVal.test(e+"")},n}(),W$=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),Y$=function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},n}(),q$=function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},n}(),Z$=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),$$=function(){function n(){}return n.prototype.evaluate=function(){for(var e=!!this.valueParser,i=(0,this.getValue)(this.valueGetterParam),o=e?this.valueParser(i):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(e?o:i))return!1;return!0},n}();function KI(n,e){if(!0===n||!1===n){var t=new W$;return t.value=n,t}return T4(n)||Me(""),n.and?S4("and",n,e):n.or?S4("or",n,e):n.not?function(n,e){var t=n.not;T4(t)||Me("");var o=new Z$;return o.child=KI(t,e),o.child||Me(""),o}(n,e):function(n,e){for(var i=e.prepareGetValue(n),o=[],a=le(n),l=n.parser,u=l?Pk(l):null,d=0;d<a.length;d++){var p=a[d];if("parser"!==p&&!e.valueGetterAttrMap.get(p)){var g=xt(x4,p)?x4[p]:p,m=n[p],b=u?u(m):m,w=_T(g,b)||"reg"===g&&new U$(b);w||Me(""),o.push(w)}}o.length||Me("");var k=new $$;return k.valueGetterParam=i,k.valueParser=u,k.getValue=e.getValue,k.subCondList=o,k}(n,e)}function S4(n,e,t){var i=e[n];pt(i)||Me(""),i.length||Me("");var a="and"===n?new Y$:new q$;return a.children=gt(i,function(l){return KI(l,t)}),a.children.length||Me(""),a}function T4(n){return Rt(n)&&!tr(n)}var Q$=function(){function n(e,t){this._cond=KI(e,t)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}(),tK={type:"echarts:filter",transform:function(n){for(var t,e=n.upstream,i=function(n,e){return new Q$(n,e)}(n.config,{valueGetterAttrMap:Tt({dimension:!0}),prepareGetValue:function(u){var p=u.dimension;xt(u,"dimension")||Me("");var g=e.getDimensionInfo(p);return g||Me(""),{dimIdx:g.index}},getValue:function(u){return e.retrieveValueFromItem(t,u.dimIdx)}}),o=[],a=0,l=e.count();a<l;a++)t=e.getRawDataItem(a),i.evaluate()&&o.push(t);return{data:o}}},eK={type:"echarts:sort",transform:function(n){var e=n.upstream,i="",o=De(n.config);o.length||Me(i);var a=[];V(o,function(g){var m=g.dimension,b=g.order,w=g.parser,k=g.incomparable;null==m&&Me(i),"asc"!==b&&"desc"!==b&&Me(i),k&&"min"!==k&&"max"!==k&&Me(""),"asc"!==b&&"desc"!==b&&Me("");var T=e.getDimensionInfo(m);T||Me(i);var M=w?Pk(w):null;w&&!M&&Me(i),a.push({dimIdx:T.index,parser:M,comparator:new ky(b,k)})});var l=e.sourceFormat;l!==Kn&&l!==Dr&&Me(i);for(var u=[],d=0,p=e.count();d<p;d++)u.push(e.getRawDataItem(d));return u.sort(function(g,m){for(var b=0;b<a.length;b++){var w=a[b],k=e.retrieveValueFromItem(g,w.dimIdx),C=e.retrieveValueFromItem(m,w.dimIdx);w.parser&&(k=w.parser(k),C=w.parser(C));var x=w.comparator.evaluate(k,C);if(0!==x)return x}return 0}),{data:u}}},rK=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="dataset",t}return tt(e,n),e.prototype.init=function(t,i,o){n.prototype.init.call(this,t,i,o),this._sourceManager=new jk(this),Ty(this)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),Ty(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Eo},e}(be),iK=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="dataset",t}return tt(e,n),e.type="dataset",e}(nn),vs=Xi.CMD;function Zg(n,e){return Math.abs(n-e)<1e-5}function XI(n){var o,Z,K,Q,J,rt,nt,ft,yt,kt,Dt,Nt,Bt,ce,Ht,fe,ne,It,e=n.data,t=n.len(),i=[],a=0,l=0,u=0,d=0;function p(Z,K){o&&o.length>2&&i.push(o),o=[Z,K]}function g(Z,K,Q,J){Zg(Z,Q)&&Zg(K,J)||o.push(Z,K,Q,J,Q,J)}for(var b,w,k,C,x=0;x<t;){var T=e[x++],M=1===x;switch(M&&(u=a=e[x],d=l=e[x+1],(T===vs.L||T===vs.C||T===vs.Q)&&(o=[u,d])),T){case vs.M:a=u=e[x++],l=d=e[x++],p(u,d);break;case vs.L:g(a,l,b=e[x++],w=e[x++]),a=b,l=w;break;case vs.C:o.push(e[x++],e[x++],e[x++],e[x++],a=e[x++],l=e[x++]);break;case vs.Q:b=e[x++],w=e[x++],k=e[x++],C=e[x++],o.push(a+2/3*(b-a),l+2/3*(w-l),k+2/3*(b-k),C+2/3*(w-C),k,C),a=k,l=C;break;case vs.A:var I=e[x++],L=e[x++],N=e[x++],R=e[x++],B=e[x++],O=e[x++]+B;x+=1;var F=!e[x++];b=Math.cos(B)*N+I,w=Math.sin(B)*R+L,M?p(u=b,d=w):g(a,l,b,w),a=Math.cos(O)*N+I,l=Math.sin(O)*R+L;for(var H=(F?-1:1)*Math.PI/2,j=B;F?j>O:j<O;j+=H){Z=j,K=F?Math.max(j+H,O):Math.min(j+H,O),Q=I,J=L,rt=N,nt=R,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ft=Math.abs(K-Z),yt=4*Math.tan(ft/4)/3,kt=K<Z?-1:1,Dt=Math.cos(Z),Nt=Math.sin(Z),Bt=Math.cos(K),ce=Math.sin(K),o.push(Dt*rt+Q-(ne=rt*yt*kt)*Nt,Nt*nt+J+(It=nt*yt*kt)*Dt,(Ht=Bt*rt+Q)+ne*ce,(fe=ce*nt+J)-It*Bt,Ht,fe)}break;case vs.R:u=a=e[x++],d=l=e[x++],b=u+e[x++],w=d+e[x++],p(b,d),g(b,d,b,w),g(b,w,u,w),g(u,w,u,d),g(u,d,b,d);break;case vs.Z:o&&g(a,l,u,d),a=u,l=d}}return o&&o.length>2&&i.push(o),i}function QI(n,e,t,i,o,a,l,u,d,p){if(Zg(n,t)&&Zg(e,i)&&Zg(o,l)&&Zg(a,u))d.push(l,u);else{var g=2/p,m=g*g,b=l-n,w=u-e,k=Math.sqrt(b*b+w*w);b/=k,w/=k;var C=t-n,x=i-e,T=o-l,M=a-u,I=C*C+x*x,L=T*T+M*M;if(I<m&&L<m)d.push(l,u);else{var N=b*C+w*x,R=-b*T-w*M;if(I-N*N<m&&N>=0&&L-R*R<m&&R>=0)d.push(l,u);else{var F=[],H=[];rr(n,t,o,l,.5,F),rr(e,i,a,u,.5,H),QI(F[0],H[0],F[1],H[1],F[2],H[2],F[3],H[3],d,p),QI(F[4],H[4],F[5],H[5],F[6],H[6],F[7],H[7],d,p)}}}}function D4(n,e,t){var a=Math.abs(n[e]/n[1-e]),l=Math.ceil(Math.sqrt(a*t)),u=Math.floor(t/l);0===u&&(u=1,l=t);for(var d=[],p=0;p<l;p++)d.push(u);var m=t-l*u;if(m>0)for(p=0;p<m;p++)d[p%l]+=1;return d}function M4(n,e,t){for(var i=n.r0,o=n.r,a=n.startAngle,u=Math.abs(n.endAngle-a),d=u*o,p=o-i,g=d>Math.abs(p),m=D4([d,p],g?0:1,e),b=(g?u:p)/m.length,w=0;w<m.length;w++)for(var k=(g?p:u)/m[w],C=0;C<m[w];C++){var x={};g?(x.startAngle=a+b*w,x.endAngle=a+b*(w+1),x.r0=i+k*C,x.r=i+k*(C+1)):(x.startAngle=a+k*C,x.endAngle=a+k*(C+1),x.r0=i+b*w,x.r=i+b*(w+1)),x.clockwise=n.clockwise,x.cx=n.cx,x.cy=n.cy,t.push(x)}}function I4(n,e,t,i){return n*i-t*e}function lK(n,e,t,i,o,a,l,u){var d=t-n,p=i-e,g=l-o,m=u-a,b=I4(g,m,d,p);if(Math.abs(b)<1e-6)return null;var C=I4(n-o,e-a,g,m)/b;return C<0||C>1?null:new Zt(C*d+n,C*p+e)}function cK(n,e,t){var i=new Zt;Zt.sub(i,t,e),i.normalize();var o=new Zt;return Zt.sub(o,n,e),o.dot(i)}function $g(n,e){var t=n[n.length-1];t&&t[0]===e[0]&&t[1]===e[1]||n.push(e)}function E4(n){var e=n.points,t=[],i=[];sd(e,t,i);var o=new $t(t[0],t[1],i[0]-t[0],i[1]-t[1]),a=o.width,l=o.height,u=o.x,d=o.y,p=new Zt,g=new Zt;return a>l?(p.x=g.x=u+a/2,p.y=d,g.y=d+l):(p.y=g.y=d+l/2,p.x=u,g.x=u+a),function(n,e,t){for(var i=n.length,o=[],a=0;a<i;a++){var l=n[a],u=n[(a+1)%i],d=lK(l[0],l[1],u[0],u[1],e.x,e.y,t.x,t.y);d&&o.push({projPt:cK(d,e,t),pt:d,idx:a})}if(o.length<2)return[{points:n},{points:n}];o.sort(function(x,T){return x.projPt-T.projPt});var p=o[0],g=o[o.length-1];if(g.idx<p.idx){var m=p;p=g,g=m}var b=[p.pt.x,p.pt.y],w=[g.pt.x,g.pt.y],k=[b],C=[w];for(a=p.idx+1;a<=g.idx;a++)$g(k,n[a].slice());for($g(k,w),$g(k,b),a=g.idx+1;a<=p.idx+i;a++)$g(C,n[a%i].slice());return $g(C,b),$g(C,w),[{points:k},{points:C}]}(e,p,g)}function LC(n,e,t,i){if(1===t)i.push(e);else{var o=Math.floor(t/2),a=n(e);LC(n,a[0],o,i),LC(n,a[1],t-o,i)}return i}function hK(n,e){e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel}function gK(n,e){var t=n.length,i=e.length;if(t===i)return[n,e];for(var o=[],a=[],l=t<i?n:e,u=Math.min(t,i),d=Math.abs(i-t)/6,g=Math.ceil(d/((u-2)/6))+1,m=[l[0],l[1]],b=d,w=2;w<u;){var k=l[w-2],C=l[w-1],x=l[w++],T=l[w++],M=l[w++],I=l[w++],L=l[w++],N=l[w++];if(b<=0)m.push(x,T,M,I,L,N);else{for(var R=Math.min(b,g-1)+1,B=1;B<=R;B++){var O=B/R;rr(k,x,M,L,O,o),rr(C,T,I,N,O,a),m.push(o[1],a[1],o[2],a[2],k=o[3],C=a[3]),x=o[5],T=a[5],M=o[6],I=a[6]}b-=R-1}}return l===n?[m,e]:[n,m]}function L4(n,e){for(var t=n.length,i=n[t-2],o=n[t-1],a=[],l=0;l<e.length;)a[l++]=i,a[l++]=o;return a}function P4(n){for(var e=0,t=0,i=0,o=n.length,a=0,l=o-2;a<o;l=a,a+=2){var u=n[l],d=n[l+1],p=n[a],g=n[a+1],m=u*g-p*d;e+=m,t+=(u+p)*m,i+=(d+g)*m}return 0===e?[n[0]||0,n[1]||0]:[t/e/3,i/e/3,e]}function mK(n,e,t,i){for(var o=(n.length-2)/6,a=1/0,l=0,u=n.length,d=u-2,p=0;p<o;p++){for(var g=6*p,m=0,b=0;b<u;b+=2){var w=0===b?g:(g+b-2)%d+2,M=e[b]-i[0]-(n[w]-t[0]),I=e[b+1]-i[1]-(n[w+1]-t[1]);m+=M*M+I*I}m<a&&(a=m,l=p)}return l}function yK(n){for(var e=[],t=n.length,i=0;i<t;i+=2)e[i]=n[t-i-2],e[i+1]=n[t-i-1];return e}function PC(n){return n.__isCombineMorphing}var R4="__mOriginal_";function RC(n,e,t){var i=R4+e,o=n[i]||n[e];n[i]||(n[i]=n[e]);var a=t.replace,l=t.after,u=t.before;n[e]=function(){var p,d=arguments;return u&&u.apply(this,d),p=a?a.apply(this,d):o.apply(this,d),l&&l.apply(this,d),p}}function zb(n,e){var t=R4+e;n[t]&&(n[e]=n[t],n[t]=null)}function N4(n,e){for(var t=0;t<n.length;t++)for(var i=n[t],o=0;o<i.length;){var a=i[o],l=i[o+1];i[o++]=e[0]*a+e[2]*l+e[4],i[o++]=e[1]*a+e[3]*l+e[5]}}function B4(n,e){var t=n.getUpdatedPathProxy(),i=e.getUpdatedPathProxy(),o=function(n,e){for(var t,i,o,a=[],l=[],u=0;u<Math.max(n.length,e.length);u++){var d=n[u],p=e[u],g=void 0,m=void 0;d?p?(i=g=(t=gK(d,p))[0],o=m=t[1]):(m=L4(o||d,d),g=d):(g=L4(i||p,p),m=p),a.push(g),l.push(m)}return[a,l]}(XI(t),XI(i)),a=o[0],l=o[1],u=n.getComputedTransform(),d=e.getComputedTransform();u&&N4(a,u),d&&N4(l,d),RC(e,"updateTransform",{replace:function(){this.transform=null}}),e.transform=null;var g=function(n,e,t,i){for(var a,o=[],l=0;l<n.length;l++){var u=n[l],d=e[l],p=P4(u),g=P4(d);null==a&&(a=p[2]<0!=g[2]<0);var m=[],b=[],w=0,k=1/0,C=[],x=u.length;a&&(u=yK(u));for(var T=6*mK(u,d,p,g),M=x-2,I=0;I<M;I+=2){var L=(T+I)%M+2;m[I+2]=u[L]-p[0],m[I+3]=u[L+1]-p[1]}m[0]=u[T]-p[0],m[1]=u[T+1]-p[1];for(var N=i/10,R=-i/2;R<=i/2;R+=N){var B=Math.sin(R),O=Math.cos(R),F=0;for(I=0;I<u.length;I+=2){var H=m[I],j=m[I+1],q=d[I]-g[0],Z=d[I+1]-g[1],K=q*O-Z*B,Q=q*B+Z*O;C[I]=K,C[I+1]=Q;var J=K-H,rt=Q-j;F+=J*J+rt*rt}if(F<k){k=F,w=R;for(var nt=0;nt<C.length;nt++)b[nt]=C[nt]}}o.push({from:m,to:b,fromCp:p,toCp:g,rotation:-w})}return o}(a,l,0,Math.PI),m=[];RC(e,"buildPath",{replace:function(b){for(var w=e.__morphT,k=1-w,C=[],x=0;x<g.length;x++){var T=g[x],M=T.from,I=T.to,L=T.rotation*w,N=T.fromCp,R=T.toCp,B=Math.sin(L),O=Math.cos(L);Hh(C,N,R,w);for(var F=0;F<M.length;F+=2){var K=M[F]*k+(q=I[F])*w,Q=M[F+1]*k+(Z=I[F+1])*w;m[F]=K*O-Q*B+C[0],m[F+1]=K*B+Q*O+C[1]}var J=m[0],rt=m[1];for(b.moveTo(J,rt),F=2;F<M.length;){var q=m[F++],Z=m[F++],nt=m[F++],ft=m[F++],yt=m[F++],kt=m[F++];J===q&&rt===Z&&nt===yt&&ft===kt?b.lineTo(yt,kt):b.bezierCurveTo(q,Z,nt,ft,yt,kt),J=yt,rt=kt}}}})}function JI(n,e,t){if(!n||!e)return e;var i=t.done,o=t.during;return B4(n,e),e.__morphT=0,e.animateTo({__morphT:1},Et({during:function(l){e.dirtyShape(),o&&o(l)},done:function(){zb(e,"buildPath"),zb(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape(),i&&i()}},t)),e}function wK(n,e,t,i,o,a){n=o===t?0:Math.round(32767*(n-t)/(o-t)),e=a===i?0:Math.round(32767*(e-i)/(a-i));for(var d,u=0,p=32768;p>0;p/=2){var g=0,m=0;(n&p)>0&&(g=1),(e&p)>0&&(m=1),u+=p*p*(3*g^m),0===m&&(1===g&&(n=p-1-n,e=p-1-e),d=n,n=e,e=d)}return u}function NC(n){var e=1/0,t=1/0,i=-1/0,o=-1/0,a=gt(n,function(u){var d=u.getBoundingRect(),p=u.getComputedTransform(),g=d.x+d.width/2+(p?p[4]:0),m=d.y+d.height/2+(p?p[5]:0);return e=Math.min(g,e),t=Math.min(m,t),i=Math.max(g,i),o=Math.max(m,o),[g,m]});return gt(a,function(u,d){return{cp:u,z:wK(u[0],u[1],e,t,i,o),path:n[d]}}).sort(function(u,d){return u.z-d.z}).map(function(u){return u.path})}function z4(n){return function(n,e){var o,t=[],i=n.shape;switch(n.type){case"rect":(function(n,e,t){for(var i=n.width,o=n.height,a=i>o,l=D4([i,o],a?0:1,e),u=a?"width":"height",d=a?"height":"width",p=a?"x":"y",g=a?"y":"x",m=n[u]/l.length,b=0;b<l.length;b++)for(var w=n[d]/l[b],k=0;k<l[b];k++){var C={};C[p]=b*m,C[g]=k*w,C[u]=m,C[d]=w,C.x+=n.x,C.y+=n.y,t.push(C)}})(i,e,t),o=Xt;break;case"sector":M4(i,e,t),o=Mr;break;case"circle":M4({r0:0,r:i.r,startAngle:0,endAngle:2*Math.PI,cx:i.cx,cy:i.cy},e,t),o=Mr;break;default:var a=n.getComputedTransform(),l=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,u=gt(function(n,e){var t=XI(n),i=[];e=e||1;for(var o=0;o<t.length;o++){var a=t[o],l=[],u=a[0],d=a[1];l.push(u,d);for(var p=2;p<a.length;){var g=a[p++],m=a[p++],b=a[p++],w=a[p++],k=a[p++],C=a[p++];QI(u,d,g,m,b,w,k,C,l,e),u=k,d=C}i.push(l)}return i}(n.getUpdatedPathProxy(),l),function(T){return function(n){for(var e=[],t=0;t<n.length;)e.push([n[t++],n[t++]]);return e}(T)}),d=u.length;if(0===d)LC(E4,{points:u[0]},e,t);else if(d===e)for(var p=0;p<d;p++)t.push({points:u[p]});else{var g=0,m=gt(u,function(T){var M=[],I=[];sd(T,M,I);var L=(I[1]-M[1])*(I[0]-M[0]);return g+=L,{poly:T,area:L}});m.sort(function(T,M){return M.area-T.area});var b=e;for(p=0;p<d;p++){var w=m[p];if(b<=0)break;var k=p===d-1?b:Math.ceil(w.area/g*e);k<0||(LC(E4,{points:w.poly},k,t),b-=k)}}o=Qr}if(!o)return function(n,e){for(var t=[],i=0;i<e;i++)t.push(Fp(n));return t}(n,e);var C=[];for(p=0;p<t.length;p++){var x=new o;x.setShape(t[p]),hK(n,x),C.push(x)}return C}(n.path,n.count)}function O4(n){return pt(n[0])}function V4(n,e){for(var t=[],i=n.length,o=0;o<i;o++)t.push({one:n[o],many:[]});for(o=0;o<e.length;o++){var a=e[o].length,l=void 0;for(l=0;l<a;l++)t[l%i].many.push(e[o][l])}var u=0;for(o=i-1;o>=0;o--)if(!t[o].many.length){var d=t[u].many;if(d.length<=1){if(!u)return t;u=0}a=d.length;var p=Math.ceil(a/2);t[o].many=d.slice(p,a),t[u].many=d.slice(0,p),u++}return t}var AK={clone:function(n){for(var e=[],t=1-Math.pow(1-n.path.style.opacity,1/n.count),i=0;i<n.count;i++){var o=Fp(n.path);o.setStyle("opacity",t),e.push(o)}return e},split:null};function eE(n,e,t,i,o,a){if(n.length&&e.length){var l=_c("update",i,o);if(l&&l.duration>0){var p,g,u=i.getModel("universalTransition").get("delay"),d=Object.assign({setToFinal:!0},l);O4(n)&&(p=n,g=e),O4(e)&&(p=e,g=n);for(var b=p?p===n:n.length>e.length,w=p?V4(g,p):V4(b?e:n,[b?n:e]),k=0,C=0;C<w.length;C++)k+=w[C].many.length;var x=0;for(C=0;C<w.length;C++)m(w[C],b,x,k),x+=w[C].many.length}}function m(T,M,I,L,N){var R=T.many,B=T.one;if(1!==R.length||N)for(var j=Et({dividePath:AK[t],individualDelay:u&&function(rt,nt,ft,yt){return u(rt+I,L)}},d),q=M?function(n,e,t){var i=[];!function o(N){for(var R=0;R<N.length;R++){var B=N[R];PC(B)?o(B.childrenRef()):B instanceof re&&i.push(B)}}(n);var a=i.length;if(!a)return{fromIndividuals:[],toIndividuals:[],count:0};var u=(t.dividePath||z4)({path:e,count:a});if(u.length!==a)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};i=NC(i),u=NC(u);for(var d=t.done,p=t.during,g=t.individualDelay,m=new bo,b=0;b<a;b++){var w=i[b],k=u[b];k.parent=e,k.copyTransform(m),g||B4(w,k)}function C(N){for(var R=0;R<u.length;R++)u[R].addSelfToZr(N)}function x(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,zb(e,"addSelfToZr"),zb(e,"removeSelfFromZr")}e.__isCombineMorphing=!0,e.childrenRef=function(){return u},RC(e,"addSelfToZr",{after:function(N){C(N)}}),RC(e,"removeSelfFromZr",{after:function(N){for(var R=0;R<u.length;R++)u[R].removeSelfFromZr(N)}});var T=u.length;if(g){var M=T,I=function(){0==--M&&(x(),d&&d())};for(b=0;b<T;b++){var L=g?Et({delay:(t.delay||0)+g(b,T,i[b],u[b]),done:I},t):t;JI(i[b],u[b],L)}}else e.__morphT=0,e.animateTo({__morphT:1},Et({during:function(N){for(var R=0;R<T;R++){var B=u[R];B.__morphT=e.__morphT,B.dirtyShape()}p&&p(N)},done:function(){x();for(var N=0;N<n.length;N++)zb(n[N],"updateTransform");d&&d()}},t));return e.__zr&&C(e.__zr),{fromIndividuals:i,toIndividuals:u,count:T}}(R,B,j):function(n,e,t){var i=e.length,o=[],a=t.dividePath||z4;if(PC(n)){!function l(w){for(var k=0;k<w.length;k++){var C=w[k];PC(C)?l(C.childrenRef()):C instanceof re&&o.push(C)}}(n.childrenRef());var u=o.length;if(u<i)for(var d=0,p=u;p<i;p++)o.push(Fp(o[d++%u]));o.length=i}else{o=a({path:n,count:i});var g=n.getComputedTransform();for(p=0;p<o.length;p++)o[p].setLocalTransform(g);if(o.length!==i)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}o=NC(o),e=NC(e);var m=t.individualDelay;for(p=0;p<i;p++){var b=m?Et({delay:(t.delay||0)+m(p,i,o[p],e[p])},t):t;JI(o[p],e[p],b)}return{fromIndividuals:o,toIndividuals:e,count:e.length}}(B,R,j),Z=q.fromIndividuals,K=q.toIndividuals,Q=Z.length,J=0;J<Q;J++)H=u?Et({delay:u(J,Q)},d):d,a(Z[J],K[J],M?R[J]:T.one,M?T.one:R[J],H);else{var H,O=M?R[0]:B,F=M?B:R[0];PC(O)?m({many:[O],one:F},!0,I,L,!0):(JI(O,F,H=u?Et({delay:u(I,L)},d):d),a(O,F,O,F,H))}}}function _h(n){if(!n)return[];if(pt(n)){for(var e=[],t=0;t<n.length;t++)e.push(_h(n[t]));return e}var i=[];return n.traverse(function(o){o instanceof re&&!o.disableMorphing&&!o.invisible&&!o.ignore&&i.push(o)}),i}var CK=ye();function H4(n){var e=[];return V(n,function(t){var i=t.data;if(!(i.count()>1e4))for(var o=i.getIndices(),a=function(n){for(var e=n.dimensions,t=0;t<e.length;t++){var i=n.getDimensionInfo(e[t]);if(i&&0===i.otherDims.itemGroupId)return e[t]}}(i),l=0;l<o.length;l++)e.push({dataGroupId:t.dataGroupId,data:i,dim:t.dim||a,divide:t.divide,dataIndex:l})}),e}function nE(n,e,t){n.traverse(function(i){i instanceof re&&Je(i,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function rE(n){if(n.parent){var e=n.getComputedTransform();n.setLocalTransform(e),n.parent.remove(n)}}function Kg(n){n.stopAnimation(),n.isGroup&&n.traverse(function(e){e.stopAnimation()})}function j4(n,e,t){var i=H4(n),o=H4(e);function a(T,M,I,L,N){(I||T)&&M.animateFrom({style:I&&I!==T?st(st({},I.style),T.style):T.style},N)}function l(T){for(var M=0;M<T.length;M++)if(T[M].dim)return T[M].dim}var u=l(i),d=l(o),p=!1;function g(T,M){return function(I){var L=I.data,N=I.dataIndex;if(M)return L.getId(N);var R=I.dataGroupId,B=T?u||d:d||u,O=B&&L.getDimensionInfo(B),F=O&&O.ordinalMeta;if(O){var H=L.get(O.name,N);return F&&F.categories[H]||H+""}var j=L.getRawDataItem(N);return j&&j.groupId?j.groupId+"":R||L.getId(N)}}var m=function(n,e){var t=n.length;if(t!==e.length)return!1;for(var i=0;i<t;i++){var o=n[i],a=e[i];if(o.data.getId(o.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}(i,o),b={};if(!m)for(var w=0;w<o.length;w++){var k=o[w],C=k.data.getItemGraphicEl(k.dataIndex);C&&(b[C.id]=!0)}function x(T,M){var I=i[M],L=o[T],N=L.data.hostModel,R=I.data.getItemGraphicEl(I.dataIndex),B=L.data.getItemGraphicEl(L.dataIndex);R!==B?R&&b[R.id]||B&&(Kg(B),R?(Kg(R),rE(R),p=!0,eE(_h(R),_h(B),L.divide,N,T,a)):nE(B,N,T)):B&&function(n,e,t){var i=_c("update",t,e);i&&n.traverse(function(o){if(o instanceof Rn){var a=function(n){return Rm(n).oldStyle}(o);a&&o.animateFrom({style:a},i)}})}(B,L.dataIndex,N)}new Tl(i,o,g(!0,m),g(!1,m),null,"multiple").update(x).updateManyToOne(function(T,M){var I=o[T],L=I.data,N=L.hostModel,R=L.getItemGraphicEl(I.dataIndex),B=Le(gt(M,function(O){return i[O].data.getItemGraphicEl(i[O].dataIndex)}),function(O){return O&&O!==R&&!b[O.id]});R&&(Kg(R),B.length?(V(B,function(O){Kg(O),rE(O)}),p=!0,eE(_h(B),_h(R),I.divide,N,T,a)):nE(R,N,I.dataIndex))}).updateOneToMany(function(T,M){var I=i[M],L=I.data.getItemGraphicEl(I.dataIndex);if(!L||!b[L.id]){var N=Le(gt(T,function(B){return o[B].data.getItemGraphicEl(o[B].dataIndex)}),function(B){return B&&B!==L}),R=o[T[0]].data.hostModel;N.length&&(V(N,function(B){return Kg(B)}),L?(Kg(L),rE(L),p=!0,eE(_h(L),_h(N),I.divide,R,T[0],a)):V(N,function(B){return nE(B,R,T[0])}))}}).updateManyToMany(function(T,M){new Tl(M,T,function(I){return i[I].data.getId(i[I].dataIndex)},function(I){return o[I].data.getId(o[I].dataIndex)}).update(function(I,L){x(T[I],M[L])}).execute()}).execute(),p&&V(e,function(T){var I=T.data.hostModel,L=I&&t.getViewOfSeriesModel(I),N=_c("update",I,0);L&&I.isAnimationEnabled()&&N&&N.duration>0&&L.group.traverse(function(R){R instanceof re&&!R.animators.length&&R.animateFrom({style:{opacity:0}},N)})})}function G4(n){return n.getModel("universalTransition").get("seriesKey")||n.id}function U4(n){return pt(n)?n.sort().join(","):n}function _u(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function W4(n,e){for(var t=0;t<n.length;t++)if(null!=e.seriesIndex&&e.seriesIndex===n[t].seriesIndex||null!=e.seriesId&&e.seriesId===n[t].id)return t}Qt([function(n){n.registerPainter("canvas",Sl)}]),Qt([function(n){n.registerPainter("svg",xO)}]),Qt([function(n){n.registerChartView(b3),n.registerSeriesModel(JO),n.registerLayout(rb("line",!0)),n.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),i=e.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",i)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,GL("line"))},function(n){n.registerChartView(G3),n.registerSeriesModel(D3),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Gt(qL,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,ZL("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,GL("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){t.eachComponent({mainType:e.componentType||"series",query:e},function(o){e.sortInfo&&o.axis.setCategorySortInfo(e.sortInfo)})})},function(n){n.registerChartView(X3),n.registerSeriesModel(eV),ig("pie",n.registerAction),n.registerLayout(Gt(W3,"pie")),n.registerProcessor(ib("pie")),n.registerProcessor({seriesType:"pie",reset:function(e,t){var i=e.getData();i.filterSelf(function(o){var a=i.mapDimension("value"),l=i.get(a,o);return!(_e(l)&&!isNaN(l)&&l<0)})}})},function(n){Qt(e5),n.registerSeriesModel(oV),n.registerChartView(dV),n.registerLayout(rb("scatter"))},function(n){Qt(jF),n.registerChartView(IF),n.registerSeriesModel(LF),n.registerLayout(TF),n.registerProcessor(ib("radar")),n.registerPreprocessor(DF)},function(n){Qt(U5),n.registerChartView(T6),n.registerSeriesModel(M6),n.registerLayout(L6),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,E6),ig("map",n.registerAction)},function(n){n.registerChartView(r7),n.registerSeriesModel(g7),n.registerLayout(m7),n.registerVisual(b7),function(n){n.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var o=e.dataIndex,l=i.getData().tree.getNodeByDataIndex(o);l.isExpand=!l.isExpand})}),n.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,i){t.eachComponent({mainType:"series",subType:"tree",query:e},function(o){var l=OD(o.coordinateSystem,e,void 0,i);o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom)})})}(n)},function(n){n.registerSeriesModel(x7),n.registerChartView(V7),n.registerVisual(W7),n.registerLayout(J7),function(n){for(var e=0;e<tR.length;e++)n.registerAction({type:tR[e],update:"updateView"},vn);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,i){i.eachComponent({mainType:"series",subType:"treemap",query:t},function(a,l){var d=vb(t,["treemapZoomToNode","treemapRootToNode"],a);if(d){var p=a.getViewRoot();p&&(t.direction=UD(p,d.node)?"rollUp":"drillDown"),a.resetViewRoot(d.node)}})})}(n)},function(n){n.registerChartView(M8),n.registerSeriesModel(P8),n.registerProcessor(l8),n.registerVisual(c8),n.registerVisual(u8),n.registerLayout(g8),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,m8),n.registerLayout(b8),n.registerCoordinateSystem("graphView",{dimensions:pb.dimensions,create:_8}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},vn),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},vn),n.registerAction(R8,function(e,t,i){t.eachComponent({mainType:"series",query:e},function(o){var l=OD(o.coordinateSystem,e,void 0,i);o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom)})})},function(n){n.registerChartView(H8),n.registerSeriesModel(G8)},function(n){n.registerChartView(Z8),n.registerSeriesModel(K8),n.registerLayout(tH),n.registerProcessor(ib("funnel"))},function(n){Qt(hN),n.registerChartView(aH),n.registerSeriesModel(uH),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,fH)},function(n){n.registerChartView(u9),n.registerSeriesModel(h9),n.registerLayout(f9),n.registerVisual(E9),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(i){i.setNodePosition(e.dataIndex,[e.localX,e.localY])})})},function(n){n.registerSeriesModel(P9),n.registerChartView(O9),n.registerLayout(V9),n.registerTransform(U9)},function(n){n.registerChartView(Q9),n.registerSeriesModel(J9),n.registerPreprocessor(tj),n.registerVisual(sj),n.registerLayout(uj)},function(n){n.registerChartView(gj),n.registerSeriesModel(mj),n.registerLayout(rb("effectScatter"))},function(n){n.registerChartView(Mj),n.registerSeriesModel(Pj),n.registerLayout(xN),n.registerVisual(Nj)},function(n){n.registerChartView(Gj),n.registerSeriesModel(Wj)},function(n){n.registerChartView(nG),n.registerSeriesModel(iG),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Gt(qL,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,ZL("pictorialBar"))},function(n){n.registerChartView(lG),n.registerSeriesModel(uG),n.registerLayout(dG),n.registerProcessor(ib("themeRiver"))},function(n){n.registerChartView(wG),n.registerSeriesModel(kG),n.registerLayout(Gt(AG,"sunburst")),n.registerProcessor(Gt(ib,"sunburst")),n.registerVisual(xG),function(n){n.registerAction({type:GM,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(o,a){var l=vb(e,[GM],o);if(l){var u=o.getViewRoot();u&&(e.direction=UD(u,l.node)?"rollUp":"drillDown"),o.resetViewRoot(l.node)}})}),n.registerAction({type:GN,update:"none"},function(e,t,i){e=st({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(a){var l=vb(e,[GN],a);l&&(e.dataIndex=l.node.dataIndex)}),i.dispatchAction(st(e,{type:"highlight"}))}),n.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,t,i){e=st({},e),i.dispatchAction(st(e,{type:"downplay"}))})}(n)},function(n){n.registerChartView(tU),n.registerSeriesModel(MG)}]),Qt(function(n){Qt(e5),Qt(Db)}),Qt(function(n){Qt(Db),lh.registerAxisPointerClass("PolarAxisPointer",OU),n.registerCoordinateSystem("polar",QU),n.registerComponentModel(FU),n.registerComponentView(pW),Pg(n,"angle",HU,hW),Pg(n,"radius",jU,fW),n.registerComponentView(nW),n.registerComponentView(lW),n.registerLayout(Gt(dW,"bar"))}),Qt(U5),Qt(function(n){Qt(Db),lh.registerAxisPointerClass("SingleAxisPointer",EW),n.registerComponentView(LW),n.registerComponentView(wW),n.registerComponentModel(fI),Pg(n,"single",fI,fI.defaultOption),n.registerCoordinateSystem("single",TW)}),Qt(hN),Qt(function(n){n.registerComponentModel(NW),n.registerComponentView(zW),n.registerCoordinateSystem("calendar",VW)}),Qt(function(n){n.registerComponentModel(WW),n.registerComponentView(YW),n.registerPreprocessor(function(e){var t=e.graphic;pt(t)?e.graphic=t[0]&&t[0].elements?[e.graphic[0]]:[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}),Qt(function(n){n.registerComponentModel(fY),n.registerComponentView(mY),Ug("saveAsImage",bY),Ug("magicType",kY),Ug("dataView",PY),Ug("dataZoom",$Y),Ug("restore",VY),Qt(dY)}),Qt(function(n){Qt(Db),n.registerComponentModel(QY),n.registerComponentView(yq),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},vn),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},vn)}),Qt(Db),Qt(function(n){n.registerComponentView(Lq),n.registerComponentModel(Nq),n.registerPreprocessor(_q),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,Sq),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(i){i.setAreas(e.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},vn),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},vn),Ug("brush",Oq)}),Qt(function(n){n.registerComponentModel(Fq),n.registerComponentView(Hq)}),Qt(function(n){n.registerComponentModel(Uq),n.registerComponentView(Jq),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(n){n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,i){var o=t.getComponent("timeline");return o&&null!=e.currentIndex&&(o.setCurrentIndex(e.currentIndex),!o.get("loop",!0)&&o.isIndexMax()&&o.getPlayState()&&(o.setPlayState(!1),i.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:o.get("replaceMerge",!0)}),Et({currentIndex:o.option.currentIndex},e)}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var i=t.getComponent("timeline");i&&null!=e.playState&&i.setPlayState(e.playState)})}(n),n.registerPreprocessor(eZ)}),Qt(function(n){n.registerComponentModel(oZ),n.registerComponentView(hZ),n.registerPreprocessor(function(e){LI(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}),Qt(function(n){n.registerComponentModel(gZ),n.registerComponentView(wZ),n.registerPreprocessor(function(e){LI(e.series,"markLine")&&(e.markLine=e.markLine||{})})}),Qt(function(n){n.registerComponentModel(AZ),n.registerComponentView(DZ),n.registerPreprocessor(function(e){LI(e.series,"markArea")&&(e.markArea=e.markArea||{})})}),Qt(function(n){Qt(Kz),Qt(jZ)}),Qt(function(n){Qt(e4),Qt(o4)}),Qt(e4),Qt(o4),Qt(function(n){Qt(_4),Qt(A4)}),Qt(_4),Qt(A4),Qt(function(n){n.registerPreprocessor(j$),n.registerVisual(n.PRIORITY.VISUAL.ARIA,H$)}),Qt(function(n){n.registerTransform(tK),n.registerTransform(eK)}),Qt(function(n){n.registerComponentModel(rK),n.registerComponentView(iK)}),Qt(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){V(De(i.seriesTransition),function(o){V(De(o.to),function(a){for(var l=i.updatedSeries,u=0;u<l.length;u++)(null!=a.seriesIndex&&a.seriesIndex===l[u].seriesIndex||null!=a.seriesId&&a.seriesId===l[u].id)&&(l[u][Hc]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(e,t,i){var o=CK(t);if(o.oldSeries&&i.updatedSeries&&i.optionChanged){var a=i.seriesTransition;if(a)V(De(a),function(w){!function(n,e,t,i){var o=[],a=[];V(De(n.from),function(l){var u=W4(e.oldSeries,l);u>=0&&o.push({dataGroupId:e.oldDataGroupIds[u],data:e.oldData[u],divide:_u(e.oldData[u]),dim:l.dimension})}),V(De(n.to),function(l){var u=W4(t.updatedSeries,l);if(u>=0){var d=t.updatedSeries[u].getData();a.push({dataGroupId:e.oldDataGroupIds[u],data:d,divide:_u(d),dim:l.dimension})}}),o.length>0&&a.length>0&&j4(o,a,i)}(w,o,i,t)});else{var l=function(n,e){var t=Tt(),i=Tt(),o=Tt();return V(n.oldSeries,function(l,u){var d=n.oldDataGroupIds[u],p=n.oldData[u],g=G4(l),m=U4(g);i.set(m,{dataGroupId:d,data:p}),pt(g)&&V(g,function(b){o.set(b,{key:m,dataGroupId:d,data:p})})}),V(e.updatedSeries,function(l){if(l.isUniversalTransitionEnabled()&&l.isAnimationEnabled()){var u=l.get("dataGroupId"),d=l.getData(),p=G4(l),g=U4(p),m=i.get(g);if(m)t.set(g,{oldSeries:[{dataGroupId:m.dataGroupId,divide:_u(m.data),data:m.data}],newSeries:[{dataGroupId:u,divide:_u(d),data:d}]});else if(pt(p)){var b=[];V(p,function(C){var x=i.get(C);x.data&&b.push({dataGroupId:x.dataGroupId,divide:_u(x.data),data:x.data})}),b.length&&t.set(g,{oldSeries:b,newSeries:[{dataGroupId:u,data:d,divide:_u(d)}]})}else{var w=o.get(p);if(w){var k=t.get(w.key);k||(k={oldSeries:[{dataGroupId:w.dataGroupId,data:w.data,divide:_u(w.data)}],newSeries:[]},t.set(w.key,k)),k.newSeries.push({dataGroupId:u,data:d,divide:_u(d)})}}}}),t}(o,i);V(l.keys(),function(w){var k=l.get(w);j4(k.oldSeries,k.newSeries,t)})}V(i.updatedSeries,function(w){w[Hc]&&(w[Hc]=!1)})}for(var u=e.getSeries(),d=o.oldSeries=[],p=o.oldDataGroupIds=[],g=o.oldData=[],m=0;m<u.length;m++){var b=u[m].getData();b.count()<1e4&&(d.push(u[m]),p.push(u[m].get("dataGroupId")),g.push(b))}})}),Qt(Ot);let EK=(()=>{class n{constructor(t){this.http=t,this.content='<p><img src="uploads/bg.jpeg" alt=""></p><h2 style="text-align:center;"><span class="text-big">\u6570\u636e\u6cbb\u7406\u7efc\u5408\u62a5\u544a</span></h2><p style="text-align:center;">&nbsp;</p><p style="text-align:center;">\u65f6\u95f4\u8303\u56f4\uff1a<span style="color:red;">{{text1}}</span></p><p style="text-align:center;">\u751f\u6210\u65f6\u95f4\uff1a<span style="color:red;">{{text2}}</span></p><p style="text-align:center;">\u62a5\u544a\u8303\u56f4\uff1a\u5168\u90e8 &nbsp; &nbsp;&nbsp;</p><div class="page-break" style="page-break-after:always;"><span style="display:none;">&nbsp;</span></div><h2><span style="color:hsl(210,75%,60%);">&nbsp; &nbsp; \u4e00\u3001\u6570\u636e\u603b\u89c8</span></h2><h4>&nbsp; &nbsp; &nbsp; \u62a5\u544a\u671f\u95f4\uff0c\u5171\u63a5\u6536<span style="color:red;"> {{text3}} </span>\u4e2a\u65e5\u5fd7\u6e90\u3001<span style="color:red;"> {{text4}} </span>\u4e2a\u8bbe\u5907\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5171<span style="color:red;">{{text5}} </span>\u6761\uff0c\u5df2\u5b58\u50a8<span style="color:red;"> {{text6}} </span>\u5929\uff0c\u670d\u52a1\u5668\u5b58\u50a8\u7a7a\u95f4\u603b\u91cf<span style="color:red;"> {{text7}} </span>\uff0c\u5df2\u4f7f\u7528<span style="color:red;"> {{text8}} </span>\u3002</h4><h2><span style="color:hsl(210,75%,60%);">&nbsp; &nbsp; \u4e8c\u3001\u4e8b\u4ef6\u8be6\u60c5</span></h2><ol><li><span style="color:hsl(0,0%,0%);"><strong>\u6570\u636e\u63a5\u5165\u5206\u6790</strong></span></li></ol><p><span style="color:hsl(0,0%,0%);"><strong>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</strong>\u5728\u62a5\u544a\u671f\u95f4\uff0c\u5171\u63a5\u5165</span><span style="color:red;"> {{text9}} </span><span style="color:hsl(0,0%,0%);">\u4e2a\u65e5\u5fd7\u6e90\uff0c\u4ea7\u751f\u4e8b\u4ef6\u6700\u591a\u7684\u662f</span><span style="color:red;"> {{text10}} </span><span style="color:hsl(0,0%,0%);">\u3002</span></p><p style="text-align:center;"><span class="text-small" style="color:hsl(0,0%,0%);">\u56fe 1 \u65e5\u5fd7\u6e90\u63a5\u5165\u6570\u636e TOP10</span></p><ol start="2"><li><strong>\u4e8b\u4ef6\u5206\u6790</strong></li></ol><p><strong>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</strong>\u5728\u62a5\u544a\u671f\u95f4\uff0c\u5171<span style="color:red;"> {{text11}} </span>\u4e2a IP \u5bf9<span style="color:red;"> {{text12}} </span>\u4e2a\u8d44\u4ea7\u8fdb\u884c\u8bbf\u95ee\uff0c\u4ea7\u751f\u4e86<span style="color:red;"> {{text13}} </span>\u79cd\u7c7b\u578b\u7684<span style="color:red;"> {{text14}} </span>\u6761\u4e8b\u4ef6\uff0c\u5176\u4e2d\u4e25\u91cd\u7ea7\u522b\u7684\u4e8b\u4ef6<span style="color:red;"> {{text15}} </span>\u6761\uff0c\u9ad8\u7b49\u7ea7\u7684\u4e8b\u4ef6<span style="color:red;"> {{text16}} </span>\u6761\uff0c\u4e2d\u7b49\u7ea7\u7684\u4e8b\u4ef6<span style="color:red;"> {{text17}} </span>\u6761\u3002</p><figure class="table"><table><tbody><tr><td><span class="text-small">\u65f6\u95f4</span></td><td><span class="text-small">\u6e90IP</span></td><td><span class="text-small">\u76ee\u7684IP</span></td><td><span class="text-small">\u4e8b\u4ef6\u7c7b\u578b</span></td><td><span class="text-small">\u4e8b\u4ef6\u540d\u79f0</span></td><td><span class="text-small">\u4e25\u91cd\u7b49\u7ea7</span></td><td><span class="text-small">\u4e8b\u4ef6\u8be6\u60c5</span></td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure><p style="text-align:center;"><span class="text-small">\u8868 1 \u4e8b\u4ef6\u8be6\u60c5</span></p>'}ngOnInit(){}ngAfterViewInit(){je().create(document.querySelector("#editor-content"),{language:"zh-cn",toolbar:{items:["heading","|","fontfamily","fontsize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","|","numberedList","bulletedList","|","outdent","indent","|","link","blockquote","uploadImage","insertTable","mediaEmbed","|","undo","redo","|","pageBreak","|","placeholder","chart","|","save"]},removePlugins:["Markdown","Minimap"],extraPlugins:[QC,KC,$C,Su],handleList:{chartRenderer:(t,i)=>this.chartRenderer(t,i),chartResize:(t,i,o)=>this.chartResize(t,i,o),handleSave:t=>this.handleSave(t)}}).then(t=>{document.querySelector("#toolbar-container").appendChild(t.ui.view.toolbar.element),t.data.set(this.content),window.editor=t}).catch(t=>{console.error(t)})}chartRenderer(t,i){setTimeout(()=>{const o=function(n,e,t){var o=function(n){return cs[function(n,e){return n.getAttribute?n.getAttribute(e):n[e]}(n,xg)]}(n);if(o)return o;var a=new Qd(n,void 0,t);return a.id="ec_"+B2++,cs[a.id]=a,Zw(n,xg,a.id),yg(a),oo.trigger("afterinit",a),a}(i);o.setOption({title:{text:"ECharts \u5165\u95e8\u793a\u4f8b"},tooltip:{},xAxis:{data:["\u886c\u886b","\u7f8a\u6bdb\u886b","\u96ea\u7eba\u886b","\u88e4\u5b50","\u9ad8\u8ddf\u978b","\u889c\u5b50"]},yAxis:{},series:[{name:"\u9500\u91cf",type:"bar",data:[5,20,36,10,10,20]}]}),window.echarts=window.echarts||{},window.echarts[t]=o})}chartResize(t,i,o){if(!window.echarts||!window.echarts[t])return;const a={};a[i]=-1!==o.indexOf("%")?"auto":o,setTimeout(()=>{window.echarts[t].resize(a)})}handleSave(t){this.http.post("/upload/content",t).subscribe(i=>{console.log(i,"res")})}}return n.\u0275fac=function(t){return new(t||n)(oe.Y36(Aa))},n.\u0275cmp=oe.Xpm({type:n,selectors:[["app-doc-editor"]],decls:6,vars:0,consts:[["id","document-container"],["id","toolbar-container"],[1,"minimap-wrapper"],[1,"editor-container"],["id","editor-content"],[1,"minimap-container"]],template:function(t,i){1&t&&(oe.TgZ(0,"div",0),oe._UZ(1,"div",1),oe.TgZ(2,"div",2),oe.TgZ(3,"div",3),oe._UZ(4,"div",4),oe.qZA(),oe._UZ(5,"div",5),oe.qZA(),oe.qZA())},styles:[".document-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:relative;flex-grow:1;max-width:1280px;margin:0 auto}.toolbar-container[_ngcontent-%COMP%]{width:100%}.minimap-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;max-height:calc(100vh - 60px);width:100%;position:relative;top:-1px}.editor-container[_ngcontent-%COMP%]{width:100%;border:1px solid hsl(0,0%,80%);border-right:0;background:hsl(0,0%,95%);box-sizing:border-box;position:relative;overflow:auto}.minimap-container[_ngcontent-%COMP%]{width:120px;flex:0 0 auto;border:1px solid var(--ck-color-toolbar-border);position:relative;overflow:hidden;max-height:100%}#editor-content[_ngcontent-%COMP%]{width:calc(210mm);min-height:calc(297mm);height:auto;padding:20mm 12mm;box-sizing:border-box;background:hsl(0,0%,100%);border:1px solid hsl(0,0%,88%);box-shadow:0 2px 8px #00000014;margin:40px auto;overflow:hidden}"]}),n})(),LK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=oe.oAB({type:n}),n.\u0275inj=oe.cJS({imports:[[Ai.ez,xu,jC.Bz.forChild([{path:"",component:EK}])]]}),n})()},52:Fn=>{function Jn(Wn,Ai,oe,St,ka,ht,ut){try{var Y=Wn[ht](ut),ot=Y.value}catch(dt){return void oe(dt)}Y.done?Ai(ot):Promise.resolve(ot).then(St,ka)}Fn.exports=function(Wn){return function(){var Ai=this,oe=arguments;return new Promise(function(St,ka){var ht=Wn.apply(Ai,oe);function ut(ot){Jn(ht,St,ka,ut,Y,"next",ot)}function Y(ot){Jn(ht,St,ka,ut,Y,"throw",ot)}ut(void 0)})}},Fn.exports.default=Fn.exports,Fn.exports.__esModule=!0}}]);